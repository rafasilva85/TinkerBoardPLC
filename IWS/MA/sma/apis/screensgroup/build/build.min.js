!function(){function e(n,o,i){function r(s,a){if(!o[s]){if(!n[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(t)return t(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=o[s]={exports:{}};n[s][0].call(u.exports,function(e){var o=n[s][1][e];return r(o||e)},u,u.exports,e,n,o,i)}return o[s].exports}for(var t="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}return e}()({1:[function(e,n,o){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,o,i){return o&&e(n.prototype,o),i&&e(n,i),n}}();o.MABootstrap=function(){function e(){i(this,e),this.viewer=null,this.csrfTokenReady=!1,this.createView()}return r(e,[{key:"createView",value:function(){window.require(["dojo/ready","dojo/parser","dojo/_base/unload","ma/view/Logon","ma/util/UserActivityMonitor","viewer/Viewer","viewer"],function(e,n,o,i,r,t){e(81,function(){var e=function(){var e;!services||void 0!==window.viewId&&null!==window.viewId||window.name&&0==window.name.indexOf("vwr")&&(e=parseInt(window.name.substring(3,window.name.length)),services.destroyView(e),window.name="")};e();var n=function(){if(services&&window.sma_view_destroyed!==!0){var e=window.viewId;window.sma_view_destroyed=!0,window.viewId&&delete window.viewId,services.destroyView(e,function(){}),window.name=""}userActivityMonitor&&userActivityMonitor.stopMonitoring()};o.addOnWindowUnload(n),o.addOnUnload(n),userActivityMonitor||(userActivityMonitor=new r(dojo.body()));var i=new LogonServices,s=i.isLogged();if(0!=s.resultCode){var a=$("#runtime_content").first();return void a.html("<div style='font-family:inherit;font-weight:bold;color:black;text-align: center;width: 100%;padding-top: 10%;'>Error to create connection, please make sure the runtime is running and that the Mobile Access Task is started.</div>")}var c="Guest";s.data.isLogged&&null!=s.data.userName&&s.data.userName==c?console.log("User: "+c+" already logged on. Will skip logon behavior."):i.logon(c,"");var d=function(e){window.maViewer=t.init(!0,0),maViewer.Run(500)};services&&services.onAfterGetCSRFToken?services.onAfterGetCSRFToken(d,function(){i.logon(c,""),d()},3e3):d()})})}},{key:"checkViewerCreated",value:function(e){var n=this;window.require(["dojo/ready","dojo/dom-style"],function(o,i){o(81,function(){return window.maViewer?(n.viewer=dijit.byId("_x_viewer_Viewer"),void(e&&e(n.viewer))):void setTimeout(n.checkViewerCreated,100,e)})})}}]),e}()},{}],2:[function(require,module,exports){"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScreensGroup=void 0;var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,o,i){return o&&e(n.prototype,o),i&&e(n,i),n}}(),_ma_bootstrap=require("./ma_bootstrap"),ScreensGroup=exports.ScreensGroup=function(){function ScreensGroup(){_classCallCheck(this,ScreensGroup),this.maBootstrap=null,this.init()}return _createClass(ScreensGroup,[{key:"init",value:function(){this._proxy=window.SmaCustomWidget.proxy,this._proxy.autoResize=!1,this._proxy.addOnLoad(this._onLoad.bind(this)),this._host=this._proxy.host,this.viewer=null,window.SmaCustomWidget.MASvrHelper.regOnShowHideHandler(function(){console.log("Showing...")},function(){window.isAllScreensLoaded=!1,console.log("Hidding")},function(){window.isAllScreensLoaded||(window.isAllScreensLoaded=!0,cwidget.dispatchEvent("onAllScreensLoaded"))})}},{key:"_onLoad",value:function(){var e=this,n=function o(){return null!=cwidget?(cwidget._proxy.registerTouchEvents&&cwidget._proxy.registerTouchEvents(),void e._initDojo()):void setTimeout(o,200)};n()}},{key:"_initDojo",value:function(){"undefined"==typeof location.origin&&(location.origin=this._host.win.origin);var e=this;window.sma=window.sma||{},window.sma.configSettings=window.sma.configSettings||{},sma.configSettings.servicesUrl=window.SmaCustomWidget.MASvrHelper._getServicesUrl(),sma.configSettings.linkUrl=window.SmaCustomWidget.MASvrHelper._getLinkUrl();var e=this;setTimeout(function(){e.maBootstrap=new _ma_bootstrap.MABootstrap,e.maBootstrap.checkViewerCreated(function(n){e.viewer=n,e._processOnLoad()})},0)}},{key:"_processOnLoad",value:function(){cwidget.on("ScreenGroups",this._ScreenGroups.bind(this))}},{key:"_ScreenGroups",value:function _ScreenGroups(){window.isAllScreensLoaded=!1;var self=this,screens=cwidget.ScreenGroups;try{"string"==typeof screens&&(screens=eval(screens)),null!=screens&&screens.length>0?this.viewer.OpenScreen(screens,null,{options:{showLoadingIndicator:!0},onRenderingDone:function(e,n,o){},onScreensGroupRenderingDone:function(){window.isAllScreensLoaded||(window.isAllScreensLoaded=!0,cwidget.dispatchEvent("onAllScreensLoaded"))}}):window.isAllScreensLoaded||(window.isAllScreensLoaded=!0,cwidget.dispatchEvent("onAllScreensLoaded"))}catch(e){console.log("Open screens group fail."),console.log(e),window.isAllScreensLoaded||(window.isAllScreensLoaded=!0,cwidget.dispatchEvent("onAllScreensLoaded"))}this.viewer.ignorePan=!0,this.viewer.ignoreZoom=!0}}]),ScreensGroup}(),_cwIgnored=new ScreensGroup},{"./ma_bootstrap":1}]},{},[2]);
//# sourceMappingURL=Z:/.helpers/tasks/../../dailybuilds/screensgroup/screensgroup/build/build.min.js.map