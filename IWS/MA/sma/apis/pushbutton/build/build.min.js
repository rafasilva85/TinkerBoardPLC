!function(){function t(e,s,i){function n(o,l){if(!s[o]){if(!e[o]){var _="function"==typeof require&&require;if(!l&&_)return _(o,!0);if(a)return a(o,!0);var r=new Error("Cannot find module '"+o+"'");throw r.code="MODULE_NOT_FOUND",r}var h=s[o]={exports:{}};e[o][0].call(h.exports,function(t){var s=e[o][1][t];return n(s||t)},h,h.exports,t,e,s,i)}return s[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}return t}()({1:[function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(s,"__esModule",{value:!0});var n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();s.Layout=function(){function t(e,s){i(this,t),this._tick_last_event=null,this._is_touch=!1,this._ee=new EventEmitter,this._lock=!1,this._bnt=$("#bnt"),this._body=$("body"),this._legend=$("#legend"),this._legend_plate=$("#legend_plate"),this._legend_text=$("#legend_text"),this._indicator=$("#indicator"),this._settings=s,this._settings.on("change",this.treat_changes.bind(this)),this._settings.on("reset",this.treat_reset.bind(this)),this._current_state=null,this._resultCallbackAfterMouseDown=null,this._is_mousedown=!1,this._is_touch=null!==navigator.userAgent.match(/(iPod|iPhone|iPad)/),this._is_touch=this._is_touch||navigator.maxTouchPoints>0,this._tick_last_event=Date.now(),this._is_touch===!0&&(this._bnt.on("touchstart",this.mousedown.bind(this)),this._bnt.on("touchend",this.mouseup.bind(this)),this._bnt.on("touchcancel",this.mouseup.bind(this))),(this._is_touch===!1||"win32"===navigator.platform.toLowerCase())&&(this._bnt.on("mousedown",this.mousedown.bind(this)),this._bnt.on("mouseup",this.mouseup.bind(this)),this._bnt.on("mouseleave",this.mouseup.bind(this))),this._helper=new SmaCustomWidget.Helper}return n(t,[{key:"locked",value:function(){return this._lock}},{key:"treat_changes",value:function(){this._s=this._settings.get(),this._lock=!1,this._reset_interval=null,this._bnt.removeClass("with-indicator"),this._bnt.removeClass("blink-slow"),this._bnt.removeClass("blink-fast"),this._legend.removeClass("with-indicator"),this._legend_plate.removeClass("with-indicator"),this._indicator.removeClass("with-indicator"),this._indicator=this._bnt,this._legend_plate.css("background-color",this._s.LegendPlateColor),"rectanglewithindicator"===this._s.Style.toLowerCase()&&this._treat_rectangle_with_indicator(),"floating"===this._s.Effect.toLowerCase()&&this._treat_floating_effect(),"3d"===this._s.Effect.toLowerCase()&&this._treat_3d_effect(),this._bnt.css("background-color",this._s.ButtonColor),null===this._current_state?this._treat_initial_state():("open"===this._current_state&&this._treat_open_state(),"close"===this._current_state&&this._treat_close_state()),this._treat_align(),this._create_dynamic_style(),null!==this._s.Indicator&&"latched"!==this._s.Type.toLowerCase()&&(this._s.Indicator===this._s.OpenWriteValue?this._treat_open_state():this._s.Indicator===this._s.CloseWriteValue&&this._treat_close_state()),"rectangle"===this._s.Style.toLowerCase()&&"3d"===this._s.Effect.toLowerCase()&&(this._body.css("border-style","solid"),this._body.css("border-width","1px"),this._body.css("border-color","black"))}},{key:"treat_reset",value:function(){var t=this;return null!==this._reset_interval&&(clearTimeout(this._reset_interval),this._reset_interval=null),void 0===this._s?void(this._reset_interval=setTimeout(function(){t.treat_reset()},10)):(this._bnt.removeClass("pressed"),this._legend.removeClass("pressed"),void("normallyopen"===this._s.State.toLowerCase()?this._treat_open_state():this._treat_close_state()))}},{key:"_treat_initial_state",value:function(){switch(this._lock=!0,this._s.Type.toLowerCase()){case"momentary":"normallyopen"===this._s.State.toLowerCase()&&this._treat_open_state(),"normallyclosed"===this._s.State.toLowerCase()&&this._treat_close_state();break;case"latched":case"maintained":this._s.TagExpression?this._s.TagExpression===this._s.CloseWriteValue?(this._treat_close_state(),"normallyopen"===this._s.State.toLowerCase()?(this._bnt.addClass("pressed"),this._legend.addClass("pressed")):"normallyclosed"===this._s.State.toLowerCase()&&(this._bnt.removeClass("pressed"),this._legend.removeClass("pressed"))):(this._treat_open_state(),"normallyclosed"===this._s.State.toLowerCase()?(this._bnt.addClass("pressed"),this._legend.addClass("pressed")):"normallyopen"===this._s.State.toLowerCase()&&(this._bnt.removeClass("pressed"),this._legend.removeClass("pressed"))):("normallyopen"===this._s.State.toLowerCase()&&this._treat_open_state(),"normallyclosed"===this._s.State.toLowerCase()&&this._treat_close_state())}}},{key:"_treat_floating_effect",value:function(){this._bnt.removeClass("button-3d"),this._legend.removeClass("legend-3d"),this._bnt.addClass("button-floating"),this._legend.addClass("legend-floating")}},{key:"_treat_3d_effect",value:function(){this._bnt.removeClass("button-floating"),this._legend.removeClass("legend-floating"),this._bnt.addClass("button-3d"),this._legend.addClass("legend-3d")}},{key:"_treat_rectangle_with_indicator",value:function(){this._indicator=$("#indicator"),this._bnt.addClass("with-indicator"),this._legend.addClass("with-indicator"),this._legend_plate.addClass("with-indicator"),this._indicator.addClass("with-indicator"),this._legend_plate.css("background-color",this._s.LegendPlateColor)}},{key:"_resultCallback_update_state",value:function(t){"function"==typeof t&&t.call(this),"function"==typeof this._resultCallbackAfterMouseDown&&this._resultCallbackAfterMouseDown()}},{key:"_treat_open_state",value:function(){if(null!==this._s.Indicator&&this._s.Indicator!==this._s.OpenWriteValue&&"latched"!==this._s.Type.toLowerCase())return void this._ee.emitEvent("open",[]);var t=function(){switch(this._indicator.css("background-color",this._s.OpenColor),this._legend_text.html(this._s.OpenCaption),this._legend_text.css("color",this._s.OpenFontColor),this._legend_text.css("font-family",this._s.OpenFontName),this._legend_text.css("font-size",this._s.OpenFontSizeInPoints+"pt"),this._helper.parseFontStyle(this._s.OpenFontStyle,this._legend_text[0]),this._apply_font_style(this._legend_text,this._s.OpenFontStyle),this._clean_blink(),this._s.OpenBlink.toLowerCase()){case"slow":this._indicator.addClass("blink-slow");break;case"fast":this._indicator.addClass("blink-fast");break;case"none":default:this._indicator.removeClass("blink-slow"),this._indicator.removeClass("blink-fast")}switch(this._s.OpenTextBlink.toLowerCase()){case"slow":this._legend_text.addClass("text-blink-slow");break;case"fast":this._legend_text.addClass("text-blink-fast");break;case"none":default:this._legend_text.removeClass("text-blink-slow"),this._legend_text.removeClass("text-blink-fast")}this._current_state="open",this._lock=!1};switch(cwidget._proxy.esign.resultCallback=null,this._s.Type.toLowerCase()){case"latched":case"momentary":t.call(this);break;case"maintained":0===cwidget.host.widget.esign||this._is_mousedown===!1?t.call(this):this._is_mousedown&&(cwidget._proxy.esign.resultCallback=this._resultCallback_update_state.bind(this,t),this._is_mousedown=!1)}this._ee.emitEvent("open",[])}},{key:"_treat_close_state",value:function(){if(null!==this._s.Indicator&&this._s.Indicator!==this._s.CloseWriteValue&&"latched"!==this._s.Type.toLowerCase())return void this._ee.emitEvent("close",[]);var t=function(){switch(this._indicator.css("background-color",this._s.CloseColor),this._legend_text.html(this._s.CloseCaption),this._legend_text.css("color",this._s.CloseFontColor),this._legend_text.css("font-family",this._s.CloseFontName),this._legend_text.css("font-size",this._s.CloseFontSizeInPoints+"pt"),this._helper.parseFontStyle(this._s.CloseFontStyle,this._legend_text[0]),this._apply_font_style(this._legend_text,this._s.CloseFontStyle),this._clean_blink(),this._s.CloseBlink.toLowerCase()){case"slow":this._indicator.addClass("blink-slow");break;case"fast":this._indicator.addClass("blink-fast");break;case"none":default:this._indicator.removeClass("blink-slow"),this._indicator.removeClass("blink-fast")}switch(this._s.CloseTextBlink.toLowerCase()){case"slow":this._legend_text.addClass("text-blink-slow");break;case"fast":this._legend_text.addClass("text-blink-fast");break;case"none":default:this._legend_text.removeClass("text-blink-slow"),this._legend_text.removeClass("text-blink-fast")}this._current_state="close",this._lock=!1};if(cwidget._proxy.esign.resultCallback=null,null===this._current_state)t.call(this);else switch(this._s.Type.toLowerCase()){case"momentary":0===cwidget.host.widget.esign&&t.call(this);break;case"maintained":0===cwidget.host.widget.esign||this._is_mousedown===!1?t.call(this):this._is_mousedown&&(cwidget._proxy.esign.resultCallback=this._resultCallback_update_state.bind(this,t),this._is_mousedown=!1);break;case"latched":0===cwidget.host.widget.esign||this._is_mousedown===!1?t.call(this):this._is_mousedown&&(cwidget._proxy.esign.resultCallback=this._resultCallback_update_state.bind(this,t),this._is_mousedown=!1,this._ee.emitEvent("reset",[]))}this._ee.emitEvent("close",[])}},{key:"_treat_align",value:function(){switch(this._s.Align){case"TopLeft":this._legend_text.css("text-align","left"),this._legend_text.css("vertical-align","top");break;case"TopRight":this._legend_text.css("text-align","right"),this._legend_text.css("vertical-align","top");break;case"TopCenter":this._legend_text.css("text-align","center"),this._legend_text.css("vertical-align","top");break;case"CenterLeft":this._legend_text.css("text-align","left"),this._legend_text.css("vertical-align","middle");break;case"CenterRight":this._legend_text.css("text-align","right"),this._legend_text.css("vertical-align","middle");break;case"Center":this._legend_text.css("text-align","center"),this._legend_text.css("vertical-align","middle");break;case"BottomLeft":this._legend_text.css("text-align","left"),this._legend_text.css("vertical-align","bottom");break;case"BottomRight":this._legend_text.css("text-align","right"),this._legend_text.css("vertical-align","bottom");break;case"BottomCenter":this._legend_text.css("text-align","center"),this._legend_text.css("vertical-align","bottom")}}},{key:"_create_dynamic_style",value:function(){var t=$("#dynamic_style"),e="";e="rectangle"===this._s.Style.toLowerCase()?this._s.ButtonColor:this._s.LegendPlateColor,t.empty(),t.html("\n       .blink-slow {\n			-webkit-animation: BLINK_REC 1s steps(1) infinite; /* Safari 4+ */\n			-moz-animation:    BLINK_REC 1s steps(1) infinite; /* Fx 5+ */\n			-o-animation:      BLINK_REC 1s steps(1) infinite; /* Opera 12+ */\n			animation:         BLINK_REC 1s steps(1) infinite; /* IE 10+, Fx 29+ */\n		}\n       .blink-fast {\n			-webkit-animation: BLINK_REC 0.5s steps(1) infinite; /* Safari 4+ */\n			-moz-animation:    BLINK_REC 0.5s steps(1) infinite; /* Fx 5+ */\n			-o-animation:      BLINK_REC 0.5s steps(1) infinite; /* Opera 12+ */\n			animation:         BLINK_REC 0.5s steps(1) infinite; /* IE 10+, Fx 29+ */\n		}\n\n		@keyframes BLINK_REC {\n				0% {\n				}\n				50% {\n					background-color:"+e+";\n				}\n				100% {\n				}\n            }\n       .text-blink-slow {\n			-webkit-animation: BLINK_TEXT 1s steps(1) infinite; /* Safari 4+ */\n			-moz-animation:    BLINK_TEXT 1s steps(1) infinite; /* Fx 5+ */\n			-o-animation:      BLINK_TEXT 1s steps(1) infinite; /* Opera 12+ */\n			animation:         BLINK_TEXT 1s steps(1) infinite; /* IE 10+, Fx 29+ */\n		}\n       .text-blink-fast {\n			-webkit-animation: BLINK_TEXT 0.5s steps(1) infinite; /* Safari 4+ */\n			-moz-animation:    BLINK_TEXT 0.5s steps(1) infinite; /* Fx 5+ */\n			-o-animation:      BLINK_TEXT 0.5s steps(1) infinite; /* Opera 12+ */\n			animation:         BLINK_TEXT 0.5s steps(1) infinite; /* IE 10+, Fx 29+ */\n		}\n\n		@keyframes BLINK_TEXT {\n				0% {\n					visibility:visible;\n				}\n				50% {\n					visibility:hidden;\n				}\n				100% {\n					visibility:visible;\n				}\n            }\n\n            ")}},{key:"mousedown",value:function(t){if(!(this._settings.can_press()===!1||this._tick_last_event+50>=Date.now()))switch(this._tick_last_event=Date.now(),this._is_mousedown=!0,cwidget._proxy.esign.is_click=!0,this._settings.resetUnlock(),this._resultCallbackAfterMouseDown=null,this._s.Type.toLowerCase()){case"momentary":0===cwidget.host.widget.esign&&(this._bnt.addClass("pressed"),this._legend.addClass("pressed")),"normallyopen"===this._s.State.toLowerCase()?this._treat_close_state():this._treat_open_state();break;case"maintained":this._bnt.hasClass("pressed")?(this._resultCallbackAfterMouseDown=function(){this._bnt.removeClass("pressed"),this._legend.hasClass("pressed")?this._legend.removeClass("pressed"):this._legend.addClass("pressed")},"normallyopen"===this._s.State.toLowerCase()?this._treat_open_state():this._treat_close_state(),0===cwidget.host.widget.esign&&this._resultCallbackAfterMouseDown()):(this._resultCallbackAfterMouseDown=function(){this._bnt.addClass("pressed"),this._legend.hasClass("pressed")?this._legend.removeClass("pressed"):this._legend.addClass("pressed")},"normallyopen"===this._s.State.toLowerCase()?this._treat_close_state():this._treat_open_state(),0===cwidget.host.widget.esign&&this._resultCallbackAfterMouseDown());break;case"latched":if(null===this._s.Reset)return;this._resultCallbackAfterMouseDown=function(){this._legend.hasClass("pressed")&&this._legend.removeClass("pressed"),this._bnt.hasClass("pressed")&&this._bnt.removeClass("pressed"),this._legend.addClass("pressed"),this._bnt.addClass("pressed")},"normallyopen"===this._s.State.toLowerCase()?this._treat_close_state():this._treat_open_state(),0===cwidget.host.widget.esign&&this._resultCallbackAfterMouseDown()}}},{key:"mouseup",value:function(t){if(!(this._settings.can_press()===!1||this._tick_last_event+50>=Date.now()))switch(this._tick_last_event=Date.now(),this._s.Type.toLowerCase()){case"momentary":1!==cwidget.host.widget.esign&&(this._bnt.removeClass("pressed"),this._legend.removeClass("pressed"),"normallyopen"===this._s.State.toLowerCase()?this._treat_open_state():this._treat_close_state());break;case"maintained":break;case"latched":}}},{key:"_apply_font_style",value:function(t,e){var s=e.split(" ");t.css("font-style","normal");for(var i="",n=0;n<s.length;n++)switch(s[n].toLowerCase()){case"oblique":case"italic":t.css("font-style",s[n].toLowerCase());break;case"narrow":t.css("letter-spacing","0px");break;case"bold":t.css("font-weight","bold");break;case"black":t.css("font-weight","900");break;case"underline":i+=" underline";break;case"strikeout":i+=" line-through"}t.css("text-decoration",i.trim())}},{key:"_clean_blink",value:function(){this._indicator.removeClass("blink-slow"),this._indicator.removeClass("blink-fast"),this._legend_text.removeClass("text-blink-slow"),this._legend_text.removeClass("text-blink-fast"),this._bnt.removeClass("blink-slow"),this._bnt.removeClass("blink-fast")}},{key:"on",value:function(t,e){this._ee.on(t,e)}}]),t}()},{}],2:[function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(s,"__esModule",{value:!0});var n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();s.Settings=function(){function t(){i(this,t),this._ee=new EventEmitter,this._can_press=!0,this._lock=!1,this._settings={Type:"Momentary",State:"NormallyOpen",TagExpression:null,Indicator:null,Disable:null,Reset:null,Style:"Rectangle",Effect:"3D",Align:"Center",ButtonColor:"rgb(255,0,255)",OpenColor:"rgb(0,255,0)",LegendPlateColor:"rgb(255,255,255)",OpenBlink:"NONE",OpenCaption:"Text1",OpenFontColor:"rgb(255,255,255)",OpenFontName:"Arial",OpenFontSizeInPoints:"10",OpenFontStyle:"Bold",OpenTextBlink:"NONE",OpenWriteValue:"0",CloseColor:"rgb(255,0,0)",CloseFontColor:"rgb(0,255,0)",CloseFontName:"Arial",CloseFontSizeInPoints:"10",CloseFontStyle:"Bold",CloseBlink:"NONE",CloseCaption:"Text2",CloseTextBlink:"NONE",CloseWriteValue:"1",Security:0,AutoFormat:0,ESign:"False"};for(var e in this.get())cwidget.on(e,this.receive.bind(this))}return n(t,[{key:"receive",value:function(t){var e=this;this._lock=!1,this._settings.hasOwnProperty(t)&&("function"==typeof this[t.toLowerCase()]&&this[t.toLowerCase()](cwidget[t]),this[t]||(this._settings[t]=cwidget[t]),"esign"===t.toLowerCase()&&"undefined"!=typeof this._settings[t]&&"true"===this._settings[t].toLowerCase()&&(cwidget.host.widget.esign=1),null!==this._timeoutEvent&&(clearTimeout(this._timeoutEvent),this._timeoutEvent=null),this._timeoutEvent=setTimeout(function(){(1!==cwidget.host.widget.esign||cwidget._proxy.esign.is_click!==!0)&&(e._ee.emitEvent("change",[]),e._lock=!1)},100))}},{key:"tagexpression",value:function(){this._lock=!0}},{key:"closecaption",value:function(){this._lock=!0}},{key:"opencaption",value:function(){this._lock=!0}},{key:"reset",value:function(t){return"latched"!==this._settings.Type.toLowerCase()?void(this._can_press=!0):("0"===t||"0"!==this._settings.Reset&&null!==this._settings.Reset||this._ee.emitEvent("reset",[]),this._settings.Reset=t,void("0"!==this._settings.Reset?this._can_press=!1:this._can_press=!0))}},{key:"can_press",value:function(){return this._can_press&&("0"===this._settings.Disable||null===this._settings.Disable)&&(0===this._settings.Security||1===cwidget._proxy.securityLevels[this._settings.Security])}},{key:"get",value:function(t){return t?t in this._settings?this._settings[t]:null:this._settings}},{key:"set",value:function(t,e){return t?t in this._settings?(this._settings[t]=e,this._settings[t]):null:this._settings}},{key:"on",value:function(t,e){this._ee.on(t,e)}},{key:"locked",value:function(){return this._lock}},{key:"resetUnlock",value:function(){return this._lock=!1}}]),t}()},{}],3:[function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),a=t("./Layout"),o=t("./Settings"),l=function(){function t(){i(this,t),this._settings=new o.Settings,this._layout=new a.Layout(this,this._settings),this._layout.on("open",this.on_open.bind(this)),this._layout.on("close",this.on_close.bind(this)),this._layout.on("reset",this.on_reset.bind(this))}return n(t,[{key:"on_open",value:function(){this._settings.locked()===!1&&this._layout.locked()===!1&&(cwidget.TagExpression=this._settings.get("OpenWriteValue"))}},{key:"on_close",value:function(){this._settings.locked()===!1&&this._layout.locked()===!1&&(cwidget.TagExpression=this._settings.get("CloseWriteValue"))}},{key:"on_reset",value:function(){this._settings.locked()===!1&&this._layout.locked()===!1&&(cwidget.Reset=this._settings.get("Reset"))}}]),t}();new l},{"./Layout":1,"./Settings":2}]},{},[3]);
//# sourceMappingURL=Z:/.helpers/tasks/../../dailybuilds/pushbutton/pushbutton/build/build.min.js.map