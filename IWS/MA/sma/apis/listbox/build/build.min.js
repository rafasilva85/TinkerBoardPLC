!function(){function e(t,i,s){function n(o,a){if(!i[o]){if(!t[o]){var r="function"==typeof require&&require;if(!a&&r)return r(o,!0);if(l)return l(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[o]={exports:{}};t[o][0].call(h.exports,function(e){var i=t[o][1][e];return n(i||e)},h,h.exports,e,t,i,s)}return i[o].exports}for(var l="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}return e}()({1:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();i.Messages=function(){function e(){s(this,e),this._helper=new window.SmaCustomWidget.Helper,this._messages=[],cwidget.on("MessagesCount",this.createMessages.bind(this))}return n(e,[{key:"text",value:function(e,t){var i=this._getMessage(t);i.text=cwidget[e][t],$("span",i.el).html(i.text)}},{key:"value",value:function(e,t){var i=this._getMessage(t);i.value=cwidget[e][t]}},{key:"textFG",value:function(e,t){var i=this._getMessage(t);i.textFG=cwidget[e][t],i.el.css("color",i.textFG)}},{key:"textBlink",value:function(e,t){var i=this._getMessage(t),s=cwidget[e][t];!s||s.length<=0||isNaN(s)===!0||(i.textBlink=0===parseInt(s)?!1:!0)}},{key:"createMessages",value:function(){for(var e=parseInt(cwidget.MessagesCount),t=0;e>t;t++)this.createMessage(t);cwidget.on("MessageText",this.text.bind(this)),cwidget.on("MessageValue",this.value.bind(this)),cwidget.on("MessageTextFG",this.textFG.bind(this)),cwidget.on("MessageTextBlink",this.textBlink.bind(this))}},{key:"createMessage",value:function(e){var t={id:e,text:"",value:0,textFG:"rgb(0,0,0)",textBlink:!1,el:$("<tr><td><span></span></td></tr>")};this._messages.push(t)}},{key:"get",value:function(){return this._messages}},{key:"_getMessage",value:function(e){return this._messages[e]}}]),e}()},{}],2:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();i.Scrollbar=function(){function e(){s(this,e),this._ee=new EventEmitter,this._listBoxHeight=parseInt($("body").css("height")),this._config={scrollbarRow:!0,scrollbarPage:!0,scrollbarStartEnd:!0},cwidget.on("ScrollbarRow",this.row.bind(this)),cwidget.on("ScrollbarPage",this.page.bind(this)),cwidget.on("ScrollbarStartEnd",this.startEnd.bind(this))}return n(e,[{key:"row",value:function(){var e=this,t=0,i=cwidget.ScrollbarRow;i&&0!==i.length&&(this._config.scrollbarRow=0!==parseInt(i),this._config.scrollbarRow===!0&&this._listBoxHeight>=80?$(".button-bar .top-bar .up-row").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"up-row",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .top-bar .up-row").css("display","none"),t++),this._config.scrollbarRow===!0&&this._listBoxHeight>=96?$(".button-bar .bottom-bar .down-row").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"down-row",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .bottom-bar .down-row").css("display","none"),t++),this._config.scrollbarRow=2>t,this._hideScrollBar())}},{key:"page",value:function(){var e=this,t=0,i=cwidget.ScrollbarPage;i&&0!==i.length&&(this._config.scrollbarPage=0!==parseInt(i),this._config.scrollbarPage===!0&&this._listBoxHeight>=48?$(".button-bar .top-bar .up-page").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"up-page",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .top-bar .up-page").css("display","none"),t++),this._config.scrollbarPage===!0&&this._listBoxHeight>=64?$(".button-bar .bottom-bar .down-page").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"down-page",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .bottom-bar .down-page").css("display","none"),t++),this._config.scrollbarPage=2>t,this._hideScrollBar())}},{key:"startEnd",value:function(){var e=this,t=0,i=cwidget.ScrollbarStartEnd;i&&0!==i.length&&(this._config.scrollbarStartEnd=0!==parseInt(i),this._config.scrollbarStartEnd===!0&&this._listBoxHeight>=16?$(".button-bar .top-bar .up-all").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"up-all",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .top-bar .up-all").css("display","none"),t++),this._config.scrollbarStartEnd===!0&&this._listBoxHeight>=32?$(".button-bar .bottom-bar .down-all").on("click touch",function(){e._ee.emitEvent("scroll",[{data:{type:"down-all",wrap:e._config.scrollbarListWrap}}])}):($(".button-bar .bottom-bar .down-all").css("display","none"),t++),this._config.scrollbarStartEnd=2>t,this._hideScrollBar())}},{key:"_hideScrollBar",value:function(){var e=this._config.scrollbarRow||this._config.scrollbarPage||this._config.scrollbarStartEnd;e!==!0&&($(".button-bar").css("display","none"),$("#list-box").css("width","100vw"))}},{key:"on",value:function(e,t){this._ee.on(e,t)}}]),e}()},{}],3:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();i.Settings=function(){function e(){s(this,e),this._ee=new EventEmitter,this._settings={valueType:"integer",userEnable:!1,controlEnable:!1,writeTag:null,colorsBackground:0,colorsHighlight:0,colorsText:0,colorsBorder:0,requireEnterForSelection:!1,fontName:"Arial",fontSizeInPoints:10,fontStyle:"",messagesAutoFormat:!1,scrollbarListWrap:!0,esign:!1},cwidget.on("ValueType",this.valueType.bind(this)),cwidget.on("UserEnable",this.userEnable.bind(this)),cwidget.on("ControlEnable",this.controlEnable.bind(this)),cwidget.on("ColorsBorder",this.colorsBorder.bind(this)),cwidget.on("FontName",this.fontName.bind(this)),cwidget.on("FontSizeInPoints",this.fontSizeInPoints.bind(this)),cwidget.on("FontStyle",this.fontStyle.bind(this)),cwidget.on("MessagesAutoFormat",this.messagesAutoFormat.bind(this)),cwidget.on("ColorsBackground",this.colorsBackground.bind(this)),cwidget.on("RequireEnterForSelection",this.requireEnterForSelection.bind(this)),cwidget.on("ColorsHighlight",this.colorsHighlight.bind(this)),cwidget.on("ColorsText",this.colorsText.bind(this)),cwidget.on("ScrollbarListWrap",this.listWrap.bind(this)),cwidget.on("ESign",this.esign.bind(this))}return n(e,[{key:"valueType",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.valueType=t)}},{key:"userEnable",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.userEnable=0!==parseInt(t))}},{key:"controlEnable",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.controlEnable=0!==parseInt(t))}},{key:"writeTag",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.writeTag=t)}},{key:"colorsBorder",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.colorsBorder=t)}},{key:"colorsBackground",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.colorsBackground=t)}},{key:"colorsHighlight",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.colorsHighlight=t)}},{key:"colorsText",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.colorsText=t)}},{key:"fontName",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.fontName=t)}},{key:"fontSizeInPoints",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.fontSizeInPoints=Math.max(1,parseInt(t)))}},{key:"fontStyle",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.fontStyle=t)}},{key:"messagesAutoFormat",value:function(e){var t=cwidget[e];!t||0===t.length}},{key:"requireEnterForSelection",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.requireEnterForSelection=0===parseInt(t)?!1:!0)}},{key:"listWrap",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.scrollbarListWrap=0!==parseInt(t))}},{key:"esign",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this._settings.esign="true"===t.toLowerCase()?!0:!1,cwidget.host.widget.esign=this._settings.esign?1:0)}},{key:"get",value:function(){return this._settings}},{key:"on",value:function(e,t){this._ee.on(e,t)}}]),e}()},{}],4:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();i.View=function(){function e(t,i){s(this,e),this._ee=new EventEmitter,this._selection=null,this._selectedIndex=-1,this._settings=t,this._messages=i,this._initialState=!0,this._tbody=$("tbody",this._listBox),this._height=parseInt($("body").css("height")),this._visible={min:0,max:0},this._helper=new window.SmaCustomWidget.Helper,this._scrollbar_resulback=null,$(document).keydown(this.onkeydown.bind(this))}return n(e,[{key:"onkeydown",value:function(e){var t=e.keyCode?e.keyCode:e.which;switch(t){case 13:if(!this._selection)break;this._settings.requireEnterForSelection===!0&&(cwidget.WriteTag=this._selection.value);break;case 38:this.backRow();break;case 40:this.nextRow()}}},{key:"update",value:function(){var e=this,t=$("body"),i=this._messages.get(),s=null,n=0,l=0,o=this._maxRows();for(t.css("border-color",this._settings.colorsBorder),t.css("background-color",this._settings.colorsBackground),this._tbody.css("font-family",this._settings.fontName),this._tbody.css("font-size",this._settings.fontSizeInPoints+"pt"),this._helper.parseFontStyle(this._settings.fontStyle,this._tbody[0]),i.length>0&&this._tbody.empty(),n=this._visible.min;n<i.length&&o>l&&(s=i[n]);)s.el.appendTo(this._tbody),this._apply_font_style(s.el,this._settings.fontStyle),s.el.off("click touch"),s.el.on("click touch",function(t){e._settings.userEnable!==!1&&(cwidget._proxy.esign.is_click=!0,e.highlightMessage(t.currentTarget))}),l++,n++;this._visible.max=this._visible.min+l,"none"===$("body").css("display")&&($("body").css("display","block"),this._visible.min=0,this.update())}},{key:"_apply_font_style",value:function(e,t){var i=t.split(" ");e.css("font-style","normal");for(var s="",n=0;n<i.length;n++)switch(i[n].toLowerCase()){case"oblique":case"italic":e.css("font-style",i[n].toLowerCase());break;case"narrow":e.css("letter-spacing","0px");break;case"bold":e.css("font-weight","bold");break;case"black":e.css("font-weight","900");break;case"underline":s+=" underline";break;case"strikeout":s+=" line-through"}e.css("text-decoration",s.trim())}},{key:"updateSelectionStyle",value:function(){var e=$("#dynamic-style"),t="";e&&this._selection&&(t+=this._selection.textBlink===!0?".selected-row {\n                -webkit-animation: BLINK 1.5s infinite; /* Safari 4+ */\n                -moz-animation:    BLINK 1.5s infinite; /* Fx 5+ */\n                -o-animation:      BLINK 1.5s infinite; /* Opera 12+ */\n                animation: BLINK 1.5s infinite; /* IE 10+, Fx 29+ */\n            }\n\n            @keyframes BLINK {\n            0%, 69% {\n                background-color: "+this._settings.colorsHighlight+";\n                color: "+this._settings.colorsText+";\n            }\n            70%, 100% {\n                background-color: "+this._settings.colorsHighlight+";\n                color: transparent;\n            }\n            }":".selected-row {\n                    background-color: "+this._settings.colorsHighlight+";\n                    color: "+this._settings.colorsText+";\n                }",e.html(t))}},{key:"applyScrollEvents",value:function(e){if(this._settings.userEnable!==!1)switch(e.data.type){case"up-row":this.backRow();break;case"down-row":this.nextRow();break;case"up-page":this.pageUp();break;case"down-page":this.pageDown();break;case"up-all":this.allUp();break;case"down-all":this.allDown()}}},{key:"highlightMessage",value:function(e){for(var t=null,i=this._messages.get(),s=null,n=null,l=0,o=0;o<i.length;o++)if(n=i[o],s=n.el,e instanceof jQuery&&s===e?t=n:s[0]===e&&(t=n),null!==t){l=o;break}if(t){"Boolean"===this._settings.valueType&&(parseFloat(t.value)>0?(t=i[1],e=i[1].el,l=1):(t=i[0],e=i[0].el,l=0));var a=this,r=function(){a._selectedIndex=l,null!==a._selection&&(a._selection.el.css("color",a._selection.textFG),a._selection.el.removeClass("selected-row")),$(e).addClass("selected-row"),a._selection=t,a._selection.el.css("color",a._settings.colorsText),a.updateSelectionStyle(),a.updateScrollbarStyle()};cwidget._proxy.esign.resultCallback=r.bind(this),this._initialState===!0&&(r.call(this),this._initialState=!1),this._settings.requireEnterForSelection===!1&&(cwidget.WriteTag=t.value)}}},{key:"updateScrollbarStyle",value:function(){this._updateVisible(),this.update()}},{key:"nextRow",value:function(){var e=this._messages.get();if(e&&!(e.length<=0)){if(this._selectedIndex+1>=this._messages.get().length){if(this._settings.scrollbarListWrap===!1)return;this._selectedIndex=-1}cwidget._proxy.esign.is_click=!0,this.highlightMessage(e[++this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle}}},{key:"backRow",value:function(){var e=this._messages.get();if(e&&!(e.length<=0)){if(this._selectedIndex-1<=-1){if(this._settings.scrollbarListWrap===!1)return;this._selectedIndex=this._messages.get().length}cwidget._proxy.esign.is_click=!0,this.highlightMessage(e[--this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle}}},{key:"pageUp",value:function(){var e=this._maxRows(),t=this._messages.get();!t||t.length<=0||(-1===this._selectedIndex&&(this._selectedIndex=0),0!==this._selectedIndex?(this._selectedIndex-=e,this._selectedIndex<=0&&(this._selectedIndex=0),this._visible.min-=e+1,this._visible.min-e<0&&(this._visible.min=0),this._visible.max=this._visible.min+e):this._settings.scrollbarListWrap===!0&&(this._selectedIndex=t.length-1),cwidget._proxy.esign.is_click=!0,this.highlightMessage(t[this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle)}},{key:"pageDown",value:function(){var e=this._maxRows(),t=this._messages.get();!t||t.length<=0||(-1===this._selectedIndex&&(this._selectedIndex=0),this._selectedIndex!==t.length-1?(this._selectedIndex+=e,this._selectedIndex>=t.length&&(this._selectedIndex=t.length-1),this._visible.min+=e+1,this._visible.min+e>t.length&&(this._visible.min=t.length-e,this._visible.min<0&&(this._visible.min=0)),this._visible.max=this._visible.min+e):this._settings.scrollbarListWrap===!0&&(this._selectedIndex=0),cwidget._proxy.esign.is_click=!0,this.highlightMessage(t[this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle)}},{key:"allUp",value:function(){var e=this._messages.get();!e||e.length<=0||(cwidget._proxy.esign.is_click=!0,this._selectedIndex=0,this.highlightMessage(e[this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle)}},{key:"allDown",value:function(){var e=this._messages.get();!e||e.length<=0||(cwidget._proxy.esign.is_click=!0,this._selectedIndex=e.length-1,this.highlightMessage(e[this._selectedIndex].el),0===cwidget.host.widget.esign?this.updateScrollbarStyle():this._scrollbar_resulback=this.updateScrollbarStyle)}},{key:"selectMessage",value:function(e){var t=null,i=this._messages.get(),s=this._maxRows();if(isNaN(e)!==!0){for(var n=0;n<i.length;n++){if("LSB"!==this._settings.valueType){var l=i[n];isNaN(l.value)===!1&&parseFloat(l.value)===parseFloat(e)&&(t=l)}else(parseInt(e)&1<<n)>0&&(t=i[n]);if(null!==t){(n<this._visible.min||n>this._visible.max)&&(this._visible.min=Math.min(n,Math.ceil(Math.abs(i.length-s))));break}}if(null===t)return i.length>0&&this.highlightMessage(i[0].el),void this.update();this.highlightMessage(t.el),this._updateVisible(),this.update()}}},{key:"_maxRows",value:function(){var e=Math.max(1,parseInt($("tr",this._tbody).css("height"))||1);return Math.floor(this._height/e)}},{key:"_updateVisible",value:function(){var e=0;this._selectedIndex<0&&(this._selectedIndex=0),e=this._maxRows(),this._selectedIndex>this._visible.min+e&&(this._visible.min=this._selectedIndex-e+1),this._selectedIndex<=this._visible.min&&(this._visible.min=this._selectedIndex),this._selectedIndex>=this._visible.max&&(this._visible.min=this._selectedIndex),this._visible.min+e>this._messages.get().length-1&&(this._visible.min=this._messages.get().length-e),this._visible.min<0&&(this._visible.min=0)}},{key:"on",value:function(e,t){this._ee.on(e,t)}}]),e}()},{}],5:[function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),l=e("./Messages"),o=e("./Settings"),a=e("./Scrollbar"),r=e("./View"),c=function(){function e(){var t=this;s(this,e),this.messages=new l.Messages,this.settings=new o.Settings,this.scrollbar=new a.Scrollbar,this.view=new r.View(this.settings.get(),this.messages),cwidget.on("WriteTag",this.writeTag.bind(this)),cwidget.on("ReadSearchTag",this.readSearchTag.bind(this)),this.scrollbar.on("scroll",function(e){t.view.applyScrollEvents(e)})}return n(e,[{key:"readSearchTag",value:function(e){var t=cwidget[e];t&&0!==t.length&&(this.settings.get().controlEnable===!0?this.view.selectMessage(t):this.view.selectMessage(0))}},{key:"writeTag",value:function(e){var t=cwidget[e];!t||0===t.length}}]),e}();new c},{"./Messages":1,"./Scrollbar":2,"./Settings":3,"./View":4}]},{},[5]);
//# sourceMappingURL=Z:/.helpers/tasks/../../dailybuilds/listbox/listbox/build/build.min.js.map