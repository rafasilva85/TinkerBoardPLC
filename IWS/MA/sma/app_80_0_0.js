//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;_a[i];){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};0&&has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(0){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}0&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _20=1,_21=2,_22=3,_23=4,_24=5;if(0){_20="requested";_21="arrived";_22="not-a-module";_23="executing";_24="executed";}var _25=0,_26="sync",xd="xd",_27=[],_28=0,_29=_3,_2a=_3,_2b;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2c,_2d,_2e){if(!_28){_28=_2c;_29=_2d;_2a=_2e;}return {sync:_26,requested:_20,arrived:_21,nonmodule:_22,executing:_23,executed:_24,syncExecStack:_27,modules:_2f,execQ:_30,getModule:_31,injectModule:_32,setArrived:_33,signal:_34,finishExec:_35,execModule:_36,dojoRequirePlugin:_28,getLegacyMode:function(){return _25;},guardCheckComplete:_37};};if(1){var _38=location.protocol,_39=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3a=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3a&&(_3a[1]!=_38||(_39&&_3a[2]!=_39));};1||has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",1&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2b=function(){return new XMLHttpRequest();};}else{for(var _3b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3c,i=0;i<3;){try{_3c=_3b[i++];if(new ActiveXObject(_3c)){break;}}catch(e){}}_2b=function(){return new ActiveXObject(_3c);};}req.getXhr=_2b;has.add("dojo-gettext-api",1);req.getText=function(url,_3d,_3e){var xhr=_2b();xhr.open("GET",_3f(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3e){_3e(xhr.responseText,_3d);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _40=new Function("return eval(arguments[0]);");req.eval=function(_41,_42){return _40(_41+"\r\n////@ sourceURL="+_42);};var _43={},_44="error",_34=req.signal=function(_45,_46){var _47=_43[_45];_9(_47&&_47.slice(0),function(_48){_48.apply(null,_8(_46)?_46:[_46]);});},on=req.on=function(_49,_4a){var _4b=_43[_49]||(_43[_49]=[]);_4b.push(_4a);return {remove:function(){for(var i=0;i<_4b.length;i++){if(_4b[i]===_4a){_4b.splice(i,1);return;}}}};};var _4c=[],_4d={},_4e=[],_4f={},map=req.map={},_50=[],_2f={},_51="",_52={},_53="url:",_54={},_55={},_56=0;if(1){var _57=function(_58){var p,_59,_5a,now,m;for(p in _54){_59=_54[p];_5a=p.match(/^url\:(.+)/);if(_5a){_52[_53+_5b(_5a[1],_58)]=_59;}else{if(p=="*now"){now=_59;}else{if(p!="*noref"){m=_5c(p,_58);_52[m.mid]=_52[_53+m.url]=_59;}}}}if(now){now(_5d(_58));}_54={};},_5e=function(s){return s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;});},_5f=function(map,_60){_60.splice(0,_60.length);for(var p in map){_60.push([p,map[p],new RegExp("^"+_5e(p)+"(/|$)"),p.length]);}_60.sort(function(lhs,rhs){return rhs[3]-lhs[3];});return _60;},_61=function(_62,_63){_9(_62,function(_64){_63.push([_7(_64[0])?new RegExp("^"+_5e(_64[0])+"$"):_64[0],_64[1]]);});},_65=function(_66){var _67=_66.name;if(!_67){_67=_66;_66={name:_67};}_66=_c({main:"main"},_66);_66.location=_66.location?_66.location:_67;if(_66.packageMap){map[_67]=_66.packageMap;}if(!_66.main.indexOf("./")){_66.main=_66.main.substring(2);}_4f[_67]=_66;},_68=[],_69=function(_6a,_6b,_6c){for(var p in _6a){if(p=="waitSeconds"){req.waitms=(_6a[p]||0)*1000;}if(p=="cacheBust"){_51=_6a[p]?(_7(_6a[p])?_6a[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_6a[p];}if(1&&p=="async"){var _6d=_6a[p];req.legacyMode=_25=(_7(_6d)&&/sync|legacyAsync/.test(_6d)?_6d:(!_6d?_26:false));req.async=!_25;}if(_6a[p]!==_1a){req.rawConfig[p]=_6a[p];p!="has"&&has.add("config-"+p,_6a[p],0,_6b);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _6a.has){has.add(p,_6a.has[p],0,_6b);}_9(_6a.packages,_65);for(_1e in _6a.packagePaths){_9(_6a.packagePaths[_1e],function(_6e){var _6f=_1e+"/"+_6e;if(_7(_6e)){_6e={name:_6e};}_6e.location=_6f;_65(_6e);});}_5f(_c(map,_6a.map),_50);_9(_50,function(_70){_70[1]=_5f(_70[1],[]);if(_70[0]=="*"){_50.star=_70;}});_5f(_c(_4d,_6a.paths),_4e);_61(_6a.aliases,_4c);if(_6b){_68.push({config:_6a.config});}else{for(p in _6a.config){var _71=_31(p,_6c);_71.config=_c(_71.config||{},_6a.config[p]);}}if(_6a.cache){_57();_54=_6a.cache;if(_6a.cache["*noref"]){_57();}}_34("config",[_6a,req.rawConfig]);};if(has("dojo-cdn")||1){var _72=doc.getElementsByTagName("script"),i=0,_73,_74,src,_75;while(i<_72.length){_73=_72[i++];if((src=_73.getAttribute("src"))&&(_75=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_74=_75[3]||"";_2.baseUrl=_2.baseUrl||_74;_56=_73;}if((src=(_73.getAttribute("data-dojo-config")||_73.getAttribute("djConfig")))){_55=req.eval("({ "+src+" })","data-dojo-config");_56=_73;}if(0){if((src=_73.getAttribute("data-main"))){_55.deps=_55.deps||[src];}}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_55,doh.testConfig);}}catch(e){}}req.rawConfig={};_69(_2,1);if(has("dojo-cdn")){_4f.dojo.location=_74;if(_74){_74+="/";}_4f.dijit.location=_74+"../dijit/";_4f.dojox.location=_74+"../dojox/";}_69(_1,1);_69(_55,1);}else{_4d=_2.paths;_4e=_2.pathsMapProg;_4f=_2.packs;_4c=_2.aliases;_50=_2.mapProgs;_2f=_2.modules;_52=_2.cache;_51=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _76=0,_77=[],_78=null;}var _79=function(_7a){_37(function(){_9(_7a.deps,_32);if(0&&_76&&!_78){_78=setTimeout(function(){_76=0;_78=null;req.combo.done(function(_7b,url){var _7c=function(){_7d(0,_7b);_7e();};_77.push(_7b);_7f=_7b;req.injectUrl(url,_7c,_7b);_7f=0;},req);},0);}});},_16=function(a1,a2,a3,_80,_81){var _82,_83;if(_7(a1)){_82=_31(a1,_80,true);if(_82&&_82.executed){return _82.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_69(a1,0,_80);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_83="require*"+uid();for(var mid,_84=[],i=0;i<a1.length;){mid=a1[i++];_84.push(_31(mid,_80));}_82=_c(_85("",_83,0,""),{injected:_21,deps:_84,def:a2||_3,require:_80?_80.require:req,gc:1});_2f[_82.mid]=_82;_79(_82);var _86=_87&&_25!=_26;_37(function(){_36(_82,_86);});if(!_82.executed){_30.push(_82);}_7e();}}return _81;},_5d=function(_88){if(!_88){return req;}var _89=_88.require;if(!_89){_89=function(a1,a2,a3){return _16(a1,a2,a3,_88,_89);};_88.require=_c(_89,req);_89.module=_88;_89.toUrl=function(_8a){return _5b(_8a,_88);};_89.toAbsMid=function(mid){return _b7(mid,_88);};if(0){_89.undef=function(mid){req.undef(mid,_88);};}if(1){_89.syncLoadNls=function(mid){var _8b=_5c(mid,_88),_8c=_2f[_8b.mid];if(!_8c||!_8c.executed){_8d=_52[_8b.mid]||_52[_53+_8b.url];if(_8d){_8e(_8d);_8c=_2f[_8b.mid];}}return _8c&&_8c.executed&&_8c.result;};}}return _89;},_30=[],_8f=[],_90={},_91=function(_92){_92.injected=_20;_90[_92.mid]=1;if(_92.url){_90[_92.url]=_92.pack||1;}_93();},_33=function(_94){_94.injected=_21;delete _90[_94.mid];if(_94.url){delete _90[_94.url];}if(_4(_90)){_95();1&&_25==xd&&(_25=_26);}},_96=req.idle=function(){return !_8f.length&&_4(_90)&&!_30.length&&!_87;},_97=function(_98,map){if(map){for(var i=0;i<map.length;i++){if(map[i][2].test(_98)){return map[i];}}}return 0;},_99=function(_9a){var _9b=[],_9c,_9d;_9a=_9a.replace(/\\/g,"/").split("/");while(_9a.length){_9c=_9a.shift();if(_9c==".."&&_9b.length&&_9d!=".."){_9b.pop();_9d=_9b[_9b.length-1];}else{if(_9c!="."){_9b.push(_9d=_9c);}}}return _9b.join("/");},_85=function(pid,mid,_9e,url){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_9e,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_4f[pid]&&_4f[pid].isAmd))};}else{return {pid:pid,mid:mid,pack:_9e,url:url,executed:0,def:0};}},_9f=function(mid,_a0,_a1,_a2,_a3,_a4,_a5,_a6,_a7){var pid,_a8,_a9,_aa,url,_ab,_ac,_ad;_ad=mid;_ac=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_ac&&!_a0)){return _85(0,mid,0,mid);}else{mid=_99(_ac?(_a0.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}if(_a0){_aa=_97(_a0.mid,_a4);}_aa=_aa||_a4.star;_aa=_aa&&_97(mid,_aa[1]);if(_aa){mid=_aa[1]+mid.substring(_aa[3]);}_75=mid.match(/^([^\/]+)(\/(.+))?$/);pid=_75?_75[1]:"";if((_a8=_a1[pid])){mid=pid+"/"+(_a9=(_75[3]||_a8.main));}else{pid="";}var _ae=0,_af=0;_9(_a6,function(_b0){var _b1=mid.match(_b0[0]);if(_b1&&_b1.length>_ae){_af=_6(_b0[1])?mid.replace(_b0[0],_b0[1]):_b0[1];}});if(_af){return _9f(_af,0,_a1,_a2,_a3,_a4,_a5,_a6,_a7);}_ab=_a2[mid];if(_ab){return _a7?_85(_ab.pid,_ab.mid,_ab.pack,_ab.url):_a2[mid];}}_aa=_97(mid,_a5);if(_aa){url=_aa[1]+mid.substring(_aa[3]);}else{if(pid){url=_a8.location+"/"+_a9;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_a3+url;}url+=".js";return _85(pid,mid,_a8,_99(url));},_5c=function(mid,_b2){return _9f(mid,_b2,_4f,_2f,req.baseUrl,_50,_4e,_4c);},_b3=function(_b4,_b5,_b6){return _b4.normalize?_b4.normalize(_b5,function(mid){return _b7(mid,_b6);}):_b7(_b5,_b6);},_b8=0,_31=function(mid,_b9,_ba){var _bb,_bc,_bd,_be;_bb=mid.match(/^(.+?)\!(.*)$/);if(_bb){_bc=_31(_bb[1],_b9,_ba);if(1&&_25==_26&&!_bc.executed){_32(_bc);if(_bc.injected===_21&&!_bc.executed){_37(function(){_36(_bc);});}if(_bc.executed){_bf(_bc);}else{_30.unshift(_bc);}}if(_bc.executed===_24&&!_bc.load){_bf(_bc);}if(_bc.load){_bd=_b3(_bc,_bb[2],_b9);mid=(_bc.mid+"!"+(_bc.dynamic?++_b8+"!":"")+_bd);}else{_bd=_bb[2];mid=_bc.mid+"!"+(++_b8)+"!waitingForPlugin";}_be={plugin:_bc,mid:mid,req:_5d(_b9),prid:_bd};}else{_be=_5c(mid,_b9);}return _2f[_be.mid]||(!_ba&&(_2f[_be.mid]=_be));},_b7=req.toAbsMid=function(mid,_c0){return _5c(mid,_c0).mid;},_5b=req.toUrl=function(_c1,_c2){var _c3=_5c(_c1+"/x",_c2),url=_c3.url;return _3f(_c3.pid===0?_c1:url.substring(0,url.length-5));},_c4={injected:_21,executed:_24,def:_22,result:_22},_c5=function(mid){return _2f[mid]=_c({mid:mid},_c4);},_c6=_c5("require"),_c7=_c5("exports"),_c8=_c5("module"),_c9=function(_ca,_cb){req.trace("loader-run-factory",[_ca.mid]);var _cc=_ca.def,_cd;1&&_27.unshift(_ca);if(has("config-dojo-loader-catches")){try{_cd=_6(_cc)?_cc.apply(null,_cb):_cc;}catch(e){_34(_44,_ca.result=_f("factoryThrew",[_ca,e]));}}else{_cd=_6(_cc)?_cc.apply(null,_cb):_cc;}_ca.result=_cd===undefined&&_ca.cjs?_ca.cjs.exports:_cd;1&&_27.shift(_ca);},_ce={},_cf=0,_bf=function(_d0){var _d1=_d0.result;_d0.dynamic=_d1.dynamic;_d0.normalize=_d1.normalize;_d0.load=_d1.load;return _d0;},_d2=function(_d3){var map={};_9(_d3.loadQ,function(_d4){var _d5=_b3(_d3,_d4.prid,_d4.req.module),mid=_d3.dynamic?_d4.mid.replace(/waitingForPlugin$/,_d5):(_d3.mid+"!"+_d5),_d6=_c(_c({},_d4),{mid:mid,prid:_d5,injected:0});if(!_2f[mid]){_e8(_2f[mid]=_d6);}map[_d4.mid]=_2f[mid];_33(_d4);delete _2f[_d4.mid];});_d3.loadQ=0;var _d7=function(_d8){for(var _d9,_da=_d8.deps||[],i=0;i<_da.length;i++){_d9=map[_da[i].mid];if(_d9){_da[i]=_d9;}}};for(var p in _2f){_d7(_2f[p]);}_9(_30,_d7);},_35=function(_db){req.trace("loader-finish-exec",[_db.mid]);_db.executed=_24;_db.defOrder=_cf++;1&&_9(_db.provides,function(cb){cb();});if(_db.loadQ){_bf(_db);_d2(_db);}for(i=0;i<_30.length;){if(_30[i]===_db){_30.splice(i,1);}else{i++;}}if(/^require\*/.test(_db.mid)){delete _2f[_db.mid];}},_dc=[],_36=function(_dd,_de){if(_dd.executed===_23){req.trace("loader-circular-dependency",[_dc.concat(_dd.mid).join("->")]);return (!_dd.def||_de)?_ce:(_dd.cjs&&_dd.cjs.exports);}if(!_dd.executed){if(!_dd.def){return _ce;}var mid=_dd.mid,_df=_dd.deps||[],arg,_e0,_e1=[],i=0;if(0){_dc.push(mid);req.trace("loader-exec-module",["exec",_dc.length,mid]);}_dd.executed=_23;while((arg=_df[i++])){_e0=((arg===_c6)?_5d(_dd):((arg===_c7)?_dd.cjs.exports:((arg===_c8)?_dd.cjs:_36(arg,_de))));if(_e0===_ce){_dd.executed=0;req.trace("loader-exec-module",["abort",mid]);0&&_dc.pop();return _ce;}_e1.push(_e0);}_c9(_dd,_e1);_35(_dd);0&&_dc.pop();}return _dd.result;},_87=0,_37=function(_e2){try{_87++;_e2();}finally{_87--;}if(_96()){_34("idle",[]);}},_7e=function(){if(_87){return;}_37(function(){_29();for(var _e3,_e4,i=0;i<_30.length;){_e3=_cf;_e4=_30[i];_36(_e4);if(_e3!=_cf){_29();i=0;}else{i++;}}});};if(0){req.undef=function(_e5,_e6){var _e7=_31(_e5,_e6);_33(_e7);_c(_e7,{def:0,executed:0,injected:0,node:0});};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _3f=function(url){url+="";return url+(_51?((/\?/.test(url)?"&":"?")+_51):"");},_e8=function(_e9){var _ea=_e9.plugin;if(_ea.executed===_24&&!_ea.load){_bf(_ea);}var _eb=function(def){_e9.result=def;_33(_e9);_35(_e9);_7e();};if(_ea.load){_ea.load(_e9.prid,_e9.req,_eb);}else{if(_ea.loadQ){_ea.loadQ.push(_e9);}else{_ea.loadQ=[_e9];_30.unshift(_ea);_32(_ea);}}},_8d=0,_7f=0,_ec=0,_8e=function(_ed,_ee){if(has("config-stripStrict")){_ed=_ed.replace(/"use strict"/g,"");}_ec=1;if(has("config-dojo-loader-catches")){try{if(_ed===_8d){_8d.call(null);}else{req.eval(_ed,has("dojo-loader-eval-hint-url")?_ee.url:_ee.mid);}}catch(e){_34(_44,_f("evalModuleThrew",_ee));}}else{if(_ed===_8d){_8d.call(null);}else{req.eval(_ed,has("dojo-loader-eval-hint-url")?_ee.url:_ee.mid);}}_ec=0;},_32=function(_ef){var mid=_ef.mid,url=_ef.url;if(_ef.executed||_ef.injected||_90[mid]||(_ef.url&&((_ef.pack&&_90[_ef.url]===_ef.pack)||_90[_ef.url]==1))){return;}_91(_ef);if(0){var _f0=0;if(_ef.plugin&&_ef.plugin.isCombo){req.combo.add(_ef.plugin.mid,_ef.prid,0,req);_f0=1;}else{if(!_ef.plugin){_f0=req.combo.add(0,_ef.mid,_ef.url,req);}}if(_f0){_76=1;return;}}if(_ef.plugin){_e8(_ef);return;}var _f1=function(){_7d(_ef);if(_ef.injected!==_21){if(has("dojo-enforceDefine")){_34(_44,_f("noDefine",_ef));return;}_33(_ef);_c(_ef,_c4);req.trace("loader-define-nonmodule",[_ef.url]);}if(1&&_25){!_27.length&&_7e();}else{_7e();}};_8d=_52[mid]||_52[_53+_ef.url];if(_8d){req.trace("loader-inject",["cache",_ef.mid,url]);_8e(_8d,_ef);_f1();return;}if(1&&_25){if(_ef.isXd){_25==_26&&(_25=xd);}else{if(_ef.isAmd&&_25!=_26){}else{var _f2=function(_f3){if(_25==_26){_27.unshift(_ef);_8e(_f3,_ef);_27.shift();_7d(_ef);if(!_ef.cjs){_33(_ef);_35(_ef);}if(_ef.finish){var _f4=mid+"*finish",_f5=_ef.finish;delete _ef.finish;def(_f4,["dojo",("dojo/require!"+_f5.join(",")).replace(/\./g,"/")],function(_f6){_9(_f5,function(mid){_f6.require(mid);});});_30.unshift(_31(_f4));}_f1();}else{_f3=_2a(_ef,_f3);if(_f3){_8e(_f3,_ef);_f1();}else{_7f=_ef;req.injectUrl(_3f(url),_f1,_ef);_7f=0;}}};req.trace("loader-inject",["xhr",_ef.mid,url,_25!=_26]);if(has("config-dojo-loader-catches")){try{req.getText(url,_25!=_26,_f2);}catch(e){_34(_44,_f("xhrInjectFailed",[_ef,e]));}}else{req.getText(url,_25!=_26,_f2);}return;}}}req.trace("loader-inject",["script",_ef.mid,url]);_7f=_ef;req.injectUrl(_3f(url),_f1,_ef);_7f=0;},_f7=function(_f8,_f9,def){req.trace("loader-define-module",[_f8.mid,_f9]);if(0&&_f8.plugin&&_f8.plugin.isCombo){_f8.result=_6(def)?def():def;_33(_f8);_35(_f8);return _f8;}var mid=_f8.mid;if(_f8.injected===_21){_34(_44,_f("multipleDefine",_f8));return _f8;}_c(_f8,{deps:_f9,def:def,cjs:{id:_f8.mid,uri:_f8.url,exports:(_f8.result={}),setExports:function(_fa){_f8.cjs.exports=_fa;},config:function(){return _f8.config;}}});for(var i=0;_f9[i];i++){_f9[i]=_31(_f9[i],_f8);}if(1&&_25&&!_90[mid]){_79(_f8);_30.push(_f8);_7e();}_33(_f8);if(!_6(def)&&!_f9.length){_f8.result=def;_35(_f8);}return _f8;},_7d=function(_fb,_fc){var _fd=[],_fe,_ff;while(_8f.length){_ff=_8f.shift();_fc&&(_ff[0]=_fc.shift());_fe=(_ff[0]&&_31(_ff[0]))||_fb;_fd.push([_fe,_ff[1],_ff[2]]);}_57(_fb);_9(_fd,function(args){_79(_f7.apply(null,args));});};}var _100=0,_95=_3,_93=_3;if(1){_95=function(){_100&&clearTimeout(_100);_100=0;};_93=function(){_95();if(req.waitms){_100=window.setTimeout(function(){_95();_34(_44,_f("timeout",_90));},req.waitms);}};}if(1){has.add("ie-event-behavior",doc.attachEvent&&typeof Windows==="undefined"&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(1&&(1||1)){var _101=function(node,_102,_103,_104){if(!has("ie-event-behavior")){node.addEventListener(_102,_104,false);return function(){node.removeEventListener(_102,_104,false);};}else{node.attachEvent(_103,_104);return function(){node.detachEvent(_103,_104);};}},_105=_101(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_105();});if(1){var _72=doc.getElementsByTagName("script"),i=0,_73;while(!_56){if(!/^dojo/.test((_73=_72[i++])&&_73.type)){_56=_73;}}req.injectUrl=function(url,_106,_107){var node=_107.node=doc.createElement("script"),_108=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_109();_10a();_106&&_106();}},_109=_101(node,"load","onreadystatechange",_108),_10a=_101(node,"error","onerror",function(e){_109();_10a();_34(_44,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_56.parentNode.insertBefore(node,_56);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(0){var _10b=req.trace=function(_10c,args){if(_10b.on&&_10b.group[_10c]){_34("trace",[_10c,args]);for(var arg,dump=[],text="trace:"+_10c+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10b,{on:1,group:{},set:function(_10d,_10e){if(_7(_10d)){_10b.group[_10d]=_10e;}else{_c(_10b.group,_10d);}}});_10b.set(_c(_c(_c({},_2.trace),_1.trace),_55.trace));on("config",function(_10f){_10f.trace&&_10b.set(_10f.trace);});}else{req.trace=_3;}var def=function(mid,_110,_111){var _112=arguments.length,_113=["require","exports","module"],args=[0,mid,_110];if(_112==1){args=[0,(_6(mid)?_113:[]),mid];}else{if(_112==2&&_7(mid)){args=[mid,(_6(_110)?_113:[]),_110];}else{if(_112==3){args=[mid,_110,_111];}}}if(0&&args[1]===_113){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_114,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _115=args[0]&&_31(args[0]),_116;if(_115&&!_90[_115.mid]){_79(_f7(_115,args[1],args[2]));}else{if(!has("ie-event-behavior")||!1||_ec){_8f.push(args);}else{_115=_115||_7f;if(!_115){for(mid in _90){_116=_2f[mid];if(_116&&_116.node&&_116.node.readyState==="interactive"){_115=_116;break;}}if(0&&!_115){for(var i=0;i<_77.length;i++){_115=_77[i];if(_115.node&&_115.node.readyState==="interactive"){break;}_115=0;}}}if(0&&_8(_115)){_79(_f7(_31(_115.shift()),args[1],args[2]));if(!_115.length){_77.splice(i,1);}}else{if(_115){_57(_115);_79(_f7(_115,args[1],args[2]));}else{_34(_44,_f("ieDefineFailed",args[0]));}}_7e();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_44,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_52,packs:_4f});if(0){_c(req,{paths:_4d,aliases:_4c,modules:_2f,legacyMode:_25,execQ:_30,defQ:_8f,waiting:_90,packs:_4f,mapProgs:_50,pathsMapProg:_4e,listenerQueues:_43,computeMapProg:_5f,computeAliases:_61,runMapProg:_97,compactPath:_99,getModuleInfo:_9f});}if(_17.define){if(1){_34(_44,_f("defineAlreadyDefined",0));}return;}else{_17.define=def;_17.require=req;if(0){require=req;}}if(0&&req.combo&&req.combo.plugins){var _117=req.combo.plugins,_118;for(_118 in _117){_c(_c(_31(_118),_117[_118]),{isCombo:1,executed:"executed",load:1});}}if(1){_9(_68,function(c){_69(c);});var _119=_55.deps||_1.deps||_2.deps,_11a=_55.callback||_1.callback||_2.callback;req.boot=(_119||_11a)?[_119||[],_11a]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../dojox",name:"dojox"},{location:"../ma",name:"ma"},{location:"../dijit",name:"dijit"},{location:"../viewer",name:"viewer"},{location:".",name:"dojo"}]});require({cache:{"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,_11b,lang,_11c,_11d,_11e,has,dom,_11f){var _120=lang.mixin;var _121={};var _122=_121._Line=function(_123,end){this.start=_123;this.end=end;};_122.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};var _124=_121.Animation=function(args){_120(this,args);if(lang.isArray(this.curve)){this.curve=new _122(this.curve[0],this.curve[1]);}};_124.prototype=new _11c();lang.extend(_124,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _125=this._percent,_126=this.easing;return _126?_126(_125):_125;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(_11b.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_127,_128){var _129=this;if(_129._delayTimer){_129._clearTimer();}if(_128){_129._stopTimer();_129._active=_129._paused=false;_129._percent=0;}else{if(_129._active&&!_129._paused){return _129;}}_129._fire("beforeBegin",[_129.node]);var de=_127||_129.delay,_12a=lang.hitch(_129,"_play",_128);if(de>0){_129._delayTimer=setTimeout(_12a,de);return _129;}_12a();return _129;},_play:function(_12b){var _12c=this;if(_12c._delayTimer){_12c._clearTimer();}_12c._startTime=new Date().valueOf();if(_12c._paused){_12c._startTime-=_12c.duration*_12c._percent;}_12c._active=true;_12c._paused=false;var _12d=_12c.curve.getValue(_12c._getStep());if(!_12c._percent){if(!_12c._startRepeatCount){_12c._startRepeatCount=_12c.repeat;}_12c._fire("onBegin",[_12d]);}_12c._fire("onPlay",[_12d]);_12c._cycle();return _12c;},pause:function(){var _12e=this;if(_12e._delayTimer){_12e._clearTimer();}_12e._stopTimer();if(!_12e._active){return _12e;}_12e._paused=true;_12e._fire("onPause",[_12e.curve.getValue(_12e._getStep())]);return _12e;},gotoPercent:function(_12f,_130){var _131=this;_131._stopTimer();_131._active=_131._paused=true;_131._percent=_12f;if(_130){_131.play();}return _131;},stop:function(_132){var _133=this;if(_133._delayTimer){_133._clearTimer();}if(!_133._timer){return _133;}_133._stopTimer();if(_132){_133._percent=1;}_133._fire("onStop",[_133.curve.getValue(_133._getStep())]);_133._active=_133._paused=false;return _133;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _134=this;if(_134._active){var curr=new Date().valueOf();var step=_134.duration===0?1:(curr-_134._startTime)/(_134.duration);if(step>=1){step=1;}_134._percent=step;if(_134.easing){step=_134.easing(step);}_134._fire("onAnimate",[_134.curve.getValue(step)]);if(_134._percent<1){_134._startTimer();}else{_134._active=false;if(_134.repeat>0){_134.repeat--;_134.play(null,true);}else{if(_134.repeat==-1){_134.play(null,true);}else{if(_134._startRepeatCount){_134.repeat=_134._startRepeatCount;_134._startRepeatCount=0;}}}_134._percent=0;_134._fire("onEnd",[_134.node]);!_134.repeat&&_134._stopTimer();}}return _134;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_135=null,_136={run:function(){}};lang.extend(_124,{_startTimer:function(){if(!this._timer){this._timer=_11e.after(_136,"run",lang.hitch(this,"_cycle"),true);ctr++;}if(!_135){_135=setInterval(lang.hitch(_136,"run"),this.rate);}},_stopTimer:function(){if(this._timer){this._timer.remove();this._timer=null;ctr--;}if(ctr<=0){clearInterval(_135);_135=null;ctr=0;}}});var _137=has("ie")?function(node){var ns=node.style;if(!ns.width.length&&_11f.get(node,"width")=="auto"){ns.width="auto";}}:function(){};_121._fade=function(args){args.node=dom.byId(args.node);var _138=_120({properties:{}},args),_139=(_138.properties.opacity={});_139.start=!("start" in _138)?function(){return +_11f.get(_138.node,"opacity")||0;}:_138.start;_139.end=_138.end;var anim=_121.animateProperty(_138);_11e.after(anim,"beforeBegin",lang.partial(_137,_138.node),true);return anim;};_121.fadeIn=function(args){return _121._fade(_120({end:1},args));};_121.fadeOut=function(args){return _121._fade(_120({end:0},args));};_121._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _13a=function(_13b){this._properties=_13b;for(var p in _13b){var prop=_13b[p];if(prop.start instanceof _11d){prop.tempColor=new _11d();}}};_13a.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_13c=prop.start;if(_13c instanceof _11d){ret[p]=_11d.blendColors(_13c,prop.end,r,prop.tempColor).toCss();}else{if(!lang.isArray(_13c)){ret[p]=((prop.end-_13c)*r)+_13c+(p!="opacity"?prop.units||"px":0);}}}return ret;};_121.animateProperty=function(args){var n=args.node=dom.byId(args.node);if(!args.easing){args.easing=dojo._defaultEasing;}var anim=new _124(args);_11e.after(anim,"beforeBegin",lang.hitch(anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(lang.isFunction(prop)){prop=prop(n);}prop=pm[p]=_120({},(lang.isObject(prop)?prop:{end:prop}));if(lang.isFunction(prop.start)){prop.start=prop.start(n);}if(lang.isFunction(prop.end)){prop.end=prop.end(n);}var _13d=(p.toLowerCase().indexOf("color")>=0);function _13e(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=_11f.get(node,p);return (p=="opacity")?+v:(_13d?v:parseFloat(v));};if(!("end" in prop)){prop.end=_13e(n,p);}else{if(!("start" in prop)){prop.start=_13e(n,p);}}if(_13d){prop.start=new _11d(prop.start);prop.end=new _11d(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _13a(pm);}),true);_11e.after(anim,"onAnimate",lang.hitch(_11f,"set",anim.node),true);return anim;};_121.anim=function(node,_13f,_140,_141,_142,_143){return _121.animateProperty({node:node,duration:_140||_124.prototype.duration,properties:_13f,easing:_141,onEnd:_142}).play(_143||0);};if(1){_120(dojo,_121);dojo._Animation=_124;}return _121;});},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(lang,dom,ioq,json){function _144(obj,name,_145){if(_145===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_145];}else{if(lang.isArray(val)){val.push(_145);}else{obj[name]=_145;}}};var _146="file|submit|image|reset|button";var form={fieldToObject:function fieldToObject(_147){var ret=null;_147=dom.byId(_147);if(_147){var _148=_147.name,type=(_147.type||"").toLowerCase();if(_148&&type&&!_147.disabled){if(type=="radio"||type=="checkbox"){if(_147.checked){ret=_147.value;}}else{if(_147.multiple){ret=[];var _149=[_147.firstChild];while(_149.length){for(var node=_149.pop();node;node=node.nextSibling){if(node.nodeType==1&&node.tagName.toLowerCase()=="option"){if(node.selected){ret.push(node.value);}}else{if(node.nextSibling){_149.push(node.nextSibling);}if(node.firstChild){_149.push(node.firstChild);}break;}}}}else{ret=_147.value;}}}}return ret;},toObject:function formToObject(_14a){var ret={},_14b=dom.byId(_14a).elements;for(var i=0,l=_14b.length;i<l;++i){var item=_14b[i],_14c=item.name,type=(item.type||"").toLowerCase();if(_14c&&type&&_146.indexOf(type)<0&&!item.disabled){_144(ret,_14c,form.fieldToObject(item));if(type=="image"){ret[_14c+".x"]=ret[_14c+".y"]=ret[_14c].x=ret[_14c].y=0;}}}return ret;},toQuery:function formToQuery(_14d){return ioq.objectToQuery(form.toObject(_14d));},toJson:function formToJson(_14e,_14f){return json.stringify(form.toObject(_14e),null,_14f?4:0);}};return form;});},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(lang,_150,_151){"use strict";var _152=new _151;var emit=_152.emit;_152.emit=null;function _153(args){setTimeout(function(){emit.apply(_152,args);},0);};_150.prototype.trace=function(){var args=lang._toArray(arguments);this.then(function(_154){_153(["resolved",_154].concat(args));},function(_155){_153(["rejected",_155].concat(args));},function(_156){_153(["progress",_156].concat(args));});return this;};_150.prototype.traceRejected=function(){var args=lang._toArray(arguments);this.otherwise(function(_157){_153(["rejected",_157].concat(args));});return this;};return _152;});},"dojo/errors/RequestError":function(){define(["./create"],function(_158){return _158("RequestError",function(_159,_15a){this.response=_15a;});});},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(dojo,dom,_15b,attr,prop,cls,ctr,geom){dojo.byId=dom.byId;dojo.isDescendant=dom.isDescendant;dojo.setSelectable=dom.setSelectable;dojo.getAttr=attr.get;dojo.setAttr=attr.set;dojo.hasAttr=attr.has;dojo.removeAttr=attr.remove;dojo.getNodeProp=attr.getNodeProp;dojo.attr=function(node,name,_15c){if(arguments.length==2){return attr[typeof name=="string"?"get":"set"](node,name);}return attr.set(node,name,_15c);};dojo.hasClass=cls.contains;dojo.addClass=cls.add;dojo.removeClass=cls.remove;dojo.toggleClass=cls.toggle;dojo.replaceClass=cls.replace;dojo._toDom=dojo.toDom=ctr.toDom;dojo.place=ctr.place;dojo.create=ctr.create;dojo.empty=function(node){ctr.empty(node);};dojo._destroyElement=dojo.destroy=function(node){ctr.destroy(node);};dojo._getPadExtents=dojo.getPadExtents=geom.getPadExtents;dojo._getBorderExtents=dojo.getBorderExtents=geom.getBorderExtents;dojo._getPadBorderExtents=dojo.getPadBorderExtents=geom.getPadBorderExtents;dojo._getMarginExtents=dojo.getMarginExtents=geom.getMarginExtents;dojo._getMarginSize=dojo.getMarginSize=geom.getMarginSize;dojo._getMarginBox=dojo.getMarginBox=geom.getMarginBox;dojo.setMarginBox=geom.setMarginBox;dojo._getContentBox=dojo.getContentBox=geom.getContentBox;dojo.setContentSize=geom.setContentSize;dojo._isBodyLtr=dojo.isBodyLtr=geom.isBodyLtr;dojo._docScroll=dojo.docScroll=geom.docScroll;dojo._getIeDocumentElementOffset=dojo.getIeDocumentElementOffset=geom.getIeDocumentElementOffset;dojo._fixIeBiDiScrollLeft=dojo.fixIeBiDiScrollLeft=geom.fixIeBiDiScrollLeft;dojo.position=geom.position;dojo.marginBox=function marginBox(node,box){return box?geom.setMarginBox(node,box):geom.getMarginBox(node);};dojo.contentBox=function contentBox(node,box){return box?geom.setContentSize(node,box):geom.getContentBox(node);};dojo.coords=function(node,_15d){dojo.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");node=dom.byId(node);var s=_15b.getComputedStyle(node),mb=geom.getMarginBox(node,s);var abs=geom.position(node,_15d);mb.x=abs.x;mb.y=abs.y;return mb;};dojo.getProp=prop.get;dojo.setProp=prop.set;dojo.prop=function(node,name,_15e){if(arguments.length==2){return prop[typeof name=="string"?"get":"set"](node,name);}return prop.set(node,name,_15e);};dojo.getStyle=_15b.get;dojo.setStyle=_15b.set;dojo.getComputedStyle=_15b.getComputedStyle;dojo.__toPixelValue=dojo.toPixelValue=_15b.toPixelValue;dojo.style=function(node,name,_15f){switch(arguments.length){case 1:return _15b.get(node);case 2:return _15b[typeof name=="string"?"get":"set"](node,name);}return _15b.set(node,name,_15f);};return dojo;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_160,_161,_162){var i,p,_163={},_164={},dojo={config:_160,global:this,dijit:_163,dojox:_164};var _165={dojo:["dojo",dojo],dijit:["dijit",_163],dojox:["dojox",_164]},_166=(_161.map&&_161.map[_162.id.match(/[^\/]+/)[0]]),item;for(p in _166){if(_165[p]){_165[p][0]=_166[p];}else{_165[p]=[_166[p],{}];}}for(p in _165){item=_165[p];item[1]._scopeName=item[0];if(!_160.noGlobals){this[item[0]]=item[1];}}dojo.scopeMap=_165;dojo.baseUrl=dojo.config.baseUrl=_161.baseUrl;dojo.isAsync=!1||_161.async;dojo.locale=_160.locale;var rev="$Rev: 43d05c6 $".match(/\d+/);dojo.version={major:1,minor:9,patch:1,flag:"",revision:rev?+rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};1||has.add("extend-dojo",1);(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_167){quit(_167);};}else{dojo.exit=function(){};}1||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_160.isDebug);dojo.deprecated=dojo.experimental=function(){};if(has("dojo-debug-messages")){dojo.deprecated=function(_168,_169,_16a){var _16b="DEPRECATED: "+_168;if(_169){_16b+=" "+_169;}if(_16a){_16b+=" -- will be removed in version: "+_16a;}console.warn(_16b);};dojo.experimental=function(_16c,_16d){var _16e="EXPERIMENTAL: "+_16c+" -- APIs subject to change without notice.";if(_16d){_16e+=" "+_16d;}console.warn(_16e);};}1||has.add("dojo-modulePaths",1);if(1){if(_160.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _16f={};for(p in _160.modulePaths){_16f[p.replace(/\./g,"/")]=_160.modulePaths[p];}_161({paths:_16f});}}1||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_170,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _171=null;if(_170){_171=_161.toUrl(_170.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _171;};}dojo._hasResource={};return dojo;});},"dojo/io-query":function(){define(["./_base/lang"],function(lang){var _172={};return {objectToQuery:function objectToQuery(map){var enc=encodeURIComponent,_173=[];for(var name in map){var _174=map[name];if(_174!=_172[name]){var _175=enc(name)+"=";if(lang.isArray(_174)){for(var i=0,l=_174.length;i<l;++i){_173.push(_175+enc(_174[i]));}}else{_173.push(_175+enc(_174));}}}return _173.join("&");},queryToObject:function queryToObject(str){var dec=decodeURIComponent,qp=str.split("&"),ret={},name,val;for(var i=0,l=qp.length,item;i<l;++i){item=qp[i];if(item.length){var s=item.indexOf("=");if(s<0){name=dec(item);val="";}else{name=dec(item.slice(0,s));val=dec(item.slice(s+1));}if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(lang.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}}return ret;}};});},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(dojo,_176,_177,_178,has,lang,when){var _179=function(){};var _17a=Object.freeze||function(){};var _17b=dojo.Deferred=function(_17c){var _17d,_17e,_17f,_180,_181,head,_182;var _183=(this.promise=new _177());function _184(_185){if(_17e){throw new Error("This deferred has already been resolved");}_17d=_185;_17e=true;_186();};function _186(){var _187;while(!_187&&_182){var _188=_182;_182=_182.next;if((_187=(_188.progress==_179))){_17e=false;}var func=(_181?_188.error:_188.resolved);if(has("config-useDeferredInstrumentation")){if(_181&&_176.instrumentRejected){_176.instrumentRejected(_17d,!!func);}}if(func){try{var _189=func(_17d);if(_189&&typeof _189.then==="function"){_189.then(lang.hitch(_188.deferred,"resolve"),lang.hitch(_188.deferred,"reject"),lang.hitch(_188.deferred,"progress"));continue;}var _18a=_187&&_189===undefined;if(_187&&!_18a){_181=_189 instanceof Error;}_188.deferred[_18a&&_181?"reject":"resolve"](_18a?_17d:_189);}catch(e){_188.deferred.reject(e);}}else{if(_181){_188.deferred.reject(_17d);}else{_188.deferred.resolve(_17d);}}}};this.isResolved=_183.isResolved=function(){return _180==0;};this.isRejected=_183.isRejected=function(){return _180==1;};this.isFulfilled=_183.isFulfilled=function(){return _180>=0;};this.isCanceled=_183.isCanceled=function(){return _17f;};this.resolve=this.callback=function(_18b){this.fired=_180=0;this.results=[_18b,null];_184(_18b);};this.reject=this.errback=function(_18c){_181=true;this.fired=_180=1;if(has("config-useDeferredInstrumentation")){if(_176.instrumentRejected){_176.instrumentRejected(_18c,!!_182);}}_184(_18c);this.results=[null,_18c];};this.progress=function(_18d){var _18e=_182;while(_18e){var _18f=_18e.progress;_18f&&_18f(_18d);_18e=_18e.next;}};this.addCallbacks=function(_190,_191){this.then(_190,_191,_179);return this;};_183.then=this.then=function(_192,_193,_194){var _195=_194==_179?this:new _17b(_183.cancel);var _196={resolved:_192,error:_193,progress:_194,deferred:_195};if(_182){head=head.next=_196;}else{_182=head=_196;}if(_17e){_186();}return _195.promise;};var _197=this;_183.cancel=this.cancel=function(){if(!_17e){var _198=_17c&&_17c(_197);if(!_17e){if(!(_198 instanceof Error)){_198=new _178(_198);}_198.log=false;_197.reject(_198);}}_17f=true;};_17a(_183);};lang.extend(_17b,{addCallback:function(_199){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_19a){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_19b){var _19c=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_19c,_19c);},fired:-1});_17b.when=dojo.when=when;return _17b;});},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(dojo,_19d,_19e,lang,_19f,_1a0,_1a1,_1a2,_1a3){var _1a4=function(a){return a.length==1&&(typeof a[0]=="string");};var _1a5=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};var _1a6=_19d.NodeList,awc=_1a6._adaptWithCondition,aafe=_1a6._adaptAsForEach,aam=_1a6._adaptAsMap;function _1a7(_1a8){return function(node,name,_1a9){if(arguments.length==2){return _1a8[typeof name=="string"?"get":"set"](node,name);}return _1a8.set(node,name,_1a9);};};lang.extend(_1a6,{_normalize:function(_1aa,_1ab){var _1ac=_1aa.parse===true;if(typeof _1aa.template=="string"){var _1ad=_1aa.templateFunc||(dojo.string&&dojo.string.substitute);_1aa=_1ad?_1ad(_1aa.template,_1aa):_1aa;}var type=(typeof _1aa);if(type=="string"||type=="number"){_1aa=_1a0.toDom(_1aa,(_1ab&&_1ab.ownerDocument));if(_1aa.nodeType==11){_1aa=lang._toArray(_1aa.childNodes);}else{_1aa=[_1aa];}}else{if(!lang.isArrayLike(_1aa)){_1aa=[_1aa];}else{if(!lang.isArray(_1aa)){_1aa=lang._toArray(_1aa);}}}if(_1ac){_1aa._runParse=true;}return _1aa;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_1ae,_1af,_1b0){if(_1ae.nodeType!=1&&_1af=="only"){return;}var _1b1=_1ae,_1b2;var _1b3=ary.length;for(var i=_1b3-1;i>=0;i--){var node=(_1b0?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_1b2){_1b2=_1b1.ownerDocument.createElement("div");}_1b2.appendChild(node);dojo.parser.parse(_1b2);node=_1b2.firstChild;while(_1b2.firstChild){_1b2.removeChild(_1b2.firstChild);}}if(i==_1b3-1){_1a0.place(node,_1b1,_1af);}else{_1b1.parentNode.insertBefore(node,_1b1);}_1b1=node;}},position:aam(_1a1.position),attr:awc(_1a7(_1a2),_1a4),style:awc(_1a7(_1a3),_1a4),addClass:aafe(_19f.add),removeClass:aafe(_19f.remove),toggleClass:aafe(_19f.toggle),replaceClass:aafe(_19f.replace),empty:aafe(_1a0.empty),removeAttr:aafe(_1a2.remove),marginBox:aam(_1a1.getMarginBox),place:function(_1b4,_1b5){var item=_19d(_1b4)[0];return this.forEach(function(node){_1a0.place(node,item,_1b5);});},orphan:function(_1b6){return (_1b6?_19d._filterResult(this,_1b6):this).forEach(_1a5);},adopt:function(_1b7,_1b8){return _19d(_1b7).place(this[0],_1b8)._stash(this);},query:function(_1b9){if(!_1b9){return this;}var ret=new _1a6;this.map(function(node){_19d(_1b9,node).forEach(function(_1ba){if(_1ba!==undefined){ret.push(_1ba);}});});return ret._stash(this);},filter:function(_1bb){var a=arguments,_1bc=this,_1bd=0;if(typeof _1bb=="string"){_1bc=_19d._filterResult(this,a[0]);if(a.length==1){return _1bc._stash(this);}_1bd=1;}return this._wrap(_19e.filter(_1bc,a[_1bd],a[_1bd+1]),this);},addContent:function(_1be,_1bf){_1be=this._normalize(_1be,this[0]);for(var i=0,node;(node=this[i]);i++){if(_1be.length){this._place(_1be,node,_1bf,i>0);}else{_1a0.empty(node);}}return this;}});return _1a6;});},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(dojo,has,dom,on,_1c0,lang,_1c1,_1c2){"use strict";has.add("array-extensible",function(){return lang.delegate([],{length:1}).length==1&&!has("bug-for-in-skips-shadowed");});var ap=Array.prototype,aps=ap.slice,apc=ap.concat,_1c3=_1c0.forEach;var tnl=function(a,_1c4,_1c5){var _1c6=new (_1c5||this._NodeListCtor||nl)(a);return _1c4?_1c6._stash(_1c4):_1c6;};var _1c7=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||dojo.global;return function(node){a[0]=node;return f.apply(o,a);};};var _1c8=function(f,o){return function(){this.forEach(_1c7(f,arguments,o));return this;};};var _1c9=function(f,o){return function(){return this.map(_1c7(f,arguments,o));};};var _1ca=function(f,o){return function(){return this.filter(_1c7(f,arguments,o));};};var _1cb=function(f,g,o){return function(){var a=arguments,body=_1c7(f,a,o);if(g.call(o||dojo.global,a)){return this.map(body);}this.forEach(body);return this;};};var _1cc=function(_1cd){var _1ce=this instanceof nl&&has("array-extensible");if(typeof _1cd=="number"){_1cd=Array(_1cd);}var _1cf=(_1cd&&"length" in _1cd)?_1cd:arguments;if(_1ce||!_1cf.sort){var _1d0=_1ce?this:[],l=_1d0.length=_1cf.length;for(var i=0;i<l;i++){_1d0[i]=_1cf[i];}if(_1ce){return _1d0;}_1cf=_1d0;}lang._mixin(_1cf,nlp);_1cf._NodeListCtor=function(_1d1){return nl(_1d1);};return _1cf;};var nl=_1cc,nlp=nl.prototype=has("array-extensible")?[]:{};nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_1c9;nl._adaptAsForEach=_1c8;nl._adaptAsFilter=_1ca;nl._adaptWithCondition=_1cb;_1c3(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});_1c3(["indexOf","lastIndexOf","every","some"],function(name){var f=_1c0[name];nlp[name]=function(){return f.apply(dojo,[this].concat(aps.call(arguments,0)));};});lang.extend(_1cc,{constructor:nl,_NodeListCtor:nl,toString:function(){return this.join(",");},_stash:function(_1d2){this._parent=_1d2;return this;},on:function(_1d3,_1d4){var _1d5=this.map(function(node){return on(node,_1d3,_1d4);});_1d5.remove=function(){for(var i=0;i<_1d5.length;i++){_1d5[i].remove();}};return _1d5;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor(0);}},concat:function(item){var t=aps.call(this,0),m=_1c0.map(arguments,function(a){return aps.call(a,0);});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(_1c0.map(this,func,obj),this);},forEach:function(_1d6,_1d7){_1c3(this,_1d6,_1d7);return this;},filter:function(_1d8){var a=arguments,_1d9=this,_1da=0;if(typeof _1d8=="string"){_1d9=_1db._filterResult(this,a[0]);if(a.length==1){return _1d9._stash(this);}_1da=1;}return this._wrap(_1c0.filter(_1d9,a[_1da],a[_1da+1]),this);},instantiate:function(_1dc,_1dd){var c=lang.isFunction(_1dc)?_1dc:lang.getObject(_1dc);_1dd=_1dd||{};return this.forEach(function(node){new c(_1dd,node);});},at:function(){var t=new this._NodeListCtor(0);_1c3(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});function _1de(_1df,_1e0){var _1e1=function(_1e2,root){if(typeof root=="string"){root=dom.byId(root);if(!root){return new _1e0([]);}}var _1e3=typeof _1e2=="string"?_1df(_1e2,root):_1e2?(_1e2.end&&_1e2.on)?_1e2:[_1e2]:[];if(_1e3.end&&_1e3.on){return _1e3;}return new _1e0(_1e3);};_1e1.matches=_1df.match||function(node,_1e4,root){return _1e1.filter([node],_1e4,root).length>0;};_1e1.filter=_1df.filter||function(_1e5,_1e6,root){return _1e1(_1e6,root).filter(function(node){return _1c0.indexOf(_1e5,node)>-1;});};if(typeof _1df!="function"){var _1e7=_1df.search;_1df=function(_1e8,root){return _1e7(root||document,_1e8);};}return _1e1;};var _1db=_1de(_1c2,_1cc);dojo.query=_1de(_1c2,function(_1e9){return _1cc(_1e9);});_1db.load=function(id,_1ea,_1eb){_1c1.load(id,_1ea,function(_1ec){_1eb(_1de(_1ec,_1cc));});};dojo._filterQueryResult=_1db._filterResult=function(_1ed,_1ee,root){return new _1cc(_1db.filter(_1ed,_1ee,root));};dojo.NodeList=_1db.NodeList=_1cc;return _1db;});},"dojo/has":function(){define(["require","module"],function(_1ef,_1f0){var has=_1ef.has||function(){};if(!1){var _1f1=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_1f2=this,doc=_1f1&&document,_1f3=doc&&doc.createElement("DiV"),_1f4=(_1f0.config&&_1f0.config())||{};has=function(name){return typeof _1f4[name]=="function"?(_1f4[name]=_1f4[name](_1f2,doc,_1f3)):_1f4[name];};has.cache=_1f4;has.add=function(name,test,now,_1f5){(typeof _1f4[name]=="undefined"||_1f5)&&(_1f4[name]=test);return now&&has(name);};1||has.add("host-browser",_1f1);1||has.add("dom",_1f1);1||has.add("dojo-dom-ready-api",1);1||has.add("dojo-sniff",1);}if(1){has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document||navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);has.add("touch-events","ontouchstart" in document);has.add("pointer-events","pointerEnabled" in window.navigator?window.navigator.pointerEnabled:"PointerEvent" in window);has.add("MSPointer",window.navigator.msPointerEnabled);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_1f6){_1f6.innerHTML="";return _1f6;};has.normalize=function(id,_1f7){var _1f8=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_1f8[i++];if(term==":"){return 0;}else{if(_1f8[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_1f7(id);};has.load=function(id,_1f9,_1fa){if(id){_1f9([id],_1fa);}else{_1fa();}};return has;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,_1fb,_1fc,json,lang,_1fd){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}1||has.add("dojo-fast-sync-require",1);var _1fe=function(id){return {src:_1fc.id,id:id};},_1ff=function(name){return name.replace(/\./g,"/");},_200=/\/\/>>built/,_201=[],_202=[],_203=function(mid,_204,_205){_201.push(_205);_1fd.forEach(mid.split(","),function(mid){var _206=_207(mid,_204.module);_202.push(_206);_208(_206);});_209();},_209=(1?function(){var _20a,mid;for(mid in _20b){_20a=_20b[mid];if(_20a.noReqPluginCheck===undefined){_20a.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(!_20a.executed&&!_20a.noReqPluginCheck&&_20a.injected==_20c){return;}}_20d(function(){var _20e=_201;_201=[];_1fd.forEach(_20e,function(cb){cb(1);});});}:(function(){var _20f,_210=function(m){_20f[m.mid]=1;for(var t,_211,deps=m.deps||[],i=0;i<deps.length;i++){_211=deps[i];if(!(t=_20f[_211.mid])){if(t===0||!_210(_211)){_20f[m.mid]=0;return false;}}}return true;};return function(){var _212,mid;_20f={};for(mid in _20b){_212=_20b[mid];if(_212.executed||_212.noReqPluginCheck){_20f[mid]=1;}else{if(_212.noReqPluginCheck!==0){_212.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0;}if(_212.noReqPluginCheck){_20f[mid]=1;}else{if(_212.injected!==_23e){_20f[mid]=0;}}}}for(var t,i=0,end=_202.length;i<end;i++){_212=_202[i];if(!(t=_20f[_212.mid])){if(t===0||!_210(_212)){return;}}}_20d(function(){var _213=_201;_201=[];_1fd.forEach(_213,function(cb){cb(1);});});};})()),_214=function(mid,_215,_216){_215([mid],function(_217){_215(_217.names,function(){for(var _218="",args=[],i=0;i<arguments.length;i++){_218+="var "+_217.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_218);var _219=_215.module,_21a=[],_21b,_21c={provide:function(_21d){_21d=_1ff(_21d);var _21e=_207(_21d,_219);if(_21e!==_219){_244(_21e);}},require:function(_21f,_220){_21f=_1ff(_21f);_220&&(_207(_21f,_219).result=_23f);_21a.push(_21f);},requireLocalization:function(_221,_222,_223){if(!_21b){_21b=["dojo/i18n"];}_223=(_223||dojo.locale).toLowerCase();_221=_1ff(_221)+"/nls/"+(/root/i.test(_223)?"":_223+"/")+_1ff(_222);if(_207(_221,_219).isXd){_21b.push("dojo/i18n!"+_221);}},loadInit:function(f){f();}},hold={},p;try{for(p in _21c){hold[p]=dojo[p];dojo[p]=_21c[p];}_217.def.apply(null,args);}catch(e){_224("error",[_1fe("failedDojoLoadInit"),e]);}finally{for(p in _21c){dojo[p]=hold[p];}}if(_21b){_21a=_21a.concat(_21b);}if(_21a.length){_203(_21a.join(","),_215,_216);}else{_216();}});});},_225=function(text,_226,_227){var _228=/\(|\)/g,_229=1,_22a;_228.lastIndex=_226;while((_22a=_228.exec(text))){if(_22a[0]==")"){_229-=1;}else{_229+=1;}if(_229==0){break;}}if(_229!=0){throw "unmatched paren around character "+_228.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_227,_228.lastIndex))+";\n",_228.lastIndex];},_22b=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_22c=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_22d=/(^|\s)(require|define)\s*\(/m,_22e=function(text,_22f){var _230,_231,_232,_233,_234=[],_235=[],_236=[];_22f=_22f||text.replace(_22b,function(_237){_22c.lastIndex=_22d.lastIndex=0;return (_22c.test(_237)||_22d.test(_237))?"":_237;});while((_230=_22c.exec(_22f))){_231=_22c.lastIndex;_232=_231-_230[0].length;_233=_225(_22f,_231,_232);if(_230[2]=="loadInit"){_234.push(_233[0]);}else{_235.push(_233[0]);}_22c.lastIndex=_233[1];}_236=_234.concat(_235);if(_236.length||!_22d.test(_22f)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_236.join(""),_236];}else{return 0;}},_238=function(_239,text){var _23a,id,_23b=[],_23c=[];if(_200.test(text)||!(_23a=_22e(text))){return 0;}id=_239.mid+"-*loadInit";for(var p in _207("dojo",_239).result.scopeMap){_23b.push(p);_23c.push("\""+p+"\"");}return "// xdomain rewrite of "+_239.mid+"\n"+"define('"+id+"',{\n"+"\tnames:"+json.stringify(_23b)+",\n"+"\tdef:function("+_23b.join(",")+"){"+_23a[1]+"}"+"});\n\n"+"define("+json.stringify(_23b.concat(["dojo/loadInit!"+id]))+", function("+_23b.join(",")+"){\n"+_23a[0]+"});";},_23d=_1fb.initSyncLoader(_203,_209,_238),sync=_23d.sync,_20c=_23d.requested,_23e=_23d.arrived,_23f=_23d.nonmodule,_240=_23d.executing,_241=_23d.executed,_242=_23d.syncExecStack,_20b=_23d.modules,_243=_23d.execQ,_207=_23d.getModule,_208=_23d.injectModule,_244=_23d.setArrived,_224=_23d.signal,_245=_23d.finishExec,_246=_23d.execModule,_247=_23d.getLegacyMode,_20d=_23d.guardCheckComplete;_203=_23d.dojoRequirePlugin;dojo.provide=function(mid){var _248=_242[0],_249=lang.mixin(_207(_1ff(mid),_1fb.module),{executed:_240,result:lang.getObject(mid,true)});_244(_249);if(_248){(_248.provides||(_248.provides=[])).push(function(){_249.result=lang.getObject(mid);delete _249.provides;_249.executed!==_241&&_245(_249);});}return _249.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_24a,_24b){function _24c(mid,_24d){var _24e=_207(_1ff(mid),_1fb.module);if(_242.length&&_242[0].finish){_242[0].finish.push(mid);return undefined;}if(_24e.executed){return _24e.result;}_24d&&(_24e.result=_23f);var _24f=_247();_208(_24e);_24f=_247();if(_24e.executed!==_241&&_24e.injected===_23e){_23d.guardCheckComplete(function(){_246(_24e);});}if(_24e.executed){return _24e.result;}if(_24f==sync){if(_24e.cjs){_243.unshift(_24e);}else{_242.length&&(_242[0].finish=[mid]);}}else{_243.push(_24e);}return undefined;};var _250=_24c(_24a,_24b);if(has("config-publishRequireResult")&&!lang.exists(_24a)&&_250!==undefined){lang.setObject(_24a,_250);}return _250;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_251,_252){var _253={};_253[_251.replace(/\./g,"/")]=_252;_1fb({paths:_253});};dojo.platformRequire=function(_254){var _255=(_254.common||[]).concat(_254[dojo._name]||_254["default"]||[]),temp;while(_255.length){if(lang.isArray(temp=_255.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_256,_257,_258){if(_256){dojo.require(_257,_258);}};dojo.requireLocalization=function(_259,_25a,_25b){_1fb(["../i18n"],function(i18n){i18n.getLocalization(_259,_25a,_25b);});};return {extractLegacyApiApplications:_22e,require:_203,loadInit:_214};});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _25c=typeof JSON!="undefined";has.add("json-parse",_25c);has.add("json-stringify",_25c&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _25d=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_25e){if(_25e&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_25f,_260,_261){var _262;if(typeof _260=="string"){_261=_260;_260=null;}function _263(it,_264,key){if(_260){it=_260(key,it);}var val,_265=typeof it;if(_265=="number"){return isFinite(it)?it+"":"null";}if(_265=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _25d(it);}if(_265=="function"||_265=="undefined"){return _262;}if(typeof it.toJSON=="function"){return _263(it.toJSON(key),_264,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _263(it.valueOf(),_264,key);}var _266=_261?(_264+_261):"";var sep=_261?" ":"";var _267=_261?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_263(obj,_266,key);if(typeof val!="string"){val="null";}res.push(_267+_266+val);}return "["+res.join(",")+_267+_264+"]";}var _268=[];for(key in it){var _269;if(it.hasOwnProperty(key)){if(typeof key=="number"){_269="\""+key+"\"";}else{if(typeof key=="string"){_269=_25d(key);}else{continue;}}val=_263(it[key],_266,key);if(typeof val!="string"){continue;}_268.push(_267+_266+_269+":"+sep+val);}}return "{"+_268.join(",")+_267+_264+"}";};return _263(_25f,"","");}};}});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_26a=0,_26b="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _26c(_26d,_26e){var _26f=[],_270=[{cls:0,refs:[]}],_271={},_272=1,l=_26d.length,i=0,j,lin,base,top,_273,rec,name,refs;for(;i<l;++i){base=_26d[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_26e);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_26e);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_273=lin[j].prototype;if(!_273.hasOwnProperty("declaredClass")){_273.declaredClass="uniqName_"+(_26a++);}name=_273.declaredClass;if(!_271.hasOwnProperty(name)){_271[name]={count:0,refs:[],cls:lin[j]};++_272;}rec=_271[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_270[0].refs.push(top);}while(_270.length){top=_270.pop();_26f.push(top.cls);--_272;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_26f.push(top.cls);--_272;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_270.push(top);}}}}if(_272){err("can't build consistent linearization",_26e);}base=_26d[0];_26f[0]=base?base._meta&&base===_26f[_26f.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _26f;};function _274(args,a,f){var name,_275,_276,_277,meta,base,_278,opf,pos,_279=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_277=args.callee;name=name||_277.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_276=meta.bases;pos=_279.p;if(name!=_26b){if(_279.c!==_277){pos=0;base=_276[0];meta=base._meta;if(meta.hidden[name]!==_277){_275=meta.chains;if(_275&&typeof _275[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_278=base.prototype;if(meta&&(_278[name]===_277&&_278.hasOwnProperty(name)||meta.hidden[name]===_277)){break;}}while(base=_276[++pos]);pos=base?pos:-1;}}base=_276[++pos];if(base){_278=base.prototype;if(base._meta&&_278.hasOwnProperty(name)){f=_278[name];}else{opf=op[name];do{_278=base.prototype;f=_278[name];if(f&&(base._meta?_278.hasOwnProperty(name):f!==opf)){break;}}while(base=_276[++pos]);}}f=base&&f||op[name];}else{if(_279.c!==_277){pos=0;meta=_276[0]._meta;if(meta&&meta.ctor!==_277){_275=meta.chains;if(!_275||_275.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_276[++pos]){meta=base._meta;if(meta&&meta.ctor===_277){break;}}pos=base?pos:-1;}}while(base=_276[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_279.c=f;_279.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _27a(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _27b(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _27c=dojo.config.isDebug?_27b:_274;function _27d(cls){var _27e=this.constructor._meta.bases;for(var i=0,l=_27e.length;i<l;++i){if(_27e[i]===cls){return true;}}return this instanceof cls;};function _27f(_280,_281){for(var name in _281){if(name!=_26b&&_281.hasOwnProperty(name)){_280[name]=_281[name];}}if(has("bug-for-in-skips-shadowed")){for(var _282=lang._extraNames,i=_282.length;i;){name=_282[--i];if(name!=_26b&&_281.hasOwnProperty(name)){_280[name]=_281[name];}}}};function _283(_284,_285){var name,t;for(name in _285){t=_285[name];if((t!==op[name]||!(name in op))&&name!=_26b){if(opts.call(t)=="[object Function]"){t.nom=name;}_284[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _286=lang._extraNames,i=_286.length;i;){name=_286[--i];t=_285[name];if((t!==op[name]||!(name in op))&&name!=_26b){if(opts.call(t)=="[object Function]"){t.nom=name;}_284[name]=t;}}}return _284;};function _287(_288){_289.safeMixin(this.prototype,_288);return this;};function _28a(_28b,_28c){return _289([this].concat(_28b),_28c||{});};function _28d(_28e,_28f){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_28e.length,_290;if(!(this instanceof a.callee)){return _291(a);}if(_28f&&(a0&&a0.preamble||this.preamble)){_290=new Array(_28e.length);_290[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_28e[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_290[i]=a;}}for(i=l-1;i>=0;--i){f=_28e[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_290?_290[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _292(ctor,_293){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _291(a);}if(_293){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _294(_295){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _291(a);}for(;f=_295[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _296(name,_297,_298){return function(){var b,m,f,i=0,step=1;if(_298){i=_297.length-1;step=-1;}for(;b=_297[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _299(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _291(args){var ctor=args.callee,t=_299(ctor);ctor.apply(t,args);return t;};function _289(_29a,_29b,_29c){if(typeof _29a!="string"){_29c=_29b;_29b=_29a;_29a="";}_29c=_29c||{};var _29d,i,t,ctor,name,_29e,_29f,_2a0=1,_2a1=_29b;if(opts.call(_29b)=="[object Array]"){_29e=_26c(_29b,_29a);t=_29e[0];_2a0=_29e.length-t;_29b=_29e[_2a0];}else{_29e=[0];if(_29b){if(opts.call(_29b)=="[object Function]"){t=_29b._meta;_29e=_29e.concat(t?t.bases:_29b);}else{err("base class is not a callable constructor.",_29a);}}else{if(_29b!==null){err("unknown base class. Did you use dojo.require to pull it in?",_29a);}}}if(_29b){for(i=_2a0-1;;--i){_29d=_299(_29b);if(!i){break;}t=_29e[i];(t._meta?_27f:mix)(_29d,t.prototype);ctor=new Function;ctor.superclass=_29b;ctor.prototype=_29d;_29b=_29d.constructor=ctor;}}else{_29d={};}_289.safeMixin(_29d,_29c);t=_29c.constructor;if(t!==op.constructor){t.nom=_26b;_29d.constructor=t;}for(i=_2a0-1;i;--i){t=_29e[i]._meta;if(t&&t.chains){_29f=mix(_29f||{},t.chains);}}if(_29d["-chains-"]){_29f=mix(_29f||{},_29d["-chains-"]);}t=!_29f||!_29f.hasOwnProperty(_26b);_29e[0]=ctor=(_29f&&_29f.constructor==="manual")?_294(_29e):(_29e.length==1?_292(_29c.constructor,t):_28d(_29e,t));ctor._meta={bases:_29e,hidden:_29c,chains:_29f,parents:_2a1,ctor:_29c.constructor};ctor.superclass=_29b&&_29b.prototype;ctor.extend=_287;ctor.createSubclass=_28a;ctor.prototype=_29d;_29d.constructor=ctor;_29d.getInherited=_27a;_29d.isInstanceOf=_27d;_29d.inherited=_27c;_29d.__inherited=_274;if(_29a){_29d.declaredClass=_29a;lang.setObject(_29a,ctor);}if(_29f){for(name in _29f){if(_29d[name]&&typeof _29f[name]=="string"&&name!=_26b){t=_29d[name]=_296(name,_29e,_29f[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_289.safeMixin=_283;dojo.declare=_289;return _289;});},"dojo/dom":function(){define(["./sniff","./_base/window"],function(has,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _2a2=doc||win.doc,te=id&&_2a2.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_2a2.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_2a3){try{node=dom.byId(node);_2a3=dom.byId(_2a3);while(node){if(node==_2a3){return true;}node=node.parentNode;}}catch(e){}return false;};has.add("css-user-select",function(_2a4,doc,_2a5){if(!_2a5){return false;}var _2a6=_2a5.style;var _2a7=["Khtml","O","ms","Moz","Webkit"],i=_2a7.length,name="userSelect",_2a8;do{if(typeof _2a6[name]!=="undefined"){return name;}}while(i--&&(name=_2a7[i]+"UserSelect"));return false;});var _2a9=has("css-user-select");dom.setSelectable=_2a9?function(node,_2aa){dom.byId(node).style[_2a9]=_2aa?"":"none";}:function(node,_2ab){node=dom.byId(node);var _2ac=node.getElementsByTagName("*"),i=_2ac.length;if(_2ab){node.removeAttribute("unselectable");while(i--){_2ac[i].removeAttribute("unselectable");}}else{node.setAttribute("unselectable","on");while(i--){_2ac[i].setAttribute("unselectable","on");}}};return dom;});},"dojo/_base/browser":function(){if(require.has){require.has.add("config-selectorEngine","acme");}define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(dojo){return dojo;});},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(_2ad,_2ae){return _2ad("RequestTimeoutError",null,_2ae,{dojoType:"timeout"});});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _2af,_2b0={};if(has("webkit")){_2af=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_2af=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_2af=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_2b0.getComputedStyle=_2af;var _2b1;if(!has("ie")){_2b1=function(_2b2,_2b3){return parseFloat(_2b3)||0;};}else{_2b1=function(_2b4,_2b5){if(!_2b5){return 0;}if(_2b5=="medium"){return 4;}if(_2b5.slice&&_2b5.slice(-2)=="px"){return parseFloat(_2b5);}var s=_2b4.style,rs=_2b4.runtimeStyle,cs=_2b4.currentStyle,_2b6=s.left,_2b7=rs.left;rs.left=cs.left;try{s.left=_2b5;_2b5=s.pixelLeft;}catch(e){_2b5=0;}s.left=_2b6;rs.left=_2b7;return _2b5;};}_2b0.toPixelValue=_2b1;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _2b8=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _2af(node).opacity;};var _2b9=has("ie")<9||(has("ie")<10&&has("quirks"))?function(node,_2ba){if(_2ba===""){_2ba=1;}var ov=_2ba*100,_2bb=_2ba===1;if(_2bb){node.style.zoom="";if(af(node)){node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),"");}}else{node.style.zoom=1;if(af(node)){af(node,1).Opacity=ov;}else{node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}af(node,1).Enabled=true;}if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_2b9(td,_2ba);}}}return _2ba;}:function(node,_2bc){return node.style.opacity=_2bc;};var _2bd={left:true,top:true};var _2be=/margin|padding|width|height|max|min|offset/;function _2bf(node,type,_2c0){type=type.toLowerCase();if(has("ie")){if(_2c0=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2c0){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2bd)){_2bd[type]=_2be.test(type);}return _2bd[type]?_2b1(node,_2c0):_2c0;};var _2c1={cssFloat:1,styleFloat:1,"float":1};_2b0.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _2b8(n);}name=_2c1[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;var s=_2b0.getComputedStyle(n);return (l==1)?s:_2bf(n,name,s[name]||n.style[name]);};_2b0.set=function setStyle(node,name,_2c2){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2c1[name]?"cssFloat" in n.style?"cssFloat":"styleFloat":name;if(l==3){return op?_2b9(n,_2c2):n.style[name]=_2c2;}for(var x in name){_2b0.set(node,x,name[x]);}return _2b0.getComputedStyle(n);};return _2b0;});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_2c3){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_2c4){node=dom.byId(node);var s=_2c4||_2c3.getComputedStyle(node),px=_2c3.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_2c5){node=dom.byId(node);var px=_2c3.toPixelValue,s=_2c5||_2c3.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_2c6){node=dom.byId(node);var s=_2c6||_2c3.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_2c7){node=dom.byId(node);var s=_2c7||_2c3.getComputedStyle(node),px=_2c3.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_2c8){node=dom.byId(node);var s=_2c8||_2c3.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_2c3.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_2c3.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_2c3.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_2c9){node=dom.byId(node);var s=_2c9||_2c3.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _2ca(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _2cb(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _2cc(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_2cb(node);};geom.setContentSize=function setContentSize(node,box,_2cd){node=dom.byId(node);var w=box.w,h=box.h;if(_2cc(node)){var pb=geom.getPadBorderExtents(node,_2cd);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_2ca(node,NaN,NaN,w,h);};var _2ce={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_2cf){node=dom.byId(node);var s=_2cf||_2c3.getComputedStyle(node),w=box.w,h=box.h,pb=_2cc(node)?_2ce:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_2cb(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_2ca(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_2d0,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_2d0+=de.clientLeft;}return (ie<8||qk)?(_2d0+de.clientWidth-de.scrollWidth):-_2d0;}return _2d0;};geom.position=function(node,_2d1){node=dom.byId(node);var db=win.body(node.ownerDocument),ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")<9){var _2d2=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_2d2.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_2d2.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_2d1){var _2d3=geom.docScroll(node.ownerDocument);ret.x+=_2d3.x;ret.y+=_2d3.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_2d4){node=dom.byId(node);var me=geom.getMarginExtents(node,_2d4||_2c3.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_2d5){if(!("layerX" in _2d5)){_2d5.layerX=_2d5.offsetX;_2d5.layerY=_2d5.offsetY;}if(!has("dom-addeventlistener")){var se=_2d5.target;var doc=(se&&se.ownerDocument)||document;var _2d6=has("quirks")?doc.body:doc.documentElement;var _2d7=geom.getIeDocumentElementOffset(doc);_2d5.pageX=_2d5.clientX+geom.fixIeBiDiScrollLeft(_2d6.scrollLeft||0,doc)-_2d7.x;_2d5.pageY=_2d5.clientY+(_2d6.scrollTop||0)-_2d7.y;}};return geom;});},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(_2d8,dojo,has,lang,dom,_2d9,ctr,conn){var _2da={},_2db=0,_2dc=dojo._scopeName+"attrid";_2d8.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};_2d8.get=function getProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_2dd=_2d8.names[lc]||name;return node[_2dd];};_2d8.set=function setProp(node,name,_2de){node=dom.byId(node);var l=arguments.length;if(l==2&&typeof name!="string"){for(var x in name){_2d8.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_2df=_2d8.names[lc]||name;if(_2df=="style"&&typeof _2de!="string"){_2d9.set(node,_2de);return node;}if(_2df=="innerHTML"){if(has("ie")&&node.tagName.toLowerCase() in {col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}){ctr.empty(node);node.appendChild(ctr.toDom(_2de,node.ownerDocument));}else{node[_2df]=_2de;}return node;}if(lang.isFunction(_2de)){var _2e0=node[_2dc];if(!_2e0){_2e0=_2db++;node[_2dc]=_2e0;}if(!_2da[_2e0]){_2da[_2e0]={};}var h=_2da[_2e0][_2df];if(h){conn.disconnect(h);}else{try{delete node[_2df];}catch(e){}}if(_2de){_2da[_2e0][_2df]=conn.connect(node,_2df,_2de);}else{node[_2df]=null;}return node;}node[_2df]=_2de;return node;};});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_2e1,_2e2){"use strict";return function when(_2e3,_2e4,_2e5,_2e6){var _2e7=_2e3&&typeof _2e3.then==="function";var _2e8=_2e7&&_2e3 instanceof _2e2;if(!_2e7){if(arguments.length>1){return _2e4?_2e4(_2e3):_2e3;}else{return new _2e1().resolve(_2e3);}}else{if(!_2e8){var _2e9=new _2e1(_2e3.cancel);_2e3.then(_2e9.resolve,_2e9.reject,_2e9.progress);_2e3=_2e9.promise;}}if(_2e4||_2e5||_2e6){return _2e3.then(_2e4,_2e5,_2e6);}return _2e3;};});},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(_2ea,has,lang,dom,_2eb,prop){var _2ec={innerHTML:1,className:1,htmlFor:has("ie"),value:1},_2ed={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function _2ee(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};_2ea.has=function hasAttr(node,name){var lc=name.toLowerCase();return _2ec[prop.names[lc]||name]||_2ee(dom.byId(node),_2ed[lc]||name);};_2ea.get=function getAttr(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_2ef=prop.names[lc]||name,_2f0=_2ec[_2ef],_2f1=node[_2ef];if(_2f0&&typeof _2f1!="undefined"){return _2f1;}if(_2ef!="href"&&(typeof _2f1=="boolean"||lang.isFunction(_2f1))){return _2f1;}var _2f2=_2ed[lc]||name;return _2ee(node,_2f2)?node.getAttribute(_2f2):null;};_2ea.set=function setAttr(node,name,_2f3){node=dom.byId(node);if(arguments.length==2){for(var x in name){_2ea.set(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_2f4=prop.names[lc]||name,_2f5=_2ec[_2f4];if(_2f4=="style"&&typeof _2f3!="string"){_2eb.set(node,_2f3);return node;}if(_2f5||typeof _2f3=="boolean"||lang.isFunction(_2f3)){return prop.set(node,name,_2f3);}node.setAttribute(_2ed[lc]||name,_2f3);return node;};_2ea.remove=function removeAttr(node,name){dom.byId(node).removeAttribute(_2ed[name.toLowerCase()]||name);};_2ea.getNodeProp=function getNodeProp(node,name){node=dom.byId(node);var lc=name.toLowerCase(),_2f6=prop.names[lc]||name;if((_2f6 in node)&&_2f6!="href"){return node[_2f6];}var _2f7=_2ed[lc]||name;return _2ee(node,_2f7)?node.getAttribute(_2f7):null;};});},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(_2f8,dojo,has,win,dom,attr){var _2f9={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_2fa=/<\s*([\w\:]+)/,_2fb={},_2fc=0,_2fd="__"+dojo._scopeName+"ToDomId";for(var _2fe in _2f9){if(_2f9.hasOwnProperty(_2fe)){var tw=_2f9[_2fe];tw.pre=_2fe=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}var _2ff;if(has("ie")<=8){_2ff=function(doc){doc.__dojo_html5_tested="yes";var div=_300("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},doc.body);if(div.childNodes.length!==1){("abbr article aside audio canvas details figcaption figure footer header "+"hgroup mark meter nav output progress section summary time video").replace(/\b\w+\b/g,function(n){doc.createElement(n);});}_301(div);};}function _302(node,ref){var _303=ref.parentNode;if(_303){_303.insertBefore(node,ref);}};function _304(node,ref){var _305=ref.parentNode;if(_305){if(_305.lastChild==ref){_305.appendChild(node);}else{_305.insertBefore(node,ref.nextSibling);}}};_2f8.toDom=function toDom(frag,doc){doc=doc||win.doc;var _306=doc[_2fd];if(!_306){doc[_2fd]=_306=++_2fc+"";_2fb[_306]=doc.createElement("div");}if(has("ie")<=8){if(!doc.__dojo_html5_tested&&doc.body){_2ff(doc);}}frag+="";var _307=frag.match(_2fa),tag=_307?_307[1].toLowerCase():"",_308=_2fb[_306],wrap,i,fc,df;if(_307&&_2f9[tag]){wrap=_2f9[tag];_308.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_308=_308.firstChild;}}else{_308.innerHTML=frag;}if(_308.childNodes.length==1){return _308.removeChild(_308.firstChild);}df=doc.createDocumentFragment();while((fc=_308.firstChild)){df.appendChild(fc);}return df;};_2f8.place=function place(node,_309,_30a){_309=dom.byId(_309);if(typeof node=="string"){node=/^\s*</.test(node)?_2f8.toDom(node,_309.ownerDocument):dom.byId(node);}if(typeof _30a=="number"){var cn=_309.childNodes;if(!cn.length||cn.length<=_30a){_309.appendChild(node);}else{_302(node,cn[_30a<0?0:_30a]);}}else{switch(_30a){case "before":_302(node,_309);break;case "after":_304(node,_309);break;case "replace":_309.parentNode.replaceChild(node,_309);break;case "only":_2f8.empty(_309);_309.appendChild(node);break;case "first":if(_309.firstChild){_302(node,_309.firstChild);break;}default:_309.appendChild(node);}}return node;};var _300=_2f8.create=function _300(tag,_30b,_30c,pos){var doc=win.doc;if(_30c){_30c=dom.byId(_30c);doc=_30c.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_30b){attr.set(tag,_30b);}if(_30c){_2f8.place(tag,_30c,pos);}return tag;};function _30d(node){if(node.canHaveChildren){try{node.innerHTML="";return;}catch(e){}}for(var c;c=node.lastChild;){_30e(c,node);}};_2f8.empty=function empty(node){_30d(dom.byId(node));};function _30e(node,_30f){if(node.firstChild){_30d(node);}if(_30f){has("ie")&&_30f.canHaveChildren&&"removeNode" in node?node.removeNode(false):_30f.removeChild(node);}};var _301=_2f8.destroy=function _301(node){node=dom.byId(node);if(!node){return;}_30e(node,node.parentNode);};});},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(_310,_311,_312,util,has){has.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined";});has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&window.location.protocol==="file:";});has.add("native-xhr2",function(){if(!has("native-xhr")){return;}var x=new XMLHttpRequest();return typeof x["addEventListener"]!=="undefined"&&(typeof opera==="undefined"||typeof x["upload"]!=="undefined");});has.add("native-formdata",function(){return typeof FormData==="function";});function _313(_314,_315){var _316=_314.xhr;_314.status=_314.xhr.status;_314.text=_316.responseText;if(_314.options.handleAs==="xml"){_314.data=_316.responseXML;}if(!_315){try{_312(_314);}catch(e){_315=e;}}if(_315){this.reject(_315);}else{if(util.checkStatus(_316.status)){this.resolve(_314);}else{_315=new _310("Unable to load "+_314.url+" status: "+_316.status,_314);this.reject(_315);}}};var _317,_318,_319,_31a;if(has("native-xhr2")){_317=function(_31b){return !this.isFulfilled();};_31a=function(dfd,_31c){_31c.xhr.abort();};_319=function(_31d,dfd,_31e){function _31f(evt){dfd.handleResponse(_31e);};function _320(evt){var _321=evt.target;var _322=new _310("Unable to load "+_31e.url+" status: "+_321.status,_31e);dfd.handleResponse(_31e,_322);};function _323(evt){if(evt.lengthComputable){_31e.loaded=evt.loaded;_31e.total=evt.total;dfd.progress(_31e);}};_31d.addEventListener("load",_31f,false);_31d.addEventListener("error",_320,false);_31d.addEventListener("progress",_323,false);return function(){_31d.removeEventListener("load",_31f,false);_31d.removeEventListener("error",_320,false);_31d.removeEventListener("progress",_323,false);_31d=null;};};}else{_317=function(_324){return _324.xhr.readyState;};_318=function(_325){return 4===_325.xhr.readyState;};_31a=function(dfd,_326){var xhr=_326.xhr;var _327=typeof xhr.abort;if(_327==="function"||_327==="object"||_327==="unknown"){xhr.abort();}};}function _328(_329){return this.xhr.getResponseHeader(_329);};var _32a,_32b={data:null,query:null,sync:false,method:"GET"};function xhr(url,_32c,_32d){var _32e=util.parseArgs(url,util.deepCreate(_32b,_32c),has("native-formdata")&&_32c&&_32c.data&&_32c.data instanceof FormData);url=_32e.url;_32c=_32e.options;var _32f,last=function(){_32f&&_32f();};var dfd=util.deferred(_32e,_31a,_317,_318,_313,last);var _330=_32e.xhr=xhr._create();if(!_330){dfd.cancel(new _310("XHR was not created"));return _32d?dfd:dfd.promise;}_32e.getHeader=_328;if(_319){_32f=_319(_330,dfd,_32e);}var data=_32c.data,_331=!_32c.sync,_332=_32c.method;try{_330.open(_332,url,_331,_32c.user||_32a,_32c.password||_32a);if(_32c.withCredentials){_330.withCredentials=_32c.withCredentials;}var _333=_32c.headers,_334="application/x-www-form-urlencoded";if(_333){for(var hdr in _333){if(hdr.toLowerCase()==="content-type"){_334=_333[hdr];}else{if(_333[hdr]){_330.setRequestHeader(hdr,_333[hdr]);}}}}if(_334&&_334!==false){_330.setRequestHeader("Content-Type",_334);}if(!_333||!("X-Requested-With" in _333)){_330.setRequestHeader("X-Requested-With","XMLHttpRequest");}if(util.notify){util.notify.emit("send",_32e,dfd.promise.cancel);}_330.send(data);}catch(e){dfd.reject(e);}_311(dfd);_330=null;return _32d?dfd:dfd.promise;};xhr._create=function(){throw new Error("XMLHTTP not available");};if(has("native-xhr")&&!has("dojo-force-activex-xhr")){xhr._create=function(){return new XMLHttpRequest();};}else{if(has("activex")){try{new ActiveXObject("Msxml2.XMLHTTP");xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP");};}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP");xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}catch(e){}}}}util.addCommonMethods(xhr);return xhr;});},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/domReady":function(){define(["./has"],function(has){var _335=this,doc=document,_336={"loaded":1,"complete":1},_337=typeof doc.readyState!="string",_338=!!_336[doc.readyState],_339=[],_33a;function _33b(_33c){_339.push(_33c);if(_338){_33d();}};_33b.load=function(id,req,load){_33b(load);};_33b._Q=_339;_33b._onQEmpty=function(){};if(_337){doc.readyState="loading";}function _33d(){if(_33a){return;}_33a=true;while(_339.length){try{(_339.shift())(doc);}catch(err){}}_33a=false;_33b._onQEmpty();};if(!_338){var _33e=[],_33f=function(evt){evt=evt||_335.event;if(_338||(evt.type=="readystatechange"&&!_336[doc.readyState])){return;}if(_337){doc.readyState="complete";}_338=1;_33d();},on=function(node,_340){node.addEventListener(_340,_33f,false);_339.push(function(){node.removeEventListener(_340,_33f,false);});};if(!has("dom-addeventlistener")){on=function(node,_341){_341="on"+_341;node.attachEvent(_341,_33f);_339.push(function(){node.detachEvent(_341,_33f);});};var div=doc.createElement("div");try{if(div.doScroll&&_335.frameElement===null){_33e.push(function(){try{div.doScroll("left");return 1;}catch(e){}});}}catch(e){}}on(doc,"DOMContentLoaded");on(_335,"load");if("onreadystatechange" in doc){on(doc,"readystatechange");}else{if(!_337){_33e.push(function(){return _336[doc.readyState];});}}if(_33e.length){var _342=function(){if(_338){return;}var i=_33e.length;while(i--){if(_33e[i]()){_33f("poller");return;}}setTimeout(_342,30);};_342();}}return _33b;});},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _343=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_344=_343.length,_345=function(_346,_347,_348){var p,i=0,_349=dojo.global;if(!_348){if(!_346.length){return _349;}else{p=_346[i++];try{_348=dojo.scopeMap[p]&&dojo.scopeMap[p][1];}catch(e){}_348=_348||(p in _349?_349[p]:(_347?_349[p]={}:undefined));}}while(_348&&(p=_346[i++])){_348=(p in _348?_348[p]:(_347?_348[p]={}:undefined));}return _348;},opts=Object.prototype.toString,_34a=function(obj,_34b,_34c){return (_34c||[]).concat(Array.prototype.slice.call(obj,_34b||0));},_34d=/\{([^\}]+)\}/g;var lang={_extraNames:_343,_mixin:function(dest,_34e,_34f){var name,s,i,_350={};for(name in _34e){s=_34e[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _350)||_350[name]!==s))){dest[name]=_34f?_34f(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_34e){for(i=0;i<_344;++i){name=_343[i];s=_34e[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _350)||_350[name]!==s))){dest[name]=_34f?_34f(s):s;}}}}return dest;},mixin:function(dest,_351){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},setObject:function(name,_352,_353){var _354=name.split("."),p=_354.pop(),obj=_345(_354,true,_353);return obj&&p?(obj[p]=_352):undefined;},getObject:function(name,_355,_356){return _345(name.split("."),_355,_356);},exists:function(name,obj){return lang.getObject(name,false,obj)!==undefined;},isString:function(it){return (typeof it=="string"||it instanceof String);},isArray:function(it){return it&&(it instanceof Array||typeof it=="array");},isFunction:function(it){return opts.call(it)==="[object Function]";},isObject:function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},isArrayLike:function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},extend:function(ctor,_357){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(ctor.prototype,arguments[i]);}return ctor;},_hitchArgs:function(_358,_359){var pre=lang._toArray(arguments,2);var _35a=lang.isString(_359);return function(){var args=lang._toArray(arguments);var f=_35a?(_358||dojo.global)[_359]:_359;return f&&f.apply(_358||this,pre.concat(args));};},hitch:function(_35b,_35c){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_35c){_35c=_35b;_35b=null;}if(lang.isString(_35c)){_35b=_35b||dojo.global;if(!_35b[_35c]){throw (["lang.hitch: scope[\"",_35c,"\"] is null (scope=\"",_35b,"\")"].join(""));}return function(){return _35b[_35c].apply(_35b,arguments||[]);};}return !_35b?_35c:function(){return _35c.apply(_35b,arguments||[]);};},delegate:(function(){function TMP(){};return function(obj,_35d){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_35d){lang._mixin(tmp,_35d);}return tmp;};})(),_toArray:has("ie")?(function(){function slow(obj,_35e,_35f){var arr=_35f||[];for(var x=_35e||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_34a).apply(this,arguments);};})():_34a,partial:function(_360){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},clone:function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(lang.clone(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,lang.clone);},trim:String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},replace:function(tmpl,map,_361){return tmpl.replace(_361||_34d,lang.isFunction(map)?map:function(_362,k){return lang.getObject(k,false,map);});}};1&&lang.mixin(dojo,lang);return lang;});},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(_363,_364,_365,_366,_367,_368,lang,_369){_363.deepCopy=function deepCopy(_36a,_36b){for(var name in _36b){var tval=_36a[name],sval=_36b[name];if(tval!==sval){if(tval&&typeof tval==="object"&&sval&&typeof sval==="object"){_363.deepCopy(tval,sval);}else{_36a[name]=sval;}}}return _36a;};_363.deepCreate=function deepCreate(_36c,_36d){_36d=_36d||{};var _36e=lang.delegate(_36c),name,_36f;for(name in _36c){_36f=_36c[name];if(_36f&&typeof _36f==="object"){_36e[name]=_363.deepCreate(_36f,_36d[name]);}}return _363.deepCopy(_36e,_36d);};var _370=Object.freeze||function(obj){return obj;};function _371(_372){return _370(_372);};function _373(_374){return _374.data||_374.text;};_363.deferred=function deferred(_375,_376,_377,_378,_379,last){var def=new _366(function(_37a){_376&&_376(def,_375);if(!_37a||!(_37a instanceof _364)&&!(_37a instanceof _365)){return new _365("Request canceled",_375);}return _37a;});def.response=_375;def.isValid=_377;def.isReady=_378;def.handleResponse=_379;function _37b(_37c){_37c.response=_375;throw _37c;};var _37d=def.then(_371).otherwise(_37b);if(_363.notify){_37d.then(lang.hitch(_363.notify,"emit","load"),lang.hitch(_363.notify,"emit","error"));}var _37e=_37d.then(_373);var _37f=new _369();for(var prop in _37e){if(_37e.hasOwnProperty(prop)){_37f[prop]=_37e[prop];}}_37f.response=_37d;_370(_37f);if(last){def.then(function(_380){last.call(def,_380);},function(_381){last.call(def,_375,_381);});}def.promise=_37f;def.then=_37f.then;return def;};_363.addCommonMethods=function addCommonMethods(_382,_383){_368.forEach(_383||["GET","POST","PUT","DELETE"],function(_384){_382[(_384==="DELETE"?"DEL":_384).toLowerCase()]=function(url,_385){_385=lang.delegate(_385||{});_385.method=_384;return _382(url,_385);};});};_363.parseArgs=function parseArgs(url,_386,_387){var data=_386.data,_388=_386.query;if(data&&!_387){if(typeof data==="object"){_386.data=_367.objectToQuery(data);}}if(_388){if(typeof _388==="object"){_388=_367.objectToQuery(_388);}if(_386.preventCache){_388+=(_388?"&":"")+"request.preventCache="+(+(new Date));}}else{if(_386.preventCache){_388="request.preventCache="+(+(new Date));}}if(url&&_388){url+=(~url.indexOf("?")?"&":"?")+_388;}return {url:url,options:_386,getHeader:function(_389){return null;}};};_363.checkStatus=function(stat){stat=stat||0;return (stat>=200&&stat<300)||stat===304||stat===1223||!stat;};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_38a,on){"use strict";var _38b=_38a.after;function _38c(){};_38c.prototype={on:function(type,_38d){return on.parse(this,type,_38d,function(_38e,type){return _38b(_38e,"on"+type,_38d,true);});},emit:function(type,_38f){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _38c;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));has.add("events-mousewheel",win.doc&&"onmousewheel" in win.doc);var _390;if((has("dom-quirks")&&has("ie"))||!has("dom-addeventlistener")){_390={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_391){return e.button&_391;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_390={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_392){return e.button==_392;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_390;function _393(type,_394){var _395=function(node,_396){return on(node,type,function(evt){if(_394){return _394(evt,_396);}if(!dom.isDescendant(evt.relatedTarget,node)){return _396.call(this,evt);}});};_395.bubble=function(_397){return _393(type,function(evt,_398){var _399=_397(evt.target);var _39a=evt.relatedTarget;if(_399&&(_399!=(_39a&&_39a.nodeType==1&&_397(_39a)))){return _398.call(_399,evt);}});};return _395;};var _39b;if(has("events-mousewheel")){_39b="mousewheel";}else{_39b=function(node,_39c){return on(node,"DOMMouseScroll",function(evt){evt.wheelDelta=-evt.detail;_39c.call(this,evt);});};}return {_eventHandler:_393,enter:_393("mouseover"),leave:_393("mouseout"),wheel:_39b,isLeft:_390.isLeft,isMiddle:_390.isMiddle,isRight:_390.isRight};});},"dojo/topic":function(){define(["./Evented"],function(_39d){var hub=new _39d;return {publish:function(_39e,_39f){return hub.emit.apply(hub,arguments);},subscribe:function(_3a0,_3a1){return hub.on.apply(hub,arguments);}};});},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(dojo,has,_3a2,ioq,dom,_3a3,_3a4,_3a5,json,lang,_3a6,on,_3a7,_3a8,_3a9,util){dojo._xhrObj=_3a9._create;var cfg=dojo.config;dojo.objectToQuery=ioq.objectToQuery;dojo.queryToObject=ioq.queryToObject;dojo.fieldToObject=_3a3.fieldToObject;dojo.formToObject=_3a3.toObject;dojo.formToQuery=_3a3.toQuery;dojo.formToJson=_3a3.toJson;dojo._blockAsync=false;var _3aa=dojo._contentHandlers=dojo.contentHandlers={"text":function(xhr){return xhr.responseText;},"json":function(xhr){return json.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!_3a5.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _3ab=xhr.responseText;var _3ac=_3ab.indexOf("/*");var _3ad=_3ab.lastIndexOf("*/");if(_3ac==-1||_3ad==-1){throw new Error("JSON was not comment filtered");}return json.fromJson(_3ab.substring(_3ac+2,_3ad));},"javascript":function(xhr){return dojo.eval(xhr.responseText);},"xml":function(xhr){var _3ae=xhr.responseXML;if(_3ae&&has("dom-qsa2.1")&&!_3ae.querySelectorAll&&has("dom-parser")){_3ae=new DOMParser().parseFromString(xhr.responseText,"application/xml");}if(has("ie")){if((!_3ae||!_3ae.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_3a6.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_3ae=dom;}catch(e){return false;}return true;});}}return _3ae;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _3aa["json-comment-filtered"](xhr);}else{return _3aa["json"](xhr);}}};dojo._ioSetArgs=function(args,_3af,_3b0,_3b1){var _3b2={args:args,url:args.url};var _3b3=null;if(args.form){var form=dom.byId(args.form);var _3b4=form.getAttributeNode("action");_3b2.url=_3b2.url||(_3b4?_3b4.value:null);_3b3=_3a3.toObject(form);}var _3b5=[{}];if(_3b3){_3b5.push(_3b3);}if(args.content){_3b5.push(args.content);}if(args.preventCache){_3b5.push({"dojo.preventCache":new Date().valueOf()});}_3b2.query=ioq.objectToQuery(lang.mixin.apply(null,_3b5));_3b2.handleAs=args.handleAs||"text";var d=new _3a4(function(dfd){dfd.canceled=true;_3af&&_3af(dfd);var err=dfd.ioArgs.error;if(!err){err=new Error("request cancelled");err.dojoType="cancel";dfd.ioArgs.error=err;}return err;});d.addCallback(_3b0);var ld=args.load;if(ld&&lang.isFunction(ld)){d.addCallback(function(_3b6){return ld.call(args,_3b6,_3b2);});}var err=args.error;if(err&&lang.isFunction(err)){d.addErrback(function(_3b7){return err.call(args,_3b7,_3b2);});}var _3b8=args.handle;if(_3b8&&lang.isFunction(_3b8)){d.addBoth(function(_3b9){return _3b8.call(args,_3b9,_3b2);});}d.addErrback(function(_3ba){return _3b1(_3ba,d);});if(cfg.ioPublish&&dojo.publish&&_3b2.args.ioPublish!==false){d.addCallbacks(function(res){dojo.publish("/dojo/io/load",[d,res]);return res;},function(res){dojo.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){dojo.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_3b2;return d;};var _3bb=function(dfd){var ret=_3aa[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _3bc=function(_3bd,dfd){if(!dfd.ioArgs.args.failOk){console.error(_3bd);}return _3bd;};var _3be=function(dfd){if(_3bf<=0){_3bf=0;if(cfg.ioPublish&&dojo.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){dojo.publish("/dojo/io/stop");}}};var _3bf=0;_3a7.after(_3a8,"_onAction",function(){_3bf-=1;});_3a7.after(_3a8,"_onInFlight",_3be);dojo._ioCancelAll=_3a8.cancelAll;dojo._ioNotifyStart=function(dfd){if(cfg.ioPublish&&dojo.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_3bf){dojo.publish("/dojo/io/start");}_3bf+=1;dojo.publish("/dojo/io/send",[dfd]);}};dojo._ioWatch=function(dfd,_3c0,_3c1,_3c2){var args=dfd.ioArgs.options=dfd.ioArgs.args;lang.mixin(dfd,{response:dfd.ioArgs,isValid:function(_3c3){return _3c0(dfd);},isReady:function(_3c4){return _3c1(dfd);},handleResponse:function(_3c5){return _3c2(dfd);}});_3a8(dfd);_3be(dfd);};var _3c6="application/x-www-form-urlencoded";dojo._ioAddQueryToUrl=function(_3c7){if(_3c7.query.length){_3c7.url+=(_3c7.url.indexOf("?")==-1?"?":"&")+_3c7.query;_3c7.query=null;}};dojo.xhr=function(_3c8,args,_3c9){var rDfd;var dfd=dojo._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},_3bb,_3bc);var _3ca=dfd.ioArgs;if("postData" in args){_3ca.query=args.postData;}else{if("putData" in args){_3ca.query=args.putData;}else{if("rawBody" in args){_3ca.query=args.rawBody;}else{if((arguments.length>2&&!_3c9)||"POST|PUT".indexOf(_3c8.toUpperCase())===-1){dojo._ioAddQueryToUrl(_3ca);}}}}var _3cb={method:_3c8,handleAs:"text",timeout:args.timeout,withCredentials:args.withCredentials,ioArgs:_3ca};if(typeof args.headers!=="undefined"){_3cb.headers=args.headers;}if(typeof args.contentType!=="undefined"){if(!_3cb.headers){_3cb.headers={};}_3cb.headers["Content-Type"]=args.contentType;}if(typeof _3ca.query!=="undefined"){_3cb.data=_3ca.query;}if(typeof args.sync!=="undefined"){_3cb.sync=args.sync;}dojo._ioNotifyStart(dfd);try{rDfd=_3a9(_3ca.url,_3cb,true);}catch(e){dfd.cancel();return dfd;}dfd.ioArgs.xhr=rDfd.response.xhr;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_3cc){_3ca.error=_3cc;if(_3cc.response){_3cc.status=_3cc.response.status;_3cc.responseText=_3cc.response.text;_3cc.xhr=_3cc.response.xhr;}dfd.reject(_3cc);});return dfd;};dojo.xhrGet=function(args){return dojo.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return dojo.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return dojo.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return dojo.xhr("DELETE",args);};dojo._isDocumentOk=function(x){return util.checkStatus(x.status);};dojo._getText=function(url){var _3cd;dojo.xhrGet({url:url,sync:true,load:function(text){_3cd=text;}});return _3cd;};lang.mixin(dojo.xhr,{_xhrObj:dojo._xhrObj,fieldToObject:_3a3.fieldToObject,formToObject:_3a3.toObject,objectToQuery:ioq.objectToQuery,formToQuery:_3a3.toQuery,formToJson:_3a3.toJson,queryToObject:ioq.queryToObject,contentHandlers:_3aa,_ioSetArgs:dojo._ioSetArgs,_ioCancelAll:dojo._ioCancelAll,_ioNotifyStart:dojo._ioNotifyStart,_ioWatch:dojo._ioWatch,_ioAddQueryToUrl:dojo._ioAddQueryToUrl,_isDocumentOk:dojo._isDocumentOk,_getText:dojo._getText,get:dojo.xhrGet,post:dojo.xhrPost,put:dojo.xhrPut,del:dojo.xhrDelete});return dojo.xhr;});},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(dojo,lang,on){var win=window;var _3ce={addOnWindowUnload:function(obj,_3cf){if(!dojo.windowUnloaded){on(win,"unload",(dojo.windowUnloaded=function(){}));}on(win,"unload",lang.hitch(obj,_3cf));},addOnUnload:function(obj,_3d0){on(win,"beforeunload",lang.hitch(obj,_3d0));}};dojo.addOnWindowUnload=_3ce.addOnWindowUnload;dojo.addOnUnload=_3ce.addOnUnload;return _3ce;});},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(has,lang,_3d1,_3d2,_3d3){"use strict";var _3d4=0,_3d5=1,_3d6=2;var _3d7="This deferred has already been fulfilled.";var _3d8=Object.freeze||function(){};var _3d9=function(_3da,type,_3db,_3dc,_3dd){if(1){if(type===_3d6&&_3de.instrumentRejected&&_3da.length===0){_3de.instrumentRejected(_3db,false,_3dc,_3dd);}}for(var i=0;i<_3da.length;i++){_3df(_3da[i],type,_3db,_3dc);}};var _3df=function(_3e0,type,_3e1,_3e2){var func=_3e0[type];var _3e3=_3e0.deferred;if(func){try{var _3e4=func(_3e1);if(type===_3d4){if(typeof _3e4!=="undefined"){_3e5(_3e3,type,_3e4);}}else{if(_3e4&&typeof _3e4.then==="function"){_3e0.cancel=_3e4.cancel;_3e4.then(_3e6(_3e3,_3d5),_3e6(_3e3,_3d6),_3e6(_3e3,_3d4));return;}_3e5(_3e3,_3d5,_3e4);}}catch(error){_3e5(_3e3,_3d6,error);}}else{_3e5(_3e3,type,_3e1);}if(1){if(type===_3d6&&_3de.instrumentRejected){_3de.instrumentRejected(_3e1,!!func,_3e2,_3e3.promise);}}};var _3e6=function(_3e7,type){return function(_3e8){_3e5(_3e7,type,_3e8);};};var _3e5=function(_3e9,type,_3ea){if(!_3e9.isCanceled()){switch(type){case _3d4:_3e9.progress(_3ea);break;case _3d5:_3e9.resolve(_3ea);break;case _3d6:_3e9.reject(_3ea);break;}}};var _3de=function(_3eb){var _3ec=this.promise=new _3d2();var _3ed=this;var _3ee,_3ef,_3f0;var _3f1=false;var _3f2=[];if(1&&Error.captureStackTrace){Error.captureStackTrace(_3ed,_3de);Error.captureStackTrace(_3ec,_3de);}this.isResolved=_3ec.isResolved=function(){return _3ee===_3d5;};this.isRejected=_3ec.isRejected=function(){return _3ee===_3d6;};this.isFulfilled=_3ec.isFulfilled=function(){return !!_3ee;};this.isCanceled=_3ec.isCanceled=function(){return _3f1;};this.progress=function(_3f3,_3f4){if(!_3ee){_3d9(_3f2,_3d4,_3f3,null,_3ed);return _3ec;}else{if(_3f4===true){throw new Error(_3d7);}else{return _3ec;}}};this.resolve=function(_3f5,_3f6){if(!_3ee){_3d9(_3f2,_3ee=_3d5,_3ef=_3f5,null,_3ed);_3f2=null;return _3ec;}else{if(_3f6===true){throw new Error(_3d7);}else{return _3ec;}}};var _3f7=this.reject=function(_3f8,_3f9){if(!_3ee){if(1&&Error.captureStackTrace){Error.captureStackTrace(_3f0={},_3f7);}_3d9(_3f2,_3ee=_3d6,_3ef=_3f8,_3f0,_3ed);_3f2=null;return _3ec;}else{if(_3f9===true){throw new Error(_3d7);}else{return _3ec;}}};this.then=_3ec.then=function(_3fa,_3fb,_3fc){var _3fd=[_3fc,_3fa,_3fb];_3fd.cancel=_3ec.cancel;_3fd.deferred=new _3de(function(_3fe){return _3fd.cancel&&_3fd.cancel(_3fe);});if(_3ee&&!_3f2){_3df(_3fd,_3ee,_3ef,_3f0);}else{_3f2.push(_3fd);}return _3fd.deferred.promise;};this.cancel=_3ec.cancel=function(_3ff,_400){if(!_3ee){if(_3eb){var _401=_3eb(_3ff);_3ff=typeof _401==="undefined"?_3ff:_401;}_3f1=true;if(!_3ee){if(typeof _3ff==="undefined"){_3ff=new _3d1();}_3f7(_3ff);return _3ff;}else{if(_3ee===_3d6&&_3ef===_3ff){return _3ff;}}}else{if(_400===true){throw new Error(_3d7);}}};_3d8(_3ec);};_3de.prototype.toString=function(){return "[object Deferred]";};if(_3d3){_3d3(_3de);}return _3de;});},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(dojo,_402,_403){var _404=_402.NodeList,nlp=_404.prototype;nlp.connect=_404._adaptAsForEach(function(){return dojo.connect.apply(this,arguments);});nlp.coords=_404._adaptAsMap(dojo.coords);_404.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];_403.forEach(_404.events,function(evt){var _405="on"+evt;nlp[_405]=function(a,b){return this.connect(_405,a,b);};});dojo.NodeList=_404;return _404;});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_406,_407){var _408=dojo.Color=function(_409){if(_409){this.setColor(_409);}};_408.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_407.transparentColor||[0,0,0,0]};lang.extend(_408,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_40a){if(lang.isString(_40a)){_408.fromString(_40a,this);}else{if(lang.isArray(_40a)){_408.fromArray(_40a,this);}else{this._set(_40a.r,_40a.g,_40a.b,_40a.a);if(!(_40a instanceof _408)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_406.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_40b){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_40b?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_408.blendColors=dojo.blendColors=function(_40c,end,_40d,obj){var t=obj||new _408();_406.forEach(["r","g","b","a"],function(x){t[x]=_40c[x]+(end[x]-_40c[x])*_40d;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_408.fromRgb=dojo.colorFromRgb=function(_40e,obj){var m=_40e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_408.fromArray(m[1].split(/\s*,\s*/),obj);};_408.fromHex=dojo.colorFromHex=function(_40f,obj){var t=obj||new _408(),bits=(_40f.length==4)?4:8,mask=(1<<bits)-1;_40f=Number("0x"+_40f.substr(1));if(isNaN(_40f)){return null;}_406.forEach(["b","g","r"],function(x){var c=_40f&mask;_40f>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_408.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _408();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_408.fromString=dojo.colorFromString=function(str,obj){var a=_408.named[str];return a&&_408.fromArray(a,obj)||_408.fromRgb(str,obj)||_408.fromHex(str,obj);};return _408;});},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(_410,has,lang,_411){function _412(_413,_414,_415){var _416="";if(_413&&_413.stack){_416+=_413.stack;}if(_414&&_414.stack){_416+="\n    ----------------------------------------\n    rejected"+_414.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ");}if(_415&&_415.stack){_416+="\n    ----------------------------------------\n"+_415.stack;}console.error(_413,_416);};function _417(_418,_419,_41a,_41b){if(!_419){_412(_418,_41a,_41b);}};var _41c=[];var _41d=false;var _41e=1000;function _41f(_420,_421,_422,_423){if(_421){_411.some(_41c,function(obj,ix){if(obj.error===_420){_41c.splice(ix,1);return true;}});}else{if(!_411.some(_41c,function(obj){return obj.error===_420;})){_41c.push({error:_420,rejection:_422,deferred:_423,timestamp:new Date().getTime()});}}if(!_41d){_41d=setTimeout(_424,_41e);}};function _424(){var now=new Date().getTime();var _425=now-_41e;_41c=_411.filter(_41c,function(obj){if(obj.timestamp<_425){_412(obj.error,obj.rejection,obj.deferred);return false;}return true;});if(_41c.length){_41d=setTimeout(_424,_41c[0].timestamp+_41e-now);}else{_41d=false;}};return function(_426){var _427=has("config-useDeferredInstrumentation");if(_427){_410.on("resolved",lang.hitch(console,"log","resolved"));_410.on("rejected",lang.hitch(console,"log","rejected"));_410.on("progress",lang.hitch(console,"log","progress"));var args=[];if(typeof _427==="string"){args=_427.split(",");_427=args.shift();}if(_427==="report-rejections"){_426.instrumentRejected=_417;}else{if(_427==="report-unhandled-rejections"||_427===true||_427===1){_426.instrumentRejected=_41f;_41e=parseInt(args[0],10)||_41e;}else{throw new Error("Unsupported instrumentation usage <"+_427+">");}}}};});},"dojo/selector/_loader":function(){define(["../has","require"],function(has,_428){"use strict";var _429=document.createElement("div");has.add("dom-qsa2.1",!!_429.querySelectorAll);has.add("dom-qsa3",function(){try{_429.innerHTML="<p class='TEST'></p>";return _429.querySelectorAll(".TEST:empty").length==1;}catch(e){}});var _42a;var acme="./acme",lite="./lite";return {load:function(id,_42b,_42c,_42d){var req=_428;id=id=="default"?has("config-selectorEngine")||"css3":id;id=id=="css2"||id=="lite"?lite:id=="css2.1"?has("dom-qsa2.1")?lite:acme:id=="css3"?has("dom-qsa3")?lite:acme:id=="acme"?acme:(req=_42b)&&id;if(id.charAt(id.length-1)=="?"){id=id.substring(0,id.length-1);var _42e=true;}if(_42e&&(has("dom-compliant-qsa")||_42a)){return _42c(_42a);}req([id],function(_42f){if(id!="./lite"){_42a=_42f;}_42c(_42f);});}};});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _430(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_431,_432,_433){_430();},cancel:function(_434,_435){_430();},isResolved:function(){_430();},isRejected:function(){_430();},isFulfilled:function(){_430();},isCanceled:function(){_430();},always:function(_436){return this.then(_436,_436);},otherwise:function(_437){return this.then(null,_437);},trace:function(){return this;},traceRejected:function(){return this;},toString:function(){return "[object Promise]";}});});},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(util,_438,_439,_43a,win,on){var _43b=null,_43c=[];function _43d(){var now=+(new Date);for(var i=0,dfd;i<_43c.length&&(dfd=_43c[i]);i++){var _43e=dfd.response,_43f=_43e.options;if((dfd.isCanceled&&dfd.isCanceled())||(dfd.isValid&&!dfd.isValid(_43e))){_43c.splice(i--,1);_440._onAction&&_440._onAction();}else{if(dfd.isReady&&dfd.isReady(_43e)){_43c.splice(i--,1);dfd.handleResponse(_43e);_440._onAction&&_440._onAction();}else{if(dfd.startTime){if(dfd.startTime+(_43f.timeout||0)<now){_43c.splice(i--,1);dfd.cancel(new _438("Timeout exceeded",_43e));_440._onAction&&_440._onAction();}}}}}_440._onInFlight&&_440._onInFlight(dfd);if(!_43c.length){clearInterval(_43b);_43b=null;}};function _440(dfd){if(dfd.response.options.timeout){dfd.startTime=+(new Date);}if(dfd.isFulfilled()){return;}_43c.push(dfd);if(!_43b){_43b=setInterval(_43d,50);}if(dfd.response.options.sync){_43d();}};_440.cancelAll=function cancelAll(){try{_43a.forEach(_43c,function(dfd){try{dfd.cancel(new _439("All requests canceled."));}catch(e){}});}catch(e){}};if(win&&on&&win.doc.attachEvent){on(win.global,"unload",function(){_440.cancelAll();});}return _440;});},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(has,dojo){"use strict";var _441=document.createElement("div");var _442=_441.matchesSelector||_441.webkitMatchesSelector||_441.mozMatchesSelector||_441.msMatchesSelector||_441.oMatchesSelector;var _443=_441.querySelectorAll;var _444=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;has.add("dom-matches-selector",!!_442);has.add("dom-qsa",!!_443);var _445=function(_446,root){if(_447&&_446.indexOf(",")>-1){return _447(_446,root);}var doc=root?root.ownerDocument||root:dojo.doc||document,_448=(_443?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(_446);root=root||doc;if(_448){if(_448[2]){var _449=dojo.byId?dojo.byId(_448[2],doc):doc.getElementById(_448[2]);if(!_449||(_448[1]&&_448[1]!=_449.tagName.toLowerCase())){return [];}if(root!=doc){var _44a=_449;while(_44a!=root){_44a=_44a.parentNode;if(!_44a){return [];}}}return _448[3]?_445(_448[3],_449):[_449];}if(_448[3]&&root.getElementsByClassName){return root.getElementsByClassName(_448[4]);}var _449;if(_448[5]){_449=root.getElementsByTagName(_448[5]);if(_448[4]||_448[6]){_446=(_448[4]||"")+_448[6];}else{return _449;}}}if(_443){if(root.nodeType===1&&root.nodeName.toLowerCase()!=="object"){return _44b(root,_446,root.querySelectorAll);}else{return root.querySelectorAll(_446);}}else{if(!_449){_449=root.getElementsByTagName("*");}}var _44c=[];for(var i=0,l=_449.length;i<l;i++){var node=_449[i];if(node.nodeType==1&&_44d(node,_446,root)){_44c.push(node);}}return _44c;};var _44b=function(_44e,_44f,_450){var _451=_44e,old=_44e.getAttribute("id"),nid=old||"__dojo__",_452=_44e.parentNode,_453=/^\s*[+~]/.test(_44f);if(_453&&!_452){return [];}if(!old){_44e.setAttribute("id",nid);}else{nid=nid.replace(/'/g,"\\$&");}if(_453&&_452){_44e=_44e.parentNode;}var _454=_44f.match(_444);for(var i=0;i<_454.length;i++){_454[i]="[id='"+nid+"'] "+_454[i];}_44f=_454.join(",");try{return _450.call(_44e,_44f);}finally{if(!old){_451.removeAttribute("id");}}};if(!has("dom-matches-selector")){var _44d=(function(){var _455=_441.tagName=="div"?"toLowerCase":"toUpperCase";var _456={"":function(_457){_457=_457[_455]();return function(node){return node.tagName==_457;};},".":function(_458){var _459=" "+_458+" ";return function(node){return node.className.indexOf(_458)>-1&&(" "+node.className+" ").indexOf(_459)>-1;};},"#":function(id){return function(node){return node.id==id;};}};var _45a={"^=":function(_45b,_45c){return _45b.indexOf(_45c)==0;},"*=":function(_45d,_45e){return _45d.indexOf(_45e)>-1;},"$=":function(_45f,_460){return _45f.substring(_45f.length-_460.length,_45f.length)==_460;},"~=":function(_461,_462){return (" "+_461+" ").indexOf(" "+_462+" ")>-1;},"|=":function(_463,_464){return (_463+"-").indexOf(_464+"-")==0;},"=":function(_465,_466){return _465==_466;},"":function(_467,_468){return true;}};function attr(name,_469,type){var _46a=_469.charAt(0);if(_46a=="\""||_46a=="'"){_469=_469.slice(1,-1);}_469=_469.replace(/\\/g,"");var _46b=_45a[type||""];return function(node){var _46c=node.getAttribute(name);return _46c&&_46b(_46c,_469);};};function _46d(_46e){return function(node,root){while((node=node.parentNode)!=root){if(_46e(node,root)){return true;}}};};function _46f(_470){return function(node,root){node=node.parentNode;return _470?node!=root&&_470(node,root):node==root;};};var _471={};function and(_472,next){return _472?function(node,root){return next(node)&&_472(node,root);}:next;};return function(node,_473,root){var _474=_471[_473];if(!_474){if(_473.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(t,_475,type,_476,_477,_478,_479){if(_476){_474=and(_474,_456[type||""](_476.replace(/\\/g,"")));}else{if(_475){_474=(_475==" "?_46d:_46f)(_474);}else{if(_477){_474=and(_474,attr(_477,_479,_478));}}}return "";})){throw new Error("Syntax error in query");}if(!_474){return true;}_471[_473]=_474;}return _474(node,root);};})();}if(!has("dom-qsa")){var _447=function(_47a,root){var _47b=_47a.match(_444);var _47c=[];for(var i=0;i<_47b.length;i++){_47a=new String(_47b[i].replace(/\s*$/,""));_47a.indexOf=escape;var _47d=_445(_47a,root);for(var j=0,l=_47d.length;j<l;j++){var node=_47d[j];_47c[node.sourceIndex]=node;}}var _47e=[];for(i in _47c){_47e.push(_47c[i]);}return _47e;};}_445.match=_442?function(node,_47f,root){if(root&&root.nodeType!=9){return _44b(root,_47f,function(_480){return _442.call(node,_480);});}return _442.call(node,_47f);}:_44d;return _445;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(_481,dojo,has){"use strict";if(1){var _482=window.ScriptEngineMajorVersion;has.add("jscript",_482&&(_482()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);has.add("event-focusin",function(_483,doc,_484){return !!_484.attachEvent;});if(has("touch")){has.add("touch-can-modify-event-delegate",function(){var _485=function(){};_485.prototype=document.createEvent("MouseEvents");try{var _486=new _485;_486.target=null;return _486.target===null;}catch(e){return false;}});}}var on=function(_487,type,_488,_489){if(typeof _487.on=="function"&&typeof type!="function"&&!_487.nodeType){return _487.on(type,_488);}return on.parse(_487,type,_488,_48a,_489,this);};on.pausable=function(_48b,type,_48c,_48d){var _48e;var _48f=on(_48b,type,function(){if(!_48e){return _48c.apply(this,arguments);}},_48d);_48f.pause=function(){_48e=true;};_48f.resume=function(){_48e=false;};return _48f;};on.once=function(_490,type,_491,_492){var _493=on(_490,type,function(){_493.remove();return _491.apply(this,arguments);});return _493;};on.parse=function(_494,type,_495,_496,_497,_498){if(type.call){return type.call(_498,_494,_495);}if(type.indexOf(",")>-1){var _499=type.split(/\s*,\s*/);var _49a=[];var i=0;var _49b;while(_49b=_499[i++]){_49a.push(_496(_494,_49b,_495,_497,_498));}_49a.remove=function(){for(var i=0;i<_49a.length;i++){_49a[i].remove();}};return _49a;}return _496(_494,type,_495,_497,_498);};var _49c=/^touch/;function _48a(_49d,type,_49e,_49f,_4a0){var _4a1=type.match(/(.*):(.*)/);if(_4a1){type=_4a1[2];_4a1=_4a1[1];return on.selector(_4a1,type).call(_4a0,_49d,_49e);}if(has("touch")){if(_49c.test(type)){_49e=_4a2(_49e);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_49d=window;_49e=_4a2(_49e);}}if(_4a3){_49e=_4a3(_49e);}if(_49d.addEventListener){var _4a4=type in _4a5,_4a6=_4a4?_4a5[type]:type;_49d.addEventListener(_4a6,_49e,_4a4);return {remove:function(){_49d.removeEventListener(_4a6,_49e,_4a4);}};}type="on"+type;if(_4a7&&_49d.attachEvent){return _4a7(_49d,type,_49e);}throw new Error("Target must be an event emitter");};on.selector=function(_4a8,_4a9,_4aa){return function(_4ab,_4ac){var _4ad=typeof _4a8=="function"?{matches:_4a8}:this,_4ae=_4a9.bubble;function _4af(_4b0){_4ad=_4ad&&_4ad.matches?_4ad:dojo.query;while(!_4ad.matches(_4b0,_4a8,_4ab)){if(_4b0==_4ab||_4aa===false||!(_4b0=_4b0.parentNode)||_4b0.nodeType!=1){return;}}return _4b0;};if(_4ae){return on(_4ab,_4ae(_4af),_4ac);}return on(_4ab,_4a9,function(_4b1){var _4b2=_4af(_4b1.target);return _4b2&&_4ac.call(_4b2,_4b1);});};};function _4b3(){this.cancelable=false;this.defaultPrevented=true;};function _4b4(){this.bubbles=false;};var _4b5=[].slice,_4b6=on.emit=function(_4b7,type,_4b8){var args=_4b5.call(arguments,2);var _4b9="on"+type;if("parentNode" in _4b7){var _4ba=args[0]={};for(var i in _4b8){_4ba[i]=_4b8[i];}_4ba.preventDefault=_4b3;_4ba.stopPropagation=_4b4;_4ba.target=_4b7;_4ba.type=type;_4b8=_4ba;}do{_4b7[_4b9]&&_4b7[_4b9].apply(_4b7,args);}while(_4b8&&_4b8.bubbles&&(_4b7=_4b7.parentNode));return _4b8&&_4b8.cancelable&&_4b8;};var _4a5=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation")){var _4bb=function(){this.immediatelyStopped=true;this.modified=true;};var _4a3=function(_4bc){return function(_4bd){if(!_4bd.immediatelyStopped){_4bd.stopImmediatePropagation=_4bb;return _4bc.apply(this,arguments);}};};}if(has("dom-addeventlistener")){on.emit=function(_4be,type,_4bf){if(_4be.dispatchEvent&&document.createEvent){var _4c0=_4be.ownerDocument.createEvent("HTMLEvents");_4c0.initEvent(type,!!_4bf.bubbles,!!_4bf.cancelable);for(var i in _4bf){if(!(i in _4c0)){_4c0[i]=_4bf[i];}}return _4be.dispatchEvent(_4c0)&&_4c0;}return _4b6.apply(on,arguments);};}else{on._fixEvent=function(evt,_4c1){if(!evt){var w=_4c1&&(_4c1.ownerDocument||_4c1.document||_4c1).parentWindow||window;evt=w.event;}if(!evt){return evt;}try{if(_4c2&&evt.type==_4c2.type&&evt.srcElement==_4c2.target){evt=_4c2;}}catch(e){}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_4c1||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_4c3;evt.preventDefault=_4c4;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_4c5(evt);break;}}return evt;};var _4c2,_4c6=function(_4c7){this.handle=_4c7;};_4c6.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _4c8=function(_4c9){return function(evt){evt=on._fixEvent(evt,this);var _4ca=_4c9.call(this,evt);if(evt.modified){if(!_4c2){setTimeout(function(){_4c2=null;});}_4c2=evt;}return _4ca;};};var _4a7=function(_4cb,type,_4cc){_4cc=_4c8(_4cc);if(((_4cb.ownerDocument?_4cb.ownerDocument.parentWindow:_4cb.parentWindow||_4cb.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _4cd=_4cb[type];if(!_4cd||!_4cd.listeners){var _4ce=_4cd;_4cd=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_4cd.listeners=[];_4cb[type]=_4cd;_4cd.global=this;if(_4ce){_4cd.listeners.push(_dojoIEListeners_.push(_4ce)-1);}}var _4cf;_4cd.listeners.push(_4cf=(_4cd.global._dojoIEListeners_.push(_4cc)-1));return new _4c6(_4cf);}return _481.after(_4cb,type,_4cc,true);};var _4c5=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _4c3=function(){this.cancelBubble=true;};var _4c4=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;this.modified=true;};}if(has("touch")){var _4d0=function(){};var _4d1=window.orientation;var _4a2=function(_4d2){return function(_4d3){var _4d4=_4d3.corrected;if(!_4d4){var type=_4d3.type;try{delete _4d3.type;}catch(e){}if(_4d3.type){if(has("touch-can-modify-event-delegate")){_4d0.prototype=_4d3;_4d4=new _4d0;}else{_4d4={};for(var name in _4d3){_4d4[name]=_4d3[name];}}_4d4.preventDefault=function(){_4d3.preventDefault();};_4d4.stopPropagation=function(){_4d3.stopPropagation();};}else{_4d4=_4d3;_4d4.type=type;}_4d3.corrected=_4d4;if(type=="resize"){if(_4d1==window.orientation){return null;}_4d1=window.orientation;_4d4.type="orientationchange";return _4d2.call(this,_4d4);}if(!("rotation" in _4d4)){_4d4.rotation=0;_4d4.scale=1;}var _4d5=_4d4.changedTouches[0];for(var i in _4d5){delete _4d4[i];_4d4[i]=_4d5[i];}}return _4d2.call(this,_4d4);};};}return on;});},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){if(!1){return has;}dojo._name="browser";lang.mixin(dojo,{isBrowser:true,isFF:has("ff"),isIE:has("ie"),isKhtml:has("khtml"),isWebKit:has("webkit"),isMozilla:has("mozilla"),isMoz:has("mozilla"),isOpera:has("opera"),isSafari:has("safari"),isChrome:has("chrome"),isMac:has("mac"),isIos:has("ios"),isAndroid:has("android"),isWii:has("wii"),isQuirks:has("quirks"),isAir:has("air")});return has;});},"dojo/errors/create":function(){define(["../_base/lang"],function(lang){return function(name,ctor,base,_4d6){base=base||Error;var _4d7=function(_4d8){if(base===Error){if(Error.captureStackTrace){Error.captureStackTrace(this,_4d7);}var err=Error.call(this,_4d8),prop;for(prop in err){if(err.hasOwnProperty(prop)){this[prop]=err[prop];}}this.message=_4d8;this.stack=err.stack;}else{base.apply(this,arguments);}if(ctor){ctor.apply(this,arguments);}};_4d7.prototype=lang.delegate(base.prototype,_4d6);_4d7.prototype.name=name;_4d7.prototype.constructor=_4d7;return _4d7;};});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _4d9={},u;function _4da(fn){return _4d9[fn]=new Function("item","index","array",fn);};function _4db(some){var _4dc=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_4dd;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_4d9[fn]||_4da(fn);}if(o){for(;i<l;++i){_4dd=!fn.call(o,a[i],i,a);if(some^_4dd){return !_4dd;}}}else{for(;i<l;++i){_4dd=!fn(a[i],i,a);if(some^_4dd){return !_4dd;}}}return _4dc;};};function _4de(up){var _4df=1,_4e0=0,_4e1=0;if(!up){_4df=_4e0=_4e1=-1;}return function(a,x,from,last){if(last&&_4df>0){return _4e2.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_4e1:_4e0,i;if(from===u){i=up?_4e0:l+_4e1;}else{if(from<0){i=l+from;if(i<0){i=_4e0;}}else{i=from>=l?l+_4e1:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_4df){if(a[i]==x){return i;}}return -1;};};var _4e2={every:_4db(false),some:_4db(true),indexOf:_4de(true),lastIndexOf:_4de(false),forEach:function(arr,_4e3,_4e4){var i=0,l=arr&&arr.length||0;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _4e3=="string"){_4e3=_4d9[_4e3]||_4da(_4e3);}if(_4e4){for(;i<l;++i){_4e3.call(_4e4,arr[i],i,arr);}}else{for(;i<l;++i){_4e3(arr[i],i,arr);}}},map:function(arr,_4e5,_4e6,Ctr){var i=0,l=arr&&arr.length||0,out=new (Ctr||Array)(l);if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _4e5=="string"){_4e5=_4d9[_4e5]||_4da(_4e5);}if(_4e6){for(;i<l;++i){out[i]=_4e5.call(_4e6,arr[i],i,arr);}}else{for(;i<l;++i){out[i]=_4e5(arr[i],i,arr);}}return out;},filter:function(arr,_4e7,_4e8){var i=0,l=arr&&arr.length||0,out=[],_4e9;if(l&&typeof arr=="string"){arr=arr.split("");}if(typeof _4e7=="string"){_4e7=_4d9[_4e7]||_4da(_4e7);}if(_4e8){for(;i<l;++i){_4e9=arr[i];if(_4e7.call(_4e8,_4e9,i,arr)){out.push(_4e9);}}}else{for(;i<l;++i){_4e9=arr[i];if(_4e7(_4e9,i,arr)){out.push(_4e9);}}}return out;},clearCache:function(){_4d9={};}};1&&lang.mixin(dojo,_4e2);return _4e2;});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_4ea){return json.stringify(it,function(key,_4eb){if(_4eb){var tf=_4eb.__json__||_4eb.json;if(typeof tf=="function"){return tf.call(_4eb);}}return _4eb;},_4ea&&dojo.toJsonIndentStr);};return dojo;});},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:this["document"]||null,body:function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];},setContext:function(_4ec,_4ed){dojo.global=ret.global=_4ec;dojo.doc=ret.doc=_4ed;},withGlobal:function(_4ee,_4ef,_4f0,_4f1){var _4f2=dojo.global;try{dojo.global=ret.global=_4ee;return ret.withDoc.call(null,_4ee.document,_4ef,_4f0,_4f1);}finally{dojo.global=ret.global=_4f2;}},withDoc:function(_4f3,_4f4,_4f5,_4f6){var _4f7=ret.doc,oldQ=has("quirks"),_4f8=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_4f3;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_4f3.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_4f3.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_4f5&&typeof _4f4=="string"){_4f4=_4f5[_4f4];}return _4f4.apply(_4f5,_4f6||[]);}finally{dojo.doc=ret.doc=_4f7;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_4f8,true,true);}}};1&&lang.mixin(dojo,ret);return ret;});},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(lang,_4f9,dom){var _4fa="className";var cls,_4fb=/\s+/,a1=[""];function _4fc(s){if(typeof s=="string"||s instanceof String){if(s&&!_4fb.test(s)){a1[0]=s;return a1;}var a=s.split(_4fb);if(a.length&&!a[0]){a.shift();}if(a.length&&!a[a.length-1]){a.pop();}return a;}if(!s){return [];}return _4f9.filter(s,function(x){return x;});};var _4fd={};cls={contains:function containsClass(node,_4fe){return ((" "+dom.byId(node)[_4fa]+" ").indexOf(" "+_4fe+" ")>=0);},add:function addClass(node,_4ff){node=dom.byId(node);_4ff=_4fc(_4ff);var cls=node[_4fa],_500;cls=cls?" "+cls+" ":" ";_500=cls.length;for(var i=0,len=_4ff.length,c;i<len;++i){c=_4ff[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_500<cls.length){node[_4fa]=cls.substr(1,cls.length-2);}},remove:function removeClass(node,_501){node=dom.byId(node);var cls;if(_501!==undefined){_501=_4fc(_501);cls=" "+node[_4fa]+" ";for(var i=0,len=_501.length;i<len;++i){cls=cls.replace(" "+_501[i]+" "," ");}cls=lang.trim(cls);}else{cls="";}if(node[_4fa]!=cls){node[_4fa]=cls;}},replace:function replaceClass(node,_502,_503){node=dom.byId(node);_4fd[_4fa]=node[_4fa];cls.remove(_4fd,_503);cls.add(_4fd,_502);if(node[_4fa]!==_4fd[_4fa]){node[_4fa]=_4fd[_4fa];}},toggle:function toggleClass(node,_504,_505){node=dom.byId(node);if(_505===undefined){_504=_4fc(_504);for(var i=0,len=_504.length,c;i<len;++i){c=_504[i];cls[cls.contains(node,c)?"remove":"add"](node,c);}}else{cls[_505?"add":"remove"](node,_504);}return _505;}};return cls;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_506){var _507={};if(1){var src=_506.rawConfig,p;for(p in src){_507[p]=src[p];}}else{var _508=function(_509,_50a,_50b){for(p in _509){p!="has"&&has.add(_50a+p,_509[p],0,_50b);}};_507=1?_506.rawConfig:this.dojoConfig||this.djConfig||{};_508(_507,"config",1);_508(_507.has,"",1);}if(!_507.locale&&typeof navigator!="undefined"){_507.locale=(navigator.language||navigator.userLanguage).toLowerCase();}return _507;});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _50c=on._fixEvent;on._fixEvent=function(evt,se){evt=_50c(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}var ret={fix:function(evt,_50d){if(on._fixEvent){return on._fixEvent(evt,_50d);}return evt;},stop:function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}}};if(1){dojo.fixEvent=ret.fix;dojo.stopEvent=ret.stop;}return ret;});},"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(_50e,has,_50f,_510,lang,_511,_512,_513){if(_512.isDebug){_50f(["./_firebug/firebug"]);}1||has.add("dojo-config-require",1);if(1){var deps=_512.require;if(deps){deps=_511.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_50e.isAsync){_50f(deps);}else{_513(1,function(){_50f(deps);});}}}return _50e;});},"dojo/sniff":function(){define(["./has"],function(has){if(1){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0);has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||undefined);has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");if(dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p");var v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os);has.add("ios",os);}has.add("android",parseFloat(dua.split("Android ")[1])||undefined);has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||undefined);has.add("svg",typeof SVGAngle!=="undefined");if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all!=null&&document.all!=undefined&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(JSON,_514,_515,has){has.add("activex",typeof ActiveXObject!=="undefined");has.add("dom-parser",function(_516){return "DOMParser" in _516;});var _517;if(has("activex")){var dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];_517=function(_518){var _519=_518.data;if(_519&&has("dom-qsa2.1")&&!_519.querySelectorAll&&has("dom-parser")){_519=new DOMParser().parseFromString(_518.text,"application/xml");}if(!_519||!_519.documentElement){var text=_518.text;_515.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(text);_519=dom;}catch(e){return false;}return true;});}return _519;};}var _51a={"javascript":function(_51b){return _514.eval(_51b.text||"");},"json":function(_51c){return JSON.parse(_51c.text||null);},"xml":_517};function _51d(_51e){var _51f=_51a[_51e.options.handleAs];_51e.data=_51f?_51f(_51e):(_51e.data||_51e.text);return _51e;};_51d.register=function(name,_520){_51a[name]=_520;};return _51d;});},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(dojo,has,_521,_522,lang){var _523=0,_524=[],_525=0,_526=function(){_523=1;dojo._postLoad=dojo.config.afterOnLoad=true;_527();},_527=function(){if(_525){return;}_525=1;while(_523&&(!_522||_522._Q.length==0)&&(_521.idle?_521.idle():true)&&_524.length){var f=_524.shift();try{f();}catch(e){e.info=e.message;if(_521.signal){_521.signal("error",e);}else{throw e;}}}_525=0;};_521.on&&_521.on("idle",_527);if(_522){_522._onQEmpty=_527;}var _528=dojo.ready=dojo.addOnLoad=function(_529,_52a,_52b){var _52c=lang._toArray(arguments);if(typeof _529!="number"){_52b=_52a;_52a=_529;_529=1000;}else{_52c.shift();}_52b=_52b?lang.hitch.apply(dojo,_52c):function(){_52a();};_52b.priority=_529;for(var i=0;i<_524.length&&_529>=_524[i].priority;i++){}_524.splice(i,0,_52b);_527();};1||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_528[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_528(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_521(["dojo/parser"]);}});}if(_522){_522(_526);}else{_526();}return _528;});},"dojo/aspect":function(){define([],function(){"use strict";var _52d,_52e=0;function _52f(_530,type,_531,_532){var _533=_530[type];var _534=type=="around";var _535;if(_534){var _536=_531(function(){return _533.advice(this,arguments);});_535={remove:function(){if(_536){_536=_530=_531=null;}},advice:function(_537,args){return _536?_536.apply(_537,args):_533.advice(_537,args);}};}else{_535={remove:function(){if(_535.advice){var _538=_535.previous;var next=_535.next;if(!next&&!_538){delete _530[type];}else{if(_538){_538.next=next;}else{_530[type]=next;}if(next){next.previous=_538;}}_530=_531=_535.advice=null;}},id:_52e++,advice:_531,receiveArguments:_532};}if(_533&&!_534){if(type=="after"){while(_533.next&&(_533=_533.next)){}_533.next=_535;_535.previous=_533;}else{if(type=="before"){_530[type]=_535;_535.next=_533;_533.previous=_535;}}}else{_530[type]=_535;}return _535;};function _539(type){return function(_53a,_53b,_53c,_53d){var _53e=_53a[_53b],_53f;if(!_53e||_53e.target!=_53a){_53a[_53b]=_53f=function(){var _540=_52e;var args=arguments;var _541=_53f.before;while(_541){args=_541.advice.apply(this,args)||args;_541=_541.next;}if(_53f.around){var _542=_53f.around.advice(this,args);}var _543=_53f.after;while(_543&&_543.id<_540){if(_543.receiveArguments){var _544=_543.advice.apply(this,args);_542=_544===_52d?_542:_544;}else{_542=_543.advice.call(this,_542,args);}_543=_543.next;}return _542;};if(_53e){_53f.around={advice:function(_545,args){return _53e.apply(_545,args);}};}_53f.target=_53a;}var _546=_52f((_53f||_53e),type,_53c,_53d);_53c=null;return _546;};};var _547=_539("after");var _548=_539("before");var _549=_539("around");return {before:_548,around:_549,after:_547};});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_54a,_54b,_54c,has,lang){has.add("events-keypress-typed",function(){var _54d={charCode:0};try{_54d=document.createEvent("KeyboardEvent");(_54d.initKeyboardEvent||_54d.initKeyEvent).call(_54d,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _54d.charCode==0&&!has("opera");});function _54e(obj,_54f,_550,_551,_552){_551=lang.hitch(_550,_551);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _54a.after(obj||dojo.global,_54f,_551,true);}if(typeof _54f=="string"&&_54f.substring(0,2)=="on"){_54f=_54f.substring(2);}if(!obj){obj=dojo.global;}if(!_552){switch(_54f){case "keypress":_54f=_553;break;case "mouseenter":_54f=_54c.enter;break;case "mouseleave":_54f=_54c.leave;break;}}return on(obj,_54f,_551,_552);};var _554={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _555=has("mac")?"metaKey":"ctrlKey";var _556=function(evt,_557){var faux=lang.mixin({},evt,_557);_558(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _558(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _553;if(has("events-keypress-typed")){var _559=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_553=function(_55a,_55b){var _55c=on(_55a,"keydown",function(evt){var k=evt.keyCode;var _55d=(k!=13)&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_55d||evt.ctrlKey){var c=_55d?0:k;if(evt.ctrlKey){if(k==3||k==13){return _55b.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_554[c]||c;}}}}var faux=_556(evt,{type:"keypress",faux:true,charCode:c});_55b.call(evt.currentTarget,faux);if(has("ie")){_559(evt,faux.keyCode);}}});var _55e=on(_55a,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_556(evt,{charCode:c,faux:true});return _55b.call(this,evt);});return {remove:function(){_55c.remove();_55e.remove();}};};}else{if(has("opera")){_553=function(_55f,_560){return on(_55f,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _560.call(this,_556(evt,{charCode:c}));});};}else{_553=function(_561,_562){return on(_561,"keypress",function(evt){_558(evt);return _562.call(this,evt);});};}}var _563={_keypress:_553,connect:function(obj,_564,_565,_566,_567){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _54e.apply(this,args);},disconnect:function(_568){if(_568){_568.remove();}},subscribe:function(_569,_56a,_56b){return hub.subscribe(_569,lang.hitch(_56a,_56b));},publish:function(_56c,args){return hub.publish.apply(hub,[_56c].concat(args));},connectPublisher:function(_56d,obj,_56e){var pf=function(){_563.publish(_56d,arguments);};return _56e?_563.connect(obj,_56e,pf):_563.connect(obj,pf);},isCopyKey:function(e){return e[_555];}};_563.unsubscribe=_563.disconnect;1&&lang.mixin(dojo,_563);return _563;});},"dojo/errors/CancelError":function(){define(["./create"],function(_56f){return _56f("CancelError",null,null,{dojoType:"cancel"});});}}});require({cache:{"dojo/request/default":function(){define(["exports","require","../has"],function(_570,_571,has){var _572=has("config-requestProvider"),_573;if(1){_573="./xhr";}else{if(0){_573="./node";}}if(!_572){_572=_573;}_570.getPlatformDefaultId=function(){return _573;};_570.load=function(id,_574,_575,_576){_571([id=="platform"?_573:_572],function(_577){_575(_577);});};});},"viewer/animation/Fill":function(){define(["dojo/_base/declare","dojo/dom-construct","./_base","../misc/gui/helpers/svg","../misc/enums"],function(_578,_579,_57a,_57b,_57c){return _578("viewer.animation.Fill",_57a,{_svgNode:null,_xUnFillV:null,_xUnFillH:null,_clipFill:null,_clipFillId:null,_clipUnFillV:null,_clipUnFillVId:null,_clipUnFillH:null,_clipUnFillHId:null,_rectFill:null,_rectUnFillV:null,_rectUnFillH:null,_valueH:null,_valueV:null,_borderWeight:null,_clipData:{"_dataCounter":0,_fillPrefix:"fillID"},constructor:function(_57d,_57e){this.inherited(arguments);if(this._widget.templateString.indexOf("<svg")<0){this._svgNode=_57b.createElement("svg");var defs=_57b.createElement("defs");this._svgNode.appendChild(defs);}this._clipFill=_57b.createElement("clipPath");this._rectFill=_57b.createElement("rect");this._rectFill.setAttribute("x",0);this._rectFill.setAttribute("y",0);this._rectFill.setAttribute("width","100%");this._rectFill.setAttribute("height","100%");this._rectFill.setAttribute("stroke-width","0");this._clipFillId=this._clipData._fillPrefix+this._clipData._dataCounter;this._clipFill.setAttribute("id",this._clipFillId);this._clipFill.setAttribute("clipPathUnits","objectBoundingBox");this._clipFill.appendChild(this._rectFill);this._clipData._dataCounter++;this._clipUnFillV=_57b.createElement("clipPath");this._rectUnFillV=_57b.createElement("rect");this._rectUnFillV.setAttribute("x",0);this._rectUnFillV.setAttribute("y",0);this._rectUnFillV.setAttribute("width","0%");this._rectUnFillV.setAttribute("height","0%");this._rectUnFillV.setAttribute("stroke-width","0");this._clipUnFillVId=this._clipData._fillPrefix+this._clipData._dataCounter;this._clipUnFillV.setAttribute("id",this._clipUnFillVId);this._clipUnFillV.setAttribute("clipPathUnits","objectBoundingBox");this._clipUnFillV.appendChild(this._rectUnFillV);this._clipData._dataCounter++;this._clipUnFillH=_57b.createElement("clipPath");this._rectUnFillH=_57b.createElement("rect");this._rectUnFillH.setAttribute("x",0);this._rectUnFillH.setAttribute("y",0);this._rectUnFillH.setAttribute("width","0%");this._rectUnFillH.setAttribute("height","0%");this._rectUnFillH.setAttribute("stroke-width","0");this._clipUnFillHId=this._clipData._fillPrefix+this._clipData._dataCounter;this._clipUnFillH.setAttribute("id",this._clipUnFillHId);this._clipUnFillH.setAttribute("clipPathUnits","objectBoundingBox");this._clipUnFillH.appendChild(this._rectUnFillH);this._clipData._dataCounter++;},_execUpdate:function(){this._updateValue();this._updateClip();},startup:function(){this._xUnFillV=this._widget._getClonedComponentAttr();dojo.attr(this._xUnFillV,"data-dojo-attach-point","_xUnFillV");this._xUnFillH=this._widget._getClonedComponentAttr();dojo.attr(this._xUnFillH,"data-dojo-attach-point","_xUnFillH");this._widget._bargraphCloneNode=[this._xUnFillH,this._xUnFillV];this._widget._getComponentAttr().setAttribute("clip-path","URL(#"+this._clipFillId+")");this._xUnFillV.setAttribute("clip-path","URL(#"+this._clipUnFillVId+")");this._xUnFillH.setAttribute("clip-path","URL(#"+this._clipUnFillHId+")");if(this._svgNode){_579.place(this._xUnFillH,this._widget._getComponentAttr(),"after");_579.place(this._xUnFillV,this._xUnFillH,"after");_579.place(this._svgNode,this._xUnFillV,"after");this._svgNode.appendChild(this._clipFill);this._svgNode.appendChild(this._clipUnFillH);this._svgNode.appendChild(this._clipUnFillV);}else{_579.place(this._xUnFillH,this._widget._getComponentAttr(),"after");_579.place(this._xUnFillV,this._xUnFillH,"after");_579.place(this._clipFill,this._xUnFillV,"after");_579.place(this._clipUnFillH,this._clipFill,"after");_579.place(this._clipUnFillV,this._clipUnFillH,"after");}if(this._animProps.unFillPercentColor){_57b.setColor(this._xUnFillV,this._animProps.unFillPercentColor);_57b.setColor(this._xUnFillH,this._animProps.unFillPercentColor);}},_updateValue:function(){var minH=0,maxH=0,minV=0,maxV=0,_57f=0,_580=0,_581=0,_582=0;if(this._animProps.minimumValueH&&typeof (this._animProps.minimumValueH)!=="object"){minH=parseFloat(this._animProps.minimumValueH);}if(this._animProps.maximumValueH&&typeof (this._animProps.maximumValueH)!=="object"){maxH=parseFloat(this._animProps.maximumValueH);}if(this._animProps.minimumValueV&&typeof (this._animProps.minimumValueV)!=="object"){minV=parseFloat(this._animProps.minimumValueV);}if(this._animProps.maximumValueV&&typeof (this._animProps.maximumValueV)!=="object"){maxV=parseFloat(this._animProps.maximumValueV);}if(this._animProps.minPercentValueH&&typeof (this._animProps.minPercentValueH)!=="object"){_57f=parseFloat(this._animProps.minPercentValueH)<0?0:parseFloat(this._animProps.minPercentValueH);}if(this._animProps.maxPercentValueH&&typeof (this._animProps.maxPercentValueH)!=="object"){_580=parseFloat(this._animProps.maxPercentValueH)>100?100:parseFloat(this._animProps.maxPercentValueH);}if(this._animProps.minPercentValueV&&typeof (this._animProps.minPercentValueV)!=="object"){_581=parseFloat(this._animProps.minPercentValueV)<0?0:parseFloat(this._animProps.minPercentValueV);}if(this._animProps.maxPercentValueV&&typeof (this._animProps.maxPercentValueV)!=="object"){_582=parseFloat(this._animProps.maxPercentValueV)>100?100:parseFloat(this._animProps.maxPercentValueV);}if(this._animProps.tagExpressionH&&typeof (this._animProps.tagExpressionH)!=="object"){var _583=parseFloat(this._animProps.tagExpressionH);if(_57f>_580){_57f=_580;}if(_583<=minH||minH>=maxH){_583=minH;}else{if(_583>=maxH){_583=maxH;}}var v=(_583-minH)*(_580-_57f)/(maxH-minH);this._valueH=(isNaN(v)?0:v)+_57f;}else{this._valueH=-1;}if(this._animProps.tagExpressionV&&typeof (this._animProps.tagExpressionV)!=="object"){var _584=parseFloat(this._animProps.tagExpressionV);if(_581>_582){_581=_582;}if(_584<=minV||minV>=maxV){_584=minV;}else{if(_584>=maxV){_584=maxV;}}var v=(_584-minV)*(_582-_581)/(maxV-minV);this._valueV=(isNaN(v)?0:v)+_581;}else{this._valueV=-1;}},_updateClip:function(_585){if(parseFloat(this._animProps.maxPercentValueH)<0||parseFloat(this._animProps.maxPercentValueV)<0){return;}var _586=0;var _587=0;if(_585){this._borderWeight=_585;}else{if(!this._borderWeight){if(this._widget._attr.border&&this._widget._attr.border.width){this._borderWeight=this._widget._attr.border.width;}}}if(this._borderWeight){_586=this._borderWeight/(this._widget._originalGeometry.w>0?this._widget._originalGeometry.w:1);_587=this._borderWeight/(this._widget._originalGeometry.h>0?this._widget._originalGeometry.h:1);}if(this._valueH==-1){this._valueH=100;}else{this._valueH=Math.max(this._valueH,0);}if(this._valueV==-1){this._valueV=100;}else{this._valueV=Math.max(this._valueV,0);}var _588=100-this._valueH;var _589=100-this._valueV;if(this._animProps.directionH===_57c.EnumFillDirection.RIGHT){this._rectFill.setAttribute("x",-1*_586);this._rectFill.setAttribute("y",-1*_587);this._rectFill.setAttribute("height",1+_587*2);this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectUnFillH.setAttribute("height",1+_587*2);this._rectUnFillH.setAttribute("width",_588/100+_586);this._rectUnFillH.setAttribute("y",-1*_587);this._rectUnFillH.setAttribute("x",this._valueH/100);if(this._animProps.directionV===_57c.EnumFillDirection.TOP){this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectFill.setAttribute("height",this._valueV/100+_587);this._rectFill.setAttribute("y",_589/100);this._rectUnFillV.setAttribute("y",-1*_587);this._rectUnFillV.setAttribute("x",-1*_586);this._rectUnFillV.setAttribute("width",this._valueH/100+_586);this._rectUnFillV.setAttribute("height",_589/100+_587);}else{this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectFill.setAttribute("height",this._valueV/100+_587);this._rectUnFillV.setAttribute("width",this._valueH/100+_586);this._rectUnFillV.setAttribute("height",_589/100+_587);this._rectUnFillV.setAttribute("x",-1*_586);this._rectUnFillV.setAttribute("y",this._valueV/100);}}else{if(this._animProps.directionH===_57c.EnumFillDirection.LEFT){this._rectFill.setAttribute("height",1+_587*2);this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectFill.setAttribute("x",_588/100);this._rectFill.setAttribute("y",-1*_587);this._rectUnFillH.setAttribute("height",1+_587*2);this._rectUnFillH.setAttribute("width",_588/100+_586);this._rectUnFillH.setAttribute("y",-1*_587);this._rectUnFillH.setAttribute("x",-1*_586);if(this._animProps.directionV===_57c.EnumFillDirection.TOP){this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectFill.setAttribute("height",this._valueV/100+_587);this._rectFill.setAttribute("y",_589/100);this._rectUnFillV.setAttribute("width",this._valueH/100+_586);this._rectUnFillV.setAttribute("height",_589/100+_587);this._rectUnFillV.setAttribute("x",(100-this._valueH)/100);this._rectUnFillV.setAttribute("y",-1*_587);}else{this._rectFill.setAttribute("width",this._valueH/100+_586);this._rectFill.setAttribute("height",this._valueV/100+_587);this._rectUnFillV.setAttribute("width",this._valueH/100+_586);this._rectUnFillV.setAttribute("height",_589/100+_587);this._rectUnFillV.setAttribute("y",this._valueV/100);this._rectUnFillV.setAttribute("x",_588/100);}}}}});});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_58a){var _58b=_58a.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_58b==1&&date.isLeapYear(_58a)){return 29;}return days[_58b];};date.isLeapYear=function(_58c){var year=_58c.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_58d){var str=_58d.toString();var tz="";var _58e;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_58e=str.match(pat))){tz=_58e[1];}else{str=_58d.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_58e=str.match(pat))){tz=_58e[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_58f,_590,_591){_58f=new Date(+_58f);_590=new Date(+(_590||new Date()));if(_591=="date"){_58f.setHours(0,0,0,0);_590.setHours(0,0,0,0);}else{if(_591=="time"){_58f.setFullYear(0,0,0);_590.setFullYear(0,0,0);}}if(_58f>_590){return 1;}if(_58f<_590){return -1;}return 0;};date.add=function(date,_592,_593){var sum=new Date(+date);var _594=false;var _595="Date";switch(_592){case "day":break;case "weekday":var days,_596;var mod=_593%5;if(!mod){days=(_593>0)?5:-5;_596=(_593>0)?((_593-5)/5):((_593+5)/5);}else{days=mod;_596=parseInt(_593/5);}var strt=date.getDay();var adj=0;if(strt==6&&_593>0){adj=1;}else{if(strt==0&&_593<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_593>0)?2:-2;}_593=(7*_596)+days+adj;break;case "year":_595="FullYear";_594=true;break;case "week":_593*=7;break;case "quarter":_593*=3;case "month":_594=true;_595="Month";break;default:_595="UTC"+_592.charAt(0).toUpperCase()+_592.substring(1)+"s";}if(_595){sum["set"+_595](sum["get"+_595]()+_593);}if(_594&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_597,_598,_599){_598=_598||new Date();_599=_599||"day";var _59a=_598.getFullYear()-_597.getFullYear();var _59b=1;switch(_599){case "quarter":var m1=_597.getMonth();var m2=_598.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_59a*4);_59b=q2-q1;break;case "weekday":var days=Math.round(date.difference(_597,_598,"day"));var _59c=parseInt(date.difference(_597,_598,"week"));var mod=days%7;if(mod==0){days=_59c*5;}else{var adj=0;var aDay=_597.getDay();var bDay=_598.getDay();_59c=parseInt(days/7);mod=days%7;var _59d=new Date(_597);_59d.setDate(_59d.getDate()+(_59c*7));var _59e=_59d.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_59e+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_59e+mod)<0:adj=2;}}}days+=adj;days-=(_59c*2);}_59b=days;break;case "year":_59b=_59a;break;case "month":_59b=(_598.getMonth()-_597.getMonth())+(_59a*12);break;case "week":_59b=parseInt(date.difference(_597,_598,"day")/7);break;case "day":_59b/=24;case "hour":_59b/=60;case "minute":_59b/=60;case "second":_59b/=1000;case "millisecond":_59b*=_598.getTime()-_597.getTime();}return Math.round(_59b);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojox/mobile/_DataMixin":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(_59f,_5a0,_5a1,lang,_5a2){_59f.deprecated("dojox/mobile/_DataMixin","Use dojox/mobile/_StoreMixin instead","2.0");return _5a1("dojox.mobile._DataMixin",null,{store:null,query:null,queryOptions:null,setStore:function(_5a3,_5a4,_5a5){if(_5a3===this.store){return null;}this.store=_5a3;this._setQuery(_5a4,_5a5);if(_5a3&&_5a3.getFeatures()["dojo.data.api.Notification"]){_5a0.forEach(this._conn||[],this.disconnect,this);this._conn=[this.connect(_5a3,"onSet","onSet"),this.connect(_5a3,"onNew","onNew"),this.connect(_5a3,"onDelete","onDelete"),this.connect(_5a3,"close","onStoreClose")];}return this.refresh();},setQuery:function(_5a6,_5a7){this._setQuery(_5a6,_5a7);return this.refresh();},_setQuery:function(_5a8,_5a9){this.query=_5a8;this.queryOptions=_5a9||this.queryOptions;},refresh:function(){if(!this.store){return null;}var d=new _5a2();var _5aa=lang.hitch(this,function(_5ab,_5ac){this.onComplete(_5ab,_5ac);d.resolve();});var _5ad=lang.hitch(this,function(_5ae,_5af){this.onError(_5ae,_5af);d.resolve();});var q=this.query;this.store.fetch({query:q,queryOptions:this.queryOptions,onComplete:_5aa,onError:_5ad,start:q&&q.start,count:q&&q.count});return d;}});});},"dojo/currency":function(){define(["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(_5b0,lang,_5b1,i18n,_5b2,_5b3){var _5b4={};lang.setObject("dojo.currency",_5b4);_5b4._mixInDefaults=function(_5b5){_5b5=_5b5||{};_5b5.type="currency";var _5b6=i18n.getLocalization("dojo.cldr","currency",_5b5.locale)||{};var iso=_5b5.currency;var data=_5b3.getData(iso);_5b0.forEach(["displayName","symbol","group","decimal"],function(prop){data[prop]=_5b6[iso+"_"+prop];});data.fractional=[true,false];return lang.mixin(data,_5b5);};_5b4.format=function(_5b7,_5b8){return _5b1.format(_5b7,_5b4._mixInDefaults(_5b8));};_5b4.regexp=function(_5b9){return _5b1.regexp(_5b4._mixInDefaults(_5b9));};_5b4.parse=function(_5ba,_5bb){return _5b1.parse(_5ba,_5b4._mixInDefaults(_5bb));};return _5b4;});},"dojox/charting/plot2d/ClusteredColumns":function(){define(["dojo/_base/declare","./Columns","./common"],function(_5bc,_5bd,dc){return _5bc("dojox.charting.plot2d.ClusteredColumns",_5bd,{getBarProperties:function(){var f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);return {gap:f.gap,width:f.size,thickness:f.size};}});});},"ma/widget/myCanvas/BezierCurve":function(){define(["dojo/_base/declare"],function(_5be){return _5be("ma.widget.myCanvas.BezierCurve",null,{c1:0,c2:0,pos:null,bezierCurveTo:function(ctx){ctx.bezierCurveTo(this.c1.x,this.c1.y,this.c2.x,this.c2.y,this.pos.x,this.pos.y);}});});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_5bf,dom,lang,has,_5c0,_5c1){var _5c2=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _5c3="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _5c4=oSel.getRangeAt(0);if((_5c4.startContainer==_5c4.endContainer)&&((_5c4.endOffset-_5c4.startOffset)==1)&&(_5c4.startContainer.nodeType!=3)){_5c3="control";}}return _5c3;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _5c5=win.getSelection();return _5c5?_5c5.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _5c6=win.getSelection();if(_5c6&&_5c6.rangeCount){var i;var html="";for(i=0;i<_5c6.rangeCount;i++){var frag=_5c6.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _5c7=win.getSelection();return _5c7.anchorNode.childNodes[_5c7.anchorOffset];}else{var _5c8=doc.selection.createRange();if(_5c8&&_5c8.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _5c9=doc.getSelection();if(_5c9){var node=_5c9.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_5ca){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_5cb){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _5cc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _5cd=String(tags[i]).toLowerCase();if(_5cc==_5cd){return _5cd;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_5ce){if(doc.getSelection){var _5cf=win.getSelection();if(_5cf.removeAllRanges){if(_5ce){_5cf.collapseToStart();}else{_5cf.collapseToEnd();}}else{_5cf.collapse(_5ce);}}else{var _5d0=doc.selection.createRange();_5d0.collapse(_5ce);_5d0.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_5d1,_5d2){var _5d3;_5d1=dom.byId(_5d1);if(doc.getSelection){var _5d4=win.getSelection();if(has("opera")){if(_5d4.rangeCount){_5d3=_5d4.getRangeAt(0);}else{_5d3=doc.createRange();}_5d3.setStart(_5d1,0);_5d3.setEnd(_5d1,(_5d1.nodeType==3)?_5d1.length:_5d1.childNodes.length);_5d4.addRange(_5d3);}else{_5d4.selectAllChildren(_5d1);}}else{_5d3=_5d1.ownerDocument.body.createTextRange();_5d3.moveToElementText(_5d1);if(!_5d2){try{_5d3.select();}catch(e){}}}};this.selectElement=function(_5d5,_5d6){var _5d7;_5d5=dom.byId(_5d5);if(doc.getSelection){var _5d8=doc.getSelection();_5d7=doc.createRange();if(_5d8.removeAllRanges){if(has("opera")){if(_5d8.getRangeAt(0)){_5d7=_5d8.getRangeAt(0);}}_5d7.selectNode(_5d5);_5d8.removeAllRanges();_5d8.addRange(_5d7);}}else{try{var tg=_5d5.tagName?_5d5.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_5d7=_5c0.body(doc).createControlRange();}else{_5d7=_5c0.body(doc).createRange();}_5d7.addElement(_5d5);if(!_5d6){_5d7.select();}}catch(e){this.selectElementChildren(_5d5,_5d6);}}};this.inSelection=function(node){if(node){var _5d9;var _5da;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_5da=sel.getRangeAt(0);}if(_5da&&_5da.compareBoundaryPoints&&doc.createRange){try{_5d9=doc.createRange();_5d9.setStart(node,0);if(_5da.compareBoundaryPoints(_5da.START_TO_END,_5d9)===1){return true;}}catch(e){}}}else{_5da=doc.selection.createRange();try{_5d9=node.ownerDocument.body.createTextRange();_5d9.moveToElementText(node);}catch(e2){}if(_5da&&_5d9){if(_5da.compareEndPoints("EndToStart",_5d9)===1){return true;}}}}return false;},this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_5c1.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_5db){var mark=_5db.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_5bf.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _5dc=new _5c2(window);_5dc.SelectionManager=_5c2;return _5dc;});},"dojox/grid/DataGrid":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_5dd,_5de,lang,json,has,_5df,_5e0,_5e1,html){var _5e2=_5df("dojox.grid.DataGrid",_5e0,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},destroy:function(){this.selection.destroy();this.inherited(arguments);},createSelection:function(){this.selection=new _5e1(this);},get:function(_5e3,_5e4){if(_5e4&&this.field=="_item"&&!this.fields){return _5e4;}else{if(_5e4&&this.fields){var ret=[];var s=this.grid.store;_5de.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_5e4,f));});return ret;}else{if(!_5e4&&typeof _5e3==="string"){return this.inherited(arguments);}}}return (!_5e4?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_5e4:this.grid.store.getValue(_5e4,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _5e5=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_5e5=true;}if(!this.updating){this.beginUpdate();_5e5=true;}if(_5e5){var _5e6=this;this._endUpdateDelay=setTimeout(function(){delete _5e6._endUpdateDelay;_5e6.endUpdate();},this.updateDelay);}}},_onSet:function(item,_5e7,_5e8,_5e9){this._checkUpdateStatus();var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_createItem:function(item,_5ea){var idty=this._hasIdentity?this.store.getIdentity(item):json.toJson(this.query)+":idx:"+_5ea+":sort:"+json.toJson(this.getSortProps());var o=this._by_idty[idty]={idty:idty,item:item};return o;},_addItem:function(item,_5eb,_5ec){this._by_idx[_5eb]=this._createItem(item,_5eb);if(!_5ec){this.updateRow(_5eb);}},_onNew:function(item,_5ed){this._checkUpdateStatus();var _5ee=this.get("rowCount");this._addingItem=true;this.updateRowCount(_5ee+1);this._addingItem=false;this._addItem(item,_5ee);this.showMessage();},_onDelete:function(item){this._checkUpdateStatus();var idx=this._getItemIndex(item,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}if(this.selection.isSelected(idx)){this.selection.deselect(idx);this.selection.selected.splice(idx,1);}},_onRevert:function(){this._refresh();},setStore:function(_5ef,_5f0,_5f1){if(this._requestsPending(0)){return;}this._setQuery(_5f0,_5f1);this._setStore(_5ef);this._refresh(true);},setQuery:function(_5f2,_5f3){if(this._requestsPending(0)){return;}this._setQuery(_5f2,_5f3);this._refresh(true);},setItems:function(_5f4){this.items=_5f4;this._setStore(this.store);this._refresh(true);},_setQuery:function(_5f5,_5f6){this.query=_5f5;this.queryOptions=_5f6||this.queryOptions;},_setStore:function(_5f7){if(this.store&&this._store_connects){_5de.forEach(this._store_connects,this.disconnect,this);}this.store=_5f7;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(!this.scroller){return;}if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(size);}}if(!size){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_5f8,req){if(!this.scroller){return;}if(_5f8&&_5f8.length>0){_5de.forEach(_5f8,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_5f8.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}if(has("ie")){html.setSelectable(this.domNode,this.selectable);}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_5f9,_5fa){_5f9=_5f9||0;if(this.store&&!this._pending_requests[_5f9]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_5f9]=true;try{if(this.items){var _5fb=this.items;var _5fc=this.store;this.rowsPerPage=_5fb.length;var req={start:_5f9,count:this.rowsPerPage,isRender:_5fa};this._onFetchBegin(_5fb.length,req);var _5fd=0;_5de.forEach(_5fb,function(i){if(!_5fc.isItemLoaded(i)){_5fd++;}});if(_5fd===0){this._onFetchComplete(_5fb,req);}else{var _5fe=function(item){_5fd--;if(_5fd===0){this._onFetchComplete(_5fb,req);}};_5de.forEach(_5fb,function(i){if(!_5fc.isItemLoaded(i)){_5fc.loadItem({item:i,onItem:_5fe,scope:this});}},this);}}else{this.store.fetch({start:_5f9,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_5fa,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_5f9,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_5ff){if(!_5ff&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_600,_601){this.query=_600;if(_601){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_602){return this._pending_requests[_602];},_rowToPage:function(_603){return (this.rowsPerPage?Math.floor(_603/this.rowsPerPage):_603);},_pageToRow:function(_604){return (this.rowsPerPage?this.rowsPerPage*_604:_604);},_preparePage:function(_605){if((_605<this._bop||_605>=this._eop)&&!this._addingItem){var _606=this._rowToPage(_605);this._needPage(_606);this._bop=_606*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_607){if(!this._pages[_607]){this._pages[_607]=true;this._requestPage(_607);}},_requestPage:function(_608){var row=this._pageToRow(_608);var _609=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_609>0){this._requests++;if(!this._requestsPending(row)){setTimeout(lang.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_60a){return _60a.field;},_refresh:function(_60b){this._clearData();this._fetch(0,_60b);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_60c){if(this.store&&this.store.getState){var _60d=this.store.getState(_60c.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_60d[s]){c=" dojoxGridRow-"+s;break;}}_60c.customClasses+=c;}},onStyleRow:function(_60e){this.styleRowState(_60e);this.inherited(arguments);},canEdit:function(_60f,_610){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _611={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_612,_613){if(!this._cache[_613]){this._cache[_613]=this._copyAttr(_613,_612.field);}this.onStartEdit(_612,_613);},doApplyCellEdit:function(_614,_615,_616){this.store.fetchItemByIdentity({identity:this._by_idx[_615].idty,onItem:lang.hitch(this,function(item){var _617=this.store.getValue(item,_616);if(typeof _617=="number"){_614=isNaN(_614)?_614:parseFloat(_614);}else{if(typeof _617=="boolean"){_614=_614=="true"?true:_614=="false"?false:_614;}else{if(_617 instanceof Date){var _618=new Date(_614);_614=isNaN(_618.getTime())?_614:_618;}}}this.store.setValue(item,_616,_614);this.onApplyCellEdit(_614,_615,_616);})});},doCancelEdit:function(_619){var _61a=this._cache[_619];if(_61a){this.updateRow(_619);delete this._cache[_619];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_61b,_61c){var _61d=this._cache[_61b];this.onApplyEdit(_61b);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=lang.hitch(this,function(_61e){if(_61e.length){_5de.forEach(_61e,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});_5e2.cell_markupFactory=function(_61f,node,_620){var _621=lang.trim(html.attr(node,"field")||"");if(_621){_620.field=_621;}_620.field=_620.field||_620.name;var _622=lang.trim(html.attr(node,"fields")||"");if(_622){_620.fields=_622.split(",");}if(_61f){_61f(node,_620);}};_5e2.markupFactory=function(_623,node,ctor,_624){return _5e0.markupFactory(_623,node,ctor,lang.partial(_5e2.cell_markupFactory,_624));};return _5e2;});},"dojo/_base/query":function(){define(["../query","./NodeList"],function(_625){return _625;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_626,on,_627,has,_628){var _629=new _626();var _62a;_627(function(){var _62b=_628.getBox();_629._rlh=on(window,"resize",function(){var _62c=_628.getBox();if(_62b.h==_62c.h&&_62b.w==_62c.w){return;}_62b=_62c;_629.emit("resize");});if(has("ie")==8){var _62d=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_62d){_62d=screen.deviceXDPI;_629.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_62a=evt.target;});on(document,"focusout",function(evt){_62a=null;});}});_629.getEffectiveBox=function(doc){var box=_628.getBox(doc);var tag=_62a&&_62a.tagName&&_62a.tagName.toLowerCase();if(has("ios")&&_62a&&!_62a.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_62a.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_62a.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _629;});},"viewer/misc/gui/inputNum":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputNum.html","./helpers/css","dojo/touch","../enums"],function(_62e,_62f,_630,_631,_632,_633){return _62e("viewer.misc.gui.InputWindow",_62f,{templateString:_630,inputEvent:null,onWrite:null,onCancel:null,mask:null,_passwordType:false,_msg:"Obeject Hint",_textComponent:null,currentValue:null,range:null,_selectionStart:null,_selectionEnd:null,dataType:null,_isInitial:true,_validValue:null,startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;if((this.multiLine&&!this.range)||(this.multiLine&&this.range&&!this.range.isNumeric)){this._textComponent=this._txtAreaField;this._txtField.parentNode.removeChild(this._txtField);}else{this._textComponent=this._txtField;this._txtAreaField.parentNode.removeChild(this._txtAreaField);}this.inherited(arguments);dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._textComponent,_632.release,function(evt){self._onMouseUp(evt);});dojo.connect(this._textComponent,"keyup",function(evt){self._onKeyUp(evt);});dojo.connect(this._textComponent,"input",function(evt){self._onInput(evt);});dojo.connect(this._dlgContent.parentNode,_632.press,function(evt){self.close();});dojo.connect(this._dlgContent,_632.press,function(evt){event.stopPropagation();});if(this.mask){_631.setAttr(this._textComponent,"maxlength",this.mask.length);}if(this.currentValue){if(this.dataType==_633.EnumDataType.REAL||this.dataType==_633.EnumDataType.DOUBLE||this.dataType==_633.EnumDataType.INT){if(parseFloat(this.currentValue)===Infinity){this.currentValue="1.79769313486232E+308";}else{if(parseFloat(this.currentValue)===-Infinity){this.currentValue="-1.79769313486232E+308";}else{this.currentValue=parseFloat(this.currentValue);}}}this._currentValue.value=this.currentValue;this._textComponent.value=this.currentValue;this._validValue=this.currentValue;}if(dojo.isIos){setTimeout(function(){var _634=this._textComponent.type;this._textComponent.type="text";this._textComponent.selectionStart=0;this._textComponent.selectionEnd=this._textComponent.value.length;this._textComponent.type=_634;}.bind(this),300);}else{this._textComponent.select();}dojo.fadeIn({node:this._dlgContent,duration:100}).play();setTimeout(this._setFocus.bind(this),1);if(!this.range){this._minFieldContainer.parentNode.removeChild(this._minFieldContainer);this._maxFieldContainer.parentNode.removeChild(this._maxFieldContainer);}this._reset();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this._validateInput()){this._reset();if(this.onWrite){var _635=this._textComponent.value.trim();if(this.dataType==_633.EnumDataType.INT){_635=parseInt(parseFloat(_635));}this.onWrite(_635);}}},_onNumPress:function(evt){if(this._isInitial){this._setSelection();this._isInitial=false;}var _636=this._txtField.value;this._txtField.value=_636.substring(0,this._selectionStart)+evt.currentTarget.innerHTML+_636.substring(this._selectionEnd,_636.length);this._selectionStart=this._selectionStart+evt.currentTarget.innerHTML.length;this._selectionEnd=this._selectionStart;this._setFocus();},_onBackSpace:function(evt){if(this._txtField.value.length==0){return;}var _637=this._txtField.value;if(this._isInitial){this._setSelection();this._isInitial=false;}if(this._selectionStart==this._selectionEnd){this._selectionStart=this._selectionStart-1;}this._txtField.value=_637.substring(0,this._selectionStart)+_637.substring(this._selectionEnd,_637.length);this._selectionEnd=this._selectionStart;this._setFocus();},_onMouseUp:function(evt){this._setSelection();},_onKeyUp:function(evt){this._setSelection();},_onInput:function(evt){var reg=/[^\-\+\.\Ee\d+]/;var _638=this._textComponent.value.trim();if(_638==""||!reg.test(_638)){this._validValue=this._textComponent.value;}else{this._textComponent.value=this._validValue;}},_onKeyPress:function(evt){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;case 33:this._setFocusAtStart();break;case 34:this._setFocusAtEnd();break;}this._setSelection();},_setFocusAtStart:function(){this._selectionStart=0;this._selectionEnd=0;this._setFocus();},_setFocusAtEnd:function(){this._selectionStart=this._txtField.value.length;this._selectionEnd=this._txtField.value.length;this._setFocus();},_setSelection:function(){this._selectionStart=Math.min(this._txtField.selectionStart,this._txtField.selectionEnd);this._selectionEnd=Math.max(this._txtField.selectionStart,this._txtField.selectionEnd);},_setFocus:function(){this._cancelBtn.focus();if(this._selectionStart==null){this._selectionStart=0;}if(this._selectionEnd==null){this._selectionEnd=this._txtField.value.length;}this._txtField.setSelectionRange(this._selectionStart,this._selectionEnd);},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},_setMessageErrorAttr:function(msg){this._dlgErrorMessage.innerHTML=msg;},_reset:function(){this._dlgErrorMessage.innerHTML="";},setRequired:function(_639){if(_639){_631.setAttr(this._txtField,"required","true");}},setTypeAndRangeAttr:function(opts){this.range={};if(opts&&opts.isNumeric){this.range.isNumeric=true;this.setRequired(true);if(!(opts.min===null)&&!(isNaN(parseFloat(opts.min)))&&opts.isRestrict){this._minField.value=parseFloat(opts.min);}else{if(this.dataType==_633.EnumDataType.REAL){this._minField.value=_633.DataRange.FLOATMIN;}else{if(this.dataType==_633.EnumDataType.DOUBLE){this._minField.value=_633.DataRange.DOUBLEMIN;}else{if(this.dataType==_633.EnumDataType.INT){this._minField.value=_633.DataRange.INTMIN;}else{this._minField.value=_633.DataRange.DOUBLEMIN;}}}}if(!(opts.max===null)&&!(isNaN(parseFloat(opts.max)))&&opts.isRestrict){this._maxField.value=parseFloat(opts.max);}else{if(this.dataType==_633.EnumDataType.REAL){this._maxField.value=_633.DataRange.FLOATMAX;}else{if(this.dataType==_633.EnumDataType.DOUBLE){this._maxField.value=_633.DataRange.DOUBLEMAX;}else{if(this.dataType==_633.EnumDataType.INT){this._maxField.value=_633.DataRange.INTMAX;}else{this._maxField.value=_633.DataRange.DOUBLEMAX;}}}}}},_selectAll:function(){this._textComponent.focus();this._textComponent.setSelectionRange(0,this._textComponent.value.length);this._selectionStart=0;this._selectionEnd=this._textComponent.value.length;},_validateInput:function(evt){var _63a=false;var reg=/^([\-\+]?\d+)(\.\d+)?(([Ee])([\-\+]?\d+))?$/;var _63b=/^([\-\+]?\.\d+)(([Ee])([\-\+]?\d+))?$/;var _63c=this._txtField.value.trim();if(!reg.test(_63c)&&!_63b.test(_63c)){this._setMessageErrorAttr("Invalid floating point value");dojo.style(this._txtField,"border","2px solid red");this._selectAll();_63a=false;}else{if(parseFloat(_63c)>parseFloat(this._maxField.value)||parseFloat(_63c)<parseFloat(this._minField.value)){this._setMessageErrorAttr("New value must be from "+this._minField.value+" to "+this._maxField.value);dojo.style(this._txtField,"border","2px solid red");this._selectAll();_63a=false;}else{this._reset();dojo.style(this._txtField,"border","");_63a=true;}}return _63a;}});});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_63d,_63e,_63f,_640,_641,dom,_642,_643,_644,fx,i18n,keys,lang,on,_645,has,_646,_647,_648,_649,_64a,_64b,_64c,_64d,_64e,_64f,_650,_651,_652){var _653=_640("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_64c,_64e,_64f,_64d],{templateString:_652,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_64a.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _654=i18n.getLocalization("dijit","common");lang.mixin(this,_654);this.inherited(arguments);},postCreate:function(){_644.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_63f.after(this,"onExecute",lang.hitch(this,"hide"),true);_63f.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this._size();this._position();if(this.autofocus&&_655.isTop(this)){this._getFocusItems(this.domNode);_649.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems(this.domNode);_649.focus(this._firstFocusItem);},_endDrag:function(){var _656=_643.position(this.domNode),_657=_646.getBox(this.ownerDocument);_656.y=Math.min(Math.max(_656.y,0),(_657.h-_656.h));_656.x=Math.min(Math.max(_656.x,0),(_657.w-_656.w));this._relativePosition=_656;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_648:_647)(node,{handle:this.titleBar});_63f.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_642.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_63e.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_644.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_643.position(this.domNode);var _658=_646.getBox(this.ownerDocument);_658.w*=this.maxRatio;_658.h*=this.maxRatio;if(bb.w>=_658.w||bb.h>=_658.h){var _659=_643.position(this.containerNode),w=Math.min(bb.w,_658.w)-(bb.w-_659.w),h=Math.min(bb.h,_658.h)-(bb.h-_659.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_644.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_642.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_65a=_646.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_643.position(node),l=Math.floor(_65a.l+(p?p.x:(_65a.w-bb.w)/2)),t=Math.floor(_65a.t+(p?p.y:(_65a.h-bb.h)/2));_644.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems(this.domNode);var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_649.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_649.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_655.hide(this);}var win=_646.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_644.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _65b;this._fadeInDeferred=new _641(lang.hitch(this,function(){_65b.stop();delete this._fadeInDeferred;}));var _65c=this._fadeInDeferred.promise;_65b=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_655.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_655.isTop(this)){this._getFocusItems(this.domNode);_649.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _65c;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _65d;this._fadeOutDeferred=new _641(lang.hitch(this,function(){_65d.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _65e=this._fadeOutDeferred.promise;_65d=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_655.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _65e;},resize:function(){if(this.domNode.style.display!="none"){this._size();if(!has("touch")){this._position();}}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_655.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_653=_640("dijit._DialogBase",_653,{_setTitleAttr:function(_65f){this._set("title",_65f);this.titleNode.innerHTML=_65f;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_660){if(this._created&&this.textDir!=_660){this._set("textDir",_660);this.set("title",this.title);}}});}var _661=_640("dijit.Dialog",[_651,_653],{});_661._DialogBase=_653;var _655=_661._DialogLevelManager={_beginZIndex:950,show:function(_662,_663){ds[ds.length-1].focus=_649.curNode;var _664=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_661._DialogLevelManager._beginZIndex;_644.set(_662.domNode,"zIndex",_664);_650.show(_663,_664-1);ds.push({dialog:_662,underlayAttrs:_663,zIndex:_664});},hide:function(_665){if(ds[ds.length-1].dialog==_665){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_650.hide();}else{_650.show(pd.underlayAttrs,pd.zIndex-1);}if(_665.refocus){var _666=pd.focus;if(pd.dialog&&(!_666||!dom.isDescendant(_666,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_666=pd.dialog._firstFocusItem;}if(_666){try{_666.focus();}catch(e){}}}}else{var idx=_63e.indexOf(_63e.map(ds,function(elem){return elem.dialog;}),_665);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_667){return ds[ds.length-1].dialog==_667;}};var ds=_661._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_649.watch("curNode",function(attr,_668,node){var _669=ds[ds.length-1].dialog;if(node&&_669&&!_669._fadeOutDeferred&&node.ownerDocument==_669.ownerDocument){do{if(node==_669.domNode||_642.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_669.focus();}});if(has("dijit-legacy-requires")){_645(0,function(){var _66a=["dijit/TooltipDialog"];_63d(_66a);});}return _661;});},"viewer/object/shape/Ellipse":function(){define(["dojo/_base/declare","../_base","../../misc/enums","dojo/text!./ellipse.html"],function(_66b,_66c,_66d,_66e){return _66b("viewer.object.shape.Ellipse",_66c,{templateString:_66e,align:null,roundness:{x:0,y:0},_center:{cx:0,cy:0},buildRendering:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);this._parseCenter();if(this._attr.type!==_66d.EnumEllipseType.ELLIPSE){this._guiHelper.addClass(this.domNode,"viewer-style-common-invisible");}},_setWidthAttr:function(v){var _66f=0;if(parseFloat(v)<_66f){v=_66f;}var _670=parseFloat(this._attr.size.w);this._attr.size.w=parseFloat(v);_670=this._attr.size.w-_670;this._guiHelper.setAttribute(this._xGroup,"width",v);this._guiHelper.setAttribute(this._xComponent,"width",v);this._inflatedPosition.right=parseFloat(this._inflatedPosition.right)+_670;this._parseCenter();},_setHeightAttr:function(v){var _671=0;if(parseFloat(v)<_671){v=_671;}var _672=parseFloat(this._attr.size.h);this._attr.size.h=parseFloat(v);_672=this._attr.size.h-_672;this._guiHelper.setAttribute(this._xGroup,"height",v);this._guiHelper.setAttribute(this._xComponent,"height",v);this._inflatedPosition.bottom=parseFloat(this._inflatedPosition.bottom)+_672;this._parseCenter();},_parseCenter:function(){if(!this._xComponent){return;}var b=parseInt(this._attr.border.width);if(this._attr.engine==_66d.EnumRuntimeScadaEngine.ArchestrA){b=this._inflatedPosition.factor*2;}this._center.cx=(this._attr.size.w/2)+(b/2);this._center.cy=(this._attr.size.h/2)+(b/2);if(this._attr.engine==_66d.EnumRuntimeScadaEngine.ArchestrA){this._guiHelper.setAttribute(this._xComponent,"cx",Math.floor(this._center.cx));this._guiHelper.setAttribute(this._xComponent,"cy",Math.floor(this._center.cy));}else{this._guiHelper.setAttribute(this._xComponent,"cx",this._center.cx);this._guiHelper.setAttribute(this._xComponent,"cy",this._center.cy);}this._parseRoundness();},_parseRoundness:function(){if(!this._xComponent){return;}if(!this._attr.roundness){this._attr.roundness={x:0,y:0};}var size={w:Math.max(0,(this._inflatedPosition.right-this._inflatedPosition.left)),h:Math.max(0,(this._inflatedPosition.bottom-this._inflatedPosition.top))};this._guiHelper.setSize(this.domNode,size);if(this._getWrapperNodeAttr()===this.domNode){this._guiHelper.setTop(this.domNode,this._inflatedPosition.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left+"px");this._setMatrixOrigin(this._inflatedPosition.left,this._inflatedPosition.top);}else{this._guiHelper.setTop(this.domNode,this._inflatedPosition.top-this._attr.position.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left-this._attr.position.left+"px");}this._attr.roundness.x=this._attr.size.w/2;this._attr.roundness.y=this._attr.size.h/2;this._guiHelper.setAttribute(this._xComponent,"rx",this._attr.roundness.x);this._guiHelper.setAttribute(this._xComponent,"ry",this._attr.roundness.y);},_updateRectSize:function(_673,_674){this.inherited(arguments);this._updateScaledSize(_673,_674);},_onAfterSetRectAttr:function(){this.inherited(arguments);this._updateToInitialSize();}});});},"viewer/animation/_base":function(){define(["dojo/_base/declare","../misc/common/_PrepareTag","../misc/enums"],function(_675,_676,_677){return _675("viewer.animation._base",[_676],{_widget:null,_gRefExpressionContainer:null,_view:null,_animProps:null,_isDisabled:0,_commandNode:null,_guiHelper:null,constructor:function(_678,_679){this._widget=_678;this._guiHelper=this._widget.getGUIHelper();this._commandNode=this._widget._getCommandNodeAttr();this._view=dijit.byId("_x_viewer_Viewer");this._animProps=_679;this._prepareAnimTag(this._animProps);},update:function(){this._execUpdate();var _67a=this._securitySystem.isAuthorized(this._animProps.security);if((this._animProps.disable&&this._animProps.disable!==this._isDisabled)||_67a===false){this._execDisable();}else{if(_67a===true&&this._isDisabled===1){this._execDisable();}}},_execUpdate:function(){if(console&&console.debug){}},_execDisable:function(){var _67b=this._securitySystem.isAuthorized(this._animProps.security);if(_67b===false){this._isDisabled=1;this._widget.applyDisable(this,this._isDisabled);return;}else{if(isNaN(this._animProps.disable)===true&&this._isDisabled===0){return;}}this._isDisabled=isNaN(this._animProps.disable)?0:this._animProps.disable;this._widget.applyDisable(this,this._isDisabled);},operatorHandle:function(_67c,_67d){var opt=null;if(typeof _67c==="object"||!_67c){return opt;}if(!_67d){return;}for(var i=0;i<_67d.length;i++){if(_67d[i].operator&&_67d[i].value!=null){var _67e=_67d[i].operator;var _67f=_67c.toLowerCase();var _680=_67d[i].value.toLowerCase();var _681=false;if(_67d[i].referenceType=="String"){_681=true;}switch(_67e){case "LessThanEqual":if((_681&&(_67f<=_680))||(!_681&&this._parseComparisonValue(_67f)<=this._parseComparisonValue(_680))){opt=_67d[i];}break;case "LessThan":if((_681&&(_67f<_680))||(!_681&&this._parseComparisonValue(_67f)<this._parseComparisonValue(_680))){opt=_67d[i];}break;case "Equal":if((_681&&(_67f==_680))||(!_681&&this._parseComparisonValue(_67f)==this._parseComparisonValue(_680))){opt=_67d[i];}break;case "GreaterThan":if((_681&&(_67f>_680))||(!_681&&this._parseComparisonValue(_67f)>this._parseComparisonValue(_680))){opt=_67d[i];}break;case "GreaterThanEqual":if((_681&&(_67f>=_680))||(!_681&&this._parseComparisonValue(_67f)>=this._parseComparisonValue(_680))){opt=_67d[i];}break;}}if(opt&&opt!=null){break;}}return opt;},startup:function(){if(this._widget._attr.engine==_677.EnumRuntimeScadaEngine.ArchestrA){var node=this._getTouchCommandNode();if(node!=null){var self=this;if((typeof document.ontouchstart)!="undefined"&&(typeof document.ontouchend)!="undefined"){node.addEventListener("touchstart",function(evt){self._setIsHandledByAnimation(evt);},false);node.addEventListener("touchend",function(evt){self._setIsHandledByAnimation(evt);},false);}if((typeof document.onpointerdown)!="undefined"&&(typeof document.onpointerup)!="undefined"){node.addEventListener("pointerdown",function(evt){self._setIsHandledByAnimation(evt);},false);node.addEventListener("pointerup",function(evt){self._setIsHandledByAnimation(evt);},false);}if((typeof document.onmspointerdown)!="undefined"&&(typeof document.onmspointerup)!="undefined"){node.addEventListener("mspointerdown",function(evt){self._setIsHandledByAnimation(evt);},false);node.addEventListener("mspointerup",function(evt){self._setIsHandledByAnimation(evt);},false);}}}},destroy:function(){},onChangeProperty:function(_682){},_parseComparisonValue:function(_683){if(_683!=null){var _684=_683.toString().toLowerCase();if(_684==="true"||_684==="1"){return 1;}else{if(_684==="false"||_684==="0"){return 0;}}}return parseFloat(_683);},_getTouchCommandNode:function(){return null;},_getIsHandledByAnimation:function(evt){return null;},_setIsHandledByAnimation:function(evt){evt.isHandledByAnimation=this._getIsHandledByAnimation(evt);}});});},"viewer/object/data/AlarmEvent":function(){define(["dojo/_base/declare","../_base","dojo/text!./alarmEvent.html"],function(_685,_686,_687){return _685("viewer.object.data.AlarmEvent",_686,{templateString:_687});});},"dojox/html/metrics":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_688,lang,has,_689,_68a,_68b,_68c){var dhm=lang.getObject("dojox.html.metrics",true);var _68d=lang.getObject("dojox");dhm.getFontMeasurements=function(){var _68e={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(has("ie")){_68b.doc.documentElement.style.fontSize="100%";}var div=_68b.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_68b.body().appendChild(div);for(var p in _68e){ds.fontSize=p;_68e[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}_68b.body().removeChild(div);div=null;return _68e;};var _68f=null;dhm.getCachedFontMeasurements=function(_690){if(_690||!_68f){_68f=dhm.getFontMeasurements();}return _68f;};var _691=null,_692={};dhm.getTextBox=function(text,_693,_694){var m,s;if(!_691){m=_691=_68b.doc.createElement("div");var c=_68b.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_68b.body().appendChild(c);}else{m=_691;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_693){for(var i in _693){if(i in _692){continue;}s[i]=_693[i];}}if(arguments.length>2&&_694){m.className=_694;}m.innerHTML=text;var box=_68c.position(m);box.w=m.parentNode.scrollWidth;return box;};var _695={w:16,h:16};dhm.getScrollbar=function(){return {w:_695.w,h:_695.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_696){var f=dhm._fontResizeNode=_68b.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_68d._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_68d._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_68b.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_68a.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_689(function(){try{var n=_68b.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_68b.body().appendChild(n);_695.w=n.offsetWidth-n.clientWidth;_695.h=n.offsetHeight-n.clientHeight;_68b.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _688.config&&!!_688.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_697,date,_698,i18n,_699,_69a,_69b,_69c){var _69d={};lang.setObject(_69c.id.replace(/\//g,"."),_69d);function _69e(_69f,_6a0,_6a1,_6a2){return _6a2.replace(/([a-z])\1*/ig,function(_6a3){var s,pad,c=_6a3.charAt(0),l=_6a3.length,_6a4=["abbr","wide","narrow"];switch(c){case "G":s=_6a0[(l<4)?"eraAbbr":"eraNames"][_69f.getFullYear()<0?0:1];break;case "y":s=_69f.getFullYear();switch(l){case 1:break;case 2:if(!_6a1.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_69f.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_69f.getMonth();if(l<3){s=m+1;pad=true;}else{var _6a5=["months",c=="L"?"standAlone":"format",_6a4[l-3]].join("-");s=_6a0[_6a5][m];}break;case "w":var _6a6=0;s=_69d._getWeekOfYear(_69f,_6a6);pad=true;break;case "d":s=_69f.getDate();pad=true;break;case "D":s=_69d._getDayOfYear(_69f);pad=true;break;case "e":case "c":var d=_69f.getDay();if(l<2){s=(d-_698.getFirstDayOfWeek(_6a1.locale)+8)%7;break;}case "E":d=_69f.getDay();if(l<3){s=d+1;pad=true;}else{var _6a7=["days",c=="c"?"standAlone":"format",_6a4[l-3]].join("-");s=_6a0[_6a7][d];}break;case "a":var _6a8=_69f.getHours()<12?"am":"pm";s=_6a1[_6a8]||_6a0["dayPeriods-format-wide-"+_6a8];break;case "h":case "H":case "K":case "k":var h=_69f.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_69f.getMinutes();pad=true;break;case "s":s=_69f.getSeconds();pad=true;break;case "S":s=Math.round(_69f.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_69d._getZone(_69f,true,_6a1);if(s){break;}l=4;case "Z":var _6a9=_69d._getZone(_69f,false,_6a1);var tz=[(_6a9<=0?"+":"-"),_69a.pad(Math.floor(Math.abs(_6a9)/60),2),_69a.pad(Math.abs(_6a9)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_6a2);}if(pad){s=_69a.pad(s,l);}return s;});};_69d._getZone=function(_6aa,_6ab,_6ac){if(_6ab){return date.getTimezoneName(_6aa);}else{return _6aa.getTimezoneOffset();}};_69d.format=function(_6ad,_6ae){_6ae=_6ae||{};var _6af=i18n.normalizeLocale(_6ae.locale),_6b0=_6ae.formatLength||"short",_6b1=_69d._getGregorianBundle(_6af),str=[],_6b2=lang.hitch(this,_69e,_6ad,_6b1,_6ae);if(_6ae.selector=="year"){return _6b3(_6b1["dateFormatItem-yyyy"]||"yyyy",_6b2);}var _6b4;if(_6ae.selector!="date"){_6b4=_6ae.timePattern||_6b1["timeFormat-"+_6b0];if(_6b4){str.push(_6b3(_6b4,_6b2));}}if(_6ae.selector!="time"){_6b4=_6ae.datePattern||_6b1["dateFormat-"+_6b0];if(_6b4){str.push(_6b3(_6b4,_6b2));}}return str.length==1?str[0]:_6b1["dateTimeFormat-"+_6b0].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_6b5,key){return str[key];});};_69d.regexp=function(_6b6){return _69d._parseInfo(_6b6).regexp;};_69d._parseInfo=function(_6b7){_6b7=_6b7||{};var _6b8=i18n.normalizeLocale(_6b7.locale),_6b9=_69d._getGregorianBundle(_6b8),_6ba=_6b7.formatLength||"short",_6bb=_6b7.datePattern||_6b9["dateFormat-"+_6ba],_6bc=_6b7.timePattern||_6b9["timeFormat-"+_6ba],_6bd;if(_6b7.selector=="date"){_6bd=_6bb;}else{if(_6b7.selector=="time"){_6bd=_6bc;}else{_6bd=_6b9["dateTimeFormat-"+_6ba].replace(/\{(\d+)\}/g,function(_6be,key){return [_6bc,_6bb][key];});}}var _6bf=[],re=_6b3(_6bd,lang.hitch(this,_6c0,_6bf,_6b9,_6b7));return {regexp:re,tokens:_6bf,bundle:_6b9};};_69d.parse=function(_6c1,_6c2){var _6c3=/[\u200E\u200F\u202A\u202E]/g,info=_69d._parseInfo(_6c2),_6c4=info.tokens,_6c5=info.bundle,re=new RegExp("^"+info.regexp.replace(_6c3,"")+"$",info.strict?"":"i"),_6c6=re.exec(_6c1&&_6c1.replace(_6c3,""));if(!_6c6){return null;}var _6c7=["abbr","wide","narrow"],_6c8=[1970,0,1,0,0,0,0],amPm="",_6c9=_697.every(_6c6,function(v,i){if(!i){return true;}var _6ca=_6c4[i-1],l=_6ca.length,c=_6ca.charAt(0);switch(c){case "y":if(l!=2&&_6c2.strict){_6c8[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_6cb=year.substring(0,2)*100,_6cc=Math.min(Number(year.substring(2,4))+20,99);_6c8[0]=(v<_6cc)?_6cb+v:_6cb-100+v;}else{if(_6c2.strict){return false;}_6c8[0]=v;}}break;case "M":case "L":if(l>2){var _6cd=_6c5["months-"+(c=="L"?"standAlone":"format")+"-"+_6c7[l-3]].concat();if(!_6c2.strict){v=v.replace(".","").toLowerCase();_6cd=_697.map(_6cd,function(s){return s.replace(".","").toLowerCase();});}v=_697.indexOf(_6cd,v);if(v==-1){return false;}}else{v--;}_6c8[1]=v;break;case "E":case "e":case "c":var days=_6c5["days-"+(c=="c"?"standAlone":"format")+"-"+_6c7[l-3]].concat();if(!_6c2.strict){v=v.toLowerCase();days=_697.map(days,function(d){return d.toLowerCase();});}v=_697.indexOf(days,v);if(v==-1){return false;}break;case "D":_6c8[1]=0;case "d":_6c8[2]=v;break;case "a":var am=_6c2.am||_6c5["dayPeriods-format-wide-am"],pm=_6c2.pm||_6c5["dayPeriods-format-wide-pm"];if(!_6c2.strict){var _6ce=/\./g;v=v.replace(_6ce,"").toLowerCase();am=am.replace(_6ce,"").toLowerCase();pm=pm.replace(_6ce,"").toLowerCase();}if(_6c2.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_6c8[3]=v;break;case "m":_6c8[4]=v;break;case "s":_6c8[5]=v;break;case "S":_6c8[6]=v;}return true;});var _6cf=+_6c8[3];if(amPm==="p"&&_6cf<12){_6c8[3]=_6cf+12;}else{if(amPm==="a"&&_6cf==12){_6c8[3]=0;}}var _6d0=new Date(_6c8[0],_6c8[1],_6c8[2],_6c8[3],_6c8[4],_6c8[5],_6c8[6]);if(_6c2.strict){_6d0.setFullYear(_6c8[0]);}var _6d1=_6c4.join(""),_6d2=_6d1.indexOf("d")!=-1,_6d3=_6d1.indexOf("M")!=-1;if(!_6c9||(_6d3&&_6d0.getMonth()>_6c8[1])||(_6d2&&_6d0.getDate()>_6c8[2])){return null;}if((_6d3&&_6d0.getMonth()<_6c8[1])||(_6d2&&_6d0.getDate()<_6c8[2])){_6d0=date.add(_6d0,"hour",1);}return _6d0;};function _6b3(_6d4,_6d5,_6d6,_6d7){var _6d8=function(x){return x;};_6d5=_6d5||_6d8;_6d6=_6d6||_6d8;_6d7=_6d7||_6d8;var _6d9=_6d4.match(/(''|[^'])+/g),_6da=_6d4.charAt(0)=="'";_697.forEach(_6d9,function(_6db,i){if(!_6db){_6d9[i]="";}else{_6d9[i]=(_6da?_6d6:_6d5)(_6db.replace(/''/g,"'"));_6da=!_6da;}});return _6d7(_6d9.join(""));};function _6c0(_6dc,_6dd,_6de,_6df){_6df=_699.escapeString(_6df);if(!_6de.strict){_6df=_6df.replace(" a"," ?a");}return _6df.replace(/([a-z])\1*/ig,function(_6e0){var s,c=_6e0.charAt(0),l=_6e0.length,p2="",p3="";if(_6de.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_6de.am||_6dd["dayPeriods-format-wide-am"],pm=_6de.pm||_6dd["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_6de.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_6dc){_6dc.push(_6e0);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _6e1=[];_69d.addCustomFormats=function(_6e2,_6e3){_6e1.push({pkg:_6e2,name:_6e3});};_69d._getGregorianBundle=function(_6e4){var _6e5={};_697.forEach(_6e1,function(desc){var _6e6=i18n.getLocalization(desc.pkg,desc.name,_6e4);_6e5=lang.mixin(_6e5,_6e6);},this);return _6e5;};_69d.addCustomFormats(_69c.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_69d.getNames=function(item,type,_6e7,_6e8){var _6e9,_6ea=_69d._getGregorianBundle(_6e8),_6eb=[item,_6e7,type];if(_6e7=="standAlone"){var key=_6eb.join("-");_6e9=_6ea[key];if(_6e9[0]==1){_6e9=undefined;}}_6eb[1]="format";return (_6e9||_6ea[_6eb.join("-")]).concat();};_69d.isWeekend=function(_6ec,_6ed){var _6ee=_698.getWeekend(_6ed),day=(_6ec||new Date()).getDay();if(_6ee.end<_6ee.start){_6ee.end+=7;if(day<_6ee.start){day+=7;}}return day>=_6ee.start&&day<=_6ee.end;};_69d._getDayOfYear=function(_6ef){return date.difference(new Date(_6ef.getFullYear(),0,1,_6ef.getHours()),_6ef)+1;};_69d._getWeekOfYear=function(_6f0,_6f1){if(arguments.length==1){_6f1=0;}var _6f2=new Date(_6f0.getFullYear(),0,1).getDay(),adj=(_6f2-_6f1+7)%7,week=Math.floor((_69d._getDayOfYear(_6f0)+adj-1)/7);if(_6f2==_6f1){week++;}return week;};return _69d;});},"dojox/charting/plot2d/Default":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_6f3,arr,has,_6f4,_6f5,dc,df,dfr,du,fx){var _6f6=dfr.lambda("item.purgeGroup()");var _6f7=1200;return _6f3("dojox.charting.plot2d.Default",[_6f4,_6f5],{defaultParams:{lines:true,areas:false,markers:false,tension:"",animate:false,enableCache:false,interpolate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_6f8,_6f9){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_6f9);du.updateWithPattern(this.opt,_6f9,this.optionalParams);this.animate=this.opt.animate;},createPath:function(run,_6fa,_6fb){var path;if(this.opt.enableCache&&run._pathFreePool.length>0){path=run._pathFreePool.pop();path.setShape(_6fb);_6fa.add(path);}else{path=_6fa.createPath(_6fb);}if(this.opt.enableCache){run._pathUsePool.push(path);}return path;},buildSegments:function(i,_6fc){var run=this.series[i],min=_6fc?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_6fc?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length,rseg=null,_6fd=[];for(var j=min;j<max;j++){if(run.data[j]!=null&&(_6fc||run.data[j].y!=null)){if(!rseg){rseg=[];_6fd.push({index:j,rseg:rseg});}rseg.push((_6fc&&run.data[j].hasOwnProperty("y"))?run.data[j].y:run.data[j]);}else{if(!this.opt.interpolate||_6fc){rseg=null;}}}return _6fd;},render:function(dim,_6fe){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_6fe);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_6f6);this._eventSeries={};this.cleanGroup();this.getGroup().setTransform(null);s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_6ff,_700,_701=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._pathFreePool=(run._pathFreePool?run._pathFreePool:[]).concat(run._pathUsePool?run._pathUsePool:[]);run._pathUsePool=[];}if(!run.data.length){run.dirty=false;t.skip();continue;}var _702=t.next(this.opt.areas?"area":"line",[this.opt,run],true),_703,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_704=this._eventSeries[run.name]=new Array(run.data.length);s=run.group;var _705=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var _706=this.buildSegments(i,_705);for(var seg=0;seg<_706.length;seg++){var _707=_706[seg];if(_705){_703=arr.map(_707.rseg,function(v,i){return {x:ht(i+_707.index+1)+_6fe.l,y:dim.height-_6fe.b-vt(v),data:v};},this);}else{_703=arr.map(_707.rseg,function(v){return {x:ht(v.x)+_6fe.l,y:dim.height-_6fe.b-vt(v.y),data:v};},this);}if(_705&&this.opt.interpolate){while(seg<_706.length){seg++;_707=_706[seg];if(_707){_703=_703.concat(arr.map(_707.rseg,function(v,i){return {x:ht(i+_707.index+1)+_6fe.l,y:dim.height-_6fe.b-vt(v),data:v};},this));}}}var _708=this.opt.tension?dc.curve(_703,this.opt.tension):"";if(this.opt.areas&&_703.length>1){var fill=this._plotFill(_702.series.fill,dim,_6fe),_709=lang.clone(_703);if(this.opt.tension){var _70a="L"+_709[_709.length-1].x+","+(dim.height-_6fe.b)+" L"+_709[0].x+","+(dim.height-_6fe.b)+" L"+_709[0].x+","+_709[0].y;run.dyn.fill=s.createPath(_708+" "+_70a).setFill(fill).getFill();}else{_709.push({x:_703[_703.length-1].x,y:dim.height-_6fe.b});_709.push({x:_703[0].x,y:dim.height-_6fe.b});_709.push(_703[0]);run.dyn.fill=s.createPolyline(_709).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_6ff=_702.series.stroke;if(_702.series.outline){_700=run.dyn.outline=dc.makeStroke(_702.series.outline);_700.width=2*_700.width+_6ff.width;}}if(this.opt.markers){run.dyn.marker=_702.symbol;}var _70b=null,_70c=null,_70d=null;if(_6ff&&_702.series.shadow&&_703.length>1){var _70e=_702.series.shadow,_70f=arr.map(_703,function(c){return {x:c.x+_70e.dx,y:c.y+_70e.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_70f,this.opt.tension)).setStroke(_70e).getStroke();}else{run.dyn.shadow=s.createPolyline(_70f).setStroke(_70e).getStroke();}}if(this.opt.markers&&_702.marker.shadow){_70e=_702.marker.shadow;_70d=arr.map(_70f,function(c){return this.createPath(run,s,"M"+c.x+" "+c.y+" "+_702.symbol).setStroke(_70e).setFill(_70e.color);},this);}}if(this.opt.lines&&_703.length>1){var _710;if(_700){if(this.opt.tension){run.dyn.outline=s.createPath(_708).setStroke(_700).getStroke();}else{run.dyn.outline=s.createPolyline(_703).setStroke(_700).getStroke();}}if(this.opt.tension){run.dyn.stroke=(_710=s.createPath(_708)).setStroke(_6ff).getStroke();}else{run.dyn.stroke=(_710=s.createPolyline(_703)).setStroke(_6ff).getStroke();}if(_710.setFilter&&_702.series.filter){_710.setFilter(_702.series.filter);}}var _711=null;if(this.opt.markers){var _712=_702;_70b=new Array(_703.length);_70c=new Array(_703.length);_700=null;if(_712.marker.outline){_700=dc.makeStroke(_712.marker.outline);_700.width=2*_700.width+(_712.marker.stroke?_712.marker.stroke.width:0);}arr.forEach(_703,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _713=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_713.push(this.opt.styleFunc(c.data));}_712=t.addMixin(_702,"marker",_713,true);}else{_712=t.post(_702,"marker");}var path="M"+c.x+" "+c.y+" "+_712.symbol;if(_700){_70c[i]=this.createPath(run,s,path).setStroke(_700);}_70b[i]=this.createPath(run,s,path).setStroke(_712.marker.stroke).setFill(_712.marker.fill);},this);run.dyn.markerFill=_712.marker.fill;run.dyn.markerStroke=_712.marker.stroke;if(!_711&&this.opt.labels){_711=_70b[0].getBoundingBox();}if(_701){arr.forEach(_70b,function(s,i){var o={element:"marker",index:i+_707.index,run:run,shape:s,outline:_70c[i]||null,shadow:_70d&&_70d[i]||null,cx:_703[i].x,cy:_703[i].y};if(_705){o.x=i+_707.index+1;o.y=run.data[i+_707.index];}else{o.x=_707.rseg[i].x;o.y=run.data[i+_707.index].y;}this._connectEvents(o);_704[i+_707.index]=o;},this);}else{delete this._eventSeries[run.name];}}if(this.opt.labels){var _714=_711?_711.width:2;var _715=_711?_711.height:2;arr.forEach(_703,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _716=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_716.push(this.opt.styleFunc(c.data));}_712=t.addMixin(_702,"marker",_716,true);}else{_712=t.post(_702,"marker");}this.createLabel(s,_707.rseg[i],{x:c.x-_714/2,y:c.y-_715/2,width:_714,height:_715},_712);},this);}}run.dirty=false;}if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_6fe);}if(this.animate){var _717=this.getGroup();fx.animateTransform(lang.delegate({shape:_717,duration:_6f7,transform:[{name:"translate",start:[0,dim.height-_6fe.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});});},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory"],function(_718,win,_719,_71a,_71b,has,_71c){var _71d=_718(has("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[_71b,_71a],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var _71e=this.domNode=this.containerNode=this.srcNodeRef||_719.create(this.tag);this.inherited(arguments);if(!this.label&&_71e.childNodes.length===1&&_71e.firstChild.nodeType===3){this.label=_71e.firstChild.nodeValue;}},_setLabelAttr:function(_71f){this.label=_71f;this.domNode.innerHTML=this._cv?this._cv(_71f):_71f;}});return has("dojo-bidi")?_718("dojox.mobile.RoundRectCategory",[_71d,_71c]):_71d;});},"dojox/data/XmlStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/xhr","dojo/data/util/simpleFetch","dojo/_base/query","dojo/_base/array","dojo/_base/kernel","dojo/data/util/filter","dojox/xml/parser","dojox/data/XmlItem"],function(lang,_720,xhr,_721,_722,_723,_724,_725,_726,_727){var _728=_720("dojox.data.XmlStore",null,{constructor:function(args){if(args){this.url=args.url;this.rootItem=(args.rootItem||args.rootitem||this.rootItem);this.keyAttribute=(args.keyAttribute||args.keyattribute||this.keyAttribute);this._attributeMap=(args.attributeMap||args.attributemap);this.label=args.label||this.label;this.sendQuery=(args.sendQuery||args.sendquery||this.sendQuery);if("urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}}this._newItems=[];this._deletedItems=[];this._modifiedItems=[];},url:"",rootItem:"",keyAttribute:"",label:"",sendQuery:false,attributeMap:null,urlPreventCache:true,getValue:function(item,_729,_72a){var _72b=item.element;var i;var node;if(_729==="tagName"){return _72b.nodeName;}else{if(_729==="childNodes"){for(i=0;i<_72b.childNodes.length;i++){node=_72b.childNodes[i];if(node.nodeType===1){return this._getItem(node);}}return _72a;}else{if(_729==="text()"){for(i=0;i<_72b.childNodes.length;i++){node=_72b.childNodes[i];if(node.nodeType===3||node.nodeType===4){return node.nodeValue;}}return _72a;}else{_729=this._getAttribute(_72b.nodeName,_729);if(_729.charAt(0)==="@"){var name=_729.substring(1);var _72c=_72b.getAttribute(name);return (_72c)?_72c:_72a;}else{for(i=0;i<_72b.childNodes.length;i++){node=_72b.childNodes[i];if(node.nodeType===1&&node.nodeName===_729){return this._getItem(node);}}return _72a;}}}}},getValues:function(item,_72d){var _72e=item.element;var _72f=[];var i;var node;if(_72d==="tagName"){return [_72e.nodeName];}else{if(_72d==="childNodes"){for(i=0;i<_72e.childNodes.length;i++){node=_72e.childNodes[i];if(node.nodeType===1){_72f.push(this._getItem(node));}}return _72f;}else{if(_72d==="text()"){var ec=_72e.childNodes;for(i=0;i<ec.length;i++){node=ec[i];if(node.nodeType===3||node.nodeType===4){_72f.push(node.nodeValue);}}return _72f;}else{_72d=this._getAttribute(_72e.nodeName,_72d);if(_72d.charAt(0)==="@"){var name=_72d.substring(1);var _730=_72e.getAttribute(name);return (_730!==undefined)?[_730]:[];}else{for(i=0;i<_72e.childNodes.length;i++){node=_72e.childNodes[i];if(node.nodeType===1&&node.nodeName===_72d){_72f.push(this._getItem(node));}}return _72f;}}}}},getAttributes:function(item){var _731=item.element;var _732=[];var i;_732.push("tagName");if(_731.childNodes.length>0){var _733={};var _734=true;var text=false;for(i=0;i<_731.childNodes.length;i++){var node=_731.childNodes[i];if(node.nodeType===1){var name=node.nodeName;if(!_733[name]){_732.push(name);_733[name]=name;}_734=true;}else{if(node.nodeType===3){text=true;}}}if(_734){_732.push("childNodes");}if(text){_732.push("text()");}}for(i=0;i<_731.attributes.length;i++){_732.push("@"+_731.attributes[i].nodeName);}if(this._attributeMap){for(var key in this._attributeMap){i=key.indexOf(".");if(i>0){var _735=key.substring(0,i);if(_735===_731.nodeName){_732.push(key.substring(i+1));}}else{_732.push(key);}}}return _732;},hasAttribute:function(item,_736){return (this.getValue(item,_736)!==undefined);},containsValue:function(item,_737,_738){var _739=this.getValues(item,_737);for(var i=0;i<_739.length;i++){if((typeof _738==="string")){if(_739[i].toString&&_739[i].toString()===_738){return true;}}else{if(_739[i]===_738){return true;}}}return false;},isItem:function(_73a){if(_73a&&_73a.element&&_73a.store&&_73a.store===this){return true;}return false;},isItemLoaded:function(_73b){return this.isItem(_73b);},loadItem:function(_73c){},getFeatures:function(){var _73d={"dojo.data.api.Read":true,"dojo.data.api.Write":true};if(!this.sendQuery||this.keyAttribute!==""){_73d["dojo.data.api.Identity"]=true;}return _73d;},getLabel:function(item){if((this.label!=="")&&this.isItem(item)){var _73e=this.getValue(item,this.label);if(_73e){return _73e.toString();}}return undefined;},getLabelAttributes:function(item){if(this.label!==""){return [this.label];}return null;},_fetchItems:function(_73f,_740,_741){var url=this._getFetchUrl(_73f);if(!url){_741(new Error("No URL specified."),_73f);return;}var _742=(!this.sendQuery?_73f:{});var self=this;var _743={url:url,handleAs:"xml",preventCache:self.urlPreventCache};var _744=xhr.get(_743);_744.addCallback(function(data){var _745=self._getItems(data,_742);if(_745&&_745.length>0){_740(_745,_73f);}else{_740([],_73f);}});_744.addErrback(function(data){_741(data,_73f);});},_getFetchUrl:function(_746){if(!this.sendQuery){return this.url;}var _747=_746.query;if(!_747){return this.url;}if(lang.isString(_747)){return this.url+_747;}var _748="";for(var name in _747){var _749=_747[name];if(_749){if(_748){_748+="&";}_748+=(name+"="+_749);}}if(!_748){return this.url;}var _74a=this.url;if(_74a.indexOf("?")<0){_74a+="?";}else{_74a+="&";}return _74a+_748;},_getItems:function(_74b,_74c){var _74d=null;if(_74c){_74d=_74c.query;}var _74e=[];var _74f=null;if(this.rootItem!==""){_74f=_722(this.rootItem,_74b);}else{_74f=_74b.documentElement.childNodes;}var deep=_74c.queryOptions?_74c.queryOptions.deep:false;if(deep){_74f=this._flattenNodes(_74f);}for(var i=0;i<_74f.length;i++){var node=_74f[i];if(node.nodeType!=1){continue;}var item=this._getItem(node);if(_74d){var _750=_74c.queryOptions?_74c.queryOptions.ignoreCase:false;var _751;var _752=false;var j;var _753=true;var _754={};for(var key in _74d){_751=_74d[key];if(typeof _751==="string"){_754[key]=_725.patternToRegExp(_751,_750);}else{if(_751){_754[key]=_751;}}}for(var _755 in _74d){_753=false;var _756=this.getValues(item,_755);for(j=0;j<_756.length;j++){_751=_756[j];if(_751){var _757=_74d[_755];if((typeof _751)==="string"&&(_754[_755])){if((_751.match(_754[_755]))!==null){_752=true;}else{_752=false;}}else{if((typeof _751)==="object"){if(_751.toString&&(_754[_755])){var _758=_751.toString();if((_758.match(_754[_755]))!==null){_752=true;}else{_752=false;}}else{if(_757==="*"||_757===_751){_752=true;}else{_752=false;}}}}}if(_752){break;}}if(!_752){break;}}if(_753||_752){_74e.push(item);}}else{_74e.push(item);}}_723.forEach(_74e,function(item){if(item.element.parentNode){item.element.parentNode.removeChild(item.element);}},this);return _74e;},_flattenNodes:function(_759){var _75a=[];if(_759){var i;for(i=0;i<_759.length;i++){var node=_759[i];_75a.push(node);if(node.childNodes&&node.childNodes.length>0){_75a=_75a.concat(this._flattenNodes(node.childNodes));}}}return _75a;},close:function(_75b){},newItem:function(_75c,_75d){_75c=(_75c||{});var _75e=_75c.tagName;if(!_75e){_75e=this.rootItem;if(_75e===""){return null;}}var _75f=this._getDocument();var _760=_75f.createElement(_75e);for(var _761 in _75c){var text;if(_761==="tagName"){continue;}else{if(_761==="text()"){text=_75f.createTextNode(_75c[_761]);_760.appendChild(text);}else{_761=this._getAttribute(_75e,_761);if(_761.charAt(0)==="@"){var name=_761.substring(1);_760.setAttribute(name,_75c[_761]);}else{var _762=_75f.createElement(_761);text=_75f.createTextNode(_75c[_761]);_762.appendChild(text);_760.appendChild(_762);}}}}var item=this._getItem(_760);this._newItems.push(item);var _763=null;if(_75d&&_75d.parent&&_75d.attribute){_763={item:_75d.parent,attribute:_75d.attribute,oldValue:undefined};var _764=this.getValues(_75d.parent,_75d.attribute);if(_764&&_764.length>0){var _765=_764.slice(0,_764.length);if(_764.length===1){_763.oldValue=_764[0];}else{_763.oldValue=_764.slice(0,_764.length);}_765.push(item);this.setValues(_75d.parent,_75d.attribute,_765);_763.newValue=this.getValues(_75d.parent,_75d.attribute);}else{this.setValue(_75d.parent,_75d.attribute,item);_763.newValue=item;}}return item;},deleteItem:function(item){var _766=item.element;if(_766.parentNode){this._backupItem(item);_766.parentNode.removeChild(_766);return true;}this._forgetItem(item);this._deletedItems.push(item);return true;},setValue:function(item,_767,_768){if(_767==="tagName"){return false;}this._backupItem(item);var _769=item.element;var _76a;var text;if(_767==="childNodes"){_76a=_768.element;_769.appendChild(_76a);}else{if(_767==="text()"){while(_769.firstChild){_769.removeChild(_769.firstChild);}text=this._getDocument(_769).createTextNode(_768);_769.appendChild(text);}else{_767=this._getAttribute(_769.nodeName,_767);if(_767.charAt(0)==="@"){var name=_767.substring(1);_769.setAttribute(name,_768);}else{for(var i=0;i<_769.childNodes.length;i++){var node=_769.childNodes[i];if(node.nodeType===1&&node.nodeName===_767){_76a=node;break;}}var _76b=this._getDocument(_769);if(_76a){while(_76a.firstChild){_76a.removeChild(_76a.firstChild);}}else{_76a=_76b.createElement(_767);_769.appendChild(_76a);}text=_76b.createTextNode(_768);_76a.appendChild(text);}}}return true;},setValues:function(item,_76c,_76d){if(_76c==="tagName"){return false;}this._backupItem(item);var _76e=item.element;var i;var _76f;var text;if(_76c==="childNodes"){while(_76e.firstChild){_76e.removeChild(_76e.firstChild);}for(i=0;i<_76d.length;i++){_76f=_76d[i].element;_76e.appendChild(_76f);}}else{if(_76c==="text()"){while(_76e.firstChild){_76e.removeChild(_76e.firstChild);}var _770="";for(i=0;i<_76d.length;i++){_770+=_76d[i];}text=this._getDocument(_76e).createTextNode(_770);_76e.appendChild(text);}else{_76c=this._getAttribute(_76e.nodeName,_76c);if(_76c.charAt(0)==="@"){var name=_76c.substring(1);_76e.setAttribute(name,_76d[0]);}else{for(i=_76e.childNodes.length-1;i>=0;i--){var node=_76e.childNodes[i];if(node.nodeType===1&&node.nodeName===_76c){_76e.removeChild(node);}}var _771=this._getDocument(_76e);for(i=0;i<_76d.length;i++){_76f=_771.createElement(_76c);text=_771.createTextNode(_76d[i]);_76f.appendChild(text);_76e.appendChild(_76f);}}}}return true;},unsetAttribute:function(item,_772){if(_772==="tagName"){return false;}this._backupItem(item);var _773=item.element;if(_772==="childNodes"||_772==="text()"){while(_773.firstChild){_773.removeChild(_773.firstChild);}}else{_772=this._getAttribute(_773.nodeName,_772);if(_772.charAt(0)==="@"){var name=_772.substring(1);_773.removeAttribute(name);}else{for(var i=_773.childNodes.length-1;i>=0;i--){var node=_773.childNodes[i];if(node.nodeType===1&&node.nodeName===_772){_773.removeChild(node);}}}}return true;},save:function(_774){if(!_774){_774={};}var i;for(i=0;i<this._modifiedItems.length;i++){this._saveItem(this._modifiedItems[i],_774,"PUT");}for(i=0;i<this._newItems.length;i++){var item=this._newItems[i];if(item.element.parentNode){this._newItems.splice(i,1);i--;continue;}this._saveItem(this._newItems[i],_774,"POST");}for(i=0;i<this._deletedItems.length;i++){this._saveItem(this._deletedItems[i],_774,"DELETE");}},revert:function(){this._newItems=[];this._restoreItems(this._deletedItems);this._deletedItems=[];this._restoreItems(this._modifiedItems);this._modifiedItems=[];return true;},isDirty:function(item){if(item){var _775=this._getRootElement(item.element);return (this._getItemIndex(this._newItems,_775)>=0||this._getItemIndex(this._deletedItems,_775)>=0||this._getItemIndex(this._modifiedItems,_775)>=0);}else{return (this._newItems.length>0||this._deletedItems.length>0||this._modifiedItems.length>0);}},_saveItem:function(item,_776,_777){var url;var _778;if(_777==="PUT"){url=this._getPutUrl(item);}else{if(_777==="DELETE"){url=this._getDeleteUrl(item);}else{url=this._getPostUrl(item);}}if(!url){if(_776.onError){_778=_776.scope||_724.global;_776.onError.call(_778,new Error("No URL for saving content: "+this._getPostContent(item)));}return;}var _779={url:url,method:(_777||"POST"),contentType:"text/xml",handleAs:"xml"};var _77a;if(_777==="PUT"){_779.putData=this._getPutContent(item);_77a=xhr.put(_779);}else{if(_777==="DELETE"){_77a=xhr.del(_779);}else{_779.postData=this._getPostContent(item);_77a=xhr.post(_779);}}_778=(_776.scope||_724.global);var self=this;_77a.addCallback(function(data){self._forgetItem(item);if(_776.onComplete){_776.onComplete.call(_778);}});_77a.addErrback(function(_77b){if(_776.onError){_776.onError.call(_778,_77b);}});},_getPostUrl:function(item){return this.url;},_getPutUrl:function(item){return this.url;},_getDeleteUrl:function(item){var url=this.url;if(item&&this.keyAttribute!==""){var _77c=this.getValue(item,this.keyAttribute);if(_77c){var key=this.keyAttribute.charAt(0)==="@"?this.keyAttribute.substring(1):this.keyAttribute;url+=url.indexOf("?")<0?"?":"&";url+=key+"="+_77c;}}return url;},_getPostContent:function(item){return "<?xml version='1.0'?>"+_726.innerXML(item.element);},_getPutContent:function(item){return "<?xml version='1.0'?>"+_726.innerXML(item.element);},_getAttribute:function(_77d,_77e){if(this._attributeMap){var key=_77d+"."+_77e;var _77f=this._attributeMap[key];if(_77f){_77e=_77f;}else{_77f=this._attributeMap[_77e];if(_77f){_77e=_77f;}}}return _77e;},_getItem:function(_780){try{var q=null;if(this.keyAttribute===""){q=this._getXPath(_780);}return new _727(_780,this,q);}catch(e){}return null;},_getItemIndex:function(_781,_782){for(var i=0;i<_781.length;i++){if(_781[i].element===_782){return i;}}return -1;},_backupItem:function(item){var _783=this._getRootElement(item.element);if(this._getItemIndex(this._newItems,_783)>=0||this._getItemIndex(this._modifiedItems,_783)>=0){return;}if(_783!=item.element){item=this._getItem(_783);}item._backup=_783.cloneNode(true);this._modifiedItems.push(item);},_restoreItems:function(_784){_723.forEach(_784,function(item){if(item._backup){item.element=item._backup;item._backup=null;}},this);},_forgetItem:function(item){var _785=item.element;var _786=this._getItemIndex(this._newItems,_785);if(_786>=0){this._newItems.splice(_786,1);}_786=this._getItemIndex(this._deletedItems,_785);if(_786>=0){this._deletedItems.splice(_786,1);}_786=this._getItemIndex(this._modifiedItems,_785);if(_786>=0){this._modifiedItems.splice(_786,1);}},_getDocument:function(_787){if(_787){return _787.ownerDocument;}else{if(!this._document){return _726.parse();}}return null;},_getRootElement:function(_788){while(_788.parentNode){_788=_788.parentNode;}return _788;},_getXPath:function(_789){var _78a=null;if(!this.sendQuery){var node=_789;_78a="";while(node&&node!=_789.ownerDocument){var pos=0;var _78b=node;var name=node.nodeName;while(_78b){_78b=_78b.previousSibling;if(_78b&&_78b.nodeName===name){pos++;}}var temp="/"+name+"["+pos+"]";if(_78a){_78a=temp+_78a;}else{_78a=temp;}node=node.parentNode;}}return _78a;},getIdentity:function(item){if(!this.isItem(item)){throw new Error("dojox.data.XmlStore: Object supplied to getIdentity is not an item");}else{var id=null;if(this.sendQuery&&this.keyAttribute!==""){id=this.getValue(item,this.keyAttribute).toString();}else{if(!this.serverQuery){if(this.keyAttribute!==""){id=this.getValue(item,this.keyAttribute).toString();}else{id=item.q;}}}return id;}},getIdentityAttributes:function(item){if(!this.isItem(item)){throw new Error("dojox.data.XmlStore: Object supplied to getIdentity is not an item");}else{if(this.keyAttribute!==""){return [this.keyAttribute];}else{return null;}}},fetchItemByIdentity:function(_78c){var _78d=null;var _78e=null;var self=this;var url=null;var _78f=null;var _790=null;if(!self.sendQuery){_78d=function(data){if(data){if(self.keyAttribute!==""){var _791={};_791.query={};_791.query[self.keyAttribute]=_78c.identity;_791.queryOptions={deep:true};var _792=self._getItems(data,_791);_78e=_78c.scope||_724.global;if(_792.length===1){if(_78c.onItem){_78c.onItem.call(_78e,_792[0]);}}else{if(_792.length===0){if(_78c.onItem){_78c.onItem.call(_78e,null);}}else{if(_78c.onError){_78c.onError.call(_78e,new Error("Items array size for identity lookup greater than 1, invalid keyAttribute."));}}}}else{var _793=_78c.identity.split("/");var i;var node=data;for(i=0;i<_793.length;i++){if(_793[i]&&_793[i]!==""){var _794=_793[i];_794=_794.substring(0,_794.length-1);var vals=_794.split("[");var tag=vals[0];var _795=parseInt(vals[1],10);var pos=0;if(node){var _796=node.childNodes;if(_796){var j;var _797=null;for(j=0;j<_796.length;j++){var _798=_796[j];if(_798.nodeName===tag){if(pos<_795){pos++;}else{_797=_798;break;}}}if(_797){node=_797;}else{node=null;}}else{node=null;}}else{break;}}}var item=null;if(node){item=self._getItem(node);if(item.element.parentNode){item.element.parentNode.removeChild(item.element);}}if(_78c.onItem){_78e=_78c.scope||_724.global;_78c.onItem.call(_78e,item);}}}};url=this._getFetchUrl(null);_78f={url:url,handleAs:"xml",preventCache:self.urlPreventCache};_790=xhr.get(_78f);_790.addCallback(_78d);if(_78c.onError){_790.addErrback(function(_799){var s=_78c.scope||_724.global;_78c.onError.call(s,_799);});}}else{if(self.keyAttribute!==""){var _79a={query:{}};_79a.query[self.keyAttribute]=_78c.identity;url=this._getFetchUrl(_79a);_78d=function(data){var item=null;if(data){var _79b=self._getItems(data,{});if(_79b.length===1){item=_79b[0];}else{if(_78c.onError){var _79c=_78c.scope||_724.global;_78c.onError.call(_79c,new Error("More than one item was returned from the server for the denoted identity"));}}}if(_78c.onItem){_79c=_78c.scope||_724.global;_78c.onItem.call(_79c,item);}};_78f={url:url,handleAs:"xml",preventCache:self.urlPreventCache};_790=xhr.get(_78f);_790.addCallback(_78d);if(_78c.onError){_790.addErrback(function(_79d){var s=_78c.scope||_724.global;_78c.onError.call(s,_79d);});}}else{if(_78c.onError){var s=_78c.scope||_724.global;_78c.onError.call(s,new Error("XmlStore is not told that the server to provides identity support.  No keyAttribute specified."));}}}}});lang.extend(_728,_721);return _728;});},"ma/view/Alarm":function(){define(["dojo/_base/declare","dojox/mobile/parser","dojo/data/ItemFileWriteStore","./_base","viewer/server/serverEvents","../widget/dataGrid/StudioDataGrid","dojo/text!./templates/alarm.html","../widget/miscellaneous/Loading"],function(_79e,_79f,_7a0,Base,_7a1,_7a2,_7a3){return _79e("ma.view.Alarm",[Base],{templateString:_7a3,data:null,grid:null,store:null,layout:[],isStarted:false,columns:null,warningIco:"imgs/warning.ico",checkIco:"imgs/check.ico",settings:null,waitCount:1,forceGetAll:true,countCheked:0,constructor:function(){},startup:function(){this.inherited(arguments);this.columns=this.parseResult(services.getAlarmColumns()).alarmColumns.slice(0);this.columns.push({name:"sel",label:"*"});for(var i=0;i<this.columns.length;++i){var _7a4=null;var _7a5="10";if(this.columns[i].name==="sel"){_7a4=dojox.grid.cells.Bool;_7a5="5";}if(this.columns[i].name==="message"){_7a5="30";}if(this.columns[i].name==="ackReq"){this.AddColumn("ico","<img src='"+this.warningIco+"' style='width:16px;height:16px'alt='alr'/>",5,null,true);}else{this.AddColumn(this.columns[i].name,this.columns[i].label,_7a5,this.dateFormatter,true,_7a4);}}this.data={label:"Alarm Data",items:[]};this.store=new _7a0({data:this.data});_79f.parse(this.domNode);this.waitCount=1;},dateFormatter:function(_7a6,row,cell){if(cell.field.search("Time")>0&&_7a6.length>0){var tmp=new Date(_7a6);var _7a7=tmp.toTimeString();index=_7a7.search(" ");return _7a7.substr(0,index);}if(cell.field=="value"||cell.field=="previousValue"){if(typeof _7a6==="boolean"){return (_7a6?1:0);}var _7a8=Math.abs(_7a6);if(_7a8>1000){return _7a6.toFixed(0);}var str=_7a6.toPrecision(5);var pos=str.indexOf(".");if(pos!=-1){while(str.length>pos&&(str[str.length-1]=="0"||str[str.length-1]==".")){str=str.substr(0,str.length-1);}}return str;}return _7a6;},AddColumn:function(_7a9,name,_7aa,_7ab,_7ac,_7ad){this.layout.push({field:_7a9,name:name,width:_7aa,formatter:_7ab,color:"yellow",hidden:_7ac,cellType:_7ad,editable:_7ad!=null});},PerformAck:function(all,_7ae){var _7af=[],_7b0=[];for(var i=0;i<this.grid.rowCount;i++){var item=this.grid.getItem(i);if(item==null){continue;}if(!all&&item.sel[0]==false){continue;}if(!item.ackReq[0]){continue;}var _7b1={};_7af.push(item.id[0]);}for(var i=0;i<_7ae.length;++i){_7b0[i]=_7ae.charCodeAt(i).toString(16);}if(_7af.length>0&&services.ackAlarm(_7af,_7b0)){this.forceGetAll=true;this.waitCount=1;}},AckStyle:function(row){var item=this.grid.getItem(row.index);if(item==null){return;}if(this.settings.useGroupColor){row.customStyles="color:"+item.colorFG+";background-color:"+item.colorBG;}else{if(item.ackTime.length>0&&item.ackTime[0].length>0){row.customStyles="color:"+this.settings.ackedColorHexCode;}else{if(item.normTime.length>0&&item.normTime[0].length>0){row.customStyles="color:"+this.settings.normColorHexCode;}else{row.customStyles="color:"+this.settings.activeColorHexCode;}}}},onShow:function(){this.inherited(arguments);this.forceGetAll=true;this.countCheked=0;if(this.waitCount>=0){dojo.style(this.grid.domNode,"display","none");if(this.isStarted==false){this.grid.startup();this.isStarted=true;this.UpdateValues();}}for(var i=0;i<this.columns.length;++i){this.ChangeCol(this.columns[i].name,true);}var _7b2=dojo.fromJson(dojo.cookie("_x_config"));for(var i=0;i<_7b2.alarmColumns.length;++i){this.ChangeCol(_7b2.alarmColumns[i].name,false);}this.ChangeCol("sel",false);this.settings=_7b2;this.grid.update();this.UpdateValues();},CloseLoading:function(_7b3){if(this.waitCount>0){--this.waitCount;}if(this.waitCount<=0||_7b3){dojo.style(this.grid.domNode,"display","block");this.grid.update();}},UpdateValues:function(){if(this.isUpdatingValues==true||this.countCheked>0){return;}this.isUpdatingValues=true;services.queryAlarmData(this.forceGetAll,dojo.hitch(this,function(ret){ret=_7a1.assyncResult(ret);try{if(ret==undefined||ret==null){eval("console.error('Error in queryAlarmData call')");this.isUpdatingValues=false;this.CloseLoading();return;}this.LoadCompleted();var _7b4=this.parseResult(ret).alarms;if(_7b4==null){this.isUpdatingValues=false;this.CloseLoading();return;}this.forceGetAll=false;this.data={label:"Alarm Data",items:[]};this.store=new _7a0({data:this.data});dojo.connect(this.store,"onSet",this,this.checkItemClicked);for(var i=0;i<_7b4.length;i++){if(_7b4[i].ackReq){_7b4[i].ico="<img src='"+this.warningIco+"' style='width:16px;height:16px'alt='alr'/>";}else{_7b4[i].ico="<img src='"+this.checkIco+"' style='width:16px;height:16px'alt='alr'/>";}_7b4[i].sel=false;this.store.newItem(_7b4[i]);}this.store.save();this.store.fetch({onComplete:dojo.hitch(this,function(_7b5){this.grid.setStructure(this.layout);this.grid.update();this.CloseLoading(true);})});this.grid.setStore(this.store);this.isUpdatingValues=false;}catch(err){this.isUpdatingValues=false;}}));},ChangeCol:function(name,hide){for(var i=0;i<this.layout.length;i++){if(this.layout[i].field.toUpperCase()===name.toUpperCase()||(name==="ackReq"&&this.layout[i].field==="ico")){this.layout[i].hidden=hide;return;}}},FinishTransition:function(){this.waitCount=1;this.forceGetAll=true;this.onShow();},MakeLayout:function(){this.inherited(arguments);this.Resize();this.render();},Resize:function(){if(!this.grid){this.grid=new _7a2({autoHeight:false,query:{state:"*"},id:this.id+"_grid",store:this.store,structure:this.layout,escapeHTMLInData:false},this.containerGrid);this.grid.onStyleRow=dojo.hitch(this,this.AckStyle);dojo.connect(this.store,"onSet",this,this.checkItemClicked);dojo.connect(this.grid,"onHeaderCellClick",this,function(){setTimeout("window.scroll(0,0)",100);});this.grid.startup();}else{this.grid.customResize(this.getWidth(),this.getHeight());this.grid.setStore(this.store);this.grid.setStructure(this.layout);this.grid.update();}},checkItemClicked:function(item,_7b6,_7b7,_7b8){if(_7b6==="sel"&&_7b7!==_7b8){if(_7b8===true){this.countCheked++;}else{this.countCheked--;}this.countCheked<0?0:this.countCheked;this.countCheked>this.data.items.length?this.data.items.length:this.countCheked;}}});});},"ma/view/ScreenBrowser":function(){define(["dojo/_base/declare","dojo/parser","dojo/touch","./_base","../../viewer/server/serverEvents","dojox/mobile/ListItem","dojo/text!./templates/screenBrowser.html","dojox/mobile/ScrollableView"],function(_7b9,_7ba,_7bb,Base,_7bc,_7bd,_7be){return _7b9("ma.view.ScreenBrowser",[Base],{templateString:_7be,_view:null,_listView:null,_viewTab:null,_clickedItem:null,_changeLayout:false,_layoutInterval:null,constructor:function(){},startup:function(){this.inherited(arguments);_7ba.parse(this.containerScreenBrowser);this._view=dijit.byId("_x_viewer_Viewer");this._listView=dijit.byId("_x_selectScreens_mobile_View");this._viewTab=dijit.byId("_x_tabView_screens_viewer");this._view.onLoadedScreen=dojo.hitch(this,this._onLoadedScreen);this._view.onLoadScreenFail=dojo.hitch(this,this._onLoadScreenFail);this._view.onCancelOpenScreen=dojo.hitch(this,this._onCancelOpenScreen);this._view.onOpenScreen=dojo.hitch(this,this._onOpenScreen);dojo.connect(this._listView,"onAfterTransitionIn",this,this._showListView);dojo.connect(this._viewTab,"onAfterTransitionOut",this,this._closeScreen);dojo.connect(this._viewTab,"onAfterTransitionIn",this,this._openScreen);this.MakeLayout();},MakeLayout:function(){var h=this.getHeight();dojo.style(this._view,"height",h+"px");dojo.style(this._listView.domNode,"height",h+"px");dojo.style(this.containerScreenBrowser,"height",h+"px");this._changeLayout=true;},Resize:function(){if(this.isHiden==false){this.MakeLayout();}},onShow:function(){this.inherited(arguments);this.ProcScreens();this.Resize();},ProcScreens:function(){var _7bf=this._listView.getChildren();dojo.forEach(_7bf,function(w){if(w.id!=="_x_screens_mobile_View"){w.destroy(false);}});services.getScreens(dojo.hitch(this,function(ret){ret=_7bc.assyncResult(ret);var _7c0=this.parseResult(ret);if(_7c0){_7c0=_7c0.screens;}var name=null;var _7c1;for(var i=0;i<_7c0.length;i++){if(typeof (_7c0[i].name)==="undefined"){continue;}name=_7c0[i].name;name=_7c0[i].label&&_7c0[i].label!=""?_7c0[i].label:name;_7c1=new _7bd({label:name,moveTo:"_x_tabView_screens_viewer",noArrow:false,variableHeight:true,icon:"imgs/icon_scrren_link.png",arrowClass:"imgs/listArrow.png"});this._listView.addChild(_7c1);dojo.style(this._listView.domNode,"text-align","left");dojo.style(this._listView.domNode,"vertical-align","center");dojo.attr(_7c1.domNode,"screentoload",_7c0[i].name);dojo.connect(_7c1.domNode,_7bb.press,this,this._clickItem);}this.MakeLayout();this.HideLoading();}));},_clickItem:function(evt){this._clickedItem=evt.target;},_openScreen:function(){if(!this._clickedItem){return;}var name=dojo.attr(this._clickedItem,"screentoload");if(!name){name=dojo.attr(this._clickedItem.parentNode,"screentoload");}this.ShowLoading();this._view.OpenScreen(name);this._view.triggerResize=true;},_showListView:function(){},_onLoadedScreen:function(){if(this._layoutInterval===null){this._layoutInterval=setInterval(dojo.hitch(this,this._makelayout),100);}this.HideLoading();},_onLoadScreenFail:function(){this.HideLoading();},_onOpenScreen:function(){this.ShowLoading();},_onCancelOpenScreen:function(){var _7c2={href:"",hrefTarget:"",moveTo:"_x_tabView_menu_view",scene:"",target:null,transition:"fade",transitionDir:-1,url:"",urlTarget:""};this.HideLoading();this._viewTab.performTransition(_7c2);},_closeScreen:function(){if(this._layoutInterval){clearInterval(this._layoutInterval);this._layoutInterval=null;}this._view.CloseAllScreens();},_makelayout:function(){if(this._changeLayout===false){return;}this._changeLayout=false;var size={w:0,h:0};dojo.style(this.containerScreenBrowser,"width",dojo.style(this.domNode,"width")+"px");size.w=this.getWidth();size.h=this.getHeight();this._view.set("width",size.w);this._view.set("height",size.h-44);this._view.resize();this._view.triggerResize=false;}});});},"viewer/object/shape/Pie":function(){define(["dojo/_base/declare","./Path","dojo/text!./pie.html"],function(_7c3,Path,_7c4){return _7c3("viewer.object.shape.Pie",Path,{templateString:_7c4,_radiusX:0,_radiusY:0,_centerX:0,_centerY:0,_centerRelativeX:0,_centerRelativeY:100,_startAngle:0,_sweepAngle:0,buildRendering:function(){if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}this._getRadiusPoint();this._getCenterPoint();if(Math.abs(this._attr.path[1].sweepAngle)>359){this._attr.path.shift();this._attr.path.pop();this._startAngle=this._attr.path[0].startAngle;this._sweepAngle=this._attr.path[0].sweepAngle;this._attr.path[0].startAngle=0;}else{this._startAngle=this._attr.path[1].startAngle;this._sweepAngle=this._attr.path[1].sweepAngle;this._attr.path[1].startAngle=0;}this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);},_setProStartAngleAttr:function(v){if(v==null){return;}var _7c5=v.toString().split(",");if(_7c5.length>1){this._sweepAngle=parseFloat(_7c5[1]);v=_7c5[0];}var _7c6=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._startAngle=this._normalizeAngle(v);var max=359.9999;var min=0.0001;if(this._startAngle>max){this._startAngle=max;}if(this._startAngle<min){this._startAngle=min;}var _7c7=this._describeArc(parseFloat(this._centerX)+_7c6,parseFloat(this._centerY)+_7c6,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",_7c7);},_setProSweepAngleAttr:function(v){if(v==null){return;}var _7c8=v.toString().split(",");if(_7c8.length>1){this._startAngle=parseFloat(_7c8[1]);v=_7c8[0];}var _7c9=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._sweepAngle=parseFloat(v);var _7ca=this._describeArc(parseFloat(this._centerX)+_7c9,parseFloat(this._centerY)+_7c9,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",_7ca);},_getRadiusPoint:function(){if(this._attr.path[1].instruction=="A"){this._radiusX=((this._attr.path[1].geometryWidth)/2)?((this._attr.path[1].geometryWidth)/2):0;this._radiusY=((this._attr.path[1].geometryHeight)/2)?((this._attr.path[1].geometryHeight)/2):0;}},_getCenterPoint:function(){if(this._attr.path[1].instruction=="A"){var _7cb=this._attr.path[1].points[0];var _7cc=(this._attr.path[1].startAngle-90)*Math.PI/180;this._centerX=_7cb.x-this._radiusX*Math.cos(_7cc)-this._attr.position.left;this._centerY=_7cb.y-this._radiusY*Math.sin(_7cc)-this._attr.position.top;var w=parseFloat(this._attr.position.right)-parseFloat(this._attr.position.left);var h=parseFloat(this._attr.position.bottom)-parseFloat(this._attr.position.top);if(w>0){this._centerRelativeX=this._centerX/w*100;}if(h>0){this._centerRelativeY=this._centerY/h*100;}}},_polarToCartesian:function(_7cd,_7ce,_7cf,_7d0,_7d1){var _7d2=(_7d1-90)*Math.PI/180;return {x:_7cd+(_7cf*Math.cos(_7d2)),y:_7ce+(_7d0*Math.sin(_7d2))};},_describeArc:function(_7d3,_7d4,_7d5,_7d6,_7d7,_7d8){var end=this._polarToCartesian(_7d3,_7d4,_7d5,_7d6,_7d8+_7d7);var _7d9=this._polarToCartesian(_7d3,_7d4,_7d5,_7d6,_7d7);var _7da=Math.abs(_7d8)>180?"1":"0";var _7db=_7d8>0?"1":"0";if(_7d8!==359.9999&&_7d8!==0.0001){var d=["M",_7d3,_7d4,"L",_7d9.x,_7d9.y,"A",_7d5,_7d6,0,_7da,_7db,end.x,end.y,"L",end.x,end.y,"L",_7d3,_7d4,"Z"].join(" ");}else{var d=["M",_7d9.x,_7d9.y,"A",_7d5,_7d6,0,_7da,_7db,end.x,end.y].join(" ");}return d;},setColor:function(_7dc){this.inherited(arguments);this._svgGuiHelper.updateColorStops(_7dc,this._attr.size.w,this._attr.size.h,true,100,this._centerRelativeX,this._centerRelativeY);},resetColor:function(){this.inherited(arguments);this._svgGuiHelper.updateColorStops(color,this._attr.size.w,this._attr.size.h,true,100,this._centerRelativeX,this._centerRelativeY);},});});},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(_7dd,_7de,_7df,_7e0){return _7de("dojox.mobile.Pane",[_7e0,_7df],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},resize:function(){_7dd.forEach(this.getChildren(),function(_7e1){if(_7e1.resize){_7e1.resize();}});}});});},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_7e2,_7e3,_7e4,_7e5){return _7e2("dijit.CheckedMenuItem",_7e4,{baseClass:"dijitCheckedMenuItem",templateString:_7e5,checked:false,_setCheckedAttr:function(_7e6){_7e3.toggle(this.domNode,this.baseClass+"Checked",_7e6);this.domNode.setAttribute("aria-checked",_7e6?"true":"false");this._set("checked",_7e6);},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(df){return df;});},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(win,_7e7,has){var _7e8={};return {createRoundMask:function(node,x,y,r,b,w,h,rx,ry,e){var tw=x+w+r;var th=y+h+b;if(has("webkit")){var id=("DojoMobileMask"+x+y+w+h+rx+ry).replace(/\./g,"_");if(!_7e8[id]){_7e8[id]=1;var ctx=win.doc.getCSSCanvasContext("2d",id,tw,th);ctx.beginPath();if(rx==ry){if(rx==2&&w==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(1,0,3,2);ctx.fillRect(0,1,5,1);ctx.fillRect(0,h-2,5,1);ctx.fillRect(1,h-1,3,2);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,2,5,h-4);}else{if(rx==2&&h==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,1,2,3);ctx.fillRect(1,0,1,5);ctx.fillRect(w-2,0,1,5);ctx.fillRect(w-1,1,2,3);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(2,0,w-4,5);}else{ctx.fillStyle="#000000";ctx.moveTo(x+rx,y);ctx.arcTo(x,y,x,y+rx,rx);ctx.lineTo(x,y+h-rx);ctx.arcTo(x,y+h,x+rx,y+h,rx);ctx.lineTo(x+w-rx,y+h);ctx.arcTo(x+w,y+h,x+w,y+rx,rx);ctx.lineTo(x+w,y+rx);ctx.arcTo(x+w,y,x+w-rx,y,rx);}}}else{var pi=Math.PI;ctx.scale(1,ry/rx);ctx.moveTo(x+rx,y);ctx.arc(x+rx,y+rx,rx,1.5*pi,0.5*pi,true);ctx.lineTo(x+w-rx,y+2*rx);ctx.arc(x+w-rx,y+rx,rx,0.5*pi,1.5*pi,true);}ctx.closePath();ctx.fill();}node.style.webkitMaskImage="-webkit-canvas("+id+")";}else{if(has("svg")){if(node._svgMask){node.removeChild(node._svgMask);}var bg=null;for(var p=node.parentNode;p;p=p.parentNode){bg=_7e7.getComputedStyle(p).backgroundColor;if(bg&&bg!="transparent"&&!bg.match(/rgba\(.*,\s*0\s*\)/)){break;}}var _7e9="http://www.w3.org/2000/svg";var svg=win.doc.createElementNS(_7e9,"svg");svg.setAttribute("width",tw);svg.setAttribute("height",th);svg.style.position="absolute";svg.style.pointerEvents="none";svg.style.opacity="1";svg.style.zIndex="2147483647";var path=win.doc.createElementNS(_7e9,"path");e=e||0;rx+=e;ry+=e;var d=" M"+(x+rx-e)+","+(y-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+ry+" v"+(-ry)+" h"+rx+" Z"+" M"+(x-e)+","+(y+h-ry+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+ry+" h"+(-rx)+" v"+(-ry)+" z"+" M"+(x+w-rx+e)+","+(y+h+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+(-ry)+" v"+ry+" h"+(-rx)+" z"+" M"+(x+w+e)+","+(y+ry-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+(-ry)+" h"+rx+" v"+ry+" z";if(y>0){d+=" M0,0 h"+tw+" v"+y+" h"+(-tw)+" z";}if(b>0){d+=" M0,"+(y+h)+" h"+tw+" v"+b+" h"+(-tw)+" z";}path.setAttribute("d",d);path.setAttribute("fill",bg);path.setAttribute("stroke",bg);path.style.opacity="1";svg.appendChild(path);node._svgMask=svg;node.appendChild(svg);}}}};});},"dojox/mobile/iconUtils":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./sniff"],function(_7ea,_7eb,_7ec,_7ed,lang,win,_7ee,_7ef,_7f0,has){var dm=lang.getObject("dojox.mobile",true);var _7f1=function(){this.setupSpriteIcon=function(_7f2,_7f3){if(_7f2&&_7f3){var arr=_7ea.map(_7f3.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_7f0.set(_7f2,{position:"absolute",clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_7f2.parentNode?_7f0.get(_7f2,"top"):0)-t+"px",left:-l+"px"});_7ee.add(_7f2,"mblSpriteIcon");}};this.createDomButton=function(_7f4,_7f5,_7f6){if(!this._domButtons){if(has("webkit")){var _7f7=function(_7f8,dic){var i,j;if(!_7f8){var _7f9={};var ss=win.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_7f7(ss[i],_7f9);}return _7f9;}var _7fa=_7f8.cssRules||[];for(i=0;i<_7fa.length;i++){var rule=_7fa[i];if(rule.href&&rule.styleSheet){_7f7(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}return dic;};this._domButtons=_7f7();}else{this._domButtons={};}}var s=_7f4.className;var node=_7f6||_7f4;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _7fb=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(this._domButtons[_7fb]!==undefined){nDiv=this._domButtons[_7fb];}}var _7fc=null;if(has("bb")&&_7eb["mblBBBoxShadowWorkaround"]!==false){_7fc={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_7ef.create("div",_7fc,p);}if(_7f6){setTimeout(function(){_7ee.remove(_7f4,_7fb);},0);_7ee.add(_7f6,_7fb);}}else{if(s.indexOf(".")!==-1){_7ef.create("img",{src:s},node);}else{return null;}}_7ee.add(node,"mblDomButton");!!_7f5&&_7f0.set(node,_7f5);return node;};this.createIcon=function(icon,_7fd,node,_7fe,_7ff,_800,pos){_7fe=_7fe||"";if(icon&&icon.indexOf("mblDomButton")===0){if(!node){node=_7ef.create("div",null,_800||_7ff,pos);}else{if(node.className.match(/(mblDomButton\w+)/)){_7ee.remove(node,RegExp.$1);}}node.title=_7fe;_7ee.add(node,icon);this.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_7ef.create("img",{alt:_7fe},_800||_7ff,pos);}node.src=(icon||"").replace("${theme}",dm.currentTheme);this.setupSpriteIcon(node,_7fd);if(_7fd&&_7ff){var arr=_7fd.split(/[ ,]/);_7f0.set(_7ff,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});_7ee.add(_7ff,"mblSpriteIconParent");}_7ec.connect(node,"ondragstart",_7ed,"stop");}}return node;};this.iconWrapper=false;this.setIcon=function(icon,_801,_802,alt,_803,_804,pos){if(!_803||!icon&&!_802){return null;}if(icon&&icon!=="none"){if(!this.iconWrapper&&icon.indexOf("mblDomButton")!==0&&!_801){if(_802&&_802.tagName==="DIV"){_7ef.destroy(_802);_802=null;}_802=this.createIcon(icon,null,_802,alt,_803,_804,pos);_7ee.add(_802,"mblImageIcon");}else{if(_802&&_802.tagName==="IMG"){_7ef.destroy(_802);_802=null;}_802&&_7ef.empty(_802);if(!_802){_802=_7ef.create("div",null,_804||_803,pos);}this.createIcon(icon,_801,null,null,_802);if(alt){_802.title=alt;}}_7ee.remove(_803,"mblNoIcon");return _802;}else{_7ef.destroy(_802);_7ee.add(_803,"mblNoIcon");return null;}};};return new _7f1();});},"viewer/server/UserInterfaceFunction":function(){define(["dojo/dom-construct","../misc/gui/LogonWindow","../misc/gui/helpers/trace","../misc/gui/MsgboxWindow","ma/util/LogonManager","./serverEvents","../misc/gui/vk","../misc/enums"],function(_805,_806,_807,_808,_809,_80a,vk,_80b){var _80c=function(){};_80c._pt={};_80c.exec=function(func,_80d){var _80e=null;_80e=_80c._pt[func.functionName];if(_80e){_80e(func,_80d);}};_80c.returnCall=function(func,cbk,_80f){services.completeUIFunction(func,_80f,function(_810){_810=_80a.assyncResult(_810);var data=_80c._parseResult(_810);if(cbk){cbk(data);}});};_80c._parseResult=function(_811){if(_811){if(_811.resultCode===0){if(_811.message.length!==0){_807.warn(_811.message);if(_811.data){_807.traceError(_811.message+" (id: "+(_811.data.id||"?")+", function: "+(_811.data.functionName||"?")+")");}}return _811.data;}}};_80c._pt.OPEN=function(func,_812){if(func.input.ScreenName!==undefined){if(func.input.backendCPInfos&&func.input.backendCPInfos!=""){var _813=[{screenName:func.input.ScreenName,owningObject:"",customProperties:""}];var _814=JSON.parse(func.input.backendCPInfos);var _815="";for(var i=0;i<_814.length;i++){if(i!=0){_815+=" ";}if(_814[i].cpValue&&_814[i].cpValue.length>0&&isNaN(_814[i].cpValue)){if(_814[i].isConstant){_815+="#"+_814[i].cpName+":"+"\""+_814[i].cpValue+"\"";}else{_815+="#"+_814[i].cpName+":"+_814[i].cpValue;}}else{_815+="#"+_814[i].cpName+":"+_814[i].cpValue;}}_813[0].customProperties=_815;dijit.byId("_x_viewer_Viewer").OpenScreen(func.input.ScreenName,null,func.input,_813);}else{dijit.byId("_x_viewer_Viewer").OpenScreen(func.input.ScreenName,null,func.input);}}};_80c._pt.OPENPREVIOUS=function(){dijit.byId("_x_viewer_Viewer").OpenPreviousScreen();};_80c._pt.CLOSE=function(func){if(func.input.ScreenName!==undefined){dijit.byId("_x_viewer_Viewer").CloseScreen(func.input.ScreenName);}};_80c._pt.LOGON=function(func,_816){var div,_817,_818;div=document.createElement("div");_805.place(div,dojo.body(),"first");if(func.output.checkIdle!==undefined){if(userActivityMonitor){if(func.output.checkIdle===true){userActivityMonitor.startMonitoring();}else{userActivityMonitor.stopMonitoring();}}}else{if(func.output.SecurityDisabled==="1"){_818=new _808({"userInterfaceFunction":null,"functionData":{input:{"Title":"Security System","Message":"Security system is not enabled !","Icon":48,"Buttons":0},output:{},extras:{}}},div);_818.startup();}else{_817=new _806({"userInterfaceFunction":_80c,"functionData":func,"screenId":_816},div);_817.startup();}}};_80c._pt.LOGOFF=function(func){if(func.output.checkIdle!==undefined){if(userActivityMonitor){if(func.output.checkIdle===true){userActivityMonitor.startMonitoring();}else{userActivityMonitor.stopMonitoring();}}}};_80c._pt.SHUTDOWN=function(){var _819=new LogonServices(),_81a=new _809();_819.logout();_81a.gotoLogon();};_80c._pt.SHOWMESSAGEBOX=function(func,_81b){var div,_81c;div=document.createElement("div");_805.place(div,dojo.body(),"first");_81c=new _808({"userInterfaceFunction":_80c,"functionData":func,"screenId":_81b},div);_81c.startup();};_80c._pt.KEYPAD=function(func,_81d){var _81e=0,type="UseDefault",hint="",min=NaN,max=NaN,_81f=0,_820="",_821=0,show=0,_822=null,_823=null;func.output.ReturnValue=null;if(func.input.KeyboardName!==undefined){type=func.input.KeyboardName;}if(func.input.IsPassword!==undefined){_81e=func.input.IsPassword;}if(func.input.Hint!==undefined){hint=func.input.Hint;show=1;}if(func.input.KeyboardName===_80b.EnumVKTypeText.KEYPAD){if(func.input.Min!==undefined){min=func.input.Min;}if(func.input.Max!==undefined){max=func.input.Max;}}if(func.input.ESign!==undefined){_81f=func.input.ESign;}if(func.input.Confirmation!==undefined){_820=func.input.Confirmation;_821=1;}_822={"tagId":NaN,"password":_81e,"type":type,"screenId":_81d,"hint":hint,"show":show,"min":min,"max":max,"eSign":_81f,"textConfirmation":_820,"requireConfirmation":_821,"caller":"keypadFunction","top":dijit.byId("_x_viewer_Viewer").domNode.clientHeight/2,"left":dijit.byId("_x_viewer_Viewer").domNode.clientWidth/2,"scale":1};_823={"onWrite":function(_824){this.onWrite({value:_824});this.onClose();}.bind(vk),"onCancel":function(){this.onClose();}.bind(vk)};vk.show(_822,null,_823);vk.onWrite=function(data){func.output.ReturnValue=data.value;}.bind(this);vk.onClose=function(){_80c.returnCall(func,null,_81d);}.bind(this);};return _80c;});},"ma/widget/DisplayValue":function(){define(["dojo/_base/declare","../_base","../util/NamespaceLoader","dojo/text!./templates/displayValue.html","dojox/gauges/AnalogGauge","dojox/gauges/AnalogArcIndicator","dojox/gauges/AnalogNeedleIndicator","dojox/gauges/AnalogArrowIndicator","dojox/gauges/AnalogCircleIndicator","dojox/gauges/GlossyCircularGauge","dojox/gauges/GlossySemiCircularGauge","dojox/gauges/GlossyHorizontalGauge","dojox/gauges/TextIndicator","./SwitchEx","dojox/mobile/TextBox"],function(_825,Base,_826,_827){return _825("ma.widget.DisplayValue",ma._base,{templateString:_827,gauge:null,config:null,min:0,max:100,_originalSize:250,_gaugeSizeFactor:0.8,zoomFactor:1,namespaceLoader:null,widgetName:null,declarativeMode:false,label:"Display Label",tagName:null,noChange:true,byMarkup:true,sNamespace:"",value:0,enableWrite:false,constructor:function(){this.namespaceLoader=new _826();},startup:function(){if(this.min==this.max){this.min=0;this.max=100;}if(this.label==null||this.label.length==0){this.label=this.tagName;}if(this.widgetName!="gauge_1"&&this.widgetName!="gauge_2"&&this.widgetName!="gauge_3"&&this.widgetName!="switch_1"){this.widgetName="text_1";}if(this.widgetName==null||this.byMarkup){this.widgetName="text_1";this.SetObjectType(this.widgetName);}if(this.widgetName=="switch_1"||this.widgetName=="text_1"){dojo.style("_x_inputTagValue","display","none");}else{dojo.style("_x_inputTagValue","display","inline-block");}if(this.enableWrite||!this.noChange){dojo.addClass(this.titleDisplay,"ma_widget_display_value_title_regular");dojo.addClass(this.contentDisplay,"ma_widget_display_value_content_regular");}else{dojo.addClass(this.titleDisplay,"ma_widget_display_value_title_read_only");dojo.addClass(this.contentDisplay,"ma_widget_display_value_content_read_only");}this.draw();},draw:function(){this.namespaceLoader.Load(this.widgetName,this.sNamespace);this.gauge=this.namespaceLoader.CreateObject(this.widgetName);if(!this.gauge){return;}if(this.noChange){dojo.style(this.gauge.domNode,"display","none");}this.containerDisplayDiv.appendChild(this.gauge.domNode);if(this.widgetName=="switch_1"){this.gauge.setSize(this._originalSize*this.zoomFactor);}else{if(this.widgetName=="text_1"){dojo.style(this.gauge.domNode,"width",this._originalSize*this.zoomFactor*0.9+"px");dojo.style(this.gauge.domNode,"text-align","center");}}for(var _828 in this.config){this.gauge.set(_828,this.config[_828]);}if(this.gauge!=null){this.gauge.startup();if(this.gauge.onValueChanged!=undefined){this.gauge.onValueChanged=dojo.hitch(this,this.ValueChanged);}if(this.gauge.onStateChanged!=undefined){if(this.noChange){this.gauge.disableSwitch();}this.gauge.onStateChanged=dojo.hitch(this,this.ValueChanged);}if(this.gauge.onChange!=undefined){if(this.noChange){this.gauge.set("disabled",1);}this.gauge.onChange=dojo.hitch(this,this.ValueChanged);}}},SetObjectType:function(_829,_82a){this.widgetName=_829;this.sNamespace=_82a;var _82b="0";if(this.max<=1){_82b="2";}if(this.max<=10){_82b="1";}var _82c=this._originalSize*this._gaugeSizeFactor;var _82d=this._originalSize*this._gaugeSizeFactor;if(this.widgetName=="gauge_1"){this.sNamespace="dojox/gauges/GlossyCircularGauge";this.config={background:[255,255,255,0],title:"Value",min:this.min,max:this.max,font:"normal normal normal "+15*this.zoomFactor+"pt sans-serif",textIndicatorFont:"normal normal normal "+20*this.zoomFactor+"pt sans-serif",textIndicatorColor:"rgba(255, 0, 0, 0)",noChange:this.noChange,value:this.value,majorTicksInterval:(this.max-this.min)/4,minorTicksInterval:(this.max-this.min)/20,scalePrecision:_82b,minorTicksColor:"#ffffff",majorTicksColor:"#ffffff"};}if(this.widgetName=="gauge_2"){this.sNamespace="dojox/gauges/GlossySemiCircularGauge";this.config={background:[255,255,255,0],title:"Value",min:this.min,max:this.max,font:"normal normal normal "+10*this.zoomFactor+"pt sans-serif",textIndicatorFont:"normal normal normal "+20*this.zoomFactor+"pt sans-serif",noChange:this.noChange,value:this.value,majorTicksInterval:(this.max-this.min)/4,minorTicksInterval:(this.max-this.min)/20,scalePrecision:_82b,minorTicksColor:"#ffffff",majorTicksColor:"#ffffff"};_82c*=1.2;}if(this.widgetName=="gauge_3"){this.sNamespace="dojox/gauges/GlossyHorizontalGauge";this.config={title:"Value",background:[255,255,255,0],title:"Value",min:this.min,max:this.max,font:"normal normal normal "+15*this.zoomFactor+"pt sans-serif",textIndicatorFont:"normal normal normal "+20*this.zoomFactor+"pt sans-serif",noChange:this.noChange,value:this.value,majorTicksInterval:(this.max-this.min)/4,minorTicksInterval:(this.max-this.min)/8,scalePrecision:_82b,minorTicksColor:"#ffffff",majorTicksColor:"#ffffff"};_82d/=2.5;_82c*=1.3;}if(this.widgetName=="switch_1"){this.sNamespace="ma/widget/SwitchEx";this.config={onValueChange:function(){}};}if(this.widgetName=="text_1"){this.sNamespace="dojox/mobile/TextBox";this.config={onValueChange:function(){}};}if(_82c>this._originalSize){_82c=this._originalSize;}if(_82d>this._originalSize){_82d=this._originalSize;}if(this.config==null){this.config={width:0,height:0};}this.config.width=_82c*this.zoomFactor;this.config.height=_82d*this.zoomFactor;this.config.noChange=this.noChange;this.config.value=this.value;this.config.radius=60*this.zoomFactor;dojo.style(this.containerDisplayValue,"width",this._originalSize*this.zoomFactor+26*this.zoomFactor+"px");dojo.style(this.containerDisplayValue,"height",this._originalSize*this.zoomFactor+26*this.zoomFactor+"px");dojo.style(this.titleDisplay,"width",this._originalSize*this.zoomFactor+26*this.zoomFactor+"px");dojo.style(this.wrapperDisplay,"height",this._originalSize*this.zoomFactor+"px");dojo.style(this.wrapperDisplay,"width",this._originalSize*this.zoomFactor+"px");},SetSize:function(size){this.zoomFactor=Math.max(1,size)/this._originalSize;},ValueChanged:function(){if(this.noChange){}if(this.gauge.indicators!=undefined&&this.gauge.indicators!=null&&this.gauge.indicators.length>0){for(var i=0;i<this.gauge.indicators.length;i++){if(this.gauge.indicators[i].toString().indexOf("dojox.gauges.TextIndicator",0)>=0){this.gauge.indicators[i].update(this.gauge.indicators[0].value);}this.value=this.gauge.indicators[0].value;}}else{if(this.gauge.getValue){this.value=this.gauge.getValue();}else{this.value=this.gauge.value;}}this.onValueChange(this);},onValueChange:function(){},getValue:function(){return this.value;},setValue:function(_82e){dojo.style(this.gauge.domNode,"display","block");if(this.widgetName==="text_1"){this.gauge.set("value",_82e);}else{if(this.widgetName==="switch_1"){this.gauge.set("value",parseFloat(_82e)!=0?"on":"off");}else{if(typeof (this.gauge.indicators)!=="undefined"&&this.gauge.indicators!==null&&this.gauge.indicators.length>0){if(dojo.currency.format(_82e,{currency:"USD"})==null){return "NaN";}_82e=parseFloat(_82e);if(_82e>this.gauge.max){_82e=this.gauge.max;}if(_82e<this.gauge.min){_82e=this.gauge.min;}for(var i=0;i<this.gauge.indicators.length;i++){if(this.gauge.indicators[i].toString().indexOf("dojox.gauges.TextIndicator",0)>=0){this.gauge.indicators[i].update(_82e);}this.gauge.indicators[0].value=_82e;this.gauge.indicators[0].draw();}}else{if(this.gauge.setValue){return this.gauge.setValue(_82e);}else{if(dojo.currency.format(_82e,{currency:"USD"})==null){return "NaN";}_82e=parseFloat(_82e);if(_82e>this.gauge.max){_82e=this.gauge.max;}if(_82e<this.gauge.min){_82e=this.gauge.min;}this.gauge._setValueAttr(_82e);}}}}this.ValueChanged();return true;}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_82f,a11y){return _82f("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _830=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_830.lowest||_830.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_830.last||_830.highest||this._firstFocusItem;}});});},"viewer/misc/gui/CellText":function(){define(["dojo/_base/declare","./_base","dojo/text!./template/cellText.html"],function(_831,_832,_833){return _831("viewer.misc.gui.CellText",_832,{templateString:_833});});},"viewer/misc/gui/helpers/image":function(){define(["../../enums","./common","./trace"],function(_834,_835,_836){var _837=function(){};_837._imageMap=[];_837.load=function(path){var _838,_839,_83a,_83b,_83c;_838=path.lastIndexOf(".");_839=path.substring(_838+1,path.length);_83c="Load image: "+path;_836.timeStart(_83c);_83b=this._getImageData(path);_836.timeEnd(_83c,2500);if(_83b){return "data:image/"+_839+";base64,"+_83b;}else{return "";}};_837.parseResourcePath=function(path){var _83d=path.trim().toLowerCase(),_83e;while(_83d.length>1&&(_83d[0]=="/"||_83d[0]=="\\")){_83d=_83d.substring(1,_83d.length);}if(_83d.search(/[A-Za-z]:(\\|\/)/)==0){_83e=Math.max(_83d.lastIndexOf("/",_83d.length),_83d.lastIndexOf("\\",_83d.length));if(_83e>-1){_83d=_83d.substring(_83e+1,_83d.length);}}if(_83d.indexOf("web/")===0){_83d=_83d.replace("web/","");}return "web/"+_83d;};_837._getImageData=function(path){var img={data:null,path:""};for(var i=0;i<this._imageMap.length;i++){if(this._imageMap[i].path===path){return this._imageMap[i].data.image;}}img.data=services.loadImages(this.parseResourcePath(path)).data;if(img.data&&img.data.image){img.path=path;this._imageMap.push(img);}else{return null;}return img.data.image;};_837.draw=function(_83f){var _840,_841,_842;if(!_83f){return;}_842="Image render: "+_83f.path;_836.timeStart(_842);_841={"r":0,"g":0,"b":0};var l=0;var t=0;if(_83f.engine==_834.EnumRuntimeScadaEngine.ArchestrA){var w=_83f.img.width;var h=_83f.img.height;if(_83f.style){if(_83f.style.toLowerCase()=="normal"){w=_83f.imgwidth;h=_83f.imgheight;}else{if(_83f.style.toLowerCase()=="stretch"||_83f.style.toLowerCase()=="tile"){w=_83f.size.w;h=_83f.size.h;}}}}else{var w=_83f.size.w;var h=_83f.size.h;if(_83f.style&&_83f.style.toLowerCase()=="normal"){w=_83f.img.width;h=_83f.img.height;}}if(_83f.align&&_83f.align.toLowerCase().indexOf("left")>=0){l=0;}else{if(_83f.align&&_83f.align.toLowerCase().indexOf("right")>=0){l=_83f.size.w-w;}else{l=0.5*(_83f.size.w-w);}}if(_83f.align&&_83f.align.toLowerCase().indexOf("top")>=0){t=0;}else{if(_83f.align&&_83f.align.toLowerCase().indexOf("bottom")>=0){t=_83f.size.h-h;}else{t=0.5*(_83f.size.h-h);}}if(_83f.engine==_834.EnumRuntimeScadaEngine.ArchestrA){var _843,_844,_845=[];if(_83f.style&&_83f.style.toLowerCase()=="tile"&&_83f.imgwidth!=0&&_83f.imgheight!=0){_843=_83f.size.w/_83f.imgwidth;_844=_83f.size.h/_83f.imgheight;}}try{_83f.cContext.clearRect(0,0,_83f.cContext.canvas.width,_83f.cContext.canvas.height);if(_83f.style&&_83f.style.toLowerCase()=="tile"&&_83f.engine==_834.EnumRuntimeScadaEngine.ArchestrA){for(var i=0;i<_844;i++){for(var j=0;j<_843;j++){_83f.cContext.drawImage(_83f.img,j*_83f.imgwidth,i*_83f.imgheight,_83f.imgwidth,_83f.imgheight);}}}else{_83f.cContext.drawImage(_83f.img,l,t,w,h);}if(_83f.engine==_834.EnumRuntimeScadaEngine.ArchestrA){_83f.cContext.strokeRect(0,0,_83f.cContext.canvas.width,_83f.cContext.canvas.height);if(_83f.engine==_834.EnumRuntimeScadaEngine.ArchestrA){var _846=_83f.cContext.canvas.width;var _847=_83f.cContext.canvas.height;var _848=_83f.hr;var _849=_83f.vr;var _84a=_846*_848/100;var _84b=_847*_849/100;var _84c=0;var _84d=0;if(_83f.dirhorizantal==="Right"){_84c=0;}if(_83f.dirhorizantal==="Left"){_84c=_846-_84a;}if(_83f.dirvertical==="Bottom"){_84d=0;}if(_83f.dirvertical==="Top"){_84d=_847-_84b;}_83f.cContext.fillRect(_84c,_84d,_84a,_84b);}}_840=_83f.cContext.getImageData(0,0,_83f.size.w,_83f.size.h);}catch(error){_836.timeEnd(_842,10000);return;}var _84e=1;switch(_83f.transparencyType){case _834.EnumLinkedPictureTranparencyColor.COLOR_CODE:case _834.EnumLinkedPictureTranparencyColor.ArchestrAColorCode:var tmp=_83f.data;if(tmp.substring(0,4)=="0x01"){_84e=0;tmp=_83f.data=tmp.substring(4,tmp.length);}_841.r=tmp&255;tmp=_83f.data>>8;_841.g=tmp&255;tmp=_83f.data>>16;_841.b=tmp&255;break;case _834.EnumLinkedPictureTranparencyColor.TRACKER:var y=parseInt(_83f.data.y);var x=parseInt(_83f.data.x);var p=((_83f.size.w*y)+x)*4;_841.r=_840.data[p];_841.g=_840.data[p+1];_841.b=_840.data[p+2];if(_83f.data.colorNum){_841=data.colorNum;}break;}var _84f,_850,_851,_852;if(_83f.fillColor){var _853=_83f.fillColor.indexOf("(")+1;var rEnd=_83f.fillColor.indexOf(")");var _854=_83f.fillColor.substring(_853,rEnd).split(",");_84f=_854[0];_850=_854[1];_851=_854[2];if(_854.length>=4){_852=_854[3];}}if(_83f.transparencyType&&_83f.transparencyType!==_834.EnumLinkedPictureTranparencyColor.NONE){var _855={r:0,g:0,b:0};var _856={r:0,g:0,b:0};_855.r=Math.max(_841.r-_84e,0);_855.g=Math.max(_841.g-_84e,0);_855.b=Math.max(_841.b-_84e,0);_856.r=Math.min(_841.r+_84e,255);_856.g=Math.min(_841.g+_84e,255);_856.b=Math.min(_841.b+_84e,255);for(var i=0;i<_840.data.length;i+=4){if((_840.data[i]>=_855.r&&_840.data[i]<=_856.r)&&(_840.data[i+1]>=_855.g&&_840.data[i+1]<=_856.g)&&(_840.data[i+2]>=_855.b&&_840.data[i+2]<=_856.b)){if(_84f&&_851&&_850){_840.data[i]=_84f;_840.data[i+1]=_850;_840.data[i+2]=_851;if(_852!=null){_840.data[i+3]=_852;}}else{_840.data[i+3]=1;}}}}_83f.cContext.putImageData(_840,0,0,0,0,_83f.size.w,_83f.size.h);_836.timeEnd(_842,220);};return _837;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_857,_858,_859,_85a,has,_85b,lang,_85c,_85d,_85e,_85f,_860,_861){function _862(){};function _863(_864){return function(obj,_865,_866,_867){if(obj&&typeof _865=="string"&&obj[_865]==_862){return obj.on(_865.substring(2).toLowerCase(),lang.hitch(_866,_867));}return _864.apply(_859,arguments);};};_857.around(_859,"connect",_863);if(_85b.connect){_857.around(_85b,"connect",_863);}var _868=_85a("dijit._Widget",[_85f,_860,_861],{onClick:_862,onDblClick:_862,onKeyDown:_862,onKeyPress:_862,onKeyUp:_862,onMouseDown:_862,onMouseMove:_862,onMouseOut:_862,onMouseOver:_862,onMouseLeave:_862,onMouseEnter:_862,onMouseUp:_862,constructor:function(_869){this._toConnect={};for(var name in _869){if(this[name]===_862){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_869[name];delete _869[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_862){return _859.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_86a){_85b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_86a);},attr:function(name,_86b){if(_858.isDebug){var _86c=arguments.callee._ach||(arguments.callee._ach={}),_86d=(arguments.callee.caller||"unknown caller").toString();if(!_86c[_86d]){_85b.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_86d,"","2.0");_86c[_86d]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_85b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_85c("[widgetId]",this.containerNode).map(_85e.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_85d(0,function(){var _86e=["dijit/_base"];require(_86e);});}return _868;});},"dojox/fx":function(){define(["./fx/_base"],function(_86f){return _86f;});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_870,_871,_872){return _872("dijit.Destroyable",null,{destroy:function(_873){this._destroyed=true;},own:function(){_870.forEach(arguments,function(_874){var _875="destroyRecursive" in _874?"destroyRecursive":"destroy" in _874?"destroy":"remove";var odh=_871.before(this,"destroy",function(_876){_874[_875](_876);});var hdh=_871.after(_874,_875,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dojo/request":function(){define(["./request/default!"],function(_877){return _877;});},"ma/widget/date/Time":function(){define(["dojo/_base/declare","../../_base","dojo/text!../templates/time.html","dojox/mobile/SpinWheel"],function(_878,Base,_879){return _878("ma.widget.date.Time",Base,{templateString:_879,time:null,dijitSpin:null,constructor:function(){},startup:function(){dojo.parser.parse(this.containerTime);this.dijitSpin=dijit.byNode(this.spin);this.time=new Date();},getHours:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[0]){this.time.setHours(spV[0]);}return this.time.getHours();},getMinutes:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[1]){this.time.setMinutes(spV[1]);}return this.time.getMinutes();},getSeconds:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[2]){this.time.setSeconds(spV[2]);}return this.time.getSeconds();},setValue:function(date){this.time=date;this.update();},update:function(){this.dijitSpin.set("values",[this.time.getHours(),this.time.getMinutes(),this.time.getSeconds()]);}});});},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(_87a,_87b){return _87a("dojox.grid._RowSelector",_87b,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_87c,_87d){var w=this.contentWidth||0;_87d.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_87e,_87f){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_87e)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_87e)){n.push("dojoxGridRowbarSelected");}_87f.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});});},"viewer/misc/gui/inputKeyboard":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputKeyboard.html","./helpers/css","dojo/touch"],function(_880,_881,_882,_883,_884){return _880("viewer.misc.gui.InputWindow",_881,{templateString:_882,inputEvent:null,onWrite:null,onCancel:null,mask:null,_passwordType:false,_msg:"Obeject Hint",_textComponent:null,currentValue:null,range:null,_selectionStart:null,_selectionEnd:null,_shiftPressed:null,_capsPressed:null,_isInitial:true,_arrNormal:["`","1","2","3","4","5","6","7","8","9","0","-","=","[","]","\\",";","'",",",".","/"],_arrShift:["~","!","@","#","$","%","^","&","*","(",")","_","+","{","}","|",":","\"","<",">","?"],_isEncrypt:false,_isEchoCharacters:false,_passwordReplcementChar:null,_isPasswordReplcement:false,_isInputOnly:false,_textValue:"",_isHiddenValue:false,_tabIndex:0,startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this._textComponent=this._txtField;this.inherited(arguments);dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._textComponent,_884.release,function(evt){self._onMouseUp(evt);});dojo.connect(this._textComponent,"keyup",function(evt){self._onKeyUp(evt);});dojo.connect(this._dlgContent.parentNode,_884.press,function(evt){self.close();});dojo.connect(this._dlgContent,_884.press,function(evt){event.stopPropagation();});if(!this._isInputOnly||(this._isEchoCharacters&&!this._isPasswordReplcement)){this._textComponent.value=this.currentValue;this._currentValue.value=this.currentValue;}else{this._isHiddenValue=true;dojo.connect(this._textComponent,"input",function(evt){self._onInput(evt);});}if(dojo.isIos){setTimeout(function(){var _885=this._textComponent.type;this._textComponent.type="text";this._textComponent.selectionStart=0;this._textComponent.selectionEnd=this._textComponent.value.length;this._textComponent.type=_885;}.bind(this),300);}else{this._textComponent.select();}dojo.fadeIn({node:this._dlgContent,duration:100}).play();setTimeout(this._setFocus.bind(this),1);this._reset();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.onWrite){var _886=this._textComponent.value;if(this._isHiddenValue){_886=this._textValue;}if(this._isEncrypt){_886=this._prepareEncodedString(_886);}this.onWrite(_886);}},_onTabPress:function(){if(this._tabIndex==3){this._tabIndex=0;}else{this._tabIndex++;}switch(this._tabIndex){case 0:this._selectAll();break;case 1:this._okBtn.focus();break;case 2:this._cancelBtn.focus();break;case 3:this._clearlBtn.focus();break;}},_onNumPress:function(evt){var _887=evt.currentTarget.innerText;if(this._isInitial){this._setSelection();this._isInitial=false;}if(_887==="&nbsp;"){_887=" ";}if(this._isHiddenValue){this._textValue=this._textValue.substring(0,this._selectionStart)+_887+this._textValue.substring(this._selectionEnd,this._textValue.length);if(this._isPasswordReplcement){_887=this._passwordReplcementChar;}else{_887=" ";}}this._txtField.value=this._txtField.value.substring(0,this._selectionStart)+_887+this._txtField.value.substring(this._selectionEnd,this._txtField.value.length);this._selectionStart=this._selectionStart+_887.length;this._selectionEnd=this._selectionStart;this._setFocus();},_onCaps:function(evt){if(this._capsPressed==null||!this._capsPressed){this._capsPressed=true;}else{this._capsPressed=false;}this._setSwitchButton();},_onShift:function(evt){if(this._shiftPressed==null||!this._shiftPressed){this._shiftPressed=true;}else{this._shiftPressed=false;}this._setSwitchButton();},_setSwitchButton:function(){if(this._shiftPressed){_883.setBorder(this._shiftLBtn,"2px solid #7A9CD3");_883.setBorder(this._shiftRBtn,"2px solid #7A9CD3");this._switchToCase(true);this._switchShift(true);}else{_883.setBorder(this._shiftLBtn,"1px solid #bcbcbc");_883.setBorder(this._shiftRBtn,"1px solid #bcbcbc");this._switchShift(false);if(!this._capsPressed){this._switchToCase(false);}}if(this._capsPressed){_883.setBorder(this._capsBtn,"2px solid #7A9CD3");this._switchToCase(true);}else{_883.setBorder(this._capsBtn,"1px solid #bcbcbc");if(!this._shiftPressed){this._switchToCase(false);}}this._setFocus();},_switchToCase:function(_888){var _889=document.getElementsByName("alphabet");for(var i=0;i<_889.length;i++){var _88a=_889[i].innerHTML;_889[i].innerHTML=_888?_88a.toUpperCase():_88a.toLowerCase();}},_switchShift:function(_88b){var _88c=document.getElementsByName("mark");for(var i=0;i<_88c.length;i++){if(_88b){_88c[i].innerHTML=this._arrShift[i];}else{_88c[i].innerHTML=this._arrNormal[i];}}},_onLeft:function(evt){if(this._selectionStart>0){this._selectionStart=this._selectionStart-1;this._selectionEnd=this._selectionStart;}else{if(this._selectionStart==0&&this._selectionEnd==this._txtField.value.length){this._selectionEnd=this._selectionStart;}}this._setFocus();},_onRight:function(evt){if(this._selectionEnd<this._txtField.value.length){this._selectionStart=this._selectionStart+1;this._selectionEnd=this._selectionStart;}else{if(this._selectionStart==0&&this._selectionEnd==this._txtField.value.length){this._selectionStart=this._selectionEnd;}}this._setFocus();},_onClear:function(evt){this._txtField.value="";this._textValue="";this._setFocus();},_onBackSpace:function(evt){if(this._txtField.value.length==0){return;}if(this._isInitial){this._setSelection();this._isInitial=false;}if(this._selectionStart==this._selectionEnd){this._selectionStart=this._selectionStart-1;}if(this._isHiddenValue){this._textValue=this._textValue.substring(0,this._selectionStart)+this._textValue.substring(this._selectionEnd,this._textValue.length);}this._txtField.value=this._txtField.value.substring(0,this._selectionStart)+this._txtField.value.substring(this._selectionEnd,this._txtField.value.length);this._selectionEnd=this._selectionStart;this._setFocus();},_selectAll:function(){this._textComponent.focus();this._textComponent.setSelectionRange(0,this._textComponent.value.length);this._selectionStart=0;this._selectionEnd=this._textComponent.value.length;},_onMouseUp:function(evt){this._setSelection();},_onKeyUp:function(evt){this._setSelection();},_onKeyPress:function(evt){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;case 33:this._setFocusAtStart();break;case 34:this._setFocusAtEnd();break;}this._setSelection();},_setFocusAtStart:function(){this._selectionStart=0;this._selectionEnd=0;this._setFocus();},_setFocusAtEnd:function(){this._selectionStart=this._txtField.value.length;this._selectionEnd=this._txtField.value.length;this._setFocus();},_onInput:function(evt){if(evt.target.value.length>this._textValue.length){this._textValue+=evt.target.value.substr(this._textValue.length-evt.target.value.length);}else{if(evt.target.value.length<this._textValue.length){this._textValue=this._textValue.substring(0,evt.target.value.length);}else{return;}}var _88d="";if(!this._isPasswordReplcement){this._passwordReplcementChar=" ";}for(var i=0;i<this._textValue.length;i++){_88d+=this._passwordReplcementChar;}this._txtField.value=_88d;this._selectionStart=this._txtField.value.length;this._selectionEnd=this._selectionStart;this._setFocus();},_setSelection:function(){this._selectionStart=Math.min(this._txtField.selectionStart,this._txtField.selectionEnd);this._selectionEnd=Math.max(this._txtField.selectionStart,this._txtField.selectionEnd);},_setFocus:function(){this._txtField.focus();if(this._selectionStart==null){this._selectionStart=0;}if(this._selectionEnd==null){this._selectionEnd=this._txtField.value.length;}this._txtField.setSelectionRange(this._selectionStart,this._selectionEnd);},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},_setMessageErrorAttr:function(msg){this._dlgErrorMessage.innerHTML=msg;},_reset:function(){this._dlgErrorMessage.innerHTML="";},setRequired:function(_88e){},setTypeAndRangeAttr:function(opts){},setInputOnly:function(opts){if(opts){this._isEncrypt=opts.encrypt;this._isEchoCharacters=opts.echoCharacters;this._isPasswordReplcement=opts.passwordReplcement;this._passwordReplcementChar=opts.passwordReplcementChar;this._isInputOnly=opts.inputOnly;}},_prepareEncodedString:function(_88f){var j;var _890=127;var _891=new Array(_88f.length+1);for(var i=0;i<_88f.length;i++){j=_88f.charCodeAt(i);if(j>=1){if(j<=127){_891[i]=String.fromCharCode(j+_890);}if(j>127){if(j==255){_891[i]=String.fromCharCode(j);}else{_891[i]=String.fromCharCode(j-_890);}}}}return _891.join("");}});});},"viewer/object/shape/BezierCurve":function(){define(["dojo/_base/declare","../_base","../../misc/enums"],function(_892,_893,_894,_895){return _892("viewer.object.shape.BezierCurve",_893,{templateString:_895,segments:null,_proColorName:"stroke",position:null,buildRendering:function(){var _896,b,_897=null;_896="";b=Math.max(1,parseInt(this._attr.pen.width));this._attr.position={left:0,top:0,right:0,bottom:0};this._attr.position.left=this._attr.position.top=65535;this._attr.position.right=this._attr.position.bottom=0;var i;var j;var _898;for(i=0;i<this._attr.segments.length;i++){for(j=0;j<this._attr.segments[i].length;j++){_898=this._attr.segments[i][j];if(parseInt(_898.x)<parseInt(this._attr.position.left)){this._attr.position.left=parseInt(_898.x)-(b/2);}if(parseInt(_898.x)>parseInt(this._attr.position.right)){this._attr.position.right=parseInt(_898.x)+(b/2);}if(parseInt(_898.y)<parseInt(this._attr.position.top)){this._attr.position.top=parseInt(_898.y)-(b/2);}if(parseInt(_898.y)>parseInt(this._attr.position.bottom)){this._attr.position.bottom=parseInt(_898.y)+(b/2);}}}_896="M";for(i=0;i<this._attr.segments.length;i++){var _899=this._attr.segments[i];for(j=0;j<_899.length;j++){if(j===0){if(i!==0&&(_897==null||_897.length==1)){_896+="L";}_896+=(parseInt(_899[j].x)-parseInt(this._attr.position.left))+" "+(parseInt(_899[j].y)-parseInt(this._attr.position.top))+" ";}else{if(j===1){if(_899.length===2){_896+="Q";}else{if(_899.length===3){_896+="C";}}_896+=(parseInt(_899[j].x)-parseInt(this._attr.position.left))+" "+(parseInt(_899[j].y)-parseInt(this._attr.position.top))+" ";}else{if(j===2){_896+=(parseInt(_899[j].x)-parseInt(this._attr.position.left))+" "+(parseInt(_899[j].y)-parseInt(this._attr.position.top))+" ";}}}}if(i==this._attr.segments.length-1){_896+="Z";}_897=_899;}this._attr.points=_896;this.inherited(arguments);},setColor:function(_89a){if(this._attr.background){this.inherited(arguments);}else{this._guiHelper.setStroke(this._xComponent,_89a.color);}},resetColor:function(){if(this._attr.background){this.inherited(arguments);}else{if(this._attr.border){this._guiHelper.setStroke(this._xComponent,this._attr.border.color);}}}});});},"viewer/object/shape/OpenCurve":function(){define(["dojo/_base/declare","./Path","dojo/text!./openCurve.html"],function(_89b,Path,_89c){return _89b("viewer.object.shape.OpenCurve",Path,{templateString:_89c,buildRendering:function(){if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}if(this._attr.path.length>0){this.points=this._attr.path[0].points;}this.inherited(arguments);},setFillColor:function(){}});});},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(_89d,lang,_89e){var _89f=_89d.NodeList;lang.extend(_89f,{_buildArrayFromCallback:function(_8a0){var ary=[];for(var i=0;i<this.length;i++){var _8a1=_8a0.call(this[i],this[i],ary);if(_8a1){ary=ary.concat(_8a1);}}return ary;},_getUniqueAsNodeList:function(_8a2){var ary=[];for(var i=0,node;node=_8a2[i];i++){if(node.nodeType==1&&_89e.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(_8a3,_8a4){var ary=this._getUniqueAsNodeList(_8a3);ary=(_8a4?_89d._filterResult(ary,_8a4):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(_8a5,_8a6){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_8a6),_8a5);},children:function(_8a7){return this._getRelatedUniqueNodes(_8a7,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(_8a8,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_89d._filterResult([node],_8a8,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(_8a9){return this._getRelatedUniqueNodes(_8a9,function(node,ary){return node.parentNode;});},parents:function(_8aa){return this._getRelatedUniqueNodes(_8aa,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(_8ab){return this._getRelatedUniqueNodes(_8ab,function(node,ary){var pary=[];var _8ac=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<_8ac.length;i++){if(_8ac[i]!=node){pary.push(_8ac[i]);}}return pary;});},next:function(_8ad){return this._getRelatedUniqueNodes(_8ad,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(_8ae){return this._getRelatedUniqueNodes(_8ae,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(_8af){return this._getRelatedUniqueNodes(_8af,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(_8b0){return this._getRelatedUniqueNodes(_8b0,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _89f;});},"viewer/misc/gui/LogonWindow":function(){define(["dojo/_base/declare","./helpers/trace","dojo/parser","dojo/window","dojo/fx","./_base","dojo/dom-attr","dojo/text!./logonWindow.html"],function(_8b1,_8b2,_8b3,win,_8b4,_8b5,_8b6,_8b7){return _8b1("viewer.misc.gui.LogonWindow",_8b5,{templateString:_8b7,userInterfaceFunction:null,functionData:{},screenId:null,startup:function(){var self=this;this.inherited(arguments);dojo.connect(this._txtUsername,"keypress",function(evt){self._onKeyPressUsername(evt);});dojo.connect(this._txtPassword,"keypress",function(evt){self._onKeyPressPassword(evt);});dojo.connect(this._txtUsername,"onfocus",function(){self._showError(false);});dojo.connect(this._txtPassword,"onfocus",function(){self._showError(false);});this._showError(false);self.functionData;this._txtUsername.focus();this._txtCurrentUser.innerHTML=self.functionData.output["CurrentUsername"];dojo.fadeIn({node:this._dlgContent,duration:100}).play();this._reset();},close:function(){var self=this;self.functionData.extra["action"]="cancel";self.userInterfaceFunction.returnCall(self.functionData,dojo.hitch(this,function(func){dojo.destroy(this.id);}),this.screenId);},_ok:function(){var self=this;var user=self._txtUsername.value;var pwd=self._txtPassword.value;self._enableButtons(false);self.functionData.extra["action"]="logon";self.functionData.extra["Username"]=user;self.functionData.extra["Password"]=pwd;self.userInterfaceFunction.returnCall(self.functionData,dojo.hitch(this,function(func){self._enableButtons(true);var ret=func.extra["result"];switch(ret){case "InvalidLogon":this._showError(true,"Invalid user or password.");break;case "AccessDenied":this._showError(true,"Access denied.");break;case "Success":this._showError(false);break;case "InvalidUserOrPassword":this._showError(true,"Invalid user name and/or password.");break;case "UserBlocked":this._showError(true,"User blocked, access not allowed.");break;default:this._showError(true,"Server error: "+response.message);break;}if(ret=="Success"){if(userActivityMonitor){var _8b8=func.output["checkIdle"];if(_8b8==true){userActivityMonitor.startMonitoring();}else{userActivityMonitor.stopMonitoring();}}dojo.destroy(this.id);}}),this.screenId);},_logoff:function(){var self=this;self._reset();self._enableButtons(false);self.functionData.extra["action"]="logoff";self.userInterfaceFunction.returnCall(self.functionData,dojo.hitch(this,function(func){self._enableButtons(true);var ret=func.extra["result"];var _8b9=func.output["checkIdle"];switch(ret){case "Success":this._showError(false);break;case "InvalidLogon":this._showError(true,"Invalid user or password.");break;case "AccessDenied":this._showError(true,"Access denied.");break;default:this._showError(true,"Logoff failed.");break;}if(ret=="Success"){if(userActivityMonitor){if(_8b9==true){userActivityMonitor.startMonitoring();}else{userActivityMonitor.stopMonitoring();}}dojo.destroy(this.id);}}),this.screenId);},_reset:function(){this._showError(false);},_onKeyPressUsername:function(evt){switch(evt.keyCode){case 13:this._txtPassword.focus();break;}},_onKeyPressPassword:function(evt){switch(evt.keyCode){case 13:this._ok();break;}},_showError:function(show,msg){if(show){dojo.removeClass(this._pnlAlert,"viewer-style-common-invisible");this._lblMessage.innerHTML=msg;}else{dojo.addClass(this._pnlAlert,"viewer-style-common-invisible");this._lblMessage.innerHTML="";}},_parseResult:function(_8ba){if(_8ba.resultCode==0){if(_8ba.message.length!=0){_8b2.warn(_8ba.message);}return _8ba.data;}else{if(_8ba.resultCode==-1){}else{return _8ba;}}},_enableButtons:function(_8bb){var self=this;if(_8bb){dojo.removeAttr(self._btnOk,"disabled");dojo.removeAttr(self._btnCancel,"disabled");dojo.removeAttr(self._btnLogoff,"disabled");}else{dojo.attr(self._btnOk,"disabled","");dojo.attr(self._btnCancel,"disabled","");dojo.attr(self._btnLogoff,"disabled","");}}});});},"dojox/charting/plot2d/Scatter":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx","dojox/gfx/gradutils"],function(lang,arr,_8bc,has,_8bd,_8be,dc,df,dfr,du,fx,_8bf){var _8c0=dfr.lambda("item.purgeGroup()");return _8bc("dojox.charting.plot2d.Scatter",[_8bd,_8be],{defaultParams:{shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",styleFunc:null},constructor:function(_8c1,_8c2){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_8c2);du.updateWithPattern(this.opt,_8c2,this.optionalParams);this.animate=this.opt.animate;},render:function(dim,_8c3){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_8c3);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_8c0);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_8c4=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _8c5=t.next("marker",[this.opt,run]),_8c6,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);s=run.group;if(typeof run.data[0]=="number"){_8c6=arr.map(run.data,function(v,i){return {x:ht(i+1)+_8c3.l,y:dim.height-_8c3.b-vt(v)};},this);}else{_8c6=arr.map(run.data,function(v,i){return {x:ht(v.x)+_8c3.l,y:dim.height-_8c3.b-vt(v.y)};},this);}var _8c7=new Array(_8c6.length),_8c8=new Array(_8c6.length),_8c9=new Array(_8c6.length);arr.forEach(_8c6,function(c,i){var _8ca=run.data[i],_8cb;if(this.opt.styleFunc||typeof _8ca!="number"){var _8cc=typeof _8ca!="number"?[_8ca]:[];if(this.opt.styleFunc){_8cc.push(this.opt.styleFunc(_8ca));}_8cb=t.addMixin(_8c5,"marker",_8cc,true);}else{_8cb=t.post(_8c5,"marker");}var path="M"+c.x+" "+c.y+" "+_8cb.symbol;if(_8cb.marker.shadow){_8c7[i]=s.createPath("M"+(c.x+_8cb.marker.shadow.dx)+" "+(c.y+_8cb.marker.shadow.dy)+" "+_8cb.symbol).setStroke(_8cb.marker.shadow).setFill(_8cb.marker.shadow.color);if(this.animate){this._animateScatter(_8c7[i],dim.height-_8c3.b);}}if(_8cb.marker.outline){var _8cd=dc.makeStroke(_8cb.marker.outline);_8cd.width=2*_8cd.width+_8cb.marker.stroke.width;_8c9[i]=s.createPath(path).setStroke(_8cd);if(this.animate){this._animateScatter(_8c9[i],dim.height-_8c3.b);}}var _8ce=dc.makeStroke(_8cb.marker.stroke),fill=this._plotFill(_8cb.marker.fill,dim,_8c3);if(fill&&(fill.type==="linear"||fill.type=="radial")){var _8cf=_8bf.getColor(fill,{x:c.x,y:c.y});if(_8ce){_8ce.color=_8cf;}_8c8[i]=s.createPath(path).setStroke(_8ce).setFill(_8cf);}else{_8c8[i]=s.createPath(path).setStroke(_8ce).setFill(fill);}if(this.opt.labels){var _8d0=_8c8[i].getBoundingBox();this.createLabel(s,_8ca,_8d0,_8cb);}if(this.animate){this._animateScatter(_8c8[i],dim.height-_8c3.b);}},this);if(_8c8.length){run.dyn.marker=_8c5.symbol;run.dyn.markerStroke=_8c8[_8c8.length-1].getStroke();run.dyn.markerFill=_8c8[_8c8.length-1].getFill();}if(_8c4){var _8d1=new Array(_8c8.length);arr.forEach(_8c8,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_8c9&&_8c9[i]||null,shadow:_8c7&&_8c7[i]||null,cx:_8c6[i].x,cy:_8c6[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(o);_8d1[i]=o;},this);this._eventSeries[run.name]=_8d1;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_8c3);}return this;},_animateScatter:function(_8d2,_8d3){fx.animateTransform(lang.delegate({shape:_8d2,duration:1200,transform:[{name:"translate",start:[0,_8d3],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/StackedBars":function(){define(["dojo/_base/declare","./Bars","./commonStacked"],function(_8d4,Bars,_8d5){return _8d4("dojox.charting.plot2d.StackedBars",Bars,{getSeriesStats:function(){var _8d6=_8d5.collectStats(this.series),t;_8d6.hmin-=0.5;_8d6.hmax+=0.5;t=_8d6.hmin,_8d6.hmin=_8d6.vmin,_8d6.vmin=t;t=_8d6.hmax,_8d6.hmax=_8d6.vmax,_8d6.vmax=t;return _8d6;},getValue:function(_8d7,_8d8,_8d9,_8da){var y,x;if(_8da){x=_8d8;y=_8d5.getIndexValue(this.series,_8d9,x);}else{x=_8d7.x-1;y=_8d5.getValue(this.series,_8d9,_8d7.x);y=[y[0]?y[0].y:null,y[1]?y[1]:null];}return {x:x,y:y[0],py:y[1]};}});});},"viewer/object/action/RadioButton":function(){define(["dojo/_base/declare","dojo/touch","dojo/on","./CheckRadioBase","../../misc/gesture/_base","../../misc/enums","dojo/dom-attr","dojo/text!./radioButton.html"],function(_8db,_8dc,on,_8dd,_8de,_8df,_8e0,_8e1){return _8db("viewer.object.action.RadioButton",_8dd,{templateString:_8e1,_checkedOn:"checkRadio-radioon",_checkedOff:"checkRadio-radiooff",_checked3State:"checkRadio-radio3state",_gesture:new _8de(),startup:function(){this.inherited(arguments);if(this._attr.engine==_8df.EnumRuntimeScadaEngine.ArchestrA){dojo.style(this.domNode,"text-align","left");}this.hiddenCheckRadio();if(this.isPushLike){this._guiHelper.addClass(this.domNode,"object-action-pushButton-focus");}else{if(this.isIE()){this.SetLetterSpacing(this._xLabel,"0.54");}else{this.SetLetterSpacing(this._xLabel,"0.533");}if(this.isDisabled()===false&&this._attr.engine===_8df.EnumRuntimeScadaEngine.InduSoft){if(this._attr.enableFocus===1){this._guiHelper.setDisplay(this._xLabelCell,"table-cell");}}this._guiHelper.addClass(this.domNode,"object-action-radioButton-focus");}},_setArrayTagAttr:function(_8e2){if(_8e2){var list=_8e2.split("8#4@$");if(list.length>1){if(this._attr.listSortOrder==="Ascending"){list.sort(function(a,b){return a.localeCompare(b);});this.caption=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2+1]:list[1];this.trueValue=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2]:list[0];}else{if(this._attr.listSortOrder==="Descending"){list.sort(function(b,a){return a.localeCompare(b);});this.caption=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2]:list[0];this.trueValue=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2+1]:list[1];}else{this.caption=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2]:list[0];this.trueValue=this._attr.arrayTagIndex?list[this._attr.arrayTagIndex*2+1]:list[1];}}this._setCaptionAttr(this.caption);this._setTrueValueAttr(this.trueValue);}}},_setWidthAttr:function(v){if(!this.isPushLike){if(this.isDisabled()===false&&this._attr.enableFocus===1&&this._attr.engine===_8df.EnumRuntimeScadaEngine.InduSoft){var w=parseFloat(v);if(!isNaN(w)){this._guiHelper.setWidth(this._xLabelCell,w-16-3+"px");}}}this.inherited(arguments);},_onBlur:function(evt){if(this.isPushLike){this.initialPushLike();this.CheckedPushLike("onBlur");}},_onClick:function(evt){if(this.isPushLike){if(this.isDisabled()===false){if(this._attr.enableFocus===1){this.initialPushLike();if(this.isCheckedRadioButton()){this.enableFocusPushLikeWithChecked();}else{this.enableFocusPushLike();}}}if(!this.tag||!this._tagId){evt.stopPropagation();return;}}else{if(this.isDisabled()===false&&this._attr.enableFocus===1&&this._attr.engine===_8df.EnumRuntimeScadaEngine.InduSoft){this.enableFocusRadioButton();}if(!this.tag||!this._tagId){var _8e3;_8e3=this._checkedOff+(parseInt(this.disable)===0?"":"disabled");dojo.addClass(this._xComponent,_8e3);evt.stopPropagation();return;}}if(this.isDisabled()===false&&this._securitySystem.isAuthorized(this._attr.security)===true){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._tagId,this.trueValue);this.intervalCallRequest();}evt.stopPropagation();this._gesture.generalStatus.isGesturing=false;}});});},"viewer/animation/TextDataLink":function(){define(["dojo/_base/declare","./_base","../misc/enums","dojo/dom-construct","dojo/touch","dojo/on","../misc/gui/InputWindow","../misc/gui/OutputWindow","../misc/gui/vk"],function(_8e4,_8e5,_8e6,_8e7,_8e8,on,_8e9,_8ea,vk){return _8e4("viewer.animation.TextDataLink",_8e5,{_startMask:-1,_endMask:-1,_intLength:0,_intMinLength:0,_intHasDivider:false,_floatLength:0,_mask:null,_widgetMask:null,_widgetCount:null,_widgetComponent:null,_tagExpressionId:null,_inputWindow:null,_evtConnection:null,constructor:function(){this.inherited(arguments);this._animProps._tagExpressionTp=null;this._animProps.tagExpressionQuality=null;this._animProps._offValueTp=null;this._animProps._onValueTp=null;if(this.inputEnable===1){this._widget._setResizeCharAttr("W");}if(this._animProps.password||this._widget._attr.password){if(this._widget.declaredClass==="viewer.object.action.TextBox"){this._widget._getComponentAttr().setAttribute("type","password");}else{if(this._widget.declaredClass==="viewer.object.action.Text"||this._widget.declaredClass==="viewer.object.shape.Rectangle"){this._guiHelper.addClass(this._widget._getComponentAttr(),"viewer-style-common-password");}}}},showVK:function(_8eb,evt,_8ec){var _8ed={"tagId":_8eb,"currentValue":this._animProps.tagExpression,"tagType":this._animProps._tagExpressionTp,"screenId":this._widget.getParentScreen().screenId,"type":this._animProps.virtualKeyboard,"password":this._animProps.password,"show":(this._widget._attr.hint===undefined)?0:1,"hint":this._widget._attr.hint,"eSign":this._animProps.eSign,"textConfirmation":"Confirm ?","requireConfirmation":this._animProps.requireConfirmation,"caller":"textDataLink","top":evt.pageY,"left":evt.pageX,"scale":this._widget._getFrameScaleAttr(),"multiLine":false};if(this._animProps.min){_8ed.min=this._animProps.min;}if(this._animProps.max){_8ed.max=this._animProps.max;}if(this._widget.declaredClass==="viewer.object.action.TextBox"){_8ed.type=this._widget._attr.virtualKeyboard;_8ed.password=this._widget._attr.password;_8ed.eSign=this._widget._attr.eSign;_8ed.requireConfirmation=this._widget._attr.requireConfirmation;_8ed.caller="textBox";_8ed.multiLine=this._widget.getMultiLineAttr();return vk.show(_8ed,evt,_8ec);}else{if(this._widget.declaredClass==="viewer.object.action.Text"){_8ed.forceVk=true;return vk.show(_8ed,evt,_8ec);}else{if(this._widget.declaredClass==="viewer.object.action.EditBox"){_8ed.type=this._widget._attr.virtualKeyboard;_8ed.password=this._widget._attr.password;_8ed.eSign=this._widget._attr.eSign;_8ed.requireConfirmation=this._widget._attr.requireConfirmation;_8ed.caller="textBox";_8ed.multiLine=this._widget.getMultiLineAttr();return;}}}},_execUpdate:function(){var _8ee,_8ef,_8f0,_8f1,_8f2,_8f3,_8f4,_8f5=null,i=0,_8f6,_8f7;this._updateMask();_8ee=this._animProps.tagExpression;_8f6=this._animProps.tagExpressionQuality;if(typeof (_8f6)=="undefined"){_8f6=192;}_8f2=this._animProps._tagExpressionTp;if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){if(isNaN(_8f2)||_8f2<0||(_8f2!==_8e6.EnumDataType.BOOLEAN&&_8f2!==_8e6.EnumDataType.INT&&_8f2!==_8e6.EnumDataType.REAL)){_8f2=_8e6.EnumDataType.STRING;}}else{if((_8f6&255)<192||isNaN(_8f2)||_8f2<0||(_8f2!==_8e6.EnumDataType.BOOLEAN&&_8f2!==_8e6.EnumDataType.INT&&_8f2!==_8e6.EnumDataType.REAL)){_8f2=_8e6.EnumDataType.STRING;}}_8f0=(this._widget.declaredClass==="viewer.object.action.TextBox");_8f1=(this._widget.declaredClass==="viewer.object.shape.Rectangle");_8f3=this._intLength!==0||this._floatLength!==0;if(_8f2==_8e6.EnumDataType.BOOLEAN&&this._animProps.offValue&&this._animProps.onValue){_8f3=true;}switch(_8f2){case _8e6.EnumDataType.BOOLEAN:if(_8f3){if(!_8f0||_8f1){if(this._animProps.offValue&&this._animProps.onValue){switch(this._animProps._offValueTp){case _8e6.EnumDataType.BOOLEAN:this._animProps.offValue=this._animProps.offValue=="0"?"false":"true";break;default:break;}switch(this._animProps._onValueTp){case _8e6.EnumDataType.BOOLEAN:this._animProps.onValue=this._animProps.onValue=="0"?"false":"true";break;default:break;}_8ee=_8ee=="0"?this._animProps.offValue:this._animProps.onValue;}else{_8ef=this._intLength+(this._floatLength===0?0:this._floatLength+1);if(!this._animProps.autoSize&&_8ee.length>_8ef){_8ee=_8ee.substr(0,_8ef);}}}}break;case _8e6.EnumDataType.INT:if(_8f3){if(!_8f0&&!_8f1){_8ef=this._intLength+(this._floatLength===0?0:this._floatLength+1);if(!this._animProps.autoSize&&_8ee.length>_8ef){_8ee=_8ee.substr(0,_8ef);}}_8ee=this._fixNumberStr(_8ee,this._intMinLength,this._intHasDivider);}else{if(this._widgetMask&&this._widgetMask!=null){_8ee=this._widgetMask+_8ee;}else{_8ee=parseFloat(_8ee).toString();}}break;case _8e6.EnumDataType.REAL:if(_8f0||_8f1){if(this._widget._attr.format==="Decimal"||this._widget._attr.format===undefined){_8ee=parseFloat(_8ee).toFixed(this._floatLength);}else{_8ee=parseFloat(_8ee).toFixed(6);if(_8f3){if(this._floatLength>0&&this._floatLength<6){_8ee=_8ee.substr(0,_8ee.length-6+this._floatLength);}}}}else{if(_8f3){if(this._animProps.format==="Decimal"){_8ee=parseFloat(_8ee).toFixed(this._floatLength);}else{_8ee=parseFloat(_8ee).toFixed(6);}if(!this._animProps.autoSize){var _8f8=1;if(_8ee.length>0&&isNaN(parseInt(_8ee.charAt(0)))){_8f8=2;}_8ef=this._intLength+(this._floatLength===0?0:this._floatLength+_8f8);if(_8ee.length>_8ef){_8ee=_8ee.substr(0,_8ef);}}_8ee=this._fixNumberStr(_8ee,this._intMinLength,this._intHasDivider);}else{if(this._widgetMask&&this._widgetMask!=null){_8ee=parseFloat(_8ee).toString();_8ee=this._widgetMask+_8ee;}else{_8ee=parseFloat(_8ee).toString();}}}break;case _8e6.EnumDataType.STRING:if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){_8f3=false;break;}if((_8f6&255)<192){if(_8ee!=null){_8f7=_8ee.length;}_8ee="";for(var i=0;i<_8f7;i++){_8ee+="?";}}break;default:if(_8f0){if(this._intLength>0){_8f4=this._intLength;}else{if(this._widgetCount!==null){_8f4=this._widgetCount;}else{_8f4=0;}}if(_8f4>0){_8ee=_8ee.substring(0,_8f4);}}else{if(_8f3){if(!this._animProps.autoSize&&this._intLength>0){_8ee=_8ee.substring(0,this._intLength);}_8ee=this._fixNumberStr(_8ee,this._intMinLength,this._intHasDivider);}else{if(this._widgetMask&&this._widgetMask!=null){_8ee=this._widgetMask+_8ee;}}}break;}if(typeof _8ee!=="object"&&typeof _8ee!=="undefined"){if(!this._widgetMask||this._widgetMask.length===0){this._widget._setCaptionAttr(_8ee);}else{if(_8f2==_8e6.EnumDataType.BOOLEAN&&this._animProps.offValue&&this._animProps.onValue){this._widget._setCaptionAttr(_8ee);}else{if(_8f3){this._widget._setCaptionAttr(this._widgetMask.replace(this._mask,_8ee));}else{this._widget._setCaptionAttr(_8ee);}}}}if(this._animProps.onValue!==undefined&&this._animProps.onValue!=""&&this._animProps.offValue!==undefined&&this._animProps.offValue!=""){if(_8ee=="True"){this._widget._setCaptionAttr(this._animProps.onValue);}else{if(_8ee=="False"){this._widget._setCaptionAttr(this._animProps.offValue);}}}if(!_8f0&&this._animProps.password){if(this._widgetComponent.childNodes.length===1&&this._widgetComponent.firstChild.nodeType===3){_8f5=this._widgetComponent.firstChild.textContent;}else{if(this._widgetComponent.childNodes.length>1){for(i=0;i<this._widgetComponent.childNodes.length;i++){if(this._widgetComponent.childNodes[i].nodeType===3&&this._widgetComponent.childNodes[i].length>=this._animProps.tagExpression.length){_8f5=this._widgetComponent.childNodes[i].textContent;}}}}if(!_8f5){_8f5=this._widgetComponent.innerText;}if(this._animProps.tagExpression){_8f5=_8f5.replace(this._animProps.tagExpression,[].constructor(this._animProps.tagExpression.length+1).join("*"));}else{_8f5="";}this._widgetComponent.innerText=_8f5;}this._applyAutoSize();},_showInputWindow:function(evt){var self=this,div=null,_8f9;_8f9={"onWrite":function(_8fa){self._onWrite(_8fa);}};if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false||this.showVK(this._tagExpressionId,evt,_8f9)===true){return;}div=document.createElement("div");_8e7.place(div,dojo.body(),"first");this._inputWindow=new _8e9({"inputEvent":evt,"onWrite":function(_8fb){self._onWrite(_8fb);}},div);this._inputWindow._setMessageAttr(this._widget.hint||"");this._inputWindow._setPasswordTypeAttr(this._animProps.password);this._inputWindow.startup();},_onWrite:function(_8fc){var _8fd,_8fe=this._animProps._tagExpressionTp,_8ff,_900;if(isNaN(_8fe)||_8fe<0||(_8fe!==_8e6.EnumDataType.BOOLEAN&&_8fe!==_8e6.EnumDataType.INT&&_8fe!==_8e6.EnumDataType.REAL)){_8fe=_8e6.EnumDataType.STRING;}if(_8fe!==_8e6.EnumDataType.STRING&&isNaN(_8fc)===true){_8ff=_8e7.create("div");_8e7.place(_8ff,dojo.body(),"first");_900=new _8ea({"onClose":function(){}},_8ff);_900._setMessageAttr("Invalid entry. Please enter a valid numeric value.");_900.startup();}else{_8fd=services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._tagExpressionId,_8fc);this.intervalCallRequest();if(_8fd===this._serverEvents.parseResult(_8fd)){this._inputWindow._setMessageErrorAttr(_8fd.message);return;}}if(this._inputWindow){this._inputWindow.close();}this._inputWindow=null;this._animProps.tagExpression=_8fc;this._execDisable();},_updateMask:function(){var _901=null,self=this,_902=false,_903=this._widget._getMaskAttr(),_904,_905,_906,_907;if(!_903||_903.isExp===true){return;}_901=this._widget._getMaskAttr().replace(/'/g,"");if(_901===null||this._widgetMask===_901||this._widgetCount!==null){return;}this._widgetMask=_901;if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){this._startMask=Math.max(this._widgetMask.indexOf("#"),this._widgetMask.indexOf("0"));}else{this._startMask=this._widgetMask.indexOf("#");}this._widgetComponent=this._widget._getComponentAttr();if(this._startMask>-1){if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){_904=this._widgetMask.match(/[#|0]+(,[#|0]{3})*\.{0,1}[#|0]*/);}else{_904=this._widgetMask.match(/#+\.{0,1}#*/);}if(_904){this._mask=_904[0];}this._intLength=0;this._floatLength=0;if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){this._intMinLength=0;this._intHasDivider=false;_905=this._mask.match(/[#|0]+(,[#|0]{3})*\.{0,1}/);_907=this._mask.match(/0+\.{0,1}/);_906=this._mask.match(/\.([#|0]*)/);}else{_905=this._mask.match(/(#+)\.{0,1}/);_906=this._mask.match(/\.(#*)/);}if(_905){if(this._widget._attr.engine==_8e6.EnumRuntimeScadaEngine.ArchestrA){var _908=_905[0].replace(".","");this._intLength=_908.length;this._intHasDivider=_908.indexOf(",")>=0;}else{this._intLength=_905[1].length;}}if(_907){this._intMinLength=_907[0].replace(".","").length;}if(_906){this._floatLength=_906[1].length;}}else{_902=(this._widget.declaredClass==="viewer.object.action.TextBox");if(_902&&!isNaN(parseInt(_901,10))){this._widgetCount=parseInt(_901,10);this._widgetMask=null;this._intLength=0;this._floatLength=0;}}if(this._evtConnection===null&&this._animProps.inputEnabled===1){this._widget._getComponentAttr().style.pointerEvents="visible";this._evtConnection=on(this._widgetComponent,_8e8.release,function(evt){self._showInputWindow(evt);});}},_applyAutoSize:function(){var _909=0,_90a=0,ps=null;if(!this._widgetComponent||!this._animProps.autoSize||this._widget._matrix!=null){return;}this._guiHelper.setWidth(this._widgetComponent,"auto");ps=this._widget._getPositionAttr();_909=ps.left;_90a=this._widget.getTextWidth();if(_8e6.EnumAlignHorizontal.CENTER.toLowerCase()===this._widget.getAlign()){_909-=(((_90a-(ps.right-ps.left))/2)+((_90a-(ps.right-ps.left))%2));}else{if(_8e6.EnumAlignHorizontal.RIGHT.toLowerCase()===this._widget.getAlign()){_909-=((_90a-(ps.right-ps.left))+((_90a-(ps.right-ps.left))%2));}}this._guiHelper.setLeft(this._widgetComponent,_909+"px");var _90b=this._widgetComponent.clientLeft+this._widgetComponent.clientWidth;var _90c=this._widget.getParentScreen()._attr.sizeWidth;if(_90b>_90c){this._widget.getParentScreen()._attr.sizeWidth+=_90b-_90c;}this._calculateParentSize(this._widgetComponent);},_calculateParentSize:function(_90d){if(_90d.parentElement&&_90d.parentElement.style&&_90d.parentElement.style.width){var _90e=_90d.clientLeft+_90d.clientWidth;var _90f=_90d.parentElement.clientLeft+_90d.parentElement.clientWidth;if(_90e>_90f){_90d.parentElement.style.width=_90d.parentElement.clientWidth+(_90e-_90f)+"px";}this._calculateParentSize(_90d.parentElement);}},_fixNumberStr:function(_910,_911,_912){if(this._widget._attr.engine!=_8e6.EnumRuntimeScadaEngine.ArchestrA){return _910;}if(_910==null||(_911<=0&&!_912)){return _910;}var str=_910.toString();var _913=str.indexOf(".");var _914=_913>=0?str.substring(0,_913):str;var _915=_913>=0?str.substring(_913):"";if(_911>0){var _916=_911-_914.length;if(_916>0){for(var i=0;i<_916;i++){_914="0"+_914;}}}if(_912){var _917=_914;var _918="";while(_917.length>3){_918=","+_917.substring(_917.length-3)+_918;_917=_917.substring(0,_917.length-3);}_914=_917+_918;}return _914+_915;}});});},"dojox/gauges/GlossyCircularGaugeBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojox/gfx","./AnalogGauge","./AnalogCircleIndicator","./TextIndicator","./GlossyCircularGaugeNeedle"],function(_919,lang,_91a,gfx,_91b,_91c,_91d,_91e){return _919("dojox.gauges.GlossyCircularGaugeBase",[_91b],{_defaultIndicator:_91c,_needle:null,_textIndicator:null,_textIndicatorAdded:false,_range:null,value:0,color:"black",needleColor:"#c4c4c4",textIndicatorFont:"normal normal normal 20pt serif",textIndicatorVisible:true,textIndicatorColor:"#c4c4c4",_majorTicksOffset:130,majorTicksInterval:10,_majorTicksLength:5,majorTicksColor:"#c4c4c4",majorTicksLabelPlacement:"inside",_minorTicksOffset:130,minorTicksInterval:5,_minorTicksLength:3,minorTicksColor:"#c4c4c4",noChange:false,title:"",font:"normal normal normal 10pt serif",scalePrecision:0,textIndicatorPrecision:0,_font:null,constructor:function(){this.startAngle=-135;this.endAngle=135;this.min=0;this.max=100;},startup:function(){this.inherited(arguments);if(this._needle){return;}var _91f=Math.min((this.width/this._designWidth),(this.height/this._designHeight));this.cx=_91f*this._designCx+(this.width-_91f*this._designWidth)/2;this.cy=_91f*this._designCy+(this.height-_91f*this._designHeight)/2;this._range={low:this.min?this.min:0,high:this.max?this.max:100,color:[255,255,255,0]};this.addRange(this._range);this._majorTicksOffset=this._minorTicksOffset=_91f*this._majorTicksOffset;this._majorTicksLength=_91f*this._majorTicksLength;this._minorTicksLength=_91f*this._minorTicksLength;this.setMajorTicks({fixedPrecision:true,precision:this.scalePrecision,font:this._font,offset:this._majorTicksOffset,interval:this.majorTicksInterval,length:this._majorTicksLength,color:this.majorTicksColor,labelPlacement:this.majorTicksLabelPlacement});this.setMinorTicks({offset:this._minorTicksOffset,interval:this.minorTicksInterval,length:this._minorTicksLength,color:this.minorTicksColor});this._needle=new _91e({hideValue:true,title:this.title,noChange:this.noChange,color:this.needleColor,value:this.value});this.addIndicator(this._needle);this._textIndicator=new _91d({x:_91f*this._designTextIndicatorX+(this.width-_91f*this._designWidth)/2,y:_91f*this._designTextIndicatorY+(this.height-_91f*this._designHeight)/2,fixedPrecision:true,precision:this.textIndicatorPrecision,color:this.textIndicatorColor,value:this.value?this.value:this.min,align:"middle",font:this._textIndicatorFont});if(this.textIndicatorVisible){this.addIndicator(this._textIndicator);this._textIndicatorAdded=true;}_91a.connect(this._needle,"valueChanged",lang.hitch(this,function(){this.value=this._needle.value;this._textIndicator.update(this._needle.value);this.onValueChanged();}));},onValueChanged:function(){},_setColorAttr:function(_920){this.color=_920?_920:"black";if(this._gaugeBackground&&this._gaugeBackground.parent){this._gaugeBackground.parent.remove(this._gaugeBackground);}if(this._foreground&&this._foreground.parent){this._foreground.parent.remove(this._foreground);}this._gaugeBackground=null;this._foreground=null;this.draw();},_setNeedleColorAttr:function(_921){this.needleColor=_921;if(this._needle){this.removeIndicator(this._needle);this._needle.color=this.needleColor;this._needle.shape=null;this.addIndicator(this._needle);}},_setTextIndicatorColorAttr:function(_922){this.textIndicatorColor=_922;if(this._textIndicator){this._textIndicator.color=this.textIndicatorColor;this.draw();}},_setTextIndicatorFontAttr:function(font){this.textIndicatorFont=font;this._textIndicatorFont=gfx.splitFontString(font);if(this._textIndicator){this._textIndicator.font=this._textIndicatorFont;this.draw();}},setMajorTicksOffset:function(_923){this._majorTicksOffset=_923;this._setMajorTicksProperty({"offset":this._majorTicksOffset});return this;},getMajorTicksOffset:function(){return this._majorTicksOffset;},_setMajorTicksIntervalAttr:function(_924){this.majorTicksInterval=_924;this._setMajorTicksProperty({"interval":this.majorTicksInterval});},setMajorTicksLength:function(_925){this._majorTicksLength=_925;this._setMajorTicksProperty({"length":this._majorTicksLength});return this;},getMajorTicksLength:function(){return this._majorTicksLength;},_setMajorTicksColorAttr:function(_926){this.majorTicksColor=_926;this._setMajorTicksProperty({"color":this.majorTicksColor});},_setMajorTicksLabelPlacementAttr:function(_927){this.majorTicksLabelPlacement=_927;this._setMajorTicksProperty({"labelPlacement":this.majorTicksLabelPlacement});},_setMajorTicksProperty:function(prop){if(this.majorTicks){lang.mixin(this.majorTicks,prop);this.setMajorTicks(this.majorTicks);}},setMinorTicksOffset:function(_928){this._minorTicksOffset=_928;this._setMinorTicksProperty({"offset":this._minorTicksOffset});return this;},getMinorTicksOffset:function(){return this._minorTicksOffset;},_setMinorTicksIntervalAttr:function(_929){this.minorTicksInterval=_929;this._setMinorTicksProperty({"interval":this.minorTicksInterval});},setMinorTicksLength:function(_92a){this._minorTicksLength=_92a;this._setMinorTicksProperty({"length":this._minorTicksLength});return this;},getMinorTicksLength:function(){return this._minorTicksLength;},_setMinorTicksColorAttr:function(_92b){this.minorTicksColor=_92b;this._setMinorTicksProperty({"color":this.minorTicksColor});},_setMinorTicksProperty:function(prop){if(this.minorTicks){lang.mixin(this.minorTicks,prop);this.setMinorTicks(this.minorTicks);}},_setMinAttr:function(min){this.min=min;if(this.majorTicks!=null){this.setMajorTicks(this.majorTicks);}if(this.minorTicks!=null){this.setMinorTicks(this.minorTicks);}this.draw();this._updateNeedle();},_setMaxAttr:function(max){this.max=max;if(this.majorTicks!=null){this.setMajorTicks(this.majorTicks);}if(this.minorTicks!=null){this.setMinorTicks(this.minorTicks);}this.draw();this._updateNeedle();},_setScalePrecisionAttr:function(_92c){this.scalePrecision=_92c;this._setMajorTicksProperty({"precision":_92c});},_setTextIndicatorPrecisionAttr:function(_92d){this.textIndicatorPrecision=_92d;this._setMajorTicksProperty({"precision":_92d});},_setValueAttr:function(_92e){_92e=Math.min(this.max,_92e);_92e=Math.max(this.min,_92e);this.value=_92e;if(this._needle){var _92f=this._needle.noChange;this._needle.noChange=false;this._needle.update(_92e);this._needle.noChange=_92f;}},_setNoChangeAttr:function(_930){this.noChange=_930;if(this._needle){this._needle.noChange=this.noChange;}},_setTextIndicatorVisibleAttr:function(_931){this.textIndicatorVisible=_931;if(this._textIndicator&&this._needle){if(this.textIndicatorVisible&&!this._textIndicatorAdded){this.addIndicator(this._textIndicator);this._textIndicatorAdded=true;this.moveIndicatorToFront(this._needle);}else{if(!this.textIndicatorVisible&&this._textIndicatorAdded){this.removeIndicator(this._textIndicator);this._textIndicatorAdded=false;}}}},_setTitleAttr:function(_932){this.title=_932;if(this._needle){this._needle.title=this.title;}},_setOrientationAttr:function(_933){this.orientation=_933;if(this.majorTicks!=null){this.setMajorTicks(this.majorTicks);}if(this.minorTicks!=null){this.setMinorTicks(this.minorTicks);}this.draw();this._updateNeedle();},_updateNeedle:function(){this.value=Math.max(this.min,this.value);this.value=Math.min(this.max,this.value);if(this._needle){var _934=this._needle.noChange;this._needle.noChange=false;this._needle.update(this.value,false);this._needle.noChange=_934;}},_setFontAttr:function(font){this.font=font;this._font=gfx.splitFontString(font);this._setMajorTicksProperty({"font":this._font});}});});},"dojox/grid/_Layout":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_935,_936,_937,lang,_938){return _936("dojox.grid._Layout",null,{constructor:function(_939){this.grid=_939;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_93a,_93b,_93c,_93d,_93e){var _93f=this.structure[_93a].cells[0];var _940=this.structure[_93b].cells[0];var cell=null;var _941=0;var _942=0;for(var i=0,c;c=_93f[i];i++){if(c.index==_93c){_941=i;break;}}cell=_93f.splice(_941,1)[0];cell.view=this.grid.views.views[_93b];for(i=0,c=null;c=_940[i];i++){if(c.index==_93d){_942=i;break;}}if(!_93e){_942+=1;}_940.splice(_942,0,cell);var _943=this.grid.getCell(this.grid.getSortIndex());if(_943){_943._currentlySorted=this.grid.getSortAsc();}this.cells=[];_93c=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_93c;this.cells.push(c);if("_currentlySorted" in c){var si=_93c+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_93c++;}}}_937.forEach(this.cells,function(c){var _944=c.markup[2].split(" ");var _945=parseInt(_944[1].substring(5));if(_945!=c.index){_944[1]="idx=\""+c.index+"\"";c.markup[2]=_944.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_946,_947){var cell=this.cells[_946];if(cell.hidden==_947){cell.hidden=!_947;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=_938.getMarginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_948,_949,_94a){var self=this;var _94b=function(_94c){var w=0;if(_94c.colSpan>1){w=0;}else{w=_94c.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _94d={grid:this.grid,subrow:_948,layoutIndex:_949,index:this.cells.length};if(_94a&&_94a instanceof _935.grid.cells._Base){var _94e=lang.clone(_94a);_94d.unitWidth=_94b(_94e._props);_94e=lang.mixin(_94e,this._defaultCellProps,_94a._props,_94d);return _94e;}var _94f=_94a.type||_94a.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_935.grid.cells.Cell;if(lang.isString(_94f)){_94f=lang.getObject(_94f);}_94d.unitWidth=_94b(_94a);return new _94f(lang.mixin({},this._defaultCellProps,_94a,_94d));},addRowDef:function(_950,_951){var _952=[];var _953=0,_954=0,_955=true;for(var i=0,def,cell;(def=_951[i]);i++){cell=this.addCellDef(_950,i,def);_952.push(cell);this.cells.push(cell);if(_955&&cell.relWidth){_953+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_954+=window.parseInt(w,10);}else{if(w=="auto"){_955=false;}}}}}if(_953&&_955){_937.forEach(_952,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_953)*(100-_954))+"%";}});}return _952;},addRowsDef:function(_956){var _957=[];if(lang.isArray(_956)){if(lang.isArray(_956[0])){for(var i=0,row;_956&&(row=_956[i]);i++){_957.push(this.addRowDef(i,row));}}else{_957.push(this.addRowDef(0,_956));}}return _957;},addViewDef:function(_958){this._defaultCellProps=_958.defaultCell||{};if(_958.width&&_958.width=="auto"){delete _958.width;}return lang.mixin({},_958,{cells:this.addRowsDef(_958.rows||_958.cells)});},setStructure:function(_959){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:_935._scopeName+".grid._RowSelector"};if(lang.isString(this.grid.rowSelector)){var _95a=this.grid.rowSelector;if(_95a=="false"){sel=null;}else{if(_95a!="true"){sel["width"]=_95a;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _95b=function(def){return ("name" in def||"field" in def||"get" in def);};var _95c=function(def){if(lang.isArray(def)){if(lang.isArray(def[0])||_95b(def[0])){return true;}}return false;};var _95d=function(def){return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_95b(def))));};if(lang.isArray(_959)){var _95e=false;for(var i=0,st;(st=_959[i]);i++){if(_95d(st)){_95e=true;break;}}if(!_95e){s.push(this.addViewDef({cells:_959}));}else{for(i=0;(st=_959[i]);i++){if(_95c(st)){s.push(this.addViewDef({cells:st}));}else{if(_95d(st)){s.push(this.addViewDef(st));}}}}}else{if(_95d(_959)){s.push(this.addViewDef(_959));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(lang){var _95f={};lang.setObject("dojo.data.util.filter",_95f);_95f.patternToRegExp=function(_960,_961){var rxp="^";var c=null;for(var i=0;i<_960.length;i++){c=_960.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_960.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_961){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _95f;});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_962,lang,dom){var _963=lang.getObject("dojo.dnd",true);_963.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_963._uniqueId=0;_963.getUniqueId=function(){var id;do{id=_962._scopeName+"Unique"+(++_963._uniqueId);}while(dom.byId(id));return id;};_963._empty={};_963.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _963;});},"viewer/animation/Tooltip":function(){define(["dojo/_base/declare","./_base","../misc/enums","dijit/Tooltip","dojo/domReady!","../misc/gui/helpers/svg"],function(_964,_965,_966,_967,_968,_969){return _964("viewer.animation.Tooltip",_965,{_fillPercentAnimation:null,constructor:function(_96a,_96b){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this._fillPercentAnimation=this._widget.getAnimation(_966.EnumAnimations.FILLPERCENT);if(this._widget._attr.engine==_966.EnumRuntimeScadaEngine.ArchestrA){}else{var _96c=_969.createElement("title");if(this._widget._xComponent){var _96d=this._widget._xComponent.firstChild;if(_96d){this._widget._xComponent.insertBefore(_96c,_96d);}else{this._widget._xComponent.appendChild(_96c);}}_969.addClass(this._widget.domNode,"viewer-style-common-object-tooltip");}},_SetTitleContent:function(_96e,_96f){var _970=_96f.split("\n");if(_96e.childNodes.length>0){for(var i=_96e.childNodes.length-1;i>=0;i--){_96e.removeChild(_96e.childNodes[i]);}}for(var i=0;i<_970.length;i++){var _971=_970[i];if(i!=0){_96e.innerHTML+="\r\n";}var _972=document.createElement("tspan");_972.appendChild(document.createTextNode(_971));_96e.appendChild(_972);}},_execUpdate:function(){if(typeof this._animProps.reference==="object"){return;}var _973=this._animProps.reference;if(this._widget.disable==1){_973="";}else{_973=this._animProps.reference;}if(this._widget._attr.engine==_966.EnumRuntimeScadaEngine.ArchestrA){if(this._widget._xComponent){if(this._widget.domNode){_969.addClass(this._widget.domNode,"viewer-style-common-object-tooltip");if(this._widget.domNode.nodeName=="DIV"){this._widget.domNode.setAttribute("title",_973.replace(/\\n/g,"\n"));}else{if(this._widget.domNode.nodeName=="svg"){var _974=dojo.query("title",this._widget._xComponent)[0];if(!_974){_974=_969.createElement("title");this._widget._xComponent.appendChild(_974);}this._SetTitleContent(_974,_973.replace(/\\n/g,"\n"));}}}}else{if(this._widget.domNode){_969.addClass(this._widget.domNode,"viewer-style-common-object-tooltip");if(this._widget.domNode.id.indexOf("viewer_object_Group")>=0){if(this._widget._acturalMatrix){if((this._widget._acturalMatrix[4]>-1&&this._widget._acturalMatrix[4]<1)&&(this._widget._acturalMatrix[5]>-1&&this._widget._acturalMatrix[5]<1)){this._widget.domNode.setAttribute("title",_973.replace(/\\n/g,"\n"));}else{var _975=this._widget._getCommandNodeAttr();_975.setAttribute("title",_973.replace(/\\n/g,"\n"));}}else{this._widget.domNode.setAttribute("title",_973.replace(/\\n/g,"\n"));}}}}}else{if(this._widget._xComponent){var _974=dojo.query("title",this._widget._xComponent)[0];if(_974){if(_974.childNodes.length==0){var _976=document.createTextNode(_973);_974.appendChild(_976);}else{_974.firstChild.nodeValue=_973;}}}}if(this._fillPercentAnimation){if(this._fillPercentAnimation._xUnFillH){var _977=dojo.query("title",this._fillPercentAnimation._xUnFillH)[0];if(_977){if(_977.childNodes.length==0){var _978=document.createTextNode(_973);_977.appendChild(_978);}else{_977.firstChild.nodeValue=_973;}}}if(this._fillPercentAnimation._xUnFillV){var _979=dojo.query("title",this._fillPercentAnimation._xUnFillV)[0];if(_979){if(_979.childNodes.length==0){var _97a=document.createTextNode(_973);_979.appendChild(_97a);}else{_979.firstChild.nodeValue=_973;}}}}}});});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(_97b,_97c,_97d,lang,win,dom,_97e,_97f,_980,_981,_982,_983,_984,_985,_986,_987,View,has,_988){var dm=lang.getObject("dojox.mobile",true);var _989=_97d(has("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[_985,_984,_983],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:false,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);}this.inherited(arguments);if(!this.templateString){if(!this.label){_97b.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_97f.create("span",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_97f.create("span",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_97f.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);}if(this.labelDivNode){_981.set(this.labelDivNode,"role","heading");_981.set(this.labelDivNode,"aria-level","1");}dom.setSelectable(this.domNode,false);},startup:function(){if(this._started){return;}var _98a=this.getParent&&this.getParent();if(!_98a||!_98a.resize){var _98b=this;_98b.defer(function(){_98b.resize();});}this.inherited(arguments);},resize:function(){if(this.labelNode){var _98c,_98d;var _98e=this.containerNode.childNodes;for(var i=_98e.length-1;i>=0;i--){var c=_98e[i];if(c.nodeType===1&&_980.get(c,"display")!=="none"){if(!_98d&&_980.get(c,"float")==="right"){_98d=c;}if(!_98c&&_980.get(c,"float")==="left"){_98c=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_98d?bw-_98d.offsetLeft+5:0;var lw=_98c?_98c.offsetLeft+_98c.offsetWidth+5:0;var tw=this.labelNodeLen||0;_97e[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_97b.forEach(this.getChildren(),function(_98f){if(_98f.resize){_98f.resize();}});},_setBackAttr:function(back){this._set("back",back);if(!this.backButton){this.backButton=new _987({arrow:"left",label:back,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"});this.backButton.placeAt(this.domNode,"first");}else{this.backButton.set("label",back);}this.resize();},_setMoveToAttr:function(_990){this._set("moveTo",_990);if(this.backButton){this.backButton.set("moveTo",_990);this.backButton.set("back",!_990&&!this.href);}},_setHrefAttr:function(href){this._set("href",href);if(this.backButton){this.backButton.set("href",href);this.backButton.set("back",!this.moveTo&&!href);}},_setTransitionAttr:function(_991){this._set("transition",_991);if(this.backButton){this.backButton.set("transition",_991);}},_setLabelAttr:function(_992){this._set("label",_992);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_992):_992;},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!prog){prog=this._prog=new _986({size:30,center:false});_97e.add(prog.domNode,this.progStyle);}_97f.place(prog.domNode,this.domNode,"first");prog.start();}else{if(prog){prog.stop();}}this._set("busy",busy);}});return has("dojo-bidi")?_97d("dojox.mobile.Heading",[_989,_988]):_989;});},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(_993,_994,Pane){return _993("dojox.mobile.Container",[Pane,_994],{baseClass:"mblContainer"});});},"viewer/animation/FillStyle":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/enums","../misc/common/elementStyleContainer"],function(_995,_996,_997,_998,_999,_99a){return _995("viewer.animation.FillStyle",_996,{_node:null,_curStyle:null,_component:null,_curExex:true,constructor:function(_99b,_99c){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_execUpdate:function(){this._curStyle=this.operatorHandle(this._animProps.limitExpr,this._animProps.colors);var _99d=this._widget._updateStyles();this._widget._executeBlinks(_99d);},onChangeProperty:function(prop){if(prop.propName!=="changeLimit"){return;}for(var i=0;i<this._animProps.colors.length;i++){if(this._animProps.colors[i].changeLimit.id===prop.id){this._animProps.colors[i].value=prop.value;break;}}}});});},"viewer/misc/gui/helpers/common":function(){define(["../../enums"],function(_99e){var _99f=function(){};_99f.setVisibility=function(n,v){n.style.visibility=v;};_99f.getVisibility=function(n){return n.style.visibility;};_99f.setBackground=function(n,v){n.style.background=v;};_99f.getBackground=function(n){return n.style.background;};_99f.setBackgroundColor=function(n,v){n.style.backgroundColor=v;};_99f.getBackgroundColor=function(n){return n.style.backgroundColor;};_99f.setBackgroundImage=function(n,v){n.style.backgroundImage=v;};_99f.getBackgroundImage=function(n){return n.style.backgroundImage;};_99f.setBorder=function(n,v){n.style.border=v;};_99f.getBorder=function(n){return n.style.border;};_99f.setWidth=function(n,v){n.style.width=v;};_99f.getWidth=function(n){return n.style.width||n.clientWidth;};_99f.setHeight=function(n,v){n.style.height=v;};_99f.getHeight=function(n){return n.style.height||n.clientHeight;};_99f.setLeft=function(n,v){n.style.left=v;};_99f.getLeft=function(n){return n.style.left||n.clientLeft;};_99f.setRight=function(n,v){n.style.right=v;};_99f.getRight=function(n){return n.style.right||n.clientRight;};_99f.setTop=function(n,v){n.style.top=v;};_99f.getTop=function(n){return n.style.top||n.clientTop;};_99f.setBottom=function(n,v){n.style.bottom=v;};_99f.getBottom=function(n){return n.style.bottom||n.clientBottom;};_99f.setClip=function(n,v){n.style.clip=v;};_99f.getClip=function(n){return n.style.clip;};_99f.setPosition=function(n,v){n.style.position=v;};_99f.getPosition=function(n){return n.style.position;};_99f.setCssOpacity=function(n,v){if(n.style.opacity!==undefined){n.style.opacity=v;}else{if(n.style.MozOpacity){n.style.MozOpacity=v;}}};_99f.getOpacity=function(n){if(n.style.opacity){return n.style.opacity;}else{if(n.style.MozOpacity){return n.style.MozOpacity;}}};_99f.setOverflow=function(n,v){n.style.overflow=v;};_99f.getOverflow=function(n){return n.style.overflow;};_99f.setWhiteSpace=function(n,v){n.style.whiteSpace=v;};_99f.setWordWrap=function(n,v){n.style.wordWrap=v;};_99f.getWhiteSpace=function(n){return n.style.whiteSpace;};_99f.setTextAlign=function(n,v){n.style.textAlign=v;};_99f.getTextAlign=function(n){return n.style.textAlign;};_99f.setVerticalAlign=function(n,v){n.style.verticalAlign=v;};_99f.getVerticalAlign=function(n){return n.style.verticalAlign;};_99f.setFontFamily=function(n,v){n.style.fontFamily=v;};_99f.getFontFamily=function(n){return n.style.fontFamily;};_99f.setFontSize=function(n,v){n.style.fontSize=v;};_99f.getFontSize=function(n){return n.style.fontSize;};_99f.setFontWeight=function(n,v){n.style.fontWeight=v;};_99f.getFontStyle=function(n){return n.style.fontStyle;};_99f.setFontStyle=function(n,v){n.style.fontStyle=v;};_99f.getFontWeight=function(n){return n.style.fontWeight;};_99f.setColor=function(n,v){n.style.color=v;};_99f.getColor=function(n){return n.style.color;};_99f.setMargin=function(n,v){n.style.margin=v;};_99f.getMargin=function(n){return n.style.margin;};_99f.setPadding=function(n,v){n.style.padding=v;};_99f.getPadding=function(n){return n.style.padding;};_99f.setBorderTop=function(n,v){n.style.borderTop=v;};_99f.setBorderLeft=function(n,v){n.style.borderLeft=v;};_99f.setBorderStyle=function(n,v){n.style.borderStyle=v;};_99f.getBorderStyle=function(n){return n.style.borderStyle;};_99f.setBorderWidth=function(n,v){n.style.borderWidth=v;};_99f.getBorderWidth=function(n){return n.style.borderWidth;};_99f.setBorderColor=function(n,v){n.style.borderColor=v;};_99f.getBorderColor=function(n){return n.style.borderColor;};_99f.setStroke=function(n,v){n.style.stroke=v;};_99f.getStroke=function(n){return n.style.stroke;};_99f.setStrokeWidth=function(n,v){n.style.strokeWidth=v;};_99f.getStrokeWidth=function(n){return n.style.strokeWidth;};_99f.setStrokeDasharray=function(n,v){n.style.strokeDasharray=v;};_99f.getStrokeDasharray=function(n){return n.style.strokeDasharray;};_99f.setDisplay=function(n,v){n.style.display=v;};_99f.getDisplay=function(n){return n.style.display;};_99f.setDirection=function(n,v){n.style.direction=v;};_99f.getDirection=function(n){return n.style.direction;};_99f.setTransform=function(n,v){if(n.style.transform!==undefined){n.style.transform=v;}else{if(n.style.webkitTransform!==undefined){n.style.webkitTransform=v;}else{if(n.style.msTransform!==undefined){n.style.msTransform=v;}else{if(n.style.mozTransform!==undefined){n.style.mozTransform=v;}else{if(n.style.oTransform!==undefined){n.style.oTransform=v;}}}}}};_99f.getTransform=function(n){return n.style.transform||n.style.webkitTransform||n.style.msTransform||n.style.mozTransform||n.style.oTransform;};_99f.getTransformMatrix=function(n){var st=null,tr=null,_9a0=null;st=window.getComputedStyle(n,null);tr=st.getPropertyValue("transform")||st.getPropertyValue("-o-transform")||st.getPropertyValue("-moz-transform")||st.getPropertyValue("-ms-transform")||st.getPropertyValue("-webkit-transform");if(tr==="none"||tr===null){return null;}_9a0=tr.split("(")[1];_9a0=_9a0.split(")")[0];_9a0=_9a0.split(",");return _9a0;};_99f.getTransformTranslateX=function(n){var _9a1=this.getTransformMatrix(n);if(_9a1!==null){return parseFloat(_9a1[4]);}return 0;};_99f.getTransformTranslateY=function(n){var _9a2=this.getTransformMatrix(n);if(_9a2!==null){return parseFloat(_9a2[5]);}return 0;};_99f.getTransformScaleX=function(n){var _9a3=this.getTransformMatrix(n);if(_9a3!==null){return parseFloat(_9a3[0]);}return 0;};_99f.getTransformScaleY=function(n){var _9a4=this.getTransformMatrix(n);if(_9a4!==null){return parseFloat(_9a4[3]);}return 0;};_99f.setTransformOrigin=function(n,v){if(n.style.transformOrigin!==undefined){n.style.transformOrigin=v;}else{if(n.style.webkitTransformOrigin!==undefined){n.style.webkitTransformOrigin=v;}else{if(n.style.msTransformOrigin!==undefined){n.style.msTransformOrigin=v;}else{if(n.style.mozTransformOrigin!==undefined){n.style.mozTransformOrigin=v;}else{if(n.style.oTransformOrigin!==undefined){n.style.oTransformOrigin=v;}}}}}};_99f.getTransformOrigin=function(n){return n.style.transformOrigin||n.style.webkitTransformOrigin||n.style.msTransformOrigin||n.style.mozTransformOrigin||n.style.oTransformOrigin;};_99f.parseBorderStyle=function(_9a5){var _9a6={};_9a6.origin=_9a5;switch(_9a5.style){case _99e.EnumBorderStyle.NO_LINE:_9a6.style="0";_9a6.width=0;_9a6.color="";_9a6.borderType=_99e.EnumBorderStyle.NO_LINE;break;case _99e.EnumBorderStyle.SOLIDE_LINE:_9a6.style="0";_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.borderType=_99e.EnumBorderStyle.SOLIDE_LINE;break;case _99e.EnumBorderStyle.DASHED_LINE:_9a6.style="20,8";_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.borderType=_99e.EnumBorderStyle.DASHED_LINE;break;case _99e.EnumBorderStyle.ETCHED:_9a6.style="ridge";_9a6.width="2";_9a6.color="silver";break;case _99e.EnumBorderStyle.RAISED:_9a6.style="outset";_9a6.width="2";_9a6.color="silver";break;case _99e.EnumBorderStyle.SUNKEN:_9a6.style="inset";_9a6.width="2";_9a6.color="silver";break;case _99e.EnumBorderStyle.LONGDASH_LINE:_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.style=(parseInt(_9a6.width)*4)+","+_9a6.width;_9a6.borderType=_99e.EnumBorderStyle.LONGDASH_LINE;break;case _99e.EnumBorderStyle.SHORTDASH_LINE:_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.style=(parseInt(_9a6.width)*2)+","+_9a6.width;_9a6.borderType=_99e.EnumBorderStyle.SHORTDASH_LINE;break;case _99e.EnumBorderStyle.DOTS_LINE:_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.style=_9a6.width+","+_9a6.width;_9a6.borderType=_99e.EnumBorderStyle.DOTS_LINE;break;case _99e.EnumBorderStyle.DASHDOTDASH_LINE:_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.style=(parseInt(_9a6.width)*2)+","+_9a6.width+","+_9a6.width+","+_9a6.width;_9a6.borderType=_99e.EnumBorderStyle.DASHDOTDASH_LINE;break;case _99e.EnumBorderStyle.DASHDOTDOTDASH_LINE:_9a6.width=_9a6.origin.width;_9a6.color=_9a6.origin.color;_9a6.style=(parseInt(_9a6.width)*2)+","+_9a6.width+","+_9a6.width+","+_9a6.width+","+_9a6.width+","+_9a6.width;_9a6.borderType=_99e.EnumBorderStyle.DASHDOTDOTDASH_LINE;break;}return _9a6;};_99f.setOpacity=function(n,v){var _9a7;_9a7=Math.round(v*100)/100;if(n.nodeName.toUpperCase()==="SVG"||n instanceof SVGElement){dojo.attr(n,"fill-opacity",_9a7);dojo.attr(n,"stroke-opacity",_9a7);return;}this.setCssOpacity(n,_9a7);};_99f.addClass=function(n,c){if(n.nodeName.toUpperCase()==="SVG"||n instanceof SVGElement){var cls=n.getAttributeNS(null,"class");if(cls!==""){n.setAttribute("class",cls+" "+c);}else{n.setAttribute("class",c);}return;}this.removeClass(n,c);dojo.addClass(n,c);};_99f.removeClass=function(n,c){var reg=new RegExp(c,"gi");if(n.nodeName.toUpperCase()==="SVG"||n instanceof SVGElement){var cls=n.getAttributeNS(null,"class");cls=cls.replace(reg,"");n.setAttributeNS(null,"class",cls);return;}if(!n.className||!c||c.length<=0){return;}n.className=n.className.replace(reg," ");};_99f.applyOrigin=function(n,_9a8,_9a9){var _9aa,self;_9aa="";self=this;if(!_9a8||!_9a8.x||!_9a8.y){return;}_9aa=_9a8.x+" "+_9a8.y;if(!_9a9){self.setTransformOrigin(n,_9aa);return;}setTimeout(this,new function(){self.setTransformOrigin(n,_9aa);},_9a9);};_99f.appendTransform=function(n,_9ab,_9ac){var _9ad,self;_9ad=this.getTransform(n)?"":this.getTransform(n);self=this;if(_9ad){for(t in _9ab){if(_9ad.indexOf(t)==-1){_9ad+=t+_9ab[t]+" ";}else{var tp=_9ad.substring(_9ad.indexOf(t));var tv=tp.substring(0,tp.indexOf(")")+1);_9ad.replace(tv,t+_9ab[t]);}}}else{for(t in _9ab){_9ad+=t+_9ab[t]+" ";}}if(_9ad.length===0){return;}if(!_9ac){self.setTransform(n,_9ad);return;}setTimeout(this,new function(){self.setTransform(n,_9ad);},_9ac);};_99f.applyTransform=function(n,_9ae,_9af){var _9b0,self;_9b0="";self=this;for(t in _9ae){_9b0+=t+_9ae[t]+" ";}if(_9b0.length===0){return;}if(!_9af){self.setTransform(n,_9b0);return;}setTimeout(this,new function(){self.setTransform(n,_9b0);},_9af);};_99f.setAlignToText=function(node,prop){switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.CENTER_LEFT:case _99e.EnumAlign.BOTTOM_LEFT:this.setTextAlign(node,"left");break;case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.CENTER:case _99e.EnumAlign.BOTTOM_CENTER:this.setTextAlign(node,"center");break;case _99e.EnumAlign.TOP_RIGHT:case _99e.EnumAlign.CENTER_RIGHT:case _99e.EnumAlign.BOTTOM_RIGHT:this.setTextAlign(node,"right");break;}};_99f.setAlignToVertical=function(node,prop){switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.TOP_RIGHT:this.setVerticalAlign(node,"top");break;case _99e.EnumAlign.CENTER_LEFT:case _99e.EnumAlign.CENTER:case _99e.EnumAlign.CENTER_RIGHT:this.setVerticalAlign(node,"middle");break;case _99e.EnumAlign.BOTTOM_LEFT:case _99e.EnumAlign.BOTTOM_CENTER:case _99e.EnumAlign.BOTTOM_RIGHT:this.setVerticalAlign(node,"bottom");break;}};_99f.setMultieLineAndWrap=function(node,text,prop){var _9b1=true;var _9b2=text.split("\n");if(prop.multiline){if(prop.wrapText){this.setWhiteSpace(node,"normal");}else{this.setWhiteSpace(node,"pre");}}else{if(_9b2.length>0){text="";}for(var i=0;i<_9b2.length;i++){text+=_9b2[i];}if(prop.wrapText){switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.TOP_RIGHT:_9b1=false;break;}}else{_9b1=false;}if(_9b1){this.setWhiteSpace(node,"normal");}else{this.setWhiteSpace(node,"nowrap");}}return text;};_99f.setAlignToPosition=function(node,prop){var _9b3=false;var _9b4=0;switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.TOP_RIGHT:if(parseInt(prop.padding)===3){_9b4=1;}else{_9b4=prop.padding;}this.setTop(node,_9b4+"px");_9b3=true;break;case _99e.EnumAlign.BOTTOM_LEFT:case _99e.EnumAlign.BOTTOM_CENTER:case _99e.EnumAlign.BOTTOM_RIGHT:if(parseInt(prop.padding)===3){_9b4=2;}else{_9b4=prop.padding;}this.setBottom(node,_9b4+"px");_9b3=true;break;}if(_9b3){this.setPosition(node,"absolute");this.setDisplay(node,"block");}};_99f.setText=function(node,text,prop){var _9b5;this.setPosition(node,"relative");this.setTop(node,"-0.25em");if(!prop.wrapText){this.setWhiteSpace(node,"pre");}else{var _9b6=text.split("\n");if(_9b6.length==1){this.setWordWrap(node,"break-word");}this.setWhiteSpace(node,"pre-wrap");}if(!prop.multiline){_9b5=text.split("\n");if(_9b5.length>0){text="";}for(var i=0;i<_9b5.length;i++){text+=_9b5[i];}}switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.CENTER_LEFT:case _99e.EnumAlign.BOTTOM_LEFT:this.setTextAlign(node,"left");break;case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.CENTER:case _99e.EnumAlign.BOTTOM_CENTER:this.setTextAlign(node,"center");break;case _99e.EnumAlign.TOP_RIGHT:case _99e.EnumAlign.CENTER_RIGHT:case _99e.EnumAlign.BOTTOM_RIGHT:this.setTextAlign(node,"right");break;}switch(prop.align){case _99e.EnumAlign.TOP_LEFT:case _99e.EnumAlign.TOP_CENTER:case _99e.EnumAlign.TOP_RIGHT:this.setVerticalAlign(node,"top");break;case _99e.EnumAlign.CENTER_LEFT:case _99e.EnumAlign.CENTER:case _99e.EnumAlign.CENTER_RIGHT:this.setVerticalAlign(node,"middle");break;case _99e.EnumAlign.BOTTOM_LEFT:case _99e.EnumAlign.BOTTOM_CENTER:case _99e.EnumAlign.BOTTOM_RIGHT:this.setVerticalAlign(node,"bottom");break;}node.innerText=text;};_99f.multiplyMatrix=function(_9b7,_9b8){return [(_9b7[0]*_9b8[0])+(_9b7[1]*_9b8[2]),(_9b7[0]*_9b8[1])+(_9b7[1]*_9b8[3]),(_9b7[2]*_9b8[0])+(_9b7[3]*_9b8[2]),(_9b7[2]*_9b8[1])+(_9b7[3]*_9b8[3]),((_9b7[4]*_9b8[0])+(_9b7[5]*_9b8[2]))+_9b8[4],((_9b7[4]*_9b8[1])+(_9b7[5]*_9b8[3]))+_9b8[5]];};_99f.transformPoint=function(_9b9,x,y){return {"x":(x*_9b9[0])+(y*_9b9[2])+_9b9[4],"y":(x*_9b9[1])+(y*_9b9[3])+_9b9[5]};};_99f.getInvertMatrix=function(_9ba){var _9bb=_9ba[0]*_9ba[3]-_9ba[1]*_9ba[2];_9bb=_9bb!=0?1/_9bb:1;var _9bc=[_9bb*_9ba[3],-1*_9bb*_9ba[1],-1*_9bb*_9ba[2],_9bb*_9ba[0],0,0];var _9bd=this.transformPoint(_9bc,-1*_9ba[4],-1*_9ba[5]);_9bc[4]=_9bd.x;_9bc[5]=_9bd.y;return _9bc;};_99f.locationUrlFormat=function(url){var _9be=/^(https|http|ftp|rtsp|mms)?:\/\/.*$/i;if(!_9be.exec(url)){url="http://"+url;}return url;};_99f.arrItemAt=function(arr,_9bf){if(arr==null||_9bf==null||_9bf<0){return null;}if(arr.length<=_9bf){return null;}return arr[_9bf];};return _99f;});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_9c0,_9c1){_9c1.getDocumentWindow=function(doc){return _9c0.get(doc);};});},"ma/view/Tags":function(){define(["dojo/_base/declare","dojo/parser","./_base","viewer/server/serverEvents","../widget/DisplayValue","dojo/text!./templates/tags.html","../widget/SwitchEx","dojox/mobile/Button","dojo/currency"],function(_9c2,_9c3,Base,_9c4,_9c5,_9c6){return _9c2("ma.view.Tags",[Base],{templateString:_9c6,update:false,gridColumns:3,displays:[],selectedDisplay:null,constructor:function(){},startup:function(){_9c3.parse(this.containerTags);this.intervalTime=1000;var _9c7=dojo.fromJson(dojo.cookie("_x_config"));if(_9c7){this.intervalTime=_9c7.processValuesUpdateRate;}this.inherited(arguments);},MakeLayout:function(){this.inherited(arguments);this.render();},Resize:function(){if(this.isHiden==false){this.MakeLayout();}},onShow:function(){this.inherited(arguments);this.selectedDisplay=null;while(this.containerTableTags.firstChild){this.containerTableTags.removeChild(this.containerTableTags.firstChild);}var td,tr,_9c8;var _9c9=100;setTimeout(dojo.hitch(this,function(){this.update=true;while(this.connectHandlers.length>0){dojo.disconnect(this.connectHandlers.pop());}while(this.displays.length>0){this.displays.pop().destroy();}_9c9=this.area.widgetPixelSize?Math.max(1,this.area.widgetPixelSize):_9c9;tr=document.createElement("tr");this.containerTableTags.appendChild(tr);var pvs=this.area.processValues;if(pvs.length==0){this.LoadCompleted();}for(var i=0;i<pvs.length;i++){if(pvs[i].widget=="none"){continue;}td=document.createElement("td");tr.appendChild(td);var _9ca=pvs[i].label&&pvs[i].label.toString().length>0?pvs[i].label:pvs[i].tagName;_9c8=new _9c5({label:_9ca,tagName:pvs[i].tagName,min:pvs[i].min,max:pvs[i].max,byMarkup:false,enableWrite:pvs[i].enableWrite},td);if(pvs[i].enableWrite){this.connectHandlers.push(_9c8.connect(_9c8,"onClick",dojo.hitch(_9c8,function(){var _9cb=null;dojo.query(".containerSetTagValue",dojo.byId("_x_unmovable")).forEach(function(item){_9cb=item;});while(_9cb.firstChild){if(_9cb.firstChild.nodeType!=3){var dj=dijit.byNode(_9cb.firstChild);if(dj){dj.destroy();}else{_9cb.removeChild(_9cb.firstChild);}}else{_9cb.removeChild(_9cb.firstChild);}}var dv=document.createElement("div");var _9cc=this.label&&this.label.toString().length>0?this.label:this.tagName;_9cb.appendChild(dv);_9cb=new _9c5({value:this.getValue(),label:_9cc,tagName:this.tagName,min:this.min,max:this.max,byMarkup:false,noChange:false,onValueChange:function(dp){dijit.byId("_x_inputTagValue").set("value",dp.getValue());}},dv);_9cb.SetObjectType(this.widgetName,this.sNamespace);_9cb.startup();dojo.removeClass("_x_unmovable","hidded");dojo.addClass("_x_containerTableTags","hidded");this.parent.selectedDisplay=this;dijit.byId("_x_inputTagValue").set("value",this.getValue());dijit.byId("_x_inputTagValue").onChange=function(){if(_9cb.widgetName!="switch_1"&&_9cb.widgetName!="text_1"){_9cb.setValue(dijit.byId("_x_inputTagValue").get("value"));}};dojo.style("_x_tabView_menu_write_tag_ok","display","block");dojo.style("_x_tabView_menu_write_tag_cancel","display","block");dojo.style("_x_tabView_menu_back_button","display","none");})));}_9c8.SetSize(_9c9);_9c8.parent=this;_9c8.SetObjectType(pvs[i].widget,"");_9c8.startup();this.displays.push(_9c8);}this.Resize();},100));},onHide:function(){while(this.containerTableTags.firstChild){this.containerTableTags.removeChild(this.containerTableTags.firstChild);}this.inherited(arguments);},UpdateValues:function(){if(this.update==false||this.isUpdatingValues==true||this.selectedDisplay!=null){return;}services.queryTagData(dojo.hitch(this,function(ret){ret=_9c4.assyncResult(ret);if(ret==undefined||ret==null){eval("console.error('Error in queryTagData call')");this.isUpdatingValues=false;return;}var tags=this.parseResult(ret);if(tags==null||!tags.processValues){this.isUpdatingValues=false;return;}if(tags.processValues.length>0){this.LoadCompleted();}for(var i=0;i<tags.processValues.length;i++){for(var ii=0;ii<this.displays.length;ii++){if(this.displays[ii].tagName==tags.processValues[i].tagName){this.displays[ii].setValue(tags.processValues[i].tagValue);}}}this.isUpdatingValues=false;}));},CancelSetValue:function(){dojo.style("_x_tabView_menu_write_tag_ok","display","none");dojo.style("_x_tabView_menu_write_tag_cancel","display","none");dojo.style("_x_tabView_menu_back_button","display","block");dojo.addClass("_x_unmovable","hidded");dojo.removeClass("_x_containerTableTags","hidded");this.selectedDisplay=null;},SetValue:function(){var _9cd,_9ce,self;self=this;dojo.style("_x_tabView_menu_write_tag_ok","display","none");dojo.style("_x_tabView_menu_write_tag_cancel","display","none");dojo.style("_x_tabView_menu_back_button","display","block");_9cd=dijit.byId("_x_inputTagValue");_9cd.domNode.blur();setTimeout(function(){_9ce=_9cd.get("value");if(self.selectedDisplay.widgetName=="switch_1"){_9ce=_9ce=="on"?"1":"0";}self.ShowLoading();services.writeTag(self.selectedDisplay.tagName,_9ce.toString(),function(ret){ret=_9c4.assyncResult(ret);self.selectedDisplay=null;var ok=self.parseResult(ret);if(ok){dojo.addClass("_x_unmovable","hidded");dojo.removeClass("_x_containerTableTags","hidded");}self.HideLoading();});},200);}});});},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(_9cf,lang,dom){var dgu=lang.getObject("grid.util",true,_9cf);dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_9d0,_9d1){if(_9d1>=0){var s=_9d0.style;var v=_9d1+"px";if(_9d0&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_9d2,_9d3,_9d4,_9d5){var evts=(_9d5?_9d5:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_9d3.connect(_9d2,"on"+evts[i],_9d4);}};dgu.removeNode=function(_9d6){_9d6=dom.byId(_9d6);_9d6&&_9d6.parentNode&&_9d6.parentNode.removeChild(_9d6);return _9d6;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_9d7,_9d8,_9d9){if(_9d7.length<=_9d8){_9d7[_9d8]=_9d9;}else{_9d7.splice(_9d8,0,_9d9);}};dgu.arrayRemove=function(_9da,_9db){_9da.splice(_9db,1);};dgu.arraySwap=function(_9dc,inI,inJ){var _9dd=_9dc[inI];_9dc[inI]=_9dc[inJ];_9dc[inJ]=_9dd;};return dgu;});},"dojox/gauges/TextIndicator":function(){define(["dojo/_base/declare","./_Indicator"],function(_9de,_9df){return _9de("dojox.gauges.TextIndicator",[_9df],{x:0,y:0,align:"middle",fixedPrecision:true,precision:0,draw:function(_9e0,_9e1){var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var txt;var _9e2=this._gauge?this._gauge._getNumberModule():null;if(_9e2){txt=this.fixedPrecision?_9e2.format(v,{places:this.precision}):_9e2.format(v);}else{txt=this.fixedPrecision?v.toFixed(this.precision):v.toString();}var x=this.x?this.x:0;var y=this.y?this.y:0;var _9e3=this.align?this.align:"middle";if(!this.shape){this.shape=_9e0.createText({x:x,y:y,text:txt,align:_9e3});}else{this.shape.setShape({x:x,y:y,text:txt,align:_9e3});}this.shape.setFill(this.color);if(this.font){this.shape.setFont(this.font);}}});});},"ma/widget/trend/Chart":function(){define(["dojo/_base/declare","../../_base","./theme/Studio","dojox/charting/Chart2D","dojo/fx/Toggler","dojo/text!../templates/chart.html","./GridLegend","./DataStore","dijit/TitlePane","dojox/gesture/swipe","dojo/date","dojo/_base/lang","dojo/fx"],function(_9e4,Base,_9e5,_9e6,_9e7,_9e8){return _9e4("ma.widget.trend.Chart",Base,{templateString:_9e8,scaleType:"p",seriesProperties:{},min:0,max:100,xMin:null,xMax:null,xLabelDate:null,width:300,height:150,hidedPens:[],play:true,togglerLegend:null,maLegend:null,lastTagsData:null,mouseEventClick:null,mouseEventClickPX:null,markerRadius:3,scrollType:"cursor",menuToolsButtons:{},onlineMargins:{l:0,t:0,r:50,b:0},hstMargins:{l:0,t:15,r:0,b:0},cursorData:{},constructor:function(){},startup:function(){dojo.parser.parse(this.containerChart);this.maLegend=dijit.byId("_x_chartLegend");this.maLegend.onVisibleChange=dojo.hitch(this,this.ShowHidePen);this.togglerLegend=new _9e7({node:this.maLegend.domNode,showFunc:dojo.fx.wipeIn,hideFunc:dojo.fx.wipeOut});this.ConstructChart();this.resize();this.menuToolsButtons["Cursor"]={imgOn:null,imgOff:null,x:10,y:20,width:32,height:32,state:"On"};this.menuToolsButtons["Legend"]={imgOn:null,imgOff:null,x:10,y:60,width:32,height:32,state:"Off"};},ConstructChart:function(){this.chart=new _9e6(this.chart,{margins:this.onlineMargins,delayInMs:10});this.chart.setTheme(new _9e5());this.chart.addAxis("x",{maxLabelSize:1,majorLabels:false,minorLabels:false,majorTick:false,minorTicks:false,enableCache:false});this.chart.addAxis("y",{vertical:true,min:this.min,max:this.max,majorTickStep:25,minorTicks:false,enableCache:false,labelFunc:dojo.hitch(this,this.MakeYLabels)});this.chart.addPlot("default",{type:"Lines",enableCache:false,tension:false});this.chart.addPlot("grid",{type:"Grid",hMinorLines:true,enableCache:false});dojo.connect(this.trendDisplay,dojo.touch.press,dojo.hitch(this,this.onMouseDown));dojo.connect(this.trendDisplay,dojo.touch.release,dojo.hitch(this,this.onMouseUp));dojo.connect(this.trendDisplay,dojo.touch.cancel,dojo.hitch(this,this.onMouseUp));dojo.connect(this.trendDisplay,dojo.touch.move,dojo.hitch(this,this.onMouseMove));},createSerie:function(_9e9){var _9ea=dojo.colorFromString(_9e9.color.toLowerCase());this.chart.addSeries(_9e9.name,[],{color:_9e9.color.toLowerCase(),fill:"rgba("+_9ea.r+","+_9ea.g+","+_9ea.b+","+_9ea.a/2+")"});this.seriesProperties[_9e9.name]=dojo.clone(_9e9);this.maLegend.NewItem({label:_9e9.label,tagName:_9e9.name,value:"0.0",visible:true,color:_9ea,min:_9e9.min,max:_9e9.max});this.resize();},resize:function(_9eb,_9ec){if(!_9eb){_9eb=this.width;}if(!_9ec){_9ec=this.height;}this.width=_9eb;this.height=_9ec;if(this.trendDisplay.getContext){var ctx=this.trendDisplay.getContext("2d");ctx.clearRect(0,0,this.chart.surface.getDimensions().width,this.chart.surface.getDimensions().height);}if(this.menuToolsButtons["Legend"]&&this.menuToolsButtons["Legend"].state=="Off"){this.chart.resize(_9eb,_9ec*0.5);}else{this.chart.resize(_9eb,_9ec);}this.maLegend.resize(_9eb,_9ec*0.5);this.chart.render();dojo.style(this.xTableLabels,"top",this.chart.getCoords().y+this.chart.plotArea.height+this.chart.offsets.t+"px");dojo.style(this.xTableLabels,"width",this.chart.plotArea.width+"px");dojo.style(this.xTableLabels,"left",this.chart.offsets.l+"px");dojo.style(this.trendDisplay,"left",this.chart.getCoords().x+"px");dojo.style(this.trendDisplay,"top",this.chart.getCoords().y+"px");dojo.attr(this.trendDisplay,"width",this.chart.surface.getDimensions().width+"px");dojo.attr(this.trendDisplay,"height",this.chart.surface.getDimensions().height+"px");},CollapseTitle:function(){this.resize();},onMouseDown:function(evt){this.mouseEventClickPX=this.mouseEventClick=evt;if(this.play===false){this.DrawHstCursor(evt);}this.ChekToolButtonWasClicked(evt);dojo.stopEvent(evt);},onMouseMove:function(evt){if(this.play===true||this.mouseEventClick===null){return;}if(this.menuToolsButtons["Cursor"]&&this.menuToolsButtons["Cursor"].state=="On"){this.DrawHstCursor(evt);}else{var dx=this.mouseEventClickPX.clientX-evt.clientX;this.mouseEventClickPX=evt;var _9ed=parseInt(this.chart.plotArea.width);var _9ee=parseInt(this.chart.plotArea.height);var _9ef=(this.chart.axes.x.opt.max-this.chart.axes.x.opt.min);var _9f0=(100*(Math.abs(this.mouseEventClick.clientX)/_9ed))*(_9ef*0.01);var _9f1=(100*(Math.abs(evt.clientX)/_9ed))*(_9ef*0.01);this.xMin=this.chart.axes.x.opt.min+(_9f0-_9f1);this.xMax=this.chart.axes.x.opt.max+(_9f0-_9f1);this.SetPlotPosition(-1*dx);this.CalcXLabels();}dojo.stopEvent(evt);},onMouseUp:function(evt){if(this.mouseEventClick==null){return;}this.mouseEventClick=null;if(this.menuToolsButtons["Cursor"]&&this.menuToolsButtons["Cursor"].state=="Off"){setTimeout(dojo.hitch(this,function(){this.onChangeRange.call();}),100);}dojo.stopEvent(evt);},DrawHstCursor:function(evt){if(!this.menuToolsButtons["Cursor"]||this.menuToolsButtons["Cursor"].state=="Off"){return;}if(this.play===true){return;}if(this.trendDisplay.getContext){var ctx=this.trendDisplay.getContext("2d");var _9f2=dojo.position(this.trendDisplay);var i=0;var _9f3=[];var _9f4=null;var _9f5=null;ctx.clearRect(0,0,this.chart.surface.getDimensions().width,this.chart.surface.getDimensions().height);for(var _9f6 in this.lastTagsData){if(this.lastTagsData[_9f6].data.length<=0||this.hidedPens.indexOf(_9f6)>-1){continue;}this.ValuesByPosition(evt);if(!this.cursorData[_9f6]){return;}var _9f4={x:this.cursorData[_9f6].posX,y:this.cursorData[_9f6].posY};ctx.fillStyle="rgba(0, 0, 200, 0)";ctx.beginPath();ctx.moveTo(_9f4.x,this.chart.offsets.t);ctx.lineTo(_9f4.x,this.chart.plotArea.height+this.chart.offsets.t);ctx.stroke();ctx.closePath();var text=this.cursorData[_9f6].valueY;var arr=text.toString().split(".");text=arr.length<2?arr[0]+".000":arr[0]+"."+arr[1].toString().substring(0,3);var _9f7=dojo.colorFromString(this.seriesProperties[_9f6].color.toLowerCase());this.DrawCursorMarkers(ctx,_9f4.x,_9f4.y,_9f7);this.DrawTextBox(ctx,text,_9f4.x,_9f4.y,_9f7);this.DrawCursorText(ctx,text,_9f4.x,_9f4.y,_9f7);this.DrawToolButtons(ctx);_9f5=new Date(this.cursorData[_9f6].valueX*1000);_9f3.push({tagName:_9f6,value:text});}if(this.maLegend){this.maLegend.UpdateValues(_9f3);}if(_9f4!=null&&this.play==false){if(!_9f5){this.DrawDateTime(ctx,"??/??/???? ??:??:??",_9f4.x,0,dojo.colorFromString("black"));}else{this.DrawDateTime(ctx,this.FormatDate(_9f5.getMonth()+1)+"/"+this.FormatDate(_9f5.getDate())+"/"+this.FormatDate(_9f5.getFullYear())+" "+this.FormatDate(_9f5.getHours())+":"+this.FormatDate(_9f5.getMinutes())+":"+this.FormatDate(_9f5.getSeconds()),_9f4.x,0,dojo.colorFromString("black"));}}}},DrawOnlineCursor:function(){if(this.trendDisplay.getContext){var ctx=this.trendDisplay.getContext("2d");var _9f8,_9f9;var _9fa;var _9fb;var _9fc=dojo.position(this.trendDisplay);ctx.clearRect(0,0,this.chart.surface.getDimensions().width,this.chart.surface.getDimensions().height);for(var _9fd in this.lastTagsData){if(this.lastTagsData[_9fd].data.length<=0||this.hidedPens.indexOf(_9fd)>-1){continue;}_9f8=this.lastTagsData[_9fd].data[this.lastTagsData[_9fd].data.length-1].x;_9f9=this.lastTagsData[_9fd].data[this.lastTagsData[_9fd].data.length-1].y;if(this.scaleType=="p"){_9f9=this.convertScale(_9f9,_9fd);}var arr=_9f9.toString().split(".");_9f9=arr.length<2?arr[0]+".000":arr[0]+"."+arr[1].toString().substring(0,3);_9fb=this.chart.getPlot("default").toPage({x:_9f8,y:_9f9});_9fb.x-=_9fc.x;_9fb.y-=_9fc.y;_9fa=dojo.colorFromString(this.seriesProperties[_9fd].color.toLowerCase());this.DrawCursorMarkers(ctx,_9fb.x,_9fb.y,_9fa);this.DrawTextBox(ctx,_9f9,_9fb.x,_9fb.y,_9fa);this.DrawCursorText(ctx,_9f9,_9fb.x,_9fb.y,_9fa);}}},DrawCursorMarkers:function(ctx,xPos,yPos,_9fe){ctx.beginPath();ctx.arc(xPos,yPos,this.markerRadius,0,2*Math.PI,false);ctx.fillStyle="rgba("+_9fe.r+","+_9fe.g+","+_9fe.b+","+_9fe.a+")";ctx.fill();ctx.strokeStyle="#696969";ctx.stroke();ctx.closePath();},DrawTextBox:function(ctx,text,xPos,yPos,_9ff){ctx.beginPath();ctx.textBaseline="top";ctx.fillStyle="#FFFFFF";ctx.fillRect(xPos+this.markerRadius*2,yPos-6,this.onlineMargins.r,12);ctx.fillStyle="rgba("+_9ff.r+","+_9ff.g+","+_9ff.b+","+_9ff.a+")";ctx.strokeRect(xPos+this.markerRadius*2,yPos-6,this.onlineMargins.r,12);ctx.closePath();},DrawCursorText:function(ctx,text,xPos,yPos,_a00){ctx.beginPath();ctx.textBaseline="middle";ctx.textAlign="center";ctx.font="normal normal bold 10px Tahoma";ctx.fillStyle="rgba("+_a00.r+","+_a00.g+","+_a00.b+","+_a00.a+")";ctx.fillText(text,xPos+this.markerRadius*2+25,yPos,50);ctx.closePath();},DrawDateTime:function(ctx,text,xPos,yPos,_a01){ctx.beginPath();ctx.fillStyle="#FFFFFF";ctx.fillRect(xPos-65,yPos,130,20);ctx.fillStyle="rgba("+_a01.r+","+_a01.g+","+_a01.b+","+_a01.a+")";ctx.strokeRect(xPos-65,yPos,130,20);ctx.closePath();ctx.beginPath();ctx.textAlign="center";ctx.font="normal normal bold 10px Tahoma";ctx.fillStyle="rgba("+_a01.r+","+_a01.g+","+_a01.b+","+_a01.a+")";ctx.fillText(text,xPos,yPos+10,130);ctx.closePath();},DrawToolButtons:function(ctx){var bnts=this.menuToolsButtons;ctx.beginPath();for(var bnt in bnts){if(bnts[bnt]["img"+bnts[bnt].state]){ctx.drawImage(bnts[bnt]["img"+bnts[bnt].state],bnts[bnt].x,bnts[bnt].y,bnts[bnt].width,bnts[bnt].height);}}ctx.closePath();},ChekToolButtonWasClicked:function(evt){var bnts=this.menuToolsButtons;var eY=evt.clientY-dojo.style(this.trendDisplay,"top");var eX=evt.clientX-dojo.style(this.trendDisplay,"left");for(var bnt in bnts){if(!bnts[bnt]["img"+bnts[bnt].state]){continue;}if(eY>bnts[bnt].y&&eY<bnts[bnt].y+bnts[bnt].height&&eX>bnts[bnt].x&&eX<bnts[bnt].x+bnts[bnt].width){if(bnts[bnt].state=="On"){bnts[bnt].state="Off";}else{bnts[bnt].state="On";}this.menuToolsButtons=bnts;if(this.trendDisplay.getContext){var ctx=this.trendDisplay.getContext("2d");ctx.clearRect(bnts[bnt].x,bnts[bnt].y,bnts[bnt].width,bnts[bnt].height);this.DrawToolButtons(ctx);}return true;}}return false;},SetScale:function(min,max){if(arguments.length==0){this.scaleType="p";this.min=0;this.max=100;}else{this.min=min;this.max=max;this.scaleType="t";}this.chart.axes.y.opt.max=this.max;this.chart.axes.y.opt.min=this.min;this.chart.axes.y.opt.majorTickStep=parseFloat(this.chart.axes.y.opt.max-this.chart.axes.y.opt.min)/3;this.chart.axes.y.dirty=true;this.chart.axes.x.dirty=true;this.chart.fullRender();},ShowHidePen:function(_a02,_a03){if(_a03==false){if(this.hidedPens.indexOf(_a02)<0){this.hidedPens.push(_a02);this.chart.updateSeries(_a02,[]);this.chart.render();}}else{this.hidedPens.splice(this.hidedPens.indexOf(_a02),1);this.SetChartData(this.lastTagsData);}if(this.play===false){this.DrawHstCursor();}else{this.DrawOnlineCursor();}},MakeYLabels:function(_a04){if(this.scaleType==="p"){return _a04+"%";}else{return _a04;}},MakeXLabels:function(_a05){return "";},FormatDate:function(num){try{return num.toString().length==1?"0"+num:num;}catch(ex){return "??";}},CalcXLabels:function(){if(!this.xMin||!this.xMax){return;}var min=this.xMin;var max=this.xMax;var tmp=new Date();var _a06=new Date(min*1000);var _a07=new Date((max-(max-min)/2)*1000);var _a08=new Date(max*1000);this.thirdLabel.innerHTML=this.FormatDate(_a06.getMonth()+1)+"/"+this.FormatDate(_a06.getDate())+"/"+_a06.getFullYear()+" "+this.FormatDate(_a06.getHours())+":"+this.FormatDate(_a06.getMinutes())+":"+this.FormatDate(_a06.getSeconds());this.secondLabel.innerHTML=this.FormatDate(_a07.getMonth()+1)+"/"+this.FormatDate(_a07.getDate())+"/"+_a07.getFullYear()+" "+this.FormatDate(_a07.getHours())+":"+this.FormatDate(_a07.getMinutes())+":"+this.FormatDate(_a07.getSeconds());this.firstLabel.innerHTML=this.FormatDate(_a08.getMonth()+1)+"/"+this.FormatDate(_a08.getDate())+"/"+_a08.getFullYear()+" "+this.FormatDate(_a08.getHours())+":"+this.FormatDate(_a08.getMinutes())+":"+this.FormatDate(_a08.getSeconds());},SetFill:function(_a09){if(this.chart.getPlot("default").opt.areas!=_a09){var pos=this.chart.getPlot("default").getGroup().matrix.dx;this.chart.getPlot("default").opt.areas=_a09;this.chart.getPlot("default").dirty=true;this.chart.render();this.SetPlotPosition(pos);}},SetPlotPosition:function(_a0a){this.chart.getPlot("default").getGroup().matrix.dx+=_a0a;this.chart.getPlot("default").getGroup()._applyTransform();},SetPlay:function(_a0b){if(this.play==_a0b){return;}this.play=_a0b;if(this.play==false&&this.chart!=null){this.chart.margins=this.hstMargins;}else{if(this.play==true&&this.chart!=null){this.chart.margins=this.onlineMargins;}}this.resize();},SetChartData:function(_a0c,_a0d,_a0e){this.lastTagsData=_a0c;var _a0f=[];var _a10,dtXY,dt,_a11;for(var _a12 in _a0c){_a10=_a0c[_a12];if(this.hidedPens.indexOf(_a12)>-1){this.chart.updateSeries(_a12,[]);continue;}dt=_a10.data;dtXY=[];if(this.scaleType=="p"){for(var i=0;i<dt.length;i++){_a11=this.convertScale(dt[i].y,_a12);dtXY.push({x:dt[i].x,y:_a11});}}else{dtXY=dt;}this.chart.updateSeries(_a12,dtXY);_a0f.push({tagName:_a12,value:_a10.lastValue?_a10.lastValue:""});}this.maLegend.UpdateValues(_a0f);_a0f.length=0;if(arguments.length>=3){this.xMin=this.chart.axes.x.opt.min=_a0d;this.xMax=this.chart.axes.x.opt.max=_a0e;this.chart.axes.x.opt.majorTickStep=Math.round((this.xMax-this.xMin)/3);}this.chart.dirty=true;this.chart.render();if(this.play===false){this.DrawHstCursor();}else{this.DrawOnlineCursor();}this.CalcXLabels();},RemoveSeries:function(){for(var _a13 in this.lastTagsData){this.chart.removeSeries(_a13);delete this.seriesProperties[_a13];delete this.lastTagsData[_a13];}this.hidedPens.length=0;this.maLegend.Clear();},render:function(){if(this.play===false){this.DrawHstCursor();}else{this.DrawOnlineCursor();}},ToggleLegend:function(){if(!this.menuToolsButtons["Legend"]){return;}if(this.menuToolsButtons["Legend"].state=="Off"){this.togglerLegend.hide();}else{this.togglerLegend.show();}this.menuToolsButtons["Legend"].state=this.menuToolsButtons["Legend"].state=="On"?"Off":"On";this.resize();},ToggleCursor:function(){this.menuToolsButtons["Cursor"].state=this.menuToolsButtons["Cursor"].state=="On"?"Off":"On";this.resize();this.render();},onChangeRange:function(){},getXMin:function(){return this.xMin;},getXMax:function(){return this.xMax;},computeCursorValue:function(x,pt1,pt2){if(pt1.x==pt2.x){return pt1.y;}var m=(pt2.y-pt1.y)/(pt2.x-pt1.x);var b=pt1.y-m*pt1.x;return m*x+b;},convertScale:function(y,_a14){try{var min=this.seriesProperties[_a14].min;var max=this.seriesProperties[_a14].max;if(min==max){return y>100?100:y;}return 100*(y-min)/(max-min);}catch(ex){eval("console.error(\""+ex.message.replace(/\"/g,"")+"\")");}},FindNearstIndexElement:function(_a15,x){if(!_a15||_a15.length<=0){return null;}var e,m,d;e=0;d=_a15.length-1;while(e<=d){m=Math.round((e+d)/2);if(_a15[m].x===x){return _a15[m];}if(_a15[m].x<x){e=m+1;}else{d=m-1;}}return e;},ValuesByPosition:function(evt){var eY=0;var eX=0;if(evt){eY=evt.clientY;eX=evt.clientX;}else{eY=parseInt(dojo.attr(this.trendDisplay,"height").replace("px",""))/2;eX=parseInt(dojo.attr(this.trendDisplay,"width").replace("px",""))/2;}var _a16=parseInt(this.chart.plotArea.width);var _a17=parseInt(this.chart.plotArea.height);var _a18=(this.chart.axes.x.opt.max-this.chart.axes.x.opt.min);var _a19=this.chart.axes.x.opt.min+(_a18*0.01)*((eX-this.chart.offsets.l)/(_a16*0.01));var _a1a=null;var _a1b=null;var _a1c=0;var _a1d=null;if(eX-this.chart.offsets.l<0||eX>_a16+this.chart.offsets.l||eY-this.chart.offsets.t<0||eY>_a17+this.chart.offsets.t){return;}if(this.lastTagsData==null){return;}_a1d=dojo.clone(this.cursorData);for(prop in this.cursorData){delete this.cursorData[prop];}for(var _a1e in this.lastTagsData){if(this.lastTagsData[_a1e].data.length<=0){continue;}_a1c=this.FindNearstIndexElement(this.lastTagsData[_a1e].data,_a19);if(!_a1c){continue;}var _a1f=0;if(isNaN(_a1c)==false){if(_a1c>=this.lastTagsData[_a1e].data.length||_a1c<1){this.cursorData=_a1d;}_a1a=this.lastTagsData[_a1e].data[_a1c-1];_a1b=this.lastTagsData[_a1e].data[_a1c];if(!_a1b&&_a1a){_a1b=_a1a;}if(!_a1a&&_a1b){_a1a=_a1b;}if(!_a1b||!_a1a){continue;}_a1f=this.computeCursorValue(_a19,_a1a,_a1b);}else{_a1f=_a1c.y;}var _a20=0;if(this.scaleType=="p"){_a1f=this.convertScale(_a1f,_a1e);_a20=100;}else{_a20=this.chart.axes.y.opt.max-this.chart.axes.y.opt.min;}var _a21=((_a1f-this.chart.axes.y.opt.min)/(_a20*0.01))*(_a17*0.01);this.cursorData[_a1e]=({posX:eX,valueX:_a19,posY:_a17-_a21+this.chart.offsets.t,valueY:_a1f});}}});});},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_a22,lang,_a23){var _a24=function(_a25,_a26){if(_a25.style.cssText==undefined){_a25.setAttribute("style",_a26);}else{_a25.style.cssText=_a26;}};return _a22("dojox.grid._RowManager",null,{constructor:function(_a27){this.grid=_a27;},linesToEms:2,overRow:-2,prepareStylingRow:function(_a28,_a29){return {index:_a28,node:_a29,odd:Boolean(_a28&1),selected:!!this.grid.selection.isSelected(_a28),over:this.isOver(_a28),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_a2a,_a2b){var row=this.prepareStylingRow(_a2a,_a2b);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_a2c){var i=_a2c;i.node.className=i.customClasses;var h=i.node.style.height;_a24(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_a2d){this.grid.updateRowStyles(_a2d);},setOverRow:function(_a2e){var last=this.overRow;this.overRow=_a2e;if((last!=this.overRow)&&(lang.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_a2f){return (this.overRow==_a2f&&!_a23.contains(this.grid.domNode,"dojoxGridColumnResizing"));}});});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_a30){var _a31=null;has.add("vml",function(_a32,_a33,_a34){_a34.innerHTML="<v:shape adj=\"1\"/>";var _a35=("adj" in _a34.firstChild);_a34.innerHTML="";return _a35;});return {load:function(id,_a36,load){if(_a31&&id!="force"){load(_a31);return;}var _a37=_a30.forceGfxRenderer,_a38=!_a37&&(lang.isString(_a30.gfxRenderer)?_a30.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_a39,_a3a;while(!_a37&&_a38.length){switch(_a38.shift()){case "svg":if("SVGAngle" in win.global){_a37="svg";}break;case "vml":if(has("vml")){_a37="vml";}break;case "silverlight":try{if(has("ie")){_a39=new ActiveXObject("AgControl.AgControl");if(_a39&&_a39.IsVersionSupported("1.0")){_a3a=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_a3a=true;}}}catch(e){_a3a=false;}finally{_a39=null;}if(_a3a){_a37="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_a37="canvas";}break;}}if(_a37==="canvas"&&_a30.canvasEvents!==false){_a37="canvasWithEvents";}if(_a30.isDebug){}function _a3b(){_a36(["dojox/gfx/"+_a37],function(_a3c){g.renderer=_a37;_a31=_a3c;load(_a3c);});};if(_a37=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_a3b);}else{_a3b();}}};});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_a3d,_a3e,lang,dom,_a3f,_a40,on,_a41,_a42,dnd,_a43,win){var _a44=_a3e("dojo.dnd.Moveable",[_a40],{handle:"",delay:0,skip:false,constructor:function(node,_a45){this.node=dom.byId(node);if(!_a45){_a45={};}this.handle=_a45.handle?dom.byId(_a45.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_a45.delay>0?_a45.delay:0;this.skip=_a45.skip;this.mover=_a45.mover?_a45.mover:_a43;this.events=[on(this.handle,_a42.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_a46,node,Ctor){return new Ctor(node,_a46);},destroy:function(){_a3d.forEach(this.events,function(_a47){_a47.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_a42.move,lang.hitch(this,"onMouseMove")),on(this.handle,_a42.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_a48){_a41.publish("/dnd/move/start",_a48);_a3f.add(win.body(),"dojoMove");_a3f.add(this.node,"dojoMoveItem");},onMoveStop:function(_a49){_a41.publish("/dnd/move/stop",_a49);_a3f.remove(win.body(),"dojoMove");_a3f.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_a4a,_a4b){this.onMoving(_a4a,_a4b);var s=_a4a.node.style;s.left=_a4b.l+"px";s.top=_a4b.t+"px";this.onMoved(_a4a,_a4b);},onMoving:function(){},onMoved:function(){}});return _a44;});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/on","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_a4c,_a4d,has,on,arr,_a4e,_a4f,_a50){var _a51=g.shape={};_a51.Shape=_a4c("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;if(has("gfxRegistry")){var uid=_a51.register(this);this.getUID=function(){return uid;};}},destroy:function(){if(has("gfxRegistry")){_a51.dispose(this);}if(this.rawNode&&"__gfxObject__" in this.rawNode){this.rawNode.__gfxObject__=null;}this.rawNode=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_a50;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(clip){this.clip=clip;},getClip:function(){return this.clip;},setShape:function(_a52){this.shape=g.makeParameters(this.shape,_a52);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_a53){if(!_a53){this.strokeStyle=null;return this;}if(typeof _a53=="string"||lang.isArray(_a53)||_a53 instanceof _a4f){_a53={color:_a53};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_a53);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_a54){this.matrix=_a50.clone(_a54?_a50.normalize(_a54):_a50.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_a55){return _a55?this.setTransform([this.matrix,_a55]):this;},applyLeftTransform:function(_a56){return _a56?this.setTransform([_a56,this.matrix]):this;},applyTransform:function(_a57){return _a57?this.setTransform([this.matrix,_a57]):this;},removeShape:function(_a58){if(this.parent){this.parent.remove(this,_a58);}return this;},_setParent:function(_a59,_a5a){this.parent=_a59;return this._updateParentMatrix(_a5a);},_updateParentMatrix:function(_a5b){this.parentMatrix=_a5b?_a50.clone(_a5b):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_a50.multiply(p.matrix,m);}p=p.parent;}return m;}});_a51._eventsProcessing={on:function(type,_a5c){return on(this.getEventSource(),type,_a51.fixCallback(this,g.fixTarget,_a5c));},connect:function(name,_a5d,_a5e){if(name.substring(0,2)=="on"){name=name.substring(2);}return this.on(name,_a5e?lang.hitch(_a5d,_a5e):_a5d);},disconnect:function(_a5f){return _a5f.remove();}};_a51.fixCallback=function(_a60,_a61,_a62,_a63){if(!_a63){_a63=_a62;_a62=null;}if(lang.isString(_a63)){_a62=_a62||_a4d.global;if(!_a62[_a63]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_a63,"\"] is null (scope=\"",_a62,"\")"].join(""));}return function(e){return _a61(e,_a60)?_a62[_a63].apply(_a62,arguments||[]):undefined;};}return !_a62?function(e){return _a61(e,_a60)?_a63.apply(_a62,arguments):undefined;}:function(e){return _a61(e,_a60)?_a63.apply(_a62,arguments||[]):undefined;};};lang.extend(_a51.Shape,_a51._eventsProcessing);_a51.Container={_init:function(){this.children=[];this._batch=0;},openBatch:function(){return this;},closeBatch:function(){return this;},add:function(_a64){var _a65=_a64.getParent();if(_a65){_a65.remove(_a64,true);}this.children.push(_a64);return _a64._setParent(this,this._getRealMatrix());},remove:function(_a66,_a67){for(var i=0;i<this.children.length;++i){if(this.children[i]==_a66){if(_a67){}else{_a66.parent=null;_a66.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_a68){var _a69;for(var i=0;i<this.children.length;++i){_a69=this.children[i];_a69.parent=null;_a69.parentMatrix=null;if(_a68){_a69.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _a6a=null;arr.forEach(this.children,function(_a6b){var bb=_a6b.getBoundingBox();if(bb){var ct=_a6b.getTransform();if(ct){bb=_a50.multiplyRectangle(ct,bb);}if(_a6a){_a6a.x=Math.min(_a6a.x,bb.x);_a6a.y=Math.min(_a6a.y,bb.y);_a6a.endX=Math.max(_a6a.endX,bb.x+bb.width);_a6a.endY=Math.max(_a6a.endY,bb.y+bb.height);}else{_a6a={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_a6a){_a6a.width=_a6a.endX-_a6a.x;_a6a.height=_a6a.endY-_a6a.y;}return _a6a;}return null;},_moveChildToFront:function(_a6c){for(var i=0;i<this.children.length;++i){if(this.children[i]==_a6c){this.children.splice(i,1);this.children.push(_a6c);break;}}return this;},_moveChildToBack:function(_a6d){for(var i=0;i<this.children.length;++i){if(this.children[i]==_a6d){this.children.splice(i,1);this.children.unshift(_a6d);break;}}return this;}};_a51.Surface=_a4c("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_a4e.destroy);this._nodes=[];arr.forEach(this._events,function(h){if(h){h.remove();}});this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_a4e.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_a6e){},whenLoaded:function(_a6f,_a70){var f=lang.hitch(_a6f,_a70);if(this.isLoaded){f(this);}else{on.once(this,"load",function(_a71){f(_a71);});}}});lang.extend(_a51.Surface,_a51._eventsProcessing);_a51.Rect=_a4c("dojox.gfx.shape.Rect",_a51.Shape,{constructor:function(_a72){this.shape=g.getDefault("Rect");this.rawNode=_a72;},getBoundingBox:function(){return this.shape;}});_a51.Ellipse=_a4c("dojox.gfx.shape.Ellipse",_a51.Shape,{constructor:function(_a73){this.shape=g.getDefault("Ellipse");this.rawNode=_a73;},getBoundingBox:function(){if(!this.bbox){var _a74=this.shape;this.bbox={x:_a74.cx-_a74.rx,y:_a74.cy-_a74.ry,width:2*_a74.rx,height:2*_a74.ry};}return this.bbox;}});_a51.Circle=_a4c("dojox.gfx.shape.Circle",_a51.Shape,{constructor:function(_a75){this.shape=g.getDefault("Circle");this.rawNode=_a75;},getBoundingBox:function(){if(!this.bbox){var _a76=this.shape;this.bbox={x:_a76.cx-_a76.r,y:_a76.cy-_a76.r,width:2*_a76.r,height:2*_a76.r};}return this.bbox;}});_a51.Line=_a4c("dojox.gfx.shape.Line",_a51.Shape,{constructor:function(_a77){this.shape=g.getDefault("Line");this.rawNode=_a77;},getBoundingBox:function(){if(!this.bbox){var _a78=this.shape;this.bbox={x:Math.min(_a78.x1,_a78.x2),y:Math.min(_a78.y1,_a78.y2),width:Math.abs(_a78.x2-_a78.x1),height:Math.abs(_a78.y2-_a78.y1)};}return this.bbox;}});_a51.Polyline=_a4c("dojox.gfx.shape.Polyline",_a51.Shape,{constructor:function(_a79){this.shape=g.getDefault("Polyline");this.rawNode=_a79;},setShape:function(_a7a,_a7b){if(_a7a&&_a7a instanceof Array){this.inherited(arguments,[{points:_a7a}]);if(_a7b&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_a7a]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _a7c=[];for(var i=0;i<l;i+=2){_a7c.push({x:p[i],y:p[i+1]});}this.shape.points=_a7c;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_a51.Image=_a4c("dojox.gfx.shape.Image",_a51.Shape,{constructor:function(_a7d){this.shape=g.getDefault("Image");this.rawNode=_a7d;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_a51.Text=_a4c(_a51.Shape,{constructor:function(_a7e){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_a7e;},getFont:function(){return this.fontStyle;},setFont:function(_a7f){this.fontStyle=typeof _a7f=="string"?g.splitFontString(_a7f):g.makeParameters(g.defaultFont,_a7f);this._setFont();return this;},getBoundingBox:function(){var bbox=null,s=this.getShape();if(s.text){bbox=g._base._computeTextBoundingBox(this);}return bbox;}});_a51.Creator={createShape:function(_a80){switch(_a80.type){case g.defaultPath.type:return this.createPath(_a80);case g.defaultRect.type:return this.createRect(_a80);case g.defaultCircle.type:return this.createCircle(_a80);case g.defaultEllipse.type:return this.createEllipse(_a80);case g.defaultLine.type:return this.createLine(_a80);case g.defaultPolyline.type:return this.createPolyline(_a80);case g.defaultImage.type:return this.createImage(_a80);case g.defaultText.type:return this.createText(_a80);case g.defaultTextPath.type:return this.createTextPath(_a80);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_a81){return this.createObject(g.Ellipse,_a81);},createCircle:function(_a82){return this.createObject(g.Circle,_a82);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_a83){return this.createObject(g.Polyline,_a83);},createImage:function(_a84){return this.createObject(g.Image,_a84);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_a85,_a86){return null;}};return _a51;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_a87,_a88){_a88.scrollIntoView=function(node,pos){_a87.scrollIntoView(node,pos);};});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _a89={};lang.setObject("dojo.regexp",_a89);_a89.escapeString=function(str,_a8a){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_a8a&&_a8a.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_a89.buildGroupRE=function(arr,re,_a8b){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _a89.group(b.join("|"),_a8b);};_a89.group=function(_a8c,_a8d){return "("+(_a8d?"?:":"")+_a8c+")";};return _a89;});},"dojox/charting/plot2d/ClusteredBars":function(){define(["dojo/_base/declare","./Bars","./common"],function(_a8e,Bars,dc){return _a8e("dojox.charting.plot2d.ClusteredBars",Bars,{getBarProperties:function(){var f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);return {gap:f.gap,height:f.size,thickness:f.size};}});});},"dojox/grid/_FocusManager":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_a8f,lang,_a90,_a91,_a92,has,_a93,util,html){return _a90("dojox.grid._FocusManager",null,{constructor:function(_a94){this.grid=_a94;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(_a91.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(_a91.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(_a91.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(_a91.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(_a91.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(_a91.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(_a91.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(_a91.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(_a91.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){_a8f.forEach(this._connects,_a91.disconnect);_a8f.forEach(this._headerConnects,_a91.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_a95,_a96){return (this.cell==_a95)&&(this.rowIndex==_a96);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return _a8f.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_a97){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){html.toggleClass(n,this.focusClass,_a97);if(_a97){var sl=this.scrollIntoView();try{if(has("webkit")||!this.grid.edit.isEditing()){util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid.focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){html.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){_a8f.forEach(this._headerConnects,_a91.disconnect);this._headerConnects=[];var _a98=this._findHeaderCells();for(var i=0;i<_a98.length;i++){this._headerConnects.push(_a91.connect(_a98[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(_a91.connect(_a98[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _a99=_a93("th",this.grid.viewsHeaderNode);var _a9a=[];for(var i=0;i<_a99.length;i++){var _a9b=_a99[i];var _a9c=html.hasAttr(_a9b,"tabIndex");var _a9d=html.attr(_a9b,"tabIndex");if(_a9c&&_a9d<0){_a9a.push(_a9b);}}return _a9a;},_setActiveColHeader:function(_a9e,_a9f,_aa0){this.grid.domNode.setAttribute("aria-activedescendant",_a9e.id);if(_aa0!=null&&_aa0>=0&&_aa0!=_a9f){html.toggleClass(this._findHeaderCells()[_aa0],this.focusClass,false);}html.toggleClass(_a9e,this.focusClass,true);this._colHeadNode=_a9e;this._colHeadFocusIdx=_a9f;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_aa1){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_aa1?_aa1:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_aa2){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_aa2);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _aa3=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_aa3){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(has("ie")<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _aa4=this.focusView;if(!_aa4){for(var i=0,_aa5;(_aa5=this.grid.views.views[i]);i++){if(_aa5.headerNode){_aa4=_aa5;break;}}}return (_aa4&&html.getComputedStyle(_aa4.headerNode).display=="none");},colSizeAdjust:function(e,_aa6,_aa7){var _aa8=this._findHeaderCells();var view=this.focusView;if(!view||!view.header.tableMap.map){for(var i=0,_aa9;(_aa9=this.grid.views.views[i]);i++){if(_aa9.header.tableMap.map){view=_aa9;break;}}}var _aaa=_aa8[_aa6];if(!view||(_aa6==_aa8.length-1&&_aa6===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_aaa;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _aab={l:_aa7};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_aab);view.update();}},styleRow:function(_aac){return;},setFocusIndex:function(_aad,_aae){this.setFocusCell(this.grid.getCell(_aae),_aad);},setFocusCell:function(_aaf,_ab0){if(_aaf&&!this.isFocusCell(_aaf,_ab0)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_aaf;this.rowIndex=_ab0;this._focusifyCellNode(true);}if(has("opera")){setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _ab1=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_ab1.editable||this.grid.canEdit&&!this.grid.canEdit(_ab1,row))){this.cell=_ab1;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _ab2=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_ab2.editable){this.cell=_ab2;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_ab3,_ab4){var _ab5=_ab4<0?-1:1;if(this.isNavHeader()){var _ab6=this._findHeaderCells();var _ab7=currentIdx=_a8f.indexOf(_ab6,this._colHeadNode);currentIdx+=_ab4;while(currentIdx>=0&&currentIdx<_ab6.length&&_ab6[currentIdx].style.display=="none"){currentIdx+=_ab5;}if((currentIdx>=0)&&(currentIdx<_ab6.length)){this._setActiveColHeader(_ab6[currentIdx],currentIdx,_ab7);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_ab3));if(_ab3){if(_ab3>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_ab3<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_ab4));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_ab5;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_ab3){if((row+_ab3)>=0&&(row+_ab3)<=rc){this.move(_ab3>0?++_ab3:--_ab3,_ab4);}return;}else{if((!n||html.style(n,"display")==="none")&&_ab4){if((col+_ab4)>=0&&(col+_ab4)<=cc){this.move(_ab3,_ab4>0?++_ab4:--_ab4);}return;}}this.setFocusIndex(row,col);if(_ab3){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){_a92.stop(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();_a92.stop(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _ab8=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();_a92.stop(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){_a92.stop(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_ab9){this.tabbingOut=true;_ab9.focus();},focusGridView:function(){util.fire(this.focusView,"focus");},focusGrid:function(_aba){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _abb=true;var _abc=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_abc){var _abd=0;var cell=this.grid.getCell(_abd);if(cell.hidden){_abd=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_abd);}else{if(this.cell&&!_abc){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_abb=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _abb;},focusHeader:function(){var _abe=this._findHeaderCells();var _abf=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_abe[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_abe.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_abe[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_abf);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){html.removeClass(this._colHeadNode,this.focusClass);html.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _ac0=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_ac0);this._contextMenuBindNode=_ac0;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){_a92.stop(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;_a92.stop(e);},doBlur:function(e){_a92.stop(e);},doContextMenu:function(e){if(!this.headerMenu){_a92.stop(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;_a92.stop(e);},doLastNodeBlur:function(e){_a92.stop(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());_a92.stop(e);},doColHeaderBlur:function(e){html.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});});},"viewer/animation/Disable":function(){define(["dojo/_base/declare","./_base","../misc/enums"],function(_ac1,_ac2,_ac3){return _ac1("viewer.animation.Disable",_ac2,{_component:null,constructor:function(_ac4,_ac5){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this._component=this._widget.getAnimation(_ac3.EnumAnimations.DISABLE)||this._widget;},_execUpdate:function(){if(!isNaN(this._animProps.reference)&&!isNaN(this._animProps.trueValue)){var num=parseFloat(this._animProps.reference);num=num!=0?1:0;if((this._widget._attr.engine==_ac3.EnumRuntimeScadaEngine.ArchestrA)&&this._widget._getParentDisableAttr()){return;}if(num==parseInt(this._animProps.trueValue)){this._widget._setDisableAttr(1);if(this._widget._children&&(this._widget._attr.engine!=_ac3.EnumRuntimeScadaEngine.ArchestrA)){for(var i=0;i<this._widget._children.length;i++){this._widget._children[i]._setDisableAttr(1);}}}else{this._widget._setDisableAttr(0);if(this._widget._children&&(this._widget._attr.engine!=_ac3.EnumRuntimeScadaEngine.ArchestrA)){for(var i=0;i<this._widget._children.length;i++){this._widget._children[i]._setDisableAttr(0);}}}}},onChangeProperty:function(prop){if(prop.propName!=="reference"){return;}this._animProps.reference=prop.value;}});});},"viewer/animation/ElementStyle":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/enums","dojo/request/util","./LineStyle","./TextStyle","./FillStyle","./Color","../misc/common/elementStyleContainer"],function(_ac6,_ac7,_ac8,_ac9,_aca,Util,_acb,_acc,_acd,_ace,_acf){return _ac6("viewer.animation.ElementStyle",_ac7,{_node:null,_component:null,_styleContainer:null,_arrApss:[],_styleComponents:[],_elementStyles:[],_curElementStyle:null,constructor:function(_ad0,_ad1){this.inherited(arguments);this._styleContainer=_acf;this._elementStyles=_ad1.elementstyles;},startup:function(){this.inherited(arguments);},_execUpdate:function(){var _ad2=null;if(!this._elementStyles){return;}for(var n=0;n<this._elementStyles.length;n++){var _ad3=this._elementStyles[n];if(_ad3.elementStyleIndex==null){_ad3.elementStyleIndex=this._widget._attr.elementStyleID==null?0:this._widget._attr.elementStyleID;}if(_ad3.operator&&_ad3.value){if(this._animProps.limitExpr==null||typeof this._animProps.limitExpr==="object"){break;}var _ad4=this._animProps.limitExpr.toLowerCase();var _ad5=_ad3.value.toLowerCase();var _ad6=false;if(_ad3.referenceType=="String"){_ad6=true;}switch(_ad3.operator){case "LessThanEqual":if((_ad6&&(_ad4<=_ad5))||(!_ad6&&this._parseComparisonValue(_ad4)<=this._parseComparisonValue(_ad5))){_ad2=this._styleContainer.getStyleByName(_ad3.elementStyleIndex);}break;case "LessThan":if((_ad6&&(_ad4<_ad5))||(!_ad6&&this._parseComparisonValue(_ad4)<this._parseComparisonValue(_ad5))){_ad2=this._styleContainer.getStyleByName(_ad3.elementStyleIndex);}break;case "Equal":if((_ad6&&(_ad4==_ad5))||(!_ad6&&this._parseComparisonValue(_ad4)==this._parseComparisonValue(_ad5))){_ad2=this._styleContainer.getStyleByName(_ad3.elementStyleIndex);}break;case "GreaterThan":if((_ad6&&(_ad4>_ad5))||(!_ad6&&this._parseComparisonValue(_ad4)>this._parseComparisonValue(_ad5))){_ad2=this._styleContainer.getStyleByName(_ad3.elementStyleIndex);}break;case "GreaterThanEqual":if((_ad6&&(_ad4>=_ad5))||(!_ad6&&this._parseComparisonValue(_ad4)>=this._parseComparisonValue(_ad5))){_ad2=this._styleContainer.getStyleByName(_ad3.elementStyleIndex);}break;}}if(_ad2&&_ad2!=null){break;}}this._curElementStyle=_ad2;var _ad7=this._widget._updateStyles();this._widget._executeBlinks(_ad7);},destroy:function(){this.inherited(arguments);},onChangeProperty:function(prop){if(prop.propName!=="changeLimit"){return;}for(var n=0;n<this._elementStyles.length;n++){if(this._elementStyles[n].changeLimit.id==prop.id){this._elementStyles[n].value=prop.value;}}}});});},"dojox/mobile/common":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/_base/kernel","dojo/dom-class","dojo/dom-construct","dojo/ready","dojo/touch","dijit/registry","./sniff","./uacss"],function(_ad8,_ad9,_ada,lang,win,_adb,_adc,_add,_ade,_adf,_ae0,has){var dm=lang.getObject("dojox.mobile",true);win.doc.dojoClick=true;if(has("touch")){has.add("clicks-prevented",!(has("android")>=4.1||has("ie")>=10));if(has("clicks-prevented")){dm._sendClick=function(_ae1,e){for(var node=_ae1;node;node=node.parentNode){if(node.dojoClick){return;}}var ev=win.doc.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,win.global,1,e.screenX,e.screenY,e.clientX,e.clientY);_ae1.dispatchEvent(ev);};}}dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_adc.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_ae2){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var from,to;if(sz>=dm.tabletSize&&(_ae2||(!this._sz||this._sz<dm.tabletSize))){from="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_ae2||(!this._sz||this._sz>=dm.tabletSize))){from="tablet";to="phone";}}if(to){_adc.replace(win.doc.documentElement,"dj_"+to,"dj_"+from);_ada.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.hideAddressBarWait=typeof (_ad9["mblHideAddressBarWait"])==="number"?_ad9["mblHideAddressBarWait"]:1500;dm.hide_1=function(){scrollTo(0,1);dm._hidingTimer=(dm._hidingTimer==0)?200:dm._hidingTimer*2;setTimeout(function(){if(dm.isAddressBarHidden()||dm._hidingTimer>dm.hideAddressBarWait){dm.resizeAll();dm._hiding=false;}else{setTimeout(dm.hide_1,dm._hidingTimer);}},50);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._hidingTimer=has("ios")?200:0;var minH=screen.availHeight;if(has("android")){minH=outerHeight/devicePixelRatio;if(minH==0){dm._hiding=false;setTimeout(function(){dm.hideAddressBar();},200);}if(minH<=innerHeight){minH=outerHeight;}if(has("android")<3){win.doc.documentElement.style.overflow=win.body().style.overflow="visible";}}if(win.body().offsetHeight<minH){win.body().style.minHeight=minH+"px";dm._resetMinHeight=true;}setTimeout(dm.hide_1,dm._hidingTimer);};dm.isAddressBarHidden=function(){return pageYOffset===1;};dm.resizeAll=function(evt,root){if(dm.disableResizeAll){return;}_ada.publish("/dojox/mobile/resizeAll",[evt,root]);_ada.publish("/dojox/mobile/beforeResizeAll",[evt,root]);if(dm._resetMinHeight){win.body().style.minHeight=dm.getScreenSize().h+"px";}dm.updateOrient();dm.detectScreenSize();var _ae3=function(w){var _ae4=w.getParent&&w.getParent();return !!((!_ae4||!_ae4.resize)&&w.resize);};var _ae5=function(w){_ad8.forEach(w.getChildren(),function(_ae6){if(_ae3(_ae6)){_ae6.resize();}_ae5(_ae6);});};if(root){if(root.resize){root.resize();}_ae5(root);}else{_ad8.forEach(_ad8.filter(_ae0.toArray(),_ae3),function(w){w.resize();});}_ada.publish("/dojox/mobile/afterResizeAll",[evt,root]);};dm.openWindow=function(url,_ae7){win.global.open(url,_ae7||"_blank");};dm._detectWindowsTheme=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){_add.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},win.doc.head);}var _ae8=function(){_adc.add(win.doc.documentElement,"windows_theme");_adb.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.");};var _ae9=has("windows-theme");if(_ae9!==undefined){if(_ae9){_ae8();}return;}var i,j;var _aea=function(href){if(href&&href.indexOf("/windows/")!==-1){has.add("windows-theme",true);_ae8();return true;}return false;};var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(_aea(r[j].href)){return;}}}var _aeb=win.doc.getElementsByTagName("link");for(i=0;i<_aeb.length;i++){if(_aea(_aeb[i].href)){return;}}};if(_ad9["mblApplyPageStyles"]!==false){_adc.add(win.doc.documentElement,"mobile");}if(has("chrome")){_adc.add(win.doc.documentElement,"dj_chrome");}if(win.global._no_dojo_dm){var _aec=win.global._no_dojo_dm;for(var i in _aec){dm[i]=_aec[i];}dm.deviceTheme.setDm(dm);}has.add("mblAndroidWorkaround",_ad9["mblAndroidWorkaround"]!==false&&has("android")<3,undefined,true);has.add("mblAndroid3Workaround",_ad9["mblAndroid3Workaround"]!==false&&has("android")>=3,undefined,true);dm._detectWindowsTheme();_ade(function(){dm.detectScreenSize(true);_adc.add(win.body(),"mblBackground");if(_ad9["mblAndroidWorkaroundButtonStyle"]!==false&&has("android")){_add.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},win.doc.head,"first");}if(has("mblAndroidWorkaround")){_add.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},win.doc.head,"last");}var f=dm.resizeAll;if(_ad9["mblHideAddressBar"]!==false&&navigator.appVersion.indexOf("Mobile")!=-1||_ad9["mblForceHideAddressBar"]===true){dm.hideAddressBar();if(_ad9["mblAlwaysHideAddressBar"]===true){f=dm.hideAddressBar;}}var ios6=has("ios")>=6;if((has("android")||ios6)&&win.global.onorientationchange!==undefined){var _aed=f;var _aee,_aef,_af0;if(ios6){_aef=win.doc.documentElement.clientWidth;_af0=win.doc.documentElement.clientHeight;}else{f=function(evt){var _af1=_ada.connect(null,"onresize",null,function(e){_ada.disconnect(_af1);_aed(e);});};_aee=dm.getScreenSize();}_ada.connect(null,"onresize",null,function(e){if(ios6){var _af2=win.doc.documentElement.clientWidth,_af3=win.doc.documentElement.clientHeight;if(_af2==_aef&&_af3!=_af0){_aed(e);}_aef=_af2;_af0=_af3;}else{var _af4=dm.getScreenSize();if(_af4.w==_aee.w&&Math.abs(_af4.h-_aee.h)>=100){_aed(e);}_aee=_af4;}});}_ada.connect(null,win.global.onorientationchange!==undefined?"onorientationchange":"onresize",null,f);win.body().style.visibility="visible";});return dm;});},"viewer/animation/UserInput":function(){define(["dojo/_base/declare","./_base","../misc/enums","dojo/dom-construct","dojo/touch","dojo/on","../misc/gui/InputWindow","../misc/gui/OutputWindow","../misc/gui/vk"],function(_af5,_af6,_af7,_af8,_af9,on,_afa,_afb,vk){return _af5("viewer.animation.UserInput",_af6,{_startMask:-1,_endMask:-1,_intLength:0,_intMinLength:0,_intHasDivider:false,_floatLength:0,_mask:null,_widgetMask:null,_widgetCount:null,_widgetComponent:null,_tagExpressionId:null,_inputWindow:null,_evtConnection:null,constructor:function(){this.inherited(arguments);this._animProps._referenceTp=null;this._animProps._displayFalseMessageTp=null;this._animProps._displayTrueMessageTp=null;if(this.inputEnable===1){this._widget._setResizeCharAttr("W");}if(this._animProps.password||this._widget._attr.password){if(this._widget.declaredClass==="viewer.object.action.Text"||this._widget.declaredClass==="viewer.object.shape.Rectangle"){this._guiHelper.addClass(this._widget._getComponentAttr(),"viewer-style-common-password");}}if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){var self=this;this._tagExpressionId=this._animProps.reference.id;if(vk._xConfig==null){vk._xConfig={vKEnable:true,vKShowHint:true,vKDefaultType:1};}this._widget._getComponentAttr().style.pointerEvents="visible";on(this._commandNode,_af9.press,function(evt){self._showInputWindow(evt);});}},showVK:function(_afc,evt,_afd){var _afe={"tagId":_afc,"currentValue":this._animProps.reference,"tagType":this._animProps._referenceTp,"screenId":this._widget.getParentScreen().screenId,"type":this._animProps.virtualKeyboard,"password":this._animProps.password,"show":(this._widget._attr.hint===undefined)?0:1,"hint":this._widget._attr.hint,"eSign":this._animProps.eSign,"textConfirmation":"Confirm ?","requireConfirmation":this._animProps.requireConfirmation,"caller":"textDataLink","top":evt.pageY,"left":evt.pageX,"scale":this._widget._getFrameScaleAttr(),"multiLine":false};if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){var _aff=this._animProps.originalValue;if(!(_aff===undefined)&&typeof (_aff)==="string"&&_aff.indexOf("D")>-1){_aff=_aff.replace("D","");}vk.engine=this._widget._attr.engine;_afe.messageToUser=(this._animProps.messageToUser===undefined)?"":this._animProps.messageToUser;_afe.inputOnly=(this._animProps.inputOnly===undefined)?false:true;_afe.echoCharacters=(this._animProps.echoCharacters===undefined)?false:true;_afe.encrypt=(this._animProps.encrypt===undefined)?false:true;_afe.passwordReplcement=(this._animProps.passwordReplcement===undefined)?false:true;_afe.passwordReplcementChar=(this._animProps.passwordReplcementChar===undefined)?"":this._animProps.passwordReplcementChar;_afe.useKeyPad=(this._animProps.useKeypad===undefined)?0:1;_afe.promptFalseMessage=(this._animProps.promptFalseMessage===undefined)?"":this._animProps.promptFalseMessage;_afe.promptTrueMessage=(this._animProps.promptTrueMessage===undefined)?"":this._animProps.promptTrueMessage;_afe.currentValue=(_aff===undefined)?this._animProps.reference:_aff;_afe.dataType=(this._animProps._originalValueTp===undefined)?"":this._animProps._originalValueTp;_afe.min=this._animProps.minimun;_afe.max=this._animProps.maximun;switch(_afe.min){case "True":_afe.min=1;break;case "False":_afe.min=0;break;}switch(_afe.max){case "True":_afe.max=1;break;case "False":_afe.max=0;break;}_afe.restrictValues=this._animProps.restrictValues===1?true:false;if(this._widget._attr._animations.animationAnalogUserInput){_afe.tagType=_af7.EnumDataType.REAL;}else{if(this._widget._attr._animations.animationStringUserInput){_afe.tagType=_af7.EnumDataType.STRING;if(this._isOnMobileDevice()){_afe.useKeyPad=0;}}else{if(this._widget._attr._animations.animationBooleanUserInput){_afe.tagType=_af7.EnumDataType.BOOLEAN;}else{if(this._widget._attr._animations.animationTimeUserInput){_afe.tagType=_af7.EnumDataType.DATETIME;_afe.dateTimeDisplayType=this._animProps.dateTimeDisplayType;_afe.showSeconds=this._animProps.showSeconds?true:false;_afe.currentDateTimeAsDefault=this._animProps.currentDateTimeAsDefault?true:false;_afe.useCalendar=this._animProps.useCalendar?true:false;}else{if(this._widget._attr._animations.animationElapsedTimeUserInput){_afe.tagType=_af7.EnumDataType.ELAPSEDTIME;_afe.showDays=this._animProps.showDays?true:false;_afe.showMilliSec=this._animProps.showMilliseconds?true:false;}}}}}}else{if(this._animProps.min){_afe.min=this._animProps.min;}if(this._animProps.max){_afe.max=this._animProps.max;}}if(this._widget.declaredClass==="viewer.object.shape.Rectangle"){_afe.type=this._widget._attr.virtualKeyboard;_afe.password=this._widget._attr.password;_afe.eSign=this._widget._attr.eSign;_afe.requireConfirmation=this._widget._attr.requireConfirmation;_afe.caller="textBox";_afe.multiLine=this._widget.getMultiLineAttr();}else{if(this._widget.declaredClass==="viewer.object.action.Text"){_afe.forceVk=true;}}return vk.show(_afe,evt,_afd);},_execUpdate:function(){if(this._animProps.inputOnly==1&&this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA&&typeof (this._widget._setCaptionAttr)==="function"){this._widget._setCaptionAttr((this._animProps.textFormat===undefined)?"":this._animProps.textFormat);return;}if(!(typeof (this._widget._setCaptionAttr)==="function")){return;}var _b00,_b01,_b02,_b03,_b04,_b05,_b06=null,i=0;this._updateMask();_b00=this._animProps.reference;_b03=this._animProps._referenceTp;if(isNaN(_b03)||_b03<0||(_b03!==_af7.EnumDataType.BOOLEAN&&_b03!==_af7.EnumDataType.INT&&_b03!==_af7.EnumDataType.REAL)){_b03=_af7.EnumDataType.STRING;}_b02=(this._widget.declaredClass==="viewer.object.shape.Rectangle");_b04=this._intLength!==0||this._floatLength!==0;if(_b03==_af7.EnumDataType.BOOLEAN&&this._animProps.displayFalseMessage&&this._animProps.displayTrueMessage){_b04=true;}switch(_b03){case _af7.EnumDataType.BOOLEAN:if(_b04){if(this._animProps.displayFalseMessage&&this._animProps.displayTrueMessage){switch(this._animProps._displayFalseMessageTp){case _af7.EnumDataType.BOOLEAN:this._animProps.displayFalseMessage=this._animProps.displayFalseMessage=="0"?"false":"true";break;default:break;}switch(this._animProps._displayTrueMessageTp){case _af7.EnumDataType.BOOLEAN:this._animProps.displayTrueMessage=this._animProps.displayTrueMessage=="0"?"false":"true";break;default:break;}_b00=_b00=="0"?this._animProps.displayFalseMessage:this._animProps.displayTrueMessage;}}break;case _af7.EnumDataType.INT:if(!_b04){if(this._widgetMask&&this._widgetMask!=null){_b00=this._widgetMask+_b00;}else{_b00=parseFloat(_b00).toString();}}_b00=this._fixNumberStr(_b00,this._intMinLength,this._intHasDivider);break;case _af7.EnumDataType.REAL:if(_b04){_b00=parseFloat(_b00).toFixed(this._floatLength);_b00=this._fixNumberStr(_b00,this._intMinLength,this._intHasDivider);}else{if(this._widgetMask&&this._widgetMask!=null){_b00=parseFloat(_b00).toString();_b00=this._widgetMask+_b00;}else{_b00=parseFloat(_b00).toString();}}break;case _af7.EnumDataType.STRING:if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){_b04=false;break;}break;default:if(_b04){if(this._intLength>0){_b00=_b00.substring(0,this._intLength);_b00=this._fixNumberStr(_b00,this._intMinLength,this._intHasDivider);}}else{if(this._widgetMask&&this._widgetMask!=null){_b00=this._widgetMask+_b00;}}break;}if(typeof _b00!=="object"&&typeof _b00!=="undefined"){if(!this._widgetMask||this._widgetMask.length===0){this._widget._setCaptionAttr(_b00);}else{if(_b03==_af7.EnumDataType.BOOLEAN&&this._animProps.displayFalseMessage&&this._animProps.displayTrueMessage){this._widget._setCaptionAttr(_b00);}else{if(_b04){this._widget._setCaptionAttr(this._widgetMask.replace(this._mask,_b00));}else{this._widget._setCaptionAttr(_b00);}}}}if(this._widget._attr._animations.animationBooleanUserInput&&this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){if(_b00=="True"){this._widget._setCaptionAttr(typeof (this._animProps.displayTrueMessage)==="string"?this._animProps.displayTrueMessage:this._animProps.textFormat);}else{if(_b00=="False"){this._widget._setCaptionAttr(typeof (this._animProps.displayFalseMessage)==="string"?this._animProps.displayFalseMessage:this._animProps.textFormat);}else{if(typeof (this._animProps.reference)!=="string"){this._widget._setCaptionAttr(this._animProps.textFormat);}}}}if(this._animProps.password){if(this._widgetComponent.childNodes.length===1&&this._widgetComponent.firstChild.nodeType===3){_b06=this._widgetComponent.firstChild.textContent;}else{if(this._widgetComponent.childNodes.length>1){for(i=0;i<this._widgetComponent.childNodes.length;i++){if(this._widgetComponent.childNodes[i].nodeType===3&&this._widgetComponent.childNodes[i].length>=this._animProps.reference.length){_b06=this._widgetComponent.childNodes[i].textContent;}}}}if(!_b06){_b06=this._widgetComponent.innerText;}_b06=_b06.replace(this._animProps.reference,[].constructor(this._animProps.reference.length+1).join("*"));this._widgetComponent.innerText=_b06;}this._applyAutoSize();},_showInputWindow:function(evt){var self=this,div=null,_b07;_b07={"onWrite":function(_b08){self._onWrite(_b08);}};if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false||this.showVK(this._tagExpressionId,evt,_b07)===true){return;}div=document.createElement("div");_af8.place(div,dojo.body(),"first");this._inputWindow=new _afa({"inputEvent":evt,"onWrite":function(_b09){self._onWrite(_b09);}},div);this._inputWindow._setMessageAttr(this._widget.hint||"");this._inputWindow._setPasswordTypeAttr(this._animProps.password);this._inputWindow.startup();},_onWrite:function(_b0a){var _b0b,_b0c=this._animProps._referenceTp,_b0d,_b0e;if(isNaN(_b0c)||_b0c<0||(_b0c!==_af7.EnumDataType.BOOLEAN&&_b0c!==_af7.EnumDataType.INT&&_b0c!==_af7.EnumDataType.REAL)){_b0c=_af7.EnumDataType.STRING;}if(_b0c!==_af7.EnumDataType.STRING&&isNaN(_b0a)===true){_b0d=_af8.create("div");_af8.place(_b0d,dojo.body(),"first");_b0e=new _afb({"onClose":function(){}},_b0d);_b0e._setMessageAttr("Invalid entry. Please enter a valid numeric value.");_b0e.startup();}else{_b0b=services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._tagExpressionId,_b0a);this.intervalCallRequest();if(_b0b===this._serverEvents.parseResult(_b0b)){this._inputWindow._setMessageErrorAttr(_b0b.message);return;}}if(this._inputWindow){this._inputWindow.close();}this._inputWindow=null;this._execDisable();},_updateMask:function(){if(!(typeof (this._widget._getMaskAttr)==="function")){return;}var _b0f=null,self=this,_b10=this._widget._getMaskAttr(),_b11,_b12,_b13,_b14;if(!_b10||_b10.isExp===true){return;}_b0f=this._widget._getMaskAttr().replace(/'/g,"");if(_b0f===null||this._widgetMask===_b0f||this._widgetCount!==null){return;}this._widgetMask=_b0f;if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){this._startMask=Math.max(this._widgetMask.indexOf("#"),this._widgetMask.indexOf("0"));}else{this._startMask=this._widgetMask.indexOf("#");}this._widgetComponent=this._widget._getComponentAttr();if(this._startMask>-1){if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){_b11=this._widgetMask.match(/[#|0]+(,[#|0]{3})*\.{0,1}[#|0]*/);}else{_b11=this._widgetMask.match(/#+\.{0,1}#*/);}if(_b11){this._mask=_b11[0];}this._intLength=0;this._floatLength=0;if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){this._intMinLength=0;this._intHasDivider=false;_b12=this._mask.match(/[#|0]+(,[#|0]{3})*\.{0,1}/);_b14=this._mask.match(/0+\.{0,1}/);_b13=this._mask.match(/\.([#|0]*)/);}else{_b12=this._mask.match(/(#+)\.{0,1}/);_b13=this._mask.match(/\.(#*)/);}if(_b12){if(this._widget._attr.engine==_af7.EnumRuntimeScadaEngine.ArchestrA){var _b15=_b12[0].replace(".","");this._intLength=_b15.length;this._intHasDivider=_b15.indexOf(",")>=0;}else{this._intLength=_b12[1].length;}}if(_b14){this._intMinLength=_b14[0].replace(".","").length;}if(_b13){this._floatLength=_b13[1].length;}}if(this._evtConnection===null&&this._animProps.inputEnabled===1){this._widget._getComponentAttr().style.pointerEvents="visible";this._evtConnection=on(this._widgetComponent,_af9.release,function(evt){self._showInputWindow(evt);});}},_applyAutoSize:function(){var _b16=0,_b17=0,ps=null;if(!this._widgetComponent||!this._animProps.autoSize||this._widget._matrix!=null){return;}this._guiHelper.setWidth(this._widgetComponent,"auto");ps=this._widget._getPositionAttr();_b16=ps.left;_b17=this._widget.getTextWidth();if(_af7.EnumAlignHorizontal.CENTER.toLowerCase()===this._widget.getAlign()){_b16-=(((_b17-(ps.right-ps.left))/2)+((_b17-(ps.right-ps.left))%2));}else{if(_af7.EnumAlignHorizontal.RIGHT.toLowerCase()===this._widget.getAlign()){_b16-=_b17;}}this._guiHelper.setLeft(this._widgetComponent,_b16+"px");},_fixNumberStr:function(_b18,_b19,_b1a){if(this._widget._attr.engine!=_af7.EnumRuntimeScadaEngine.ArchestrA){return _b18;}if(_b18==null||(_b19<=0&&!_b1a)){return _b18;}var str=_b18.toString();var _b1b=str.indexOf(".");var _b1c=_b1b>=0?str.substring(0,_b1b):str;var _b1d=_b1b>=0?str.substring(_b1b):"";if(_b19>0){var _b1e=_b19-_b1c.length;if(_b1e>0){for(var i=0;i<_b1e;i++){_b1c="0"+_b1c;}}}if(_b1a){var _b1f=_b1c;var _b20="";while(_b1f.length>3){_b20=","+_b1f.substring(_b1f.length-3)+_b20;_b1f=_b1f.substring(0,_b1f.length-3);}_b1c=_b1f+_b20;}return _b1c+_b1d;},onChangeProperty:function(prop){if(prop&&prop.propName=="originalValue"){if(prop.value.indexOf("D")>-1){this._animProps._originalValueTp=_af7.EnumDataType.DOUBLE;}else{this._animProps._originalValueTp=prop.dataType;}}},_isOnMobileDevice:function(){var _b21=new Array("android","iphone","symbianos","windows phone","ipad","ipod");for(var i=0;i<_b21.length;i++){if(navigator.userAgent.toLowerCase().indexOf(_b21[i])>=0){return true;}}return false;},_getTouchCommandNode:function(){return this._widget._getCommandNodeAttr();},_getIsHandledByAnimation:function(evt){return true;}});});},"ma/widget/myCanvas/Point":function(){define(["dojo/_base/declare"],function(_b22){return _b22("ma.widget.myCanvas.Point",null,{x:0,y:0,lineTo:function(ctx){ctx.lineTo(this.x,this.y);},moveTo:function(ctx){ctx.moveTo(this.x,this.y);}});});},"dojo/dnd/Avatar":function(){define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_b23,win,dom,_b24,_b25,_b26,has,_b27){return _b23("dojo.dnd.Avatar",null,{constructor:function(_b28){this.manager=_b28;this.construct();},construct:function(){var a=_b26.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_b29=this.manager.source,node,b=_b26.create("tbody",null,a),tr=_b26.create("tr",null,b),td=_b26.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_b26.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_b26.create("span",{innerHTML:_b29.generateText?this._generateText():""},td);_b24.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_b29.creator){node=_b29._normalizedCreator(_b29.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _b2a=_b26.create("table"),_b2b=_b26.create("tbody",null,_b2a);_b2b.appendChild(node);node=_b2a;}}node.id="";tr=_b26.create("tr",null,b);td=_b26.create("td",null,tr);td.appendChild(node);_b24.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_b26.destroy(this.node);this.node=false;},update:function(){_b25.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_b27(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_b2c,lang){var _b2d={};lang.setObject("dojo.string",_b2d);_b2d.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_b2d.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_b2d.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_b2d.substitute=function(_b2e,map,_b2f,_b30){_b30=_b30||_b2c.global;_b2f=_b2f?lang.hitch(_b30,_b2f):function(v){return v;};return _b2e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_b31,key,_b32){var _b33=lang.getObject(key,false,map);if(_b32){_b33=lang.getObject(_b32,false,_b30).call(_b30,_b33,key);}return _b2f(_b33,key).toString();});};_b2d.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _b2d;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_b34,_b35){return _b34("dijit._Contained",null,{_getSibling:function(_b36){var node=this.domNode;do{node=node[_b36+"Sibling"];}while(node&&node.nodeType!=1);return node&&_b35.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(lang){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};var _b37=lang.getObject("dojox.charting.scaler.common",true);var _b38={};return lang.mixin(_b37,{doIfLoaded:function(_b39,_b3a,_b3b){if(_b38[_b39]==undefined){try{_b38[_b39]=require(_b39);}catch(e){_b38[_b39]=null;}}if(_b38[_b39]){return _b3a(_b38[_b39]);}else{return _b3b();}},getNumericLabel:function(_b3c,_b3d,_b3e){var def="";_b37.doIfLoaded("dojo/number",function(_b3f){def=(_b3e.fixed?_b3f.format(_b3c,{places:_b3d<0?-_b3d:0}):_b3f.format(_b3c))||"";},function(){def=_b3e.fixed?_b3c.toFixed(_b3d<0?-_b3d:0):_b3c.toString();});if(_b3e.labelFunc){var r=_b3e.labelFunc(def,_b3c,_b3d);if(r){return r;}}if(_b3e.labels){var l=_b3e.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_b3c){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_b3c)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_b3c)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_b3c)){return l[lo].text;}}return def;}});});},"dojox/grid/_Builder":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_b40,_b41,lang,win,_b42,has,_b43,_b44,_b45,util,html,_b46){var dg=_b40.grid;var _b47=function(td){return td.cellIndex>=0?td.cellIndex:_b41.indexOf(td.parentNode.cells,td);};var _b48=function(tr){return tr.rowIndex>=0?tr.rowIndex:_b41.indexOf(tr.parentNode.childNodes,tr);};var _b49=function(_b4a,_b4b){return _b4a&&((_b4a.rows||0)[_b4b]||_b4a.childNodes[_b4b]);};var _b4c=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _b4d=function(_b4e,_b4f){for(var n=_b4e;n&&_b4f(n);n=n.parentNode){}return n;};var _b50=function(_b51){var name=_b51.toUpperCase();return function(node){return node.tagName!=name;};};var _b52=util.rowIndexTag;var _b53=util.gridViewTag;var _b54=dg._Builder=lang.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_b55,_b56,_b57,_b58){var _b59=[],html;if(_b58){var _b5a=_b55.index!=_b55.grid.getSortIndex()?"":_b55.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";if(!_b55.id){_b55.id=this.grid.id+"Hdr"+_b55.index;}html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_b5a," id=\"",_b55.id,"\""];}else{var _b5b=this.grid.editable&&!_b55.editable?"aria-readonly=\"true\"":"";html=["<td tabIndex=\"-1\" role=\"gridcell\"",_b5b];}if(_b55.colSpan){html.push(" colspan=\"",_b55.colSpan,"\"");}if(_b55.rowSpan){html.push(" rowspan=\"",_b55.rowSpan,"\"");}html.push(" class=\"dojoxGridCell ");if(_b55.classes){html.push(_b55.classes," ");}if(_b57){html.push(_b57," ");}_b59.push(html.join(""));_b59.push("");html=["\" idx=\"",_b55.index,"\" style=\""];if(_b56&&_b56[_b56.length-1]!=";"){_b56+=";";}html.push(_b55.styles,_b56||"",_b55.hidden?"display:none;":"");if(_b55.unitWidth){html.push("width:",_b55.unitWidth,";");}_b59.push(html.join(""));_b59.push("");html=["\""];if(_b55.attrs){html.push(" ",_b55.attrs);}html.push(">");_b59.push(html.join(""));_b59.push("");_b59.push(_b58?"</th>":"</td>");return _b59;},isCellNode:function(_b5c){return Boolean(_b5c&&_b5c!=win.doc&&html.attr(_b5c,"idx"));},getCellNodeIndex:function(_b5d){return _b5d?Number(html.attr(_b5d,"idx")):-1;},getCellNode:function(_b5e,_b5f){for(var i=0,row;((row=_b49(_b5e.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_b5f){return cell;}}}return null;},findCellTarget:function(_b60,_b61){var n=_b60;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_b53 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_b53]!=this.view.id))&&(n!=_b61)){n=n.parentNode;}return n!=_b61?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_b62,_b63){var n=_b62;while(n&&(n!=this.domNode)&&(!(_b63 in n)||(_b53 in n&&n[_b53]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_b64){return this.findTarget(_b64,_b52);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);},_getTextDirStyle:function(_b65,_b66,_b67){return "";}});var _b68=dg._ContentBuilder=lang.extend(function(view){_b54.call(this,view);},_b54.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _b69=this.grid.get,_b6a=this.view.structure.cells;for(var j=0,row;(row=_b6a[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_b69;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_b6b,_b6c){var html=this.getTableArray(),v=this.view,dir,_b6d=v.structure.cells,item=this.grid.getItem(_b6c);util.fire(this.view,"onBeforeRow",[_b6c,_b6d]);for(var j=0,row;(row=_b6d[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_b6c,item);m[1]=cc.join(" ");m[3]=cs.join(";");dir=cell.textDir||this.grid.textDir;if(dir){m[3]+=this._getTextDirStyle(dir,cell,_b6c);}html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_b52];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _b6e=dg._HeaderBuilder=lang.extend(function(view){this.moveable=null;_b54.call(this,view);},_b54.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_b6f,_b70){var dir,html=this.getTableArray(),_b71=this.view.structure.cells;util.fire(this.view,"onBeforeRow",[-1,_b71]);for(var j=0,row;(row=_b71[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_b72;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_b72=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_b72[5]=(_b70!=undefined?_b70:_b6f(cell));_b72[3]=cell.customStyles.join(";");dir=cell.textDir||this.grid.textDir;if(dir){_b72[3]+=this._getTextDirStyle(dir,cell,_b70);}_b72[1]=cell.customClasses.join(" ");html.push(_b72.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x,pos;n=_b4d(e.target,_b50("th"));if(n){pos=_b46.position(n);x=e.clientX-pos.x;}else{x=e.layerX;}return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=e.cellIndex;e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(c){_b42.stop(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){_b42.stop(e);return true;}return false;},colResizeSetup:function(e,_b73){var _b74=html.contentBox(e.sourceView.headerNode);if(_b73){this.lineDiv=document.createElement("div");var vw=html.position(e.sourceView.headerNode,true);var _b75=html.contentBox(e.sourceView.domNode);var l=e.pageX;if(!this.grid.isLeftToRight()&&has("ie")<8){l-=_b45.getScrollbar().w;}html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_b75.h+_b74.h)+"px"});html.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;win.body().appendChild(this.lineDiv);}var _b76=[],_b77=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_b77[i]);i++){_b76.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=this.grid.isLeftToRight()?1:-1;var _b78=e.grid.views.views;var _b79=[];for(var j=view.idx+adj,_b7a;(_b7a=_b78[j]);j=j+adj){_b79.push({node:_b7a.headerNode,left:window.parseInt(_b7a.headerNode.style.left)});}var _b7b=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_b74.w,table:_b7b,tw:html.contentBox(_b7b).w,spanners:_b76,followers:_b79};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");html.style(this.moverDiv,{position:"absolute",left:0});win.body().appendChild(this.moverDiv);html.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new _b44(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=lang.hitch(this,"doResizeColumn",drag);_b43.connect(m,"onMoveStop",lang.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_b7c,_b7d,_b7e){var _b7f=_b7e.l;var data={deltaX:_b7f,w:_b7c.w+(this.grid.isLeftToRight()?_b7f:-_b7f),vw:_b7c.vw+_b7f,tw:_b7c.tw+_b7f};this.dragRecord={inDrag:_b7c,mover:_b7d,leftTop:_b7e};if(data.w>=this.minColWidth){if(!_b7d){this.doResizeNow(_b7c,data);}else{html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_b80){if(this.dragRecord){var _b81=this.dragRecord.leftTop;var _b82=this.grid.isLeftToRight()?_b81.l:-_b81.l;_b82+=Math.max(_b80.w+_b82,this.minColWidth)-(_b80.w+_b82);if(has("webkit")&&_b80.spanners.length){_b82+=html._getPadBorderExtents(_b80.spanners[0].node).w;}var data={deltaX:_b82,w:_b80.w+_b82,vw:_b80.vw+_b82,tw:_b80.tw+_b82};this.doResizeNow(_b80,data);delete this.dragRecord;}html.destroy(this.lineDiv);html.destroy(this.moverDiv);html.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_b80.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_b80.index);},doResizeNow:function(_b83,data){_b83.view.convertColPctToFixed();if(_b83.view.flexCells&&!_b83.view.testFlexCells()){var t=_b4c(_b83.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_b83.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_b83.view.setColWidth(s.index,sw);}}if(this.grid.isLeftToRight()||!has("ie")){for(i=0;(f=_b83.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_b83.node.style.width=data.w+"px";_b83.view.setColWidth(_b83.index,data.w);_b83.view.headerNode.style.width=data.vw+"px";_b83.view.setColumnsWidth(data.tw);if(!this.grid.isLeftToRight()){_b83.view.headerNode.scrollLeft=_b83.scrollLeft+data.deltaX;}}});dg._TableMap=lang.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_b84){var _b85=_b84.length;if(!_b85){return;}this.map=[];var row;for(var k=0;(row=_b84[k]);k++){this.map[k]=[];}for(var j=0;(row=_b84[j]);j++){for(var i=0,x=0,cell,_b86,_b87;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_b87=cell.rowSpan||1;_b86=cell.colSpan||1;for(var y=0;y<_b87;y++){for(var s=0;s<_b86;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_b86;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_b88,_b89){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_b89&&cell.r==_b88){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_b8a,_b8b,_b8c){var row=_b8a&&_b8a.rows[_b8b];return row&&row.cells[_b8c];},_findOverlappingNodes:function(_b8d,_b8e,_b8f){var _b90=[];var m=this.getMapCoords(_b8e,_b8f);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_b8d,rw.r,rw.c):null);if(n){_b90.push(n);}}return _b90;},findOverlappingNodes:function(_b91){return this._findOverlappingNodes(_b4c(_b91),_b48(_b91.parentNode),_b47(_b91));}});return {_Builder:_b54,_HeaderBuilder:_b6e,_ContentBuilder:_b68};});},"viewer/object/shape/Line":function(){define(["dojo/_base/declare","../_base","../../misc/enums","dojo/text!./line.html"],function(_b92,_b93,_b94,_b95){return _b92("viewer.object.shape.Line",_b93,{templateString:_b95,points:null,_proColorName:"stroke",isLine:true,position:null,_scaleX:null,_scaleY:null,_originalWidth:null,_originalHeight:null,_markerStartNode:null,_markerEndNode:null,buildRendering:function(){var _b96,b;_b96="";b=Math.max(1,parseInt(this._attr.pen.width));if(this._attr.points.length>0){this.points=this._attr.points;}this._attr.position={left:0,top:0,right:0,bottom:0};this._attr.position.left=this._attr.position.top=21470000;this._attr.position.right=this._attr.position.bottom=-21470000;for(var i=0;i<this._attr.points.length;i++){if(parseInt(this._attr.points[i].x)<parseInt(this._attr.position.left)){this._attr.position.left=parseInt(this._attr.points[i].x);}if(parseInt(this._attr.points[i].x)>parseInt(this._attr.position.right)){this._attr.position.right=parseInt(this._attr.points[i].x);}if(parseInt(this._attr.points[i].y)<parseInt(this._attr.position.top)){this._attr.position.top=parseInt(this._attr.points[i].y);}if(parseInt(this._attr.points[i].y)>parseInt(this._attr.position.bottom)){this._attr.position.bottom=parseInt(this._attr.points[i].y);}}if(this._attr.pen&&!this._attr.border){this._attr.border=this._attr.pen;}this.parseInflate();var _b97=this._inflatedPosition||this._attr.position;for(var i=0;i<this._attr.points.length;i++){_b96+=(parseFloat(this._attr.points[i].x)-_b97.left)+","+(parseFloat(this._attr.points[i].y)-_b97.top)+" ";}this._attr.points=_b96;this.inherited(arguments);this._originalWidth=this._attr.size.w;this._scaleX=1;this._originalHeight=this._attr.size.h;this._scaleY=1;},_inflate:function(){if(!this._attr.border){return;}switch(this._attr.border.origin.style){case _b94.EnumBorderStyle.NO_LINE:case _b94.EnumBorderStyle.SOLIDE_LINE:case _b94.EnumBorderStyle.DASHED_LINE:case _b94.EnumBorderStyle.LONGDASH_LINE:case _b94.EnumBorderStyle.SHORTDASH_LINE:case _b94.EnumBorderStyle.DOTS_LINE:case _b94.EnumBorderStyle.DASHDOTDASH_LINE:case _b94.EnumBorderStyle.DASHDOTDOTDASH_LINE:this.parseInflate();if(this._getWrapperNodeAttr()===this.domNode){this._guiHelper.setTop(this.domNode,this._inflatedPosition.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left+"px");this._setMatrixOrigin(this._inflatedPosition.left,this._inflatedPosition.top);}else{this._guiHelper.setTop(this.domNode,this._inflatedPosition.top-this._attr.position.top);this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left-this._attr.position.left);}var _b98=Math.max(Math.abs((this._inflatedPosition.right-this._inflatedPosition.left)),1)+"px";var _b99=Math.max(Math.abs((this._inflatedPosition.bottom-this._inflatedPosition.top)),1)+"px";this._guiHelper.setWidth(this.domNode,_b98);this._guiHelper.setHeight(this.domNode,_b99);this._guiHelper.setAttribute(this.domNode,"width",_b98);this._guiHelper.setAttribute(this.domNode,"height",_b99);break;}},setColor:function(_b9a){if(this._attr.background){this.inherited(arguments);}else{var c=_b9a.color;if(_b9a&&_b9a.stops){c="url(#"+this._svgGuiHelper.getGradientID(this._xComponent,this._svgGuiHelper.cloneColor(_b9a),this._attr.size.w,this._attr.size.h,this._getCurLineWeight())+")";}}this._guiHelper.setStroke(this._xComponent,c);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.setStroke(this._bargraphCloneNode[i],c);}}},resetColor:function(){if(this._attr.background){this.inherited(arguments);}else{if(this._attr.border){var c=this._attr.border.color;if(c&&c.stops){c="url(#"+this._svgGuiHelper.getGradientID(this._xComponent,this._svgGuiHelper.cloneColor(c),this._attr.size.w,this._attr.size.h,this._getCurLineWeight())+")";}this._guiHelper.setStroke(this._xComponent,c);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.setStroke(this._bargraphCloneNode[i],c);}}}}},_setWidthAttr:function(v){var _b9b=0;if(parseFloat(v)<_b9b){v=_b9b;}this._attr.size.w=parseFloat(v);increasedWidth=this._attr.size.w-this._originalWidth;if(increasedWidth>0){this._scaleX=1+Math.abs(increasedWidth)/this._originalWidth;}if(increasedWidth<0){this._scaleX=1-Math.abs(increasedWidth)/this._originalWidth;}var o={};o.scale="("+this._scaleX+","+this._scaleY+")";this._guiHelper.applyTransform(this._xComponent,o,0);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.applyTransform(this._bargraphCloneNode[i],o,0);}}this._inflate();this._originalGeometry.w=this._attr.size.w;},_setHeightAttr:function(v){var _b9c=0;if(parseFloat(v)<_b9c){v=_b9c;}this._attr.size.h=parseFloat(v);increasedHeight=this._attr.size.h-this._originalHeight;if(increasedHeight>0){this._scaleY=1+Math.abs(increasedHeight)/this._originalHeight;}if(increasedHeight<0){this._scaleY=1-Math.abs(increasedHeight)/this._originalHeight;}var o={};o.scale="("+this._scaleX+","+this._scaleY+")";this._guiHelper.applyTransform(this._xComponent,o,0);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.applyTransform(this._bargraphCloneNode[i],o,0);}}this._inflate();this._originalGeometry.h=this._attr.size.h;},_updateRectSize:function(_b9d,_b9e){this.inherited(arguments);this._updateScaledSize(_b9d,_b9e);},_onAfterSetRectAttr:function(){this.inherited(arguments);this._updateToInitialSize();var _b9f=Math.max(this._attr.size.w,1)+"px";var _ba0=Math.max(this._attr.size.h,1)+"px";this._guiHelper.setWidth(this.domNode,_b9f);this._guiHelper.setHeight(this.domNode,_ba0);this._guiHelper.setAttribute(this.domNode,"width",_b9f);this._guiHelper.setAttribute(this.domNode,"height",_ba0);}});});},"dojox/mobile/RoundRectDataList":function(){define(["dojo/_base/kernel","dojo/_base/declare","./RoundRectList","./_DataListMixin"],function(_ba1,_ba2,_ba3,_ba4){_ba1.deprecated("dojox/mobile/RoundRectDataList","Use dojox/mobile/RoundRectStoreList instead","2.0");return _ba2("dojox.mobile.RoundRectDataList",[_ba3,_ba4],{});});},"viewer/object/action/EditBox":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","../../misc/enums","../../misc/gui/helpers/css","dojo/dom-construct","../../misc/gui/OutputWindow","dojo/text!./editBox.html"],function(_ba5,_ba6,_ba7,on,_ba8,_ba9,_baa,_bab,_bac){return _ba5("viewer.object.action.EditBox",_ba6,{templateString:_bac,_firingEvent:false,_readType:"",_tagId:null,_tagTp:null,_isUpdating:false,_clickable:true,_isKeyDownPrevent:false,buildRendering:function(){var self=this;this.inherited(arguments);this._setDisableAttr((this._attr.inputEnabled===1&&this._securitySystem.isAuthorized(this._attr.security)===true)?0:1);if(this._securitySystem.isAuthorized(this._attr.security)===false){this._guiHelper.setBackgroundColor(this._xComponent,"rgb(225, 225, 225)");}if(parseInt(this._attr.multiline,10)===1){this._guiHelper.setVisibility(this.domNode,"hidden");return;}if(this.isDisabled()){_ba9.setAttr(this._xComponent,"readonly","readonly");}if(this._attr.maskCount){_ba9.setAttr(this._xComponent,"maxlength",this._attr.maskCount.length);}if(this._attr.text){this._xComponent.value=this._attr.text;}on(this._xComponent,_ba7.press,function(evt){evt.stopPropagation();});this._setMultiLineWrap();},startup:function(){this.inherited(arguments);var self=this;on(this._xComponent,"keyup",function(evt){self._onKeyUp(evt);});on(this._xComponent,"keydown",function(evt){self._onKeyDown(evt);});on(this._xComponent,"focus",function(){self._onFocus();});},_setMultiLineWrap:function(){var _bad=this._attr.multiLine||0;if(_bad){this._guiHelper.setWhiteSpace(this._xComponent,"normal");}else{this._guiHelper.setWhiteSpace(this._xComponent,"pre");this._xComponent.style.overflow="hidden hidden";}},_onClick:function(evt){},_onFocus:function(){if(window.sma){window.sma.inputWithFocus=this;}if(this._attr.isReadOnly||this._securitySystem.isAuthorized(this._attr.security)===false){dojo.attr(this._xComponent,"readonly","readonly");}else{dojo.removeAttr(this._xComponent,"readonly");}},_onKeyUp:function(evt){if(this._isKeyDownPrevent){evt.preventDefault();this._isKeyDownPrevent=false;}else{this._updateTags();}},_onKeyDown:function(evt){if(this._attr.maxLength&&this._xComponent.value.length>=this._attr.maxLength&&evt.keyCode!==8){evt.preventDefault();this._isKeyDownPrevent=true;}},_updateTags:function(_bae){var _baf,_bb0,_bb1;if(!this._xComponent){if(window.sma){window.sma.inputWithFocus=null;}return;}if(this._isUpdating===true){return;}_bae=_bae||this._xComponent.value;this._isUpdating=true;if(this._tagId!==null&&this.isDisabled()===false&&this._securitySystem.isAuthorized(this._attr.security)===true){if(isNaN(this._tagTp)||this._tagTp<0||(this._tagTp!==_ba8.EnumDataType.BOOLEAN&&this._tagTp!==_ba8.EnumDataType.INT&&this._tagTp!==_ba8.EnumDataType.REAL)){this._tagTp=_ba8.EnumDataType.STRING;}if(this._tagTp!==_ba8.EnumDataType.STRING&&isNaN(_bae)===true){_bb0=_baa.create("div");_baa.place(_bb0,dojo.body(),"first");_bb1=new _bab({"onClose":function(){}},_bb0);_bb1._setMessageAttr("Invalid entry. Please enter a valid numeric value.");_bb1.startup();}else{_baf=services.setActionValue(window.viewId,this.getParentScreen().screenId,this._tagId,_bae);if(_baf===this._serverEvents.parseResult(_baf)){this._xComponent.value=this.tag;}this.intervalCallRequest();}}this._isUpdating=false;return true;},_getMaskAttr:function(){var mask=this._attr.maskCount;if(mask===null||mask===undefined){mask="";}return mask;},_setCaptionAttr:function(_bb2){this._xComponent.value=_bb2;var _bb3=this._attr.multiLine||0;if(!_bb3){this.multiLineWrap(_bb2);}},_setTagAttr:function(_bb4,req){this.tag=_bb4;this._xComponent.value=_bb4;var _bb5=this._attr.multiLine||0;if(!_bb5){this.multiLineWrap(_bb4);}},_setTagTpAttr:function(_bb6){this._tagTp=_bb6;},_setFormatAttr:function(_bb7){this.format=_bb7;},_setInputEnabledAttr:function(_bb8){this.inputenabled=_bb8;},_setPasswordAttr:function(_bb9){this.password=_bb9;},_setAutoSizeAttr:function(_bba){this.autoSize=_bba;},_setESignAttr:function(_bbb){this._attr.eSign=_bbb;},_setRequireConfirmationAttr:function(_bbc){this._attr.requireConfirmation=_bbc;},_setVirtualKeyboardAttr:function(_bbd){this._attr.virtualKeyboard=_bbd;},_setSecurityAttr:function(_bbe){this.security=_bbe;},_setMinAttr:function(_bbf){this.min=_bbf;},_setMaxAttr:function(_bc0){this.max=_bc0;},applyDisable:function(anim){if(anim!==null){return;}this.inherited(arguments);if(this.isDisabled()===true){dojo.attr(this._xComponent,"readonly","readonly");this._guiHelper.setBackgroundColor(this._xComponent,"rgb(240, 240, 240)");this._guiHelper.setBorderStyle(this._xComponent,"solid");this._guiHelper.setBorderWidth(this._xComponent,"0.5px");this._guiHelper.setBorderColor(this._xComponent,"rgb(169, 169, 169)");this._guiHelper.setCssColor(this._xComponent,"rgb(0, 0, 0)");}else{dojo.removeAttr(this._xComponent,"readonly");}},_setWidthAttr:function(v){var w=parseFloat(v);if(!isNaN(w)){if(this._attr.password){this._guiHelper.setWidth(this._xComponent,w+"px");}else{this._guiHelper.setWidth(this._xComponent,(w-6)+"px");}}this.inherited(arguments);},_setHeightAttr:function(v){var h=parseFloat(v);if(!isNaN(h)){if(this._attr.password){this._guiHelper.setHeight(this._xComponent,(h+2)+"px");}else{this._guiHelper.setHeight(this._xComponent,(h-5)+"px");}}this.inherited(arguments);},getAlign:function(){return this._attr.align;},getMultiLineAttr:function(){return this._attr.multiLine;},forceBlur:function(){this._updateTags();},multiLineWrap:function(_bc1){this._xComponent.value=_bc1.replace(/\r|\n/ig,"");this._xComponent.style.overflow="hidden hidden";}});});},"dojox/fx/_base":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(_bc2,lang,_bc3,_bc4,dom,_bc5,_bc6,_bc7,_bc8){var _bc9=lang.getObject("dojox.fx",true);lang.mixin(_bc9,{anim:_bc3.anim,animateProperty:_bc3.animateProperty,fadeTo:_bc3._fade,fadeIn:_bc3.fadeIn,fadeOut:_bc3.fadeOut,combine:_bc4.combine,chain:_bc4.chain,slideTo:_bc4.slideTo,wipeIn:_bc4.wipeIn,wipeOut:_bc4.wipeOut});_bc9.sizeTo=function(args){var node=args.node=dom.byId(args.node),abs="absolute";var _bca=args.method||"chain";if(!args.duration){args.duration=500;}if(_bca=="chain"){args.duration=Math.floor(args.duration/2);}var top,_bcb,left,_bcc,_bcd,_bce=null;var init=(function(n){return function(){var cs=_bc5.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_bcd=(w=="auto"?0:parseInt(w));_bce=(h=="auto"?0:parseInt(h));_bcc=left-Math.floor((args.width-_bcd)/2);_bcb=top-Math.floor((args.height-_bce)/2);if(pos!=abs&&pos!="relative"){var ret=_bc5.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _bcf=_bc3.animateProperty(lang.mixin({properties:{height:function(){init();return {end:args.height||0,start:_bce};},top:function(){return {start:top,end:_bcb};}}},args));var _bd0=_bc3.animateProperty(lang.mixin({properties:{width:function(){return {start:_bcd,end:args.width||0};},left:function(){return {start:left,end:_bcc};}}},args));var anim=_bc4[(args.method=="combine"?"combine":"chain")]([_bcf,_bd0]);return anim;};_bc9.slideBy=function(args){var node=args.node=dom.byId(args.node),top,left;var init=(function(n){return function(){var cs=_bc5.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_bc6.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _bd1=_bc3.animateProperty(lang.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));_bc7.connect(_bd1,"beforeBegin",_bd1,init);return _bd1;};_bc9.crossFade=function(args){var _bd2=args.nodes[0]=dom.byId(args.nodes[0]),op1=_bc8.style(_bd2,"opacity"),_bd3=args.nodes[1]=dom.byId(args.nodes[1]),op2=_bc8.style(_bd3,"opacity");var _bd4=_bc4.combine([_bc3[(op1==0?"fadeIn":"fadeOut")](lang.mixin({node:_bd2},args)),_bc3[(op1==0?"fadeOut":"fadeIn")](lang.mixin({node:_bd3},args))]);return _bd4;};_bc9.highlight=function(args){var node=args.node=dom.byId(args.node);args.duration=args.duration||400;var _bd5=args.color||"#ffff99",_bd6=_bc8.style(node,"backgroundColor");if(_bd6=="rgba(0, 0, 0, 0)"){_bd6="transparent";}var anim=_bc3.animateProperty(lang.mixin({properties:{backgroundColor:{start:_bd5,end:_bd6}}},args));if(_bd6=="transparent"){_bc7.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_bd6;});}return anim;};_bc9.wipeTo=function(args){args.node=dom.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_bd7=args[dir],_bd8={};_bd8[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=_bc8.style(node,dir);return Math.max(now,1);}},end:_bd7};var anim=_bc3.animateProperty(lang.mixin({properties:_bd8},args));return anim;};return _bc9;});},"viewer/object/action/CheckBox":function(){define(["dojo/_base/declare","./CheckRadioBase","../../misc/gesture/_base","../../misc/enums","dojo/dom-attr","dojo/text!./checkBox.html"],function(_bd9,_bda,_bdb,_bdc,_bdd,_bde){return _bd9("viewer.object.action.CheckBox",_bda,{templateString:_bde,_checkedOn:"checkRadio-chkon",_checkedOff:"checkRadio-chkoff",_checked3State:"checkRadio-chk3state",_gesture:new _bdb(),startup:function(){this.inherited(arguments);this.SetLetterSpacing(this._xLabel,"0.5");this.hiddenCheckRadio();if(this.isPushLike){this._guiHelper.addClass(this.domNode,"object-action-pushButton-focus");}else{if(this.isDisabled()===false&&this._attr.engine===_bdc.EnumRuntimeScadaEngine.InduSoft){if(this._attr.enableFocus===1){this._guiHelper.setDisplay(this._xLabelCell,"table-cell");}}this._guiHelper.addClass(this.domNode,"object-action-checkBox-focus");}},_setWidthAttr:function(v){if(!this.isPushLike){var w=parseFloat(v);if(!isNaN(w)){this._guiHelper.setWidth(this._xLabelCell,w-16+"px");}}this.inherited(arguments);},_onBlur:function(evt){if(this.isPushLike){this.initialPushLike();this.CheckedPushLike("onBlur");if(this.declaredClass==="viewer.object.action.CheckBox"){if(dojo.hasAttr(this._xButtonComponent,"isClicked")){_bdd.remove(this._xButtonComponent,"isClicked");}}}},_onClick:function(evt){var v=0,_bdf=0;if(this.isPushLike){if(this.isDisabled()===false){if(this._attr.enableFocus===1){if(this.isCheckedRadioButton()){this.enableFocusPushLikeWithChecked();}else{this.enableFocusPushLike();}}}if(!this.tag||!this._tagId){evt.stopPropagation();this._gesture.generalStatus.isGesturing=false;return;}var _be0=_bdd.get(this._xButtonComponent,"isChecked");if(!_be0||isNaN(_be0)||parseInt(_be0)===0){v=this.trueValue;}else{_bdf=parseFloat(this.trueValue);if(isNaN(_bdf)||_bdf==0){v="1.000000";}else{v="0.000000";}}if(this.declaredClass==="viewer.object.action.CheckBox"){if(dojo.hasAttr(this._xButtonComponent,"isClicked")){_bdd.remove(this._xButtonComponent,"isClicked");}_bdd.set(this._xButtonComponent,"isClicked","1");}}else{if(this.isDisabled()===false&&this._attr.enableFocus===1&&this._attr.engine===_bdc.EnumRuntimeScadaEngine.InduSoft){this.enableFocusRadioButton();}if(!this._tagId){var _be1;_be1=this._checkedOff+(parseInt(this.disable)===0?"":"disabled");dojo.addClass(this._xComponent,_be1);evt.stopPropagation();this._gesture.generalStatus.isGesturing=false;return;}if(dojo.hasClass(this._xComponent,this._checkedOff)==true){v=this.trueValue;}else{if(dojo.hasClass(this._xComponent,this._checkedOff+"disabled")==true){v=this.trueValue;}else{var _bdf=parseFloat(this.trueValue);if(isNaN(_bdf)||_bdf==0){v="1.000000";}else{v="0.000000";}}}}if(this.isDisabled()===false&&this._securitySystem.isAuthorized(this._attr.security)===true){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._tagId,v);this.intervalCallRequest();}evt.stopPropagation();this._gesture.generalStatus.isGesturing=false;}});});},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(_be2,_be3){return _be2("dojox.mobile.EdgeToEdgeCategory",_be3,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";if(this.type&&this.type=="long"){this.domNode.className+=" mblEdgeToEdgeCategoryLong";}}});});},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(_be4,_be5){return _be4("dojox.charting.axis2d.Base",_be5,{constructor:function(_be6,_be7){this.vertical=_be7&&_be7.vertical;this.opt={};this.opt.min=_be7&&_be7.min;this.opt.max=_be7&&_be7.max;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_be8){this.dirty=false;return this;}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_be9,_bea,_beb,_bec){return _bea("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_bed,_bee){var _bef=this.containerNode;if(_bee>0){_bef=_bef.firstChild;while(_bee>0){if(_bef.nodeType==1){_bee--;}_bef=_bef.nextSibling;}if(_bef){_bee="before";}else{_bef=this.containerNode;_bee="last";}}_beb.place(_bed.domNode,_bef,_bee);if(this._started&&!_bed._started){_bed.startup();}},removeChild:function(_bf0){if(typeof _bf0=="number"){_bf0=this.getChildren()[_bf0];}if(_bf0){var node=_bf0.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_bf1,dir){_bec.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _bf2=this.getChildren(),idx=_be9.indexOf(_bf2,_bf1);return _bf2[idx+dir];},getIndexOfChild:function(_bf3){return _be9.indexOf(this.getChildren(),_bf3);}});});},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(lang,_bf4,_bf5){return _bf4("dojox.charting.Series",_bf5,{constructor:function(_bf6,data,_bf7){lang.mixin(this,_bf7);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(lang.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});});},"dojox/gauges/GlossyHorizontalGaugeMarker":function(){define(["dojo/_base/declare","dojo/_base/Color","./BarLineIndicator"],function(_bf8,_bf9,_bfa){return _bf8("dojox.gauges.GlossyHorizontalGaugeMarker",[_bfa],{interactionMode:"gauge",color:"black",_getShapes:function(_bfb){if(!this._gauge){return null;}var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var pos=this._gauge._getPosition(v);var _bfc=[];var _bfd=new _bf9(this.color);_bfd.a=0.67;var _bfe=_bf9.blendColors(_bfd,new _bf9("white"),0.4);var top=_bfc[0]=_bfb.createGroup();var _bff=this._gauge.height/100;_bff=Math.max(_bff,0.5);_bff=Math.min(_bff,1);top.setTransform({xx:1,xy:0,yx:0,yy:1,dx:pos,dy:0});var _c00=top.createGroup().setTransform({xx:1,xy:0,yx:0,yy:1,dx:-_bff*10,dy:this._gauge.dataY+this.offset});var _c01=_c00.createGroup().setTransform({xx:_bff,xy:0,yx:0,yy:_bff,dx:0,dy:0});_c01.createRect({x:0.5,y:0,width:20,height:47,r:6}).setFill(_bfd).setStroke(_bfe);_c01.createPath({path:"M 10.106 41 L 10.106 6 C 10.106 2.687 7.419 0 4.106 0 L 0.372 0 C -0.738 6.567 1.022 15.113 1.022 23.917 C 1.022 32.721 2.022 40.667 0.372 47 L 4.106 47 C 7.419 47 10.106 44.314 10.106 41 Z"}).setFill(_bfe).setTransform({xx:1,xy:0,yx:0,yy:1,dx:10.306,dy:0.009});_c01.createRect({x:9.5,y:1.5,width:2,height:34,r:0.833717}).setFill(_bfd).setStroke(this.color);_c01.createRect({x:9,y:0,width:3,height:34,r:6}).setFill({type:"linear",x1:9,y1:0,x2:9,y2:34,colors:[{offset:0,color:"white"},{offset:1,color:this.color}]});return _bfc;}});});},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(_c02,lang,arr){var df=lang.getObject("lang.functional",true,_c02);var _c03={};var _c04="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _c05=function(s){var args=[],_c06=_c04.call(s,/\s*->\s*/m);if(_c06.length>1){while(_c06.length){s=_c06.pop();args=_c06.pop().split(/\s*,\s*|\s+/m);if(_c06.length){_c06.push("(function("+args.join(", ")+"){ return ("+s+"); })");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};arr.forEach(vars,function(v){if(!t.hasOwnProperty(v)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _c07=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};lang.mixin(df,{rawLambda:function(s){return _c05(s);},buildLambda:function(s){var l=_c05(s);return "function("+l.args.join(",")+"){return ("+l.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _c07(s);}if(_c03.hasOwnProperty(s)){return _c03[s];}var l=_c05(s);return _c03[s]=new Function(l.args,"return ("+l.body+");");},clearLambdaCache:function(){_c03={};}});return df;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_c08,lang,_c09){var _c0a={hasWaiRole:function(elem,role){var _c0b=this.getWaiRole(elem);return role?(_c0b.indexOf(role)>-1):(_c0b.length>0);},getWaiRole:function(elem){return lang.trim((_c08.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_c08.set(elem,"role",role);},removeWaiRole:function(elem,role){var _c0c=_c08.get(elem,"role");if(!_c0c){return;}if(role){var t=lang.trim((" "+_c0c+" ").replace(" "+role+" "," "));_c08.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_c0d){return elem.hasAttribute?elem.hasAttribute("aria-"+_c0d):!!elem.getAttribute("aria-"+_c0d);},getWaiState:function(elem,_c0e){return elem.getAttribute("aria-"+_c0e)||"";},setWaiState:function(elem,_c0f,_c10){elem.setAttribute("aria-"+_c0f,_c10);},removeWaiState:function(elem,_c11){elem.removeAttribute("aria-"+_c11);}};lang.mixin(_c09,_c0a);return _c09;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_c12,_c13,lang,has,win,dom,_c14,_c15,_c16,on,_c17,dnd,_c18){return _c13("dojo.dnd.Mover",[_c16],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _c19(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_c17.move,lang.hitch(this,"onFirstMove")),on(d,_c17.move,lang.hitch(this,"onMouseMove")),on(d,_c17.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_c19),on(d.body,"selectstart",_c19)];_c18.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_c18.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_c14.getMarginBox(this.node);var b=win.doc.body;var bs=_c15.getComputedStyle(b);var bm=_c14.getMarginBox(b,bs);var bc=_c14.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_c12.forEach(this.events,function(_c1a){_c1a.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"ma/view/Trend":function(){define(["dojo/_base/declare","./_base","viewer/server/serverEvents","dojo/text!./templates/trend.html","../widget/trend/Chart"],function(_c1b,Base,_c1c,_c1d){var _c1e=0,_c1f=1,_c20=2,_c21=3;return _c1b("ma.view.Trend",[Base,Services],{templateString:_c1d,chart:null,play:false,trendData:{},trendTags:[],trendDuration:10,updateInProcess:false,histModeState:"queryAll",hstStart:null,hstFinish:null,constructor:function(){},startup:function(){this.inherited(arguments);var _c22=dojo.fromJson(dojo.cookie("_x_config"));if(_c22){this.intervalTime=_c22.trendUpdateRate;this.trendDuration=_c22.trendDuration;}dojo.parser.parse(this.containerChart);this.chart=dijit.byId("chart");if(this.chart){dojo.connect(this.chart,"onChangeRange",dojo.hitch(this,this.ProcChartRange));}},MakeLayout:function(){this.inherited(arguments);this.Resize();this.render();},Resize:function(){if(this.isHiden==false&&this.chart){this.chart.resize(this.getWidth(),this.getHeight());}},render:function(){this.inherited(arguments);if(this.chart){this.chart.render();}},onShow:function(){this.inherited(arguments);this.Resize();this.UpdateSettings();},onHide:function(){this.play=false;},FinishTransition:function(){this.UpdateSettings();},UpdateSettings:function(){var _c23=dojo.fromJson(dojo.cookie("_x_config"));this.play=_c23.trend.play=="on";this.histModeState="queryAll";this.onChangePlay(this.play);if(this.chart){this.chart.RemoveSeries();}var pvs=this.area.processValues;this.trendData={};this.trendTags=[];for(var i=0;i<pvs.length;i++){if(pvs[i].enableTrending===false||pvs[i].tagName.toString().length===0||this.trendTags.indexOf(pvs[i].tagName)>-1){continue;}this.trendTags.push(pvs[i].tagName);if(this.chart){this.chart.createSerie({name:pvs[i].tagName,label:pvs[i].label,color:pvs[i].colorHexCode,min:pvs[i].min,max:pvs[i].max});}}if(this.chart){this.chart.SetFill(_c23.trend.fill=="on");this.chart.SetPlay(this.play);this.trendDuration=_c23.trendDuration;this.intervalTime=_c23.trendUpdateRate;if(_c23.trend.percentageMode=="on"){this.chart.SetScale();}else{this.chart.SetScale(_c23.trend.scaleMin,_c23.trend.scaleMax);}this.chart.resize();this.chart.render();}this.navigateTo("","Trend");},ToggleView:function(){if(this.chart){this.chart.ToggleLegend();}},ToggleCursor:function(){if(this.chart){this.chart.ToggleCursor();}},UpdateValues:function(){if(this.play){this.HideLoading();}if(this.updateInProcess==true){return;}this.updateInProcess=true;if(this.play){this.ProcOnLineData();}else{this.ProcHistoryData();}},ProcOnLineData:function(){this.queryTagData(dojo.hitch(this,function(ret){ret=_c1c.assyncResult(ret);if(!ret){eval("console.error('Error in queryTagData call')");this.updateInProcess=false;return;}var data=this.parseResult(ret);if(data.processValues==null){this.updateInProcess=false;return;}var tags=data.processValues;for(var i=0;i<tags.length;i++){if(this.CheckTagTrending(tags[i].tagName)===false){continue;}if(!this.trendData[tags[i].tagName]){this.trendData[tags[i].tagName]={lastValue:tags[i].tagValue,data:[]};}else{this.trendData[tags[i].tagName].lastValue=tags[i].tagValue;}}var dt=new Date();var x=Math.round(dt.getTime()/1000);var _c24=x-(this.trendDuration*3);var _c25=x-(this.trendDuration*2);for(var _c26 in this.trendData){var td=this.trendData[_c26];td.data.push({x:x,y:td.lastValue});if(td.data[0].x<_c24){var _c27=0;for(;td.data[_c27].x<_c25&&_c27<td.data.length;++_c27){}td.data=td.data.slice(_c27);}if(td.data.length>1100){td.data=td.data.slice(1000);}}this.updateInProcess=false;if(this.chart){this.chart.SetChartData(this.trendData,x-this.trendDuration,x);}}));},ProcAllDataQuery:function(hst){if(!hst){return;}for(var i=0;i<hst.length;++i){var trd=hst[i];var td={};td.tagName=trd.tagName;td.data=[];for(var j=0;j<trd.data.length;++j){var x=trd.data[j][0]+trd.startTicks;for(var k=1;k<trd.data[j].length;++k){td.data.push({x:x,y:trd.data[j][k]});}}td.hasMoreData=trd.hasMoreData;this.trendData[trd.tagName]=td;}if(this.chart){this.chart.SetChartData(this.trendData,this.hstStart,this.hstFinish);}},ProcHistoryData:function(){if(this.histModeState==="completed"){this.updateInProcess=false;return;}if(this.histModeState==="queryAll"){this.ShowLoading();var _c28=dojo.fromJson(dojo.cookie("_x_config"));var _c29=new Date(_c28.trend.startDateTime);_c29=Math.round(_c29.getTime()/1000);this.hstStart=_c29;var end=new Date(_c28.trend.finishDateTime);end=Math.round(end.getTime()/1000);this.hstFinish=end;var ret=this.setTrendQuery(-1,0,parseInt(_c29.toFixed(0)),parseInt(end.toFixed(0)),this.getWidth(),dojo.hitch(this,function(ret){ret=_c1c.assyncResult(ret);this.updateInProcess=false;var res=this.parseResult(ret);if(!res){eval("console.warn('error to execute query')");this.histModeState="completed";this.LoadCompleted();return;}this.histModeState="waitingAll";}));}if(this.histModeState==="waitingAll"){this.queryTrendData(dojo.hitch(this,function(ret){ret=_c1c.assyncResult(ret);var hst=this.parseResult(ret);if(hst.status==_c1f){}else{if(hst.status!=_c21){if(hst.status!=_c20){}this.ProcAllDataQuery(hst.samples);this.LoadCompleted();this.histModeState="completed";}else{this.ProcAllDataQuery(hst.samples);this.histModeState="completed";this.LoadCompleted();}}this.updateInProcess=false;}));}},ProcChartRange:function(){var _c2a=dojo.fromJson(dojo.cookie("_x_config"));if(this.chart){_c2a.trend.startDateTime=this.chart.getXMin()*1000;_c2a.trend.finishDateTime=this.chart.getXMax()*1000;}dojo.cookie("_x_config",dojo.toJson(_c2a),{expires:30});this.histModeState="queryAll";},CheckTagTrending:function(_c2b){for(var i=0;i<this.trendTags.length;i++){if(this.trendTags[i]===_c2b){return true;}}return false;},onChangePlay:function(play){}});});},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(arr,_c2c,_c2d,gfx,_c2e){return _c2d("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,constructor:function(_c2f){this.chart=_c2f;this.group=null;this.htmlElements=[];this.dirty=true;this.trailingSymbol="...";this._events=[];},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var _c30=this.getGroup().children;if(_c2e.dispose){for(var i=0;i<_c30.length;++i){_c2e.dispose(_c30[i],true);}}if(this.getGroup().rawNode){_c2c.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_c2e.dispose){_c2e.dispose(this.getGroup(),true);}if(this.getGroup()!=this.group){if(this.group.rawNode){_c2c.empty(this.group.rawNode);}this.group.clear();if(_c2e.dispose){_c2e.dispose(this.group,true);}}this.group=null;}this.dirty=true;if(this._events.length){arr.forEach(this._events,function(item){item.shape.disconnect(item.handle);});this._events=[];}return this;},cleanGroup:function(_c31){this.destroyHtmlElements();if(!_c31){_c31=this.chart.surface;}if(this.group){var _c32;var _c33=this.getGroup().children;if(_c2e.dispose){for(var i=0;i<_c33.length;++i){_c2e.dispose(_c33[i],true);}}if(this.getGroup().rawNode){_c32=this.getGroup().bgNode;_c2c.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_c32){this.getGroup().rawNode.appendChild(_c32);}}else{this.group=_c31.createGroup();}this.dirty=true;return this;},getGroup:function(){return this.group;},destroyHtmlElements:function(){if(this.htmlElements.length){arr.forEach(this.htmlElements,_c2c.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},getTextWidth:function(s,font){return gfx._base._getTextBox(s,{font:font}).w||0;},getTextWithLimitLength:function(s,font,_c34,_c35){if(!s||s.length<=0){return {text:"",truncated:_c35||false};}if(!_c34||_c34<=0){return {text:s,truncated:_c35||false};}var _c36=2,_c37=0.618,_c38=s.substring(0,1)+this.trailingSymbol,_c39=this.getTextWidth(_c38,font);if(_c34<=_c39){return {text:_c38,truncated:true};}var _c3a=this.getTextWidth(s,font);if(_c3a<=_c34){return {text:s,truncated:_c35||false};}else{var _c3b=0,end=s.length;while(_c3b<end){if(end-_c3b<=_c36){while(this.getTextWidth(s.substring(0,_c3b)+this.trailingSymbol,font)>_c34){_c3b-=1;}return {text:(s.substring(0,_c3b)+this.trailingSymbol),truncated:true};}var _c3c=_c3b+Math.round((end-_c3b)*_c37),_c3d=this.getTextWidth(s.substring(0,_c3c),font);if(_c3d<_c34){_c3b=_c3c;end=end;}else{_c3b=_c3b;end=_c3c;}}}},getTextWithLimitCharCount:function(s,font,_c3e,_c3f){if(!s||s.length<=0){return {text:"",truncated:_c3f||false};}if(!_c3e||_c3e<=0||s.length<=_c3e){return {text:s,truncated:_c3f||false};}return {text:s.substring(0,_c3e)+this.trailingSymbol,truncated:true};},_plotFill:function(fill,dim,_c40){if(!fill||!fill.type||!fill.space){return fill;}var _c41=fill.space,span;switch(fill.type){case "linear":if(_c41==="plot"||_c41==="shapeX"||_c41==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_c41;if(_c41==="plot"||_c41==="shapeX"){span=dim.height-_c40.t-_c40.b;fill.y1=_c40.t+span*fill.y1/100;fill.y2=_c40.t+span*fill.y2/100;}if(_c41==="plot"||_c41==="shapeY"){span=dim.width-_c40.l-_c40.r;fill.x1=_c40.l+span*fill.x1/100;fill.x2=_c40.l+span*fill.x2/100;}}break;case "radial":if(_c41==="plot"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_c41;var _c42=dim.width-_c40.l-_c40.r,_c43=dim.height-_c40.t-_c40.b;fill.cx=_c40.l+_c42*fill.cx/100;fill.cy=_c40.t+_c43*fill.cy/100;fill.r=fill.r*Math.sqrt(_c42*_c42+_c43*_c43)/200;}break;case "pattern":if(_c41==="plot"||_c41==="shapeX"||_c41==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_c41;if(_c41==="plot"||_c41==="shapeX"){span=dim.height-_c40.t-_c40.b;fill.y=_c40.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_c41==="plot"||_c41==="shapeY"){span=dim.width-_c40.l-_c40.r;fill.x=_c40.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _c44=fill.space,span;switch(fill.type){case "linear":if(_c44==="shape"||_c44==="shapeX"||_c44==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_c44;if(_c44==="shape"||_c44==="shapeX"){span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_c44==="shape"||_c44==="shapeY"){span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case "radial":if(_c44==="shape"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_c44;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case "pattern":if(_c44==="shape"||_c44==="shapeX"||_c44==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_c44;if(_c44==="shape"||_c44==="shapeX"){span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_c44==="shape"||_c44==="shapeY"){span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_c45,_c46,_c47,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _c48=fill.space;fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_c48;if(arguments.length<4){fill.cx=_c45.x;fill.cy=_c45.y;fill.r=fill.r*_c46/100;return fill;}var _c49=arguments.length<5?_c47:(end+_c47)/2;return {type:"linear",x1:_c45.x,y1:_c45.y,x2:_c45.x+fill.r*_c46*Math.cos(_c49)/100,y2:_c45.y+fill.r*_c46*Math.sin(_c49)/100,colors:fill.colors};}});});},"dojox/gauges/AnalogCircleIndicator":function(){define(["dojo/_base/declare","./AnalogIndicatorBase"],function(_c4a,_c4b){return _c4a("dojox.gauges.AnalogCircleIndicator",[_c4b],{_getShapes:function(_c4c){var _c4d=this.color?this.color:"black";var _c4e=this.strokeColor?this.strokeColor:_c4d;var _c4f={color:_c4e,width:1};if(this.color.type&&!this.strokeColor){_c4f.color=this.color.colors[0].color;}return [_c4c.createCircle({cx:0,cy:-this.offset,r:this.length}).setFill(_c4d).setStroke(_c4f)];}});});},"dojox/gauges/AnalogArcIndicator":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/fx","./AnalogIndicatorBase"],function(_c50,lang,_c51,fx,_c52){return _c50("dojox.gauges.AnalogArcIndicator",[_c52],{_createArc:function(val){if(this.shape){var _c53=this._gauge._mod360(this._gauge.startAngle);var a=this._gauge._getRadians(this._gauge._getAngle(val));var sa=this._gauge._getRadians(_c53);if(this._gauge.orientation=="cclockwise"){var tmp=a;a=sa;sa=tmp;}var _c54;var big=0;if(sa<=a){_c54=a-sa;}else{_c54=2*Math.PI+a-sa;}if(_c54>Math.PI){big=1;}var cosa=Math.cos(a);var sina=Math.sin(a);var _c55=Math.cos(sa);var _c56=Math.sin(sa);var off=this.offset+this.width;var p=["M"];p.push(this._gauge.cx+this.offset*_c56);p.push(this._gauge.cy-this.offset*_c55);p.push("A",this.offset,this.offset,0,big,1);p.push(this._gauge.cx+this.offset*sina);p.push(this._gauge.cy-this.offset*cosa);p.push("L");p.push(this._gauge.cx+off*sina);p.push(this._gauge.cy-off*cosa);p.push("A",off,off,0,big,0);p.push(this._gauge.cx+off*_c56);p.push(this._gauge.cy-off*_c55);p.push("z");this.shape.setShape(p.join(" "));this.currentValue=val;}},draw:function(_c57,_c58){var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}if(this.shape){if(_c58){this._createArc(v);}else{var anim=new fx.Animation({curve:[this.currentValue,v],duration:this.duration,easing:this.easing});_c51.connect(anim,"onAnimate",lang.hitch(this,this._createArc));anim.play();}}else{var _c59=this.color?this.color:"black";var _c5a=this.strokeColor?this.strokeColor:_c59;var _c5b={color:_c5a,width:1};if(this.color.type&&!this.strokeColor){_c5b.color=this.color.colors[0].color;}this.shape=_c57.createPath().setStroke(_c5b).setFill(_c59);this._createArc(v);this.shape.connect("onmouseover",this,this.handleMouseOver);this.shape.connect("onmouseout",this,this.handleMouseOut);this.shape.connect("onmousedown",this,this.handleMouseDown);this.shape.connect("touchstart",this,this.handleTouchStart);}}});});},"viewer/misc/gui/vk":function(){define(["../enums","dojo/dom-construct","./InputWindow","./inputNum","./inputTextBox","./inputBoolean","./inputKeyboard","./warningWindow","./inputDateTime","./inputCalendar","./inputElapsedTime"],function(_c5c,_c5d,_c5e,_c5f,_c60,_c61,_c62,_c63,_c64,_c65,_c66){var vk=function(){};vk.hasReturned=false;vk._widget=null;vk._widgetConstructor=null;vk._nodeParent=null;vk.engine=null;vk._xConfig=null;vk.setWidigetConstructor=function(_c67){this._widgetConstructor=_c67;};vk.onWrite=function(){};vk.onClose=function(){};vk.show=function(_c68,evt,_c69){var _c6a=null,_c6b=null,_c6c=null,div;position={"left":_c68.left,"right":0,"top":_c68.top,"bottom":0},presentation={};vk.hasReturned=false;if(this._xConfig===null){this._xConfig=JSON.parse(dojo.cookie("_x_config"));}if(!_c68.forceVk){if(_c68.caller!=="keypadFunction"&&(typeof (this._xConfig.vKEnable)==="undefined"||!this._xConfig.vKEnable)){return false;}}if(typeof (_c68.type)==="undefined"){_c68.type="UseDefault";}presentation={"currentValue":_c68.currentValue,"screenId":_c68.screenId,"type":_c68.type,"show":_c68.show,"password":_c68.password,"min":_c68.min,"max":_c68.max,"multiLine":_c68.multiLine,"hint":_c68.hint||this._xConfig.vKHint,"eSign":_c68.eSign,"textConfirmation":_c68.textConfirmation,"requireConfirmation":_c68.requireConfirmation,"caller":_c68.caller};if(vk.engine==_c5c.EnumRuntimeScadaEngine.ArchestrA){presentation.messageToUser=_c68.messageToUser;}if(_c68.type==="UseDefault"){presentation.type=this._xConfig.vKDefaultType;presentation.show=this._xConfig.vKShowHint;}switch(presentation.type){case _c5c.EnumVKType.ALPHANUMERIC:presentation.type=_c5c.EnumVKTypeText.ALPHANUMERIC;break;case _c5c.EnumVKType.ENHKEYPAD:presentation.type=_c5c.EnumVKTypeText.ENHKEYPAD;break;case _c5c.EnumVKType.KEYPAD:presentation.type=_c5c.EnumVKTypeText.KEYPAD;break;}if(this._xConfig.vKCustomPath){if(presentation.type==="Keypad"){_c6b=184;_c6a=210;}else{_c6b=450;_c6a=210;}position.right=position.left+_c6b;position.bottom=position.top+_c6a;if(!this._widget){this._nodeParent=document.createElement("div");this._nodeParent.style.position="absolute";this._nodeParent.style.top=0;this._nodeParent.style.right=0;this._nodeParent.style.bottom=0;this._nodeParent.style.left=0;this._nodeParent.style.backgroundColor="rgba(0,0,0,0.1)";_c6c=document.createElement("div");this._nodeParent.appendChild(_c6c);this._nodeParent.style.zIndex=16000000;this._widget=new this._widgetConstructor({"_attr":{"position":position,"url":escape(this._xConfig.vKCustomPath),},"_cw_attr":{"properties":["Tag","Presentation"],"commands":[],"Tag":{"id":NaN,"isExp":true,"security":0},"Presentation":{"id":NaN,"isExp":true,"security":0}},"onClose":function(){this._widget=null;document.body.removeChild(this._nodeParent);this.onClose();this.hasReturned=true;return true;}.bind(this),"onWrite":function(data){this.onWrite(data);this.hasReturned=true;}.bind(this)},_c6c);document.body.appendChild(this._nodeParent);this._widget.startup();}this._widget._setPositionAttr(position);this._widget._propertiesInfo.Tag.id=_c68.tagId;this._widget._setCWPresentationAttr(presentation,{"value":presentation,"propName":"Presentation"});this._widget.domNode.style.display="block";if(_c68.caller==="keypadFunction"){this._widget.setSize({"w":_c6b,"h":_c6a});this._widget.setPosition({"l":_c68.left-(_c6b/2),"t":_c68.top-(_c6a/2)});}}else{div=document.createElement("div");_c5d.place(div,dojo.body(),"first");if(vk.engine==_c5c.EnumRuntimeScadaEngine.ArchestrA){if(_c68.tagType==_c5c.EnumDataType.REAL&&_c68.restrictValues&&(_c68.min!==""&&_c68.max!==""&&parseFloat(_c68.min)>=parseFloat(_c68.max))){this._inputWindow=new _c63({"warningMsg":"Maximum value must be greater than Minimum value.","warningTitle":"InTouch Web Client"},div);this._inputWindow.startup();return true;}if(_c68.useKeyPad==1||_c68.tagType==_c5c.EnumDataType.BOOLEAN||_c68.tagType==_c5c.EnumDataType.DATETIME){switch(_c68.tagType){case _c5c.EnumDataType.REAL:this._inputWindow=new _c5f({"currentValue":presentation.currentValue,"inputEvent":evt,"onWrite":function(_c6d){if(_c69.onWrite){_c69.onWrite(_c6d);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}},"multiLine":presentation.multiLine,"dataType":_c68.dataType},div);break;case _c5c.EnumDataType.STRING:this._inputWindow=new _c62({"currentValue":presentation.currentValue,"inputEvent":evt,"onWrite":function(_c6e){if(_c69.onWrite){_c69.onWrite(_c6e);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}},"multiLine":presentation.multiLine},div);this._inputWindow.setInputOnly({"echoCharacters":_c68.echoCharacters,"encrypt":_c68.encrypt,"passwordReplcementChar":_c68.passwordReplcementChar,"passwordReplcement":_c68.passwordReplcement,"inputOnly":_c68.inputOnly});break;case _c5c.EnumDataType.BOOLEAN:this._inputWindow=new _c61({"currentValue":presentation.currentValue,"inputEvent":evt,"onWrite":function(_c6f){if(_c69.onWrite){_c69.onWrite(_c6f);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}},"multiLine":presentation.multiLine},div);this._inputWindow.setPromptMessage({"promptFalseMessage":_c68.promptFalseMessage,"promptTrueMessage":_c68.promptTrueMessage});break;case _c5c.EnumDataType.DATETIME:if(_c68.useCalendar){this._inputWindow=new _c65({"currentValue":presentation.currentValue,"_currentDateTimeAsDefault":_c68.currentDateTimeAsDefault,"onWrite":function(_c70){if(_c69.onWrite){_c69.onWrite(_c70);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}}},div);}else{this._inputWindow=new _c64({"currentValue":presentation.currentValue,"inputEvent":evt,"_dateTimeDisplayType":_c68.dateTimeDisplayType,"_showSeconds":_c68.showSeconds,"_currentDateTimeAsDefault":_c68.currentDateTimeAsDefault,"onWrite":function(_c71){if(_c69.onWrite){_c69.onWrite(_c71);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}}},div);}break;case _c5c.EnumDataType.ELAPSEDTIME:this._inputWindow=new _c66({"currentValue":presentation.currentValue,"inputEvent":evt,"_showDays":_c68.showDays,"_showMilliSec":_c68.showMilliSec,"onWrite":function(_c72){if(_c69.onWrite){_c69.onWrite(_c72);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}}},div);break;default:break;}if(this._inputWindow&&this._inputWindow._setMessageAttr){this._inputWindow._setMessageAttr(_c68.messageToUser);}}else{this._inputWindow=new _c60({"currentValue":presentation.currentValue,"inputEvent":evt,"tagType":_c68.tagType,"onWrite":function(_c73){if(_c69.onWrite){_c69.onWrite(_c73);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}},"multiLine":presentation.multiLine,"dataType":_c68.dataType===""?_c5c.EnumDataType.STRING:_c68.dataType},div);this._inputWindow.setInputPosition({"left":_c68.left,"top":_c68.top});this._inputWindow.setInputOnly({"echoCharacters":_c68.echoCharacters,"encrypt":_c68.encrypt,"passwordReplcementChar":_c68.passwordReplcementChar,"passwordReplcement":_c68.passwordReplcement,"inputOnly":_c68.inputOnly});}this._inputWindow.setTypeAndRangeAttr({"isNumeric":((_c68.tagType&&(_c68.tagType===_c5c.EnumDataType.INT||_c68.tagType===_c5c.EnumDataType.REAL||_c68.tagType===_c5c.EnumDataType.BOOLEAN))||presentation.type===_c5c.EnumVKTypeText.KEYPAD),"min":_c68.tagType===_c5c.EnumDataType.BOOLEAN?0:presentation.min,"max":_c68.tagType===_c5c.EnumDataType.BOOLEAN?1:presentation.max,"currentValue":_c68.currentValue,"isRestrict":_c68.restrictValues});}else{this._inputWindow=new _c5e({"currentValue":presentation.currentValue,"inputEvent":evt,"onWrite":function(_c74){if(_c69.onWrite){_c69.onWrite(_c74);}this._inputWindow.close();this._inputWindow=null;}.bind(this),"onCancel":function(){if(_c69.onCancel){_c69.onCancel();}},"multiLine":presentation.multiLine},div);this._inputWindow._setMessageAttr(presentation.hint);this._inputWindow.setTypeAndRangeAttr({"isNumeric":((_c68.tagType&&(_c68.tagType===_c5c.EnumDataType.INT||_c68.tagType===_c5c.EnumDataType.REAL||_c68.tagType===_c5c.EnumDataType.BOOLEAN))||presentation.type===_c5c.EnumVKTypeText.KEYPAD),"min":_c68.tagType===_c5c.EnumDataType.BOOLEAN?0:presentation.min,"max":_c68.tagType===_c5c.EnumDataType.BOOLEAN?1:presentation.max});this._inputWindow._setPasswordTypeAttr(presentation.password);}this._inputWindow.startup();}return true;};return vk;});},"ma/widget/date/DateTime":function(){define(["dojo/_base/declare","../../_base","./Date","dojox/mobile/SpinWheelDatePicker","./Time","dojo/text!../templates/dateTime.html","dojox/mobile/Button"],function(_c75,Base,_c76,_c77,_c78,_c79){return _c75("ma.widget.date.DateTime",Base,{templateString:_c79,title:"Calendar",startDay:0,startMonth:0,startYear:0,startHour:0,startMinute:0,startSeconds:0,finishDay:0,finishMonth:0,finishYear:0,finishHour:0,finishMinute:0,finishSeconds:0,hIntervalGetValues:null,startDateObj:null,endDateObj:null,spinStartDate:null,spinFinishDate:null,constructor:function(){},startup:function(){dojo.parser.parse(this.containerDateTimer);this.spinStartDate=new _c77({id:"myspin1",slotOrder:[1,2,0]});this.startDate.appendChild(this.spinStartDate.domNode);this.spinStartDate.startup();this.spinFinishDate=new _c77({id:"myspin2",slotOrder:[1,2,0]});this.finishDate.appendChild(this.spinFinishDate.domNode);this.spinFinishDate.startup();this.startDateObj=new _c76();this.startDateObj.startup(this.spinStartDate);this.endDateObj=new _c76();this.endDateObj.startup(this.spinFinishDate);this.startTime=(new _c78({},this.startTime));this.startTime.startup();this.finishTime=(new _c78({},this.finishTime));this.finishTime.startup();this.StartDateClicked();this.DateClicked();},TimeClicked:function(){this.Update();this.ResetStateDateTime();dojo.style(this.startTimeParent,"display","block");dojo.addClass(this.btnTime,"buttonSelected");this.startDateObj.update();this.startTime.update();this.finishTime.update();this.endDateObj.update();},DateClicked:function(){this.Update();this.ResetStateDateTime();dojo.style(this.startDateParent,"display","block");dojo.addClass(this.btnDate,"buttonSelected");this.startDateObj.update();this.startTime.update();this.finishTime.update();this.endDateObj.update();},StartDateClicked:function(){this.Update();this.ResetStateStartFinish();dojo.style(this.startTime.domNode,"display","block");dojo.style(this.spinStartDate.domNode,"display","block");this.startDateObj.update();this.startTime.update();dojo.addClass(this.btnStartDate,"buttonSelected");},FinishDateClicked:function(){this.Update();this.ResetStateStartFinish();dojo.style(this.finishTime.domNode,"display","block");dojo.style(this.spinFinishDate.domNode,"display","block");this.finishTime.update();this.endDateObj.update();dojo.addClass(this.btnFinishDate,"buttonSelected");},Update:function(){if(this.startDateObj.getYear()!=null){this.startYear=this.startDateObj.getYear();}if(this.startDateObj.getMonth()!=null){this.startMonth=this.startDateObj.getMonth();}if(this.startDateObj.getDay()!=null){this.startDay=this.startDateObj.getDay();}if(this.startTime.getHours()!=null){this.startHour=this.startTime.getHours();}if(this.startTime.getMinutes()!=null){this.startMinute=this.startTime.getMinutes();}if(this.startTime.getSeconds()!=null){this.startSeconds=this.startTime.getSeconds();}if(this.endDateObj.getYear()!=null){this.finishYear=this.endDateObj.getYear();}if(this.endDateObj.getMonth()!=null){this.finishMonth=this.endDateObj.getMonth();}if(this.endDateObj.getDay()!=null){this.finishDay=this.endDateObj.getDay();}if(this.finishTime.getHours()!=null){this.finishHour=this.finishTime.getHours();}if(this.finishTime.getMinutes()!=null){this.finishMinute=this.finishTime.getMinutes();}if(this.finishTime.getSeconds()!=null){this.finishSeconds=this.finishTime.getSeconds();}this.btnStartDate.innerHTML="From: "+this.FormatDateTime(this.startMonth)+"/"+this.FormatDateTime(this.startDay)+"/"+this.startYear+" "+this.FormatDateTime(this.startHour)+":"+this.FormatDateTime(this.startMinute)+":"+this.FormatDateTime(this.startSeconds);this.btnFinishDate.innerHTML="To: "+this.FormatDateTime(this.finishMonth)+"/"+this.FormatDateTime(this.finishDay)+"/"+this.finishYear+" "+this.FormatDateTime(this.finishHour)+":"+this.FormatDateTime(this.finishMinute)+":"+this.FormatDateTime(this.finishSeconds);},ResetStateStartFinish:function(){dojo.removeClass(this.btnStartDate,"buttonSelected");dojo.removeClass(this.btnFinishDate,"buttonSelected");dojo.style(this.startTime.domNode,"display","none");dojo.style(this.spinStartDate.domNode,"display","none");dojo.style(this.finishTime.domNode,"display","none");dojo.style(this.spinFinishDate.domNode,"display","none");},ResetStateDateTime:function(){dojo.removeClass(this.btnDate,"buttonSelected");dojo.removeClass(this.btnTime,"buttonSelected");dojo.style(this.startTimeParent,"display","none");dojo.style(this.startDateParent,"display","none");},getStartDateTime:function(){var _c7a;this.Update(false);_c7a=new Date();_c7a.setFullYear(this.startYear);_c7a.setMonth(this.startMonth-1);_c7a.setDate(this.startDay);_c7a.setHours(this.startHour);_c7a.setMinutes(this.startMinute);_c7a.setSeconds(this.startSeconds);return _c7a;},getFinishDateTime:function(){var _c7b;this.Update(false);_c7b=new Date();_c7b.setFullYear(this.finishYear);_c7b.setMonth(this.finishMonth-1);_c7b.setDate(this.finishDay);_c7b.setHours(this.finishHour);_c7b.setMinutes(this.finishMinute);_c7b.setSeconds(this.finishSeconds);return _c7b;},setStartDateTime:function(date){this.startDateObj.setValue(date);this.startTime.setValue(date);},setFinishDateTime:function(date){this.endDateObj.setValue(date);this.finishTime.setValue(date);},EnableUpdateTimer:function(){this.hIntervalGetValues=setInterval(dojo.hitch(this,this.Update),100);},DisableUpdateTimer:function(){clearInterval(this.hIntervalGetValues);},FormatDateTime:function(_c7c){return _c7c.toString().length==1?"0"+_c7c:_c7c;}});});},"viewer/object/shape/TrendPen":function(){define(["dojo/_base/declare","../../misc/enums","./Path","dojo/text!./trendPen.html"],function(_c7d,_c7e,Path,_c7f){return _c7d("viewer.object.shape.TrendPen",Path,{templateString:_c7f,_ignoreDataBeforeStartup:true,_accuracyPixels:1,_penPathDom:null,_penFillPathDom:null,_penWidth:1,_destroy:false,_started:false,_points:[],_trendPenInterval:null,_startTime:null,_width:null,_height:null,_inflateX:0,_inflateY:0,_startX:0,isDirLine:false,isFixed:false,isAutoRange:false,periodMin:5,isFillArea:false,rangeMin:0,rangeMax:0,autoRangeMin:2147000000,autoRangeMax:-2147000000,buildRendering:function(){this.inherited(arguments);},startup:function(){this.stopPen(!this._ignoreDataBeforeStartup);this._started=true;this.inherited(arguments);this._penPathDom=this._xComponent;this._penFillPathDom=this._xFill;this._updatePen(this._penPathDom,["",""]);var _c80=this.id+"_fillClip";this._guiHelper.setAttribute(this._xClipPath,"id",_c80);this._guiHelper.setAttribute(this._xFill,"clip-path","url(#"+_c80+")");this._guiHelper.setAttribute(this._xComponent,"clip-path","url(#"+_c80+")");this.setIsFillArea(this._attr.fillTrend);var w=this._originalGeometry.w;var h=this._originalGeometry.h;if(this._inflatedPosition){this._penWidth=this._inflatedPosition.factor*2;}this.updateSize(w,h,this._penWidth);dojo.style(this.domNode,"overflow","hidden");},resetAttrFromCache:function(){this.inherited(arguments);this._points=[];this._startTime=null;this.isDirLine=false;this.isFixed=false;this.isAutoRange=false;this.periodMin=5;this.isFillArea=false;this.rangeMin=0;this.rangeMax=0;this.autoRangeMin=2147000000;this.autoRangeMax=-2147000000;if(this._penFillPathDom!=null){this._penFillPathDom.setAttribute("d","");}if(this._penPathDom!=null){this._penPathDom.setAttribute("d","");}this.setIsFillArea(this._attr.fillTrend);},parseInflate:function(){if(!this._attr.border){return;}var _c81=this._attr.border.width;this._inflatedPosition={};this._inflatedPosition.factor=parseFloat(_c81)/2;this._inflatedPosition.right=parseFloat(this._attr.position.right)+this._inflatedPosition.factor;this._inflatedPosition.bottom=parseFloat(this._attr.position.bottom)+this._inflatedPosition.factor;this._inflatedPosition.left=parseFloat(this._attr.position.left)-this._inflatedPosition.factor;this._inflatedPosition.top=parseFloat(this._attr.position.top)-this._inflatedPosition.factor;if(this._animations&&this._animations.fillPercent){this._animations.fillPercent._updateClip();}},_inflate:function(){this.inherited(arguments);this._guiHelper.setAttribute(this._xFill,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this._xFill,"height",this._attr.size.h+"px");this._guiHelper.setAttribute(this._xFill,"x",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xFill,"y",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xClipPathRect,"width",(this._attr.size.w)+"px");this._guiHelper.setAttribute(this._xClipPathRect,"height",(this._attr.size.h+this._inflatedPosition.factor*2)+"px");this._guiHelper.setAttribute(this._xClipPathRect,"x",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xClipPathRect,"y",0+"px");},destroy:function(){this._destroy=true;this.stopPen();this.inherited(arguments);},hide:function(){this.inherited(arguments);this.stopPen();},setFillColor:function(_c82){this.setTrendFill(_c82);},setColor:function(_c83){this.setTrendFill(_c83);if(_c83.gradient&&this._attr.background){this._attr.background.gradient=_c83.gradient;}},setTrendFill:function(_c84){if(!_c84||(!_c84.fillColor&&!this._isColorAvailable(_c84)&&typeof _c84!="string")){return;}var c=_c84.fillColor?_c84.fillColor:_c84;if(!_c84.gradient&&!_c84.fillColor){_c84.gradient=this._attr.background?this._attr.background.gradient:null;}if(c.gradient==null&&c.style==null){c.style="Solid";}if(!c.typeName){c.typeName="TPAF";}this._guiHelper.setColor(this._xFill,c,this._proColorName,this._attr.size.w,this._attr.size.h);},_setProFillTrendAttr:function(v){this.setIsFillArea(v);},_adjustPoints:function(){},updateSize:function(_c85,_c86,_c87){if(this._width!=_c85||this._height!=_c86||_c87!=this._inflateX){this._width=_c85?_c85:this._width;this._height=_c86?_c86:this._height;this._inflateX=_c87?_c87/2:this._inflateX;this._inflateY=this._inflateX;this._onTick(this);}},startPen:function(){if(!this._destroy&&!this._trendPenInterval){var self=this;self._startTime=new Date().getTime();self._trendPenInterval=setInterval(self._onTick,1000,self);}},updateStartTime:function(){this._startTime=new Date().getTime();},stopPen:function(_c88){if(!this._trendPenInterval){clearInterval(this._trendPenInterval);this._trendPenInterval=null;if(!_c88){this._points=[];}this.autoRangeMax=-2147000000;this.autoRangeMin=2147000000;}},setAutoRange:function(_c89){if(this.isAutoRange==_c89){return;}if(_c89){var _c8a=-2147000000;var _c8b=2147000000;var _c8c=this._points.slice(0);for(var i=0;i<_c8c.length;i++){var p=_c8c[i];if(p.v>_c8a){_c8a=p.v;}if(p.v<_c8b){_c8b=p.v;}}this.autoRangeMax=_c8a;this.autoRangeMin=_c8b;this.isAutoRange=true;}},setIsFillArea:function(_c8d){_c8d=this._convertToBool(_c8d);if(this.isFillArea!=_c8d){this.isFillArea=_c8d;if(!_c8d){this._penFillPathDom.setAttribute("d","");}}},requireAutoRange:function(){return this.isAutoRange||this.rangeMin==this.rangeMax;},insertValue:function(v,_c8e){if((this._ignoreDataBeforeStartup&&!this._started)||this._destroy){return;}this.startPen();var time=new Date().getTime();if(this.isFixed&&this._startTime&&this._points.length>0&&(this._points[this._points.length-1].t-this._startTime)>this.periodMin*60000){return;}var _c8f=parseFloat(v);var _c90={"t":time,"v":_c8f,"q":_c8e};this._points.push(_c90);if(this.isFixed&&this.requireAutoRange()){if(_c8f>this.autoRangeMax){this.autoRangeMax=_c8f;}if(_c8f<this.autoRangeMin){this.autoRangeMin=_c8f;}}},_cleanOutOfTimePoints:function(){if(this.isFixed){return;}var _c91=-1;var _c92=new Date().getTime();var _c93=-2147000000;var _c94=2147000000;for(var i=this._points.length-1;i>=0;i--){var p=this._points[i];if(this.requireAutoRange()){if(p.v>_c93){_c93=p.v;}if(p.v<_c94){_c94=p.v;}}if((_c92-p.t)>=this.periodMin*60000){_c91=i-1;break;}}if(this.requireAutoRange()){this.autoRangeMax=_c93;this.autoRangeMin=_c94;}if(_c91>0){this._points=this._points.slice(_c91);}},_generatePen:function(){var _c95=this._points.slice(0);var st=this._startTime;var _c96=this.periodMin*60000;var min=this.requireAutoRange()?this.autoRangeMin:(this.rangeMin<this.rangeMax?this.rangeMin:this.rangeMax);var max=this.requireAutoRange()?this.autoRangeMax:(this.rangeMin<this.rangeMax?this.rangeMax:this.rangeMin);var _c97=this._width;var _c98=this._height;var _c99=this._inflateX;var _c9a=this._inflateY;var _c9b=max-min;var arr=[];var arrF=[];if(!this.isFixed){st=new Date().getTime()-_c96;}else{var _c9c="M0,"+_c98+" ";arr.push(_c9c);arrF.push(_c9c);}this._startX=0;var _c9d=false;var _c9e=-2147000000;var _c9f=st;var _ca0=null;var _ca1=null;var _ca2=null;var _ca3=false;for(var i=0;i<_c95.length;i++){var p=_c95[i];var _ca4=false;var str=arr.length<=0?"M":"L";if(this._isQualityGood(p.q)){if(_ca3){str="M";_ca4=true&&i>0;}_ca3=false;}else{_ca3=true;}var _ca5=(p.t-_c9f)/1000;_c9f=p.t;if(_c96*_c97<=0){continue;}var x=Math.floor(_c99+(p.t-st)/_c96*_c97);if(_ca3&&i>0){arrF.push("L"+_c9e+","+(_c98+_c9a)+" ");arr.push("L"+x+","+_ca0+" ");_c9e=x;continue;}if(_ca4){arrF.push("L"+x+","+(_c98+_c9a)+" ");}var _ca6=p.v;if(i<_c95.length-1){if(!_ca3&&_ca2!=null&&x-_c9e<this._accuracyPixels){if(_ca1==null||Math.abs(_ca6-_ca2)>Math.abs(_ca1-_ca2)){_ca1=_ca6;}continue;}else{if(!_ca4&&_ca1!=null&&Math.abs(_ca6-_ca2)<Math.abs(_ca1-_ca2)){var _ca7=_ca1;_ca1=_ca6;_ca6=_ca7;}else{_ca1=null;}}}else{if(_ca1!=null){var _ca8=this._calculateY(_ca1,min,max,_c9b,_c98,_c9a);if(!_ca4&&!this.isDirLine&&i>0&&Math.abs(_ca0-_ca8)>=this._accuracyPixels){str="L"+x+","+_ca0+" "+str;}str+=x+","+_ca8+" ";arr.push(str);arrF.push(_ca4&&str.length>0?"L"+str.substring(1,str.length-1):str);}}_ca2=_ca6;var y=this._calculateY(_ca6,min,max,_c9b,_c98,_c9a);if(!_ca4&&!this.isDirLine&&i>0&&Math.abs(_ca0-y)>=this._accuracyPixels){str="L"+x+","+_ca0+" "+str;}_c9e=x;str+=x+","+y+" ";arr.push(str);arrF.push(_ca4&&str.length>0?"L"+str.substring(1,str.length-1):str);if(!_c9d){this._startX=x;_c9d=true;}_ca0=y;}if(!this.isFixed&&!_ca3){var y=this._calculateY(_c95[_c95.length-1].v,min,max,_c9b,_c98,_c9a);var _ca9="L"+(_c97+_c99)+","+y;arr.push(_ca9);arrF.push(_ca9);}var _caa=arr.join("");var _cab=arrF.join("");arr=[];arrF=[];return [_caa,_cab];},_calculateY:function(_cac,min,max,_cad,h,_cae){var y=null;if(this.rangeMin<this.rangeMax||(this.requireAutoRange()&&this.autoRangeMin<this.autoRangeMax)){if(_cac<max&&_cac>min){y=_cae+h-Math.abs(_cac-min)/_cad*h;}else{if(_cac>=max){y=_cae;}else{y=_cae+h;}}}else{if(_cac<max&&_cac>min){y=_cae+Math.abs(_cac-min)/_cad*h;}else{if(_cac>=max){y=_cae+h;}else{y=_cae;}}}if(y>h+_cae*2){y=_cae+h;}if(y<_cae){y=_cae;}return y;},_updatePen:function(dom,_caf,_cb0,_cb1,_cb2,_cb3,_cb4,_cb5){dom.setAttribute("d",_caf[0]);if(_cb0&&_caf!=null&&_caf.length>1){var _cb6=_cb1+_cb4;var _cb7=_cb2+_cb5;_cb0.setAttribute("d",_caf[1]+" L"+_cb6+","+_cb7+" L"+_cb3+","+_cb7+"Z");}},_onTick:function(_cb8){if(!_cb8._penPathDom||!_cb8._trendPenInterval||_cb8._points.length<=0){return;}_cb8._cleanOutOfTimePoints();var d=_cb8._generatePen();var _cb9=_cb8.isFillArea?_cb8._penFillPathDom:null;_cb8._updatePen(_cb8._penPathDom,d,_cb9,_cb8._width,_cb8._height,_cb8._startX,_cb8._inflateX,_cb8._inflateY);}});});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_cba,_cbb,lang,_cbc,_cbd){var _cbe={};_cba.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_cbe[name]=_cbc[name];});lang.mixin(_cbe,{defaultDuration:_cbb["defaultDuration"]||200});lang.mixin(_cbd,_cbe);return _cbd;});},"dojox/mobile/_compat":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/fx","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/dom-attr","dojo/fx","dojo/fx/easing","dojo/ready","dojo/uacss","dijit/registry","dojox/fx","dojox/fx/flip","./EdgeToEdgeList","./IconContainer","./ProgressIndicator","./RoundRect","./RoundRectList","./ScrollableView","./Switch","./View","./Heading","require"],function(_cbf,_cc0,_cc1,bfx,lang,has,win,_cc2,_cc3,_cc4,_cc5,_cc6,fx,_cc7,_cc8,_cc9,_cca,xfx,flip,_ccb,_ccc,_ccd,_cce,_ccf,_cd0,_cd1,View,_cd2,_cd3){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){lang.extend(View,{_doTransition:function(_cd4,_cd5,_cd6,dir){var anim;this.wakeUp(_cd5);var s1,s2;if(!_cd6||_cd6=="none"){_cd5.style.display="";_cd4.style.display="none";_cd5.style.left="0px";this.invokeCallback();}else{if(_cd6=="slide"||_cd6=="cover"||_cd6=="reveal"){var w=_cd4.offsetWidth;s1=fx.slideTo({node:_cd4,duration:400,left:-w*dir,top:_cc5.get(_cd4,"top")});s2=fx.slideTo({node:_cd5,duration:400,left:0,top:_cc5.get(_cd5,"top")});_cd5.style.position="absolute";_cd5.style.left=w*dir+"px";_cd5.style.display="";anim=fx.combine([s1,s2]);_cc1.connect(anim,"onEnd",this,function(){if(!this._inProgress){return;}_cd4.style.display="none";_cd4.style.left="0px";_cd5.style.position="relative";var _cd7=_cca.byNode(_cd5);if(_cd7&&!_cc2.contains(_cd7.domNode,"out")){_cd7.containerNode.style.paddingTop="";}this.invokeCallback();});anim.play();}else{if(_cd6=="slidev"||_cd6=="coverv"||_cd6=="reavealv"){var h=_cd4.offsetHeight;s1=fx.slideTo({node:_cd4,duration:400,left:0,top:-h*dir});s2=fx.slideTo({node:_cd5,duration:400,left:0,top:0});_cd5.style.position="absolute";_cd5.style.top=h*dir+"px";_cd5.style.left="0px";_cd5.style.display="";anim=fx.combine([s1,s2]);_cc1.connect(anim,"onEnd",this,function(){if(!this._inProgress){return;}_cd4.style.display="none";_cd5.style.position="relative";this.invokeCallback();});anim.play();}else{if(_cd6=="flip"){anim=xfx.flip({node:_cd4,dir:"right",depth:0.5,duration:400});_cd5.style.position="absolute";_cd5.style.left="0px";_cc1.connect(anim,"onEnd",this,function(){if(!this._inProgress){return;}_cd4.style.display="none";_cd5.style.position="relative";_cd5.style.display="";this.invokeCallback();});anim.play();}else{anim=fx.chain([bfx.fadeOut({node:_cd4,duration:600}),bfx.fadeIn({node:_cd5,duration:600})]);_cd5.style.position="absolute";_cd5.style.left="0px";_cd5.style.display="";_cc5.set(_cd5,"opacity",0);_cc1.connect(anim,"onEnd",this,function(){if(!this._inProgress){return;}_cd4.style.display="none";_cd5.style.position="relative";_cc5.set(_cd4,"opacity",1);this.invokeCallback();});anim.play();}}}}},wakeUp:function(node){if(has("ie")&&!node._wokeup){node._wokeup=true;var disp=node.style.display;node.style.display="";var _cd8=node.getElementsByTagName("*");for(var i=0,len=_cd8.length;i<len;i++){var val=_cd8[i].style.display;_cd8[i].style.display="none";_cd8[i].style.display="";_cd8[i].style.display=val;}node.style.display=disp;}}});lang.extend(_cd1,{_changeState:function(_cd9,anim){var on=(_cd9==="on");var pos;if(!on){pos=this.isLeftToRight()?-_cc5.get(this.right,"left"):0;}else{pos=this.isLeftToRight()?0:-_cc5.get(this.right,"left");}this.left.style.display="";this.right.style.display="";var _cda=this;var f=function(){_cc2.remove(_cda.domNode,on?"mblSwitchOff":"mblSwitchOn");_cc2.add(_cda.domNode,on?"mblSwitchOn":"mblSwitchOff");_cda.left.style.display=on?"":"none";_cda.right.style.display=!on?"":"none";_cc6.set(_cda.domNode,"aria-checked",on?"true":"false");};if(anim){var a=fx.slideTo({node:this.inner,duration:300,left:pos,onEnd:f});a.play();}else{if((this.isLeftToRight()?on:!on)||pos){this.inner.style.left=pos+"px";}f();}}});lang.extend(_ccd,{scale:function(size){if(has("ie")){var dim={w:size,h:size};_cc4.setMarginBox(this.domNode,dim);_cc4.setMarginBox(this.containerNode,dim);}else{if(has("ff")){var _cdb=size/40;_cc5.set(this.containerNode,{MozTransform:"scale("+_cdb+")",MozTransformOrigin:"0 0"});_cc4.setMarginBox(this.domNode,{w:size,h:size});_cc4.setMarginBox(this.containerNode,{w:size/_cdb,h:size/_cdb});}}}});if(has("ie")){lang.extend(_cce,{buildRendering:function(){dm.createRoundRect(this);this.domNode.className="mblRoundRect";}});_ccf._addChild=_ccf.prototype.addChild;_ccf._postCreate=_ccf.prototype.postCreate;lang.extend(_ccf,{buildRendering:function(){dm.createRoundRect(this,true);this.domNode.className="mblRoundRectList";if(has("ie")&&has("dojo-bidi")&&!this.isLeftToRight()){this.domNode.className="mblRoundRectList mblRoundRectListRtl";}},postCreate:function(){_ccf._postCreate.apply(this,arguments);this.redrawBorders();},addChild:function(_cdc,_cdd){_ccf._addChild.apply(this,arguments);this.redrawBorders();if(dm.applyPngFilter){dm.applyPngFilter(_cdc.domNode);}},redrawBorders:function(){if(this instanceof _ccb){return;}var _cde=false;for(var i=this.containerNode.childNodes.length-1;i>=0;i--){var c=this.containerNode.childNodes[i];if(c.tagName=="LI"){c.style.borderBottomStyle=_cde?"solid":"none";_cde=true;}}}});lang.extend(_ccb,{buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement("ul");this.domNode.className="mblEdgeToEdgeList";}});_ccc._addChild=_ccc.prototype.addChild;lang.extend(_ccc,{addChild:function(_cdf,_ce0){_ccc._addChild.apply(this,arguments);if(dm.applyPngFilter){dm.applyPngFilter(_cdf.domNode);}}});lang.mixin(dm,{createRoundRect:function(_ce1,_ce2){var i,len;_ce1.domNode=win.doc.createElement("div");_ce1.domNode.style.padding="0px";_ce1.domNode.style.backgroundColor="transparent";_ce1.domNode.style.border="none";_ce1.containerNode=win.doc.createElement(_ce2?"ul":"div");_ce1.containerNode.className="mblRoundRectContainer";if(_ce1.srcNodeRef){_ce1.srcNodeRef.parentNode.replaceChild(_ce1.domNode,_ce1.srcNodeRef);for(i=0,len=_ce1.srcNodeRef.childNodes.length;i<len;i++){_ce1.containerNode.appendChild(_ce1.srcNodeRef.removeChild(_ce1.srcNodeRef.firstChild));}_ce1.srcNodeRef=null;}_ce1.domNode.appendChild(_ce1.containerNode);for(i=0;i<=5;i++){var top=_cc3.create("div");top.className="mblRoundCorner mblRoundCorner"+i+"T";_ce1.domNode.insertBefore(top,_ce1.containerNode);var _ce3=_cc3.create("div");_ce3.className="mblRoundCorner mblRoundCorner"+i+"B";_ce1.domNode.appendChild(_ce3);}}});lang.extend(_cd0,{postCreate:function(){var _ce4=_cc3.create("div",{className:"mblDummyForIE",innerHTML:"&nbsp;"},this.containerNode,"first");_cc5.set(_ce4,{position:"relative",marginBottom:"-2px",fontSize:"1px"});}});_cd2._buildRendering=_cd2.prototype.buildRendering;lang.extend(_cd2,{buildRendering:function(){_cd2._buildRendering.apply(this);var _ce5=this.domNode.getElementsByTagName("INPUT"),i=_ce5.length;while(i--){_ce5[i].removeAttribute("unselectable");}}});}if(has("ie")<=6){dm.applyPngFilter=function(root){root=root||win.body();var _ce6=root.getElementsByTagName("IMG");var _ce7=_cd3.toUrl("dojo/resources/blank.gif");for(var i=0,len=_ce6.length;i<len;i++){var img=_ce6[i];var w=img.offsetWidth;var h=img.offsetHeight;if(w===0||h===0){if(_cc5.get(img,"display")!="none"){continue;}img.style.display="";w=img.offsetWidth;h=img.offsetHeight;img.style.display="none";if(w===0||h===0){continue;}}var src=img.src;if(src.indexOf("resources/blank.gif")!=-1){continue;}img.src=_ce7;img.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+src+"')";img.style.width=w+"px";img.style.height=h+"px";}};if(!dm._disableBgFilter&&dm.createDomButton){dm._createDomButton_orig=dm.createDomButton;dm.createDomButton=function(_ce8,_ce9,_cea){var node=dm._createDomButton_orig.apply(this,arguments);if(node&&node.className&&node.className.indexOf("mblDomButton")!==-1){var f=function(){if(node.currentStyle&&node.currentStyle.backgroundImage.match(/url.*(mblDomButton.*\.png)/)){var img=RegExp.$1;var src=_cd3.toUrl("dojox/mobile/themes/common/domButtons/compat/")+img;node.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+src+"',sizingMethod='crop')";node.style.background="none";}};setTimeout(f,1000);setTimeout(f,5000);}return node;};}}dm.loadCssFile=function(file){if(!dm.loadedCssFiles){dm.loadedCssFiles=[];}if(win.doc.createStyleSheet){setTimeout(function(file){return function(){var ss=win.doc.createStyleSheet(file);ss&&dm.loadedCssFiles.push(ss.owningElement);};}(file),0);}else{dm.loadedCssFiles.push(_cc3.create("link",{href:file,type:"text/css",rel:"stylesheet"},win.doc.getElementsByTagName("head")[0]));}};dm.loadCss=function(_ceb){if(!dm._loadedCss){var obj={};_cbf.forEach(dm.getCssPaths(),function(path){obj[path]=true;});dm._loadedCss=obj;}if(!lang.isArray(_ceb)){_ceb=[_ceb];}for(var i=0;i<_ceb.length;i++){var file=_ceb[i];if(!dm._loadedCss[file]){dm._loadedCss[file]=true;dm.loadCssFile(file);}}};dm.getCssPaths=function(){var _cec=[];var i,j,len;var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(r[j].href){_cec.push(r[j].href);}}}var _ced=win.doc.getElementsByTagName("link");for(i=0,len=_ced.length;i<len;i++){if(_ced[i].href){_cec.push(_ced[i].href);}}return _cec;};dm.loadCompatPattern=/\/mobile\/themes\/.*\.css$/;dm.loadCompatCssFiles=function(_cee){if(has("ie")&&!_cee){setTimeout(function(){dm.loadCompatCssFiles(true);},0);return;}dm._loadedCss=undefined;var _cef=dm.getCssPaths();if(has("dojo-bidi")){_cef=dm.loadRtlCssFiles(_cef);}for(var i=0;i<_cef.length;i++){var href=_cef[i];if((href.match(_cc0.mblLoadCompatPattern||dm.loadCompatPattern)||location.href.indexOf("mobile/tests/")!==-1)&&href.indexOf("-compat.css")===-1){var _cf0=href.substring(0,href.length-4)+"-compat.css";dm.loadCss(_cf0);}}};if(has("dojo-bidi")){dm.loadRtlCssFiles=function(_cf1){for(var i=0;i<_cf1.length;i++){var href=_cf1[i];if(href.indexOf("_rtl")==-1){var _cf2="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css";var _cf3=href.substr(href.lastIndexOf("/")+1);if(_cf2.indexOf(_cf3)!=-1){var _cf4=href.replace(".css","_rtl.css");_cf1.push(_cf4);dm.loadCss(_cf4);}}}return _cf1;};}dm.hideAddressBar=function(evt,_cf5){if(_cf5!==false){dm.resizeAll();}};_cc8(function(){if(_cc0["mblLoadCompatCssFiles"]!==false){dm.loadCompatCssFiles();}if(dm.applyPngFilter){dm.applyPngFilter();}});}return dm;});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_cf6,lang,_cf7,_cf8,xhr,_cf9,_cfa,_cfb,_cfc){var _cfd=_cf7("dojo.data.ItemFileReadStore",[_cf9],{constructor:function(_cfe){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_cfe.url;this._ccUrl=_cfe.url;this.url=_cfe.url;this._jsonData=_cfe.data;this.data=null;this._datatypeMap=_cfe.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_cff){return _cfc.fromISOString(_cff);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_cfe.urlPreventCache!==undefined){this.urlPreventCache=_cfe.urlPreventCache?true:false;}if(_cfe.hierarchical!==undefined){this.hierarchical=_cfe.hierarchical?true:false;}if(_cfe.clearOnClose){this.clearOnClose=true;}if("failOk" in _cfe){this.failOk=_cfe.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_d00){if(typeof _d00!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_d01,_d02){var _d03=this.getValues(item,_d01);return (_d03.length>0)?_d03[0]:_d02;},getValues:function(item,_d04){this._assertIsItem(item);this._assertIsAttribute(_d04);return (item[_d04]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _d05=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_d05.push(key);}}return _d05;},hasAttribute:function(item,_d06){this._assertIsItem(item);this._assertIsAttribute(_d06);return (_d06 in item);},containsValue:function(item,_d07,_d08){var _d09=undefined;if(typeof _d08==="string"){_d09=_cfa.patternToRegExp(_d08,false);}return this._containsValue(item,_d07,_d08,_d09);},_containsValue:function(item,_d0a,_d0b,_d0c){return _cf8.some(this.getValues(item,_d0a),function(_d0d){if(_d0d!==null&&!lang.isObject(_d0d)&&_d0c){if(_d0d.toString().match(_d0c)){return true;}}else{if(_d0b===_d0d){return true;}}});},isItem:function(_d0e){if(_d0e&&_d0e[this._storeRefPropName]===this){if(this._arrayOfAllItems[_d0e[this._itemNumPropName]]===_d0e){return true;}}return false;},isItemLoaded:function(_d0f){return this.isItem(_d0f);},loadItem:function(_d10){this._assertIsItem(_d10.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_d11,_d12,_d13){var _d14=[],i,key;if(_d11.query){var _d15,_d16=_d11.queryOptions?_d11.queryOptions.ignoreCase:false;var _d17={};for(key in _d11.query){_d15=_d11.query[key];if(typeof _d15==="string"){_d17[key]=_cfa.patternToRegExp(_d15,_d16);}else{if(_d15 instanceof RegExp){_d17[key]=_d15;}}}for(i=0;i<_d12.length;++i){var _d18=true;var _d19=_d12[i];if(_d19===null){_d18=false;}else{for(key in _d11.query){_d15=_d11.query[key];if(!this._containsValue(_d19,key,_d15,_d17[key])){_d18=false;}}}if(_d18){_d14.push(_d19);}}_d13(_d14,_d11);}else{for(i=0;i<_d12.length;++i){var item=_d12[i];if(item!==null){_d14.push(item);}}_d13(_d14,_d11);}},_fetchItems:function(_d1a,_d1b,_d1c){var self=this;if(this._loadFinished){this.filter(_d1a,this._getItemsArray(_d1a.queryOptions),_d1b);}else{if(this._jsonFileUrl!==this._ccUrl){_cf6.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_d1a,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_d1b)});}else{this._loadInProgress=true;var _d1d={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _d1e=xhr.get(_d1d);_d1e.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_d1a,self._getItemsArray(_d1a.queryOptions),_d1b);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_d1c(e,_d1a);}});_d1e.addErrback(function(_d1f){self._loadInProgress=false;_d1c(_d1f,_d1a);});var _d20=null;if(_d1a.abort){_d20=_d1a.abort;}_d1a.abort=function(){var df=_d1e;if(df&&df.fired===-1){df.cancel();df=null;}if(_d20){_d20.call(_d1a);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_d1a,this._getItemsArray(_d1a.queryOptions),_d1b);}catch(e){_d1c(e,_d1a);}}else{_d1c(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_d1a);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _d21=this._queuedFetches[i],_d22=_d21.args,_d23=_d21.filter,_d24=_d21.findCallback;if(_d23){_d23(_d22,this._getItemsArray(_d22.queryOptions),_d24);}else{this.fetchItemByIdentity(_d22);}}this._queuedFetches=[];}},_getItemsArray:function(_d25){if(_d25&&_d25.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_d26){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_d27){var _d28=false,self=this;function _d29(_d2a){return (_d2a!==null)&&(typeof _d2a==="object")&&(!lang.isArray(_d2a)||_d28)&&(!lang.isFunction(_d2a))&&(_d2a.constructor==Object||lang.isArray(_d2a))&&(typeof _d2a._reference==="undefined")&&(typeof _d2a._type==="undefined")&&(typeof _d2a._value==="undefined")&&self.hierarchical;};function _d2b(_d2c){self._arrayOfAllItems.push(_d2c);for(var _d2d in _d2c){var _d2e=_d2c[_d2d];if(_d2e){if(lang.isArray(_d2e)){var _d2f=_d2e;for(var k=0;k<_d2f.length;++k){var _d30=_d2f[k];if(_d29(_d30)){_d2b(_d30);}}}else{if(_d29(_d2e)){_d2b(_d2e);}}}}};this._labelAttr=_d27.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_d27.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_d28=true;}_d2b(item);item[this._rootItemPropName]=true;}var _d31={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _d32=item[key];if(_d32!==null){if(!lang.isArray(_d32)){item[key]=[_d32];}}else{item[key]=[null];}}_d31[key]=key;}}while(_d31[this._storeRefPropName]){this._storeRefPropName+="_";}while(_d31[this._itemNumPropName]){this._itemNumPropName+="_";}while(_d31[this._reverseRefMap]){this._reverseRefMap+="_";}var _d33;var _d34=_d27.identifier;if(_d34){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_d34;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_d33=item[_d34];var _d35=_d33[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_d35)){this._itemsByIdentity[_d35]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_d34+"].  Value collided: ["+_d35+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_d34+"].  Value collided: ["+_d35+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_d33=item[key];for(var j=0;j<_d33.length;++j){_d32=_d33[j];if(_d32!==null&&typeof _d32=="object"){if(("_type" in _d32)&&("_value" in _d32)){var type=_d32._type;var _d36=this._datatypeMap[type];if(!_d36){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_d36)){_d33[j]=new _d36(_d32._value);}else{if(lang.isFunction(_d36.deserialize)){_d33[j]=_d36.deserialize(_d32._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_d32._reference){var _d37=_d32._reference;if(!lang.isObject(_d37)){_d33[j]=this._getItemByIdentity(_d37);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _d38=this._arrayOfAllItems[k],_d39=true;for(var _d3a in _d37){if(_d38[_d3a]!=_d37[_d3a]){_d39=false;}}if(_d39){_d33[j]=_d38;}}}if(this.referenceIntegrity){var _d3b=_d33[j];if(this.isItem(_d3b)){this._addReferenceToMap(_d3b,item,key);}}}else{if(this.isItem(_d32)){if(this.referenceIntegrity){this._addReferenceToMap(_d32,item,key);}}}}}}}},_addReferenceToMap:function(_d3c,_d3d,_d3e){},getIdentity:function(item){var _d3f=this._features["dojo.data.api.Identity"];if(_d3f===Number){return item[this._itemNumPropName];}else{var _d40=item[_d3f];if(_d40){return _d40[0];}}return null;},fetchItemByIdentity:function(_d41){var item,_d42;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_cf6.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_d41});}else{this._loadInProgress=true;var _d43={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _d44=xhr.get(_d43);_d44.addCallback(function(data){var _d45=_d41.scope?_d41.scope:_cf6.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_d41.identity);if(_d41.onItem){_d41.onItem.call(_d45,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_d41.onError){_d41.onError.call(_d45,error);}}});_d44.addErrback(function(_d46){self._loadInProgress=false;if(_d41.onError){var _d47=_d41.scope?_d41.scope:_cf6.global;_d41.onError.call(_d47,_d46);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_d41.identity);if(_d41.onItem){_d42=_d41.scope?_d41.scope:_cf6.global;_d41.onItem.call(_d42,item);}}}}else{item=this._getItemByIdentity(_d41.identity);if(_d41.onItem){_d42=_d41.scope?_d41.scope:_cf6.global;_d41.onItem.call(_d42,item);}}},_getItemByIdentity:function(_d48){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_d48)){item=this._itemsByIdentity[_d48];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_d48)){item=this._arrayOfAllItems[_d48];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _d49=this._features["dojo.data.api.Identity"];if(_d49===Number){return null;}else{return [_d49];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_cf6.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _d4a={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _d4b=xhr.get(_d4a);_d4b.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_d4b.addErrback(function(_d4c){throw _d4c;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_cfd,_cfb);return _cfd;});},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(_d4d,lang,arr,df){var _d4e={};lang.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_d4d.global;f=df.lambda(f);var t=[],v,i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _d4e)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_d4d.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _d4e)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_d4d.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _d4e)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_d4d.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _d4e)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_d4d.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _d4e)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});return df;});},"viewer/animation/Blink":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/gui/helpers/css","../misc/enums","../misc/common/elementStyleContainer"],function(_d4f,_d50,_d51,_d52,_d53,_d54,_d55){return _d4f("viewer.animation.Blink",_d50,{_curBlink:null,_isExcuteBlink:false,constructor:function(_d56,_d57){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_execUpdate:function(){if(this._widget._convertToBool(this._animProps.blinkWhenExpressionIsTrue)==this._widget._convertToBool(this._animProps.reference)){this._isExcuteBlink=true;this._curBlink=this._animProps;}else{this._isExcuteBlink=false;this._curBlink=null;}var _d58=this._curBlink&&this._curBlink.blinkInvisible;if(_d58&&this._isExcuteBlink){this._widget._setBlinkInvisible(true,this._curBlink&&this._curBlink.blink?this._curBlink.blink:null);}else{this._widget._setBlinkInvisible(false,this._curBlink&&this._curBlink.blink?this._curBlink.blink:null);}this._widget._executeBlinks(false,false,false,_d58);},});});},"viewer/object/shape/Rectangle":function(){define(["dojo/_base/declare","../_base","../../animation/Position","../../misc/enums","dojo/text!./rectangle.html"],function(_d59,_d5a,_d5b,_d5c,_d5d){return _d59("viewer.object.shape.Rectangle",_d5a,{templateString:_d5d,caption:null,_mask:null,multiline:null,autoGrayOut:null,wrapText:null,autoFormat:null,align:null,autoScale:null,lazyTextRendering:null,curLineWeight:-1,buildRendering:function(){this.inherited(arguments);if(this._attr.caption&&this._attr._animations&&this._attr._animations.animationPosition){this._attr._animations.animationPosition.onVisibilityChange=this.positionVisibilityChange.bind(this);}if(this._attr.hideText){this._guiHelper.setAttribute(this._xText,"style","visibility:hidden;");}if(this._attr.engine==_d5c.EnumRuntimeScadaEngine.ArchestrA){var _d5e=this.id+"_TextClip";if(this._attr.border&&this._attr.border.width&&this.curLineWeight<0){this.curLineWeight=parseFloat(this._attr.border.width);}this._guiHelper.setAttribute(this._xTextClip,"id",_d5e);this._guiHelper.setAttribute(this._xText,"clip-path","url(#"+_d5e+")");}this.SetLetterSpacing(this._xText);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);},postCreate:function(){this.inherited(arguments);},_parseFont:function(){this.inherited(arguments);if(this._attr.font&&this._attr.font.decoration){this._guiHelper.setAttribute(this._xText,"text-decoration",this._attr.font.decoration);}},_setWidthAttr:function(v){var _d5f=0;if(parseFloat(v)<_d5f){v=_d5f;}var _d60=parseFloat(v)-parseFloat(this._attr.size.w);this._setGeometryValue(null,null,v,null);switch(this._attr.border.origin.style){case _d5c.EnumBorderStyle.NO_LINE:case _d5c.EnumBorderStyle.SOLIDE_LINE:case _d5c.EnumBorderStyle.DASHED_LINE:case _d5c.EnumBorderStyle.LONGDASH_LINE:case _d5c.EnumBorderStyle.SHORTDASH_LINE:case _d5c.EnumBorderStyle.DOTS_LINE:case _d5c.EnumBorderStyle.DASHDOTDASH_LINE:case _d5c.EnumBorderStyle.DASHDOTDOTDASH_LINE:this._guiHelper.setWidth(this.domNode,(parseFloat(v)+parseFloat(this._attr.border.width))+"px");break;case _d5c.EnumBorderStyle.ETCHED:case _d5c.EnumBorderStyle.RAISED:case _d5c.EnumBorderStyle.SUNKEN:this._guiHelper.setWidth(this.domNode,(parseFloat(v)-parseFloat(this._attr.border.width))+"px");break;}this._inflate();},_setHeightAttr:function(v){var _d61=0;if(parseFloat(v)<_d61){v=_d61;}var _d62=parseFloat(v)-parseFloat(this._attr.size.h);this._setGeometryValue(null,null,null,v);switch(this._attr.border.origin.style){case _d5c.EnumBorderStyle.NO_LINE:case _d5c.EnumBorderStyle.SOLIDE_LINE:case _d5c.EnumBorderStyle.DASHED_LINE:case _d5c.EnumBorderStyle.LONGDASH_LINE:case _d5c.EnumBorderStyle.SHORTDASH_LINE:case _d5c.EnumBorderStyle.DOTS_LINE:case _d5c.EnumBorderStyle.DASHDOTDASH_LINE:case _d5c.EnumBorderStyle.DASHDOTDOTDASH_LINE:this._guiHelper.setHeight(this.domNode,(parseFloat(v)+parseFloat(this._attr.border.width))+"px");break;case _d5c.EnumBorderStyle.ETCHED:case _d5c.EnumBorderStyle.RAISED:case _d5c.EnumBorderStyle.SUNKEN:this._guiHelper.setHeight(this.domNode,(parseFloat(v)-parseFloat(this._attr.border.width))+"px");break;}this._inflate();},_setCaptionAttr:function(v,ret){if(this._mask===null){this._mask=v;}if(this._attr.engine==_d5c.EnumRuntimeScadaEngine.ArchestrA){this._attr.caption=v;}else{if(typeof (ret)!="undefined"&&typeof (ret.quality)!="undefined"&&(ret.quality&255)<192){this._attr.caption="";for(var i=0;i<v.length;i++){this._attr.caption+="?";}}else{this._attr.caption=v;}}var _d63=this._guiHelper.getStrokeWidth(this._xComponent);this.lazyTextRendering=true;var prop=null;if(this._attr.engine==_d5c.EnumRuntimeScadaEngine.ArchestrA){var _d64=this._getCurLineWeight();_d64=_d64!=null&&_d64>=0?_d64:0;prop={rect:{w:this._attr.size.w-_d64,h:this._attr.size.h-_d64},offset:{x:this._inflatedPosition.factor+0.5*_d64,y:this._inflatedPosition.factor+0.5*_d64},align:this._attr.align,multiline:this._attr.multiline,alignVertical:this._attr.alignVertical,wrapText:this._attr.wrapText,font:this._getCurFontStyle(),border:_d63||0};this._xText=this._guiHelper.setText(this._xText,this._attr.caption,prop,true);}else{prop={rect:{w:this._attr.size.w,h:this._attr.size.h},align:this._attr.align,multiline:this._attr.multiline,wrapText:this._attr.wrapText,font:this._attr.font,border:_d63||0};this._xText=this._guiHelper.setText(this._xText,this._attr.caption,prop);}if(this._attr.hideText){dojo.style(this._xText,"visibility","hidden");}else{dojo.style(this._xText,"visibility","inline");}},_getMaskAttr:function(v){return this._mask;},_inflate:function(){if(!this._attr.border){return;}switch(this._attr.border.origin.style){case _d5c.EnumBorderStyle.NO_LINE:case _d5c.EnumBorderStyle.SOLIDE_LINE:case _d5c.EnumBorderStyle.DASHED_LINE:case _d5c.EnumBorderStyle.LONGDASH_LINE:case _d5c.EnumBorderStyle.SHORTDASH_LINE:case _d5c.EnumBorderStyle.DOTS_LINE:case _d5c.EnumBorderStyle.DASHDOTDASH_LINE:case _d5c.EnumBorderStyle.DASHDOTDOTDASH_LINE:this.parseInflate();this._guiHelper.setTop(this.domNode,this._inflatedPosition.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left+"px");this._setMatrixOrigin(this._inflatedPosition.left,this._inflatedPosition.top);var _d65=Math.abs((this._inflatedPosition.right-this._inflatedPosition.left))+"px";var _d66=Math.abs((this._inflatedPosition.bottom-this._inflatedPosition.top))+"px";this._guiHelper.setWidth(this.domNode,_d65);this._guiHelper.setHeight(this.domNode,_d66);this._guiHelper.setAttribute(this.domNode,"width",_d65);this._guiHelper.setAttribute(this.domNode,"height",_d66);this._guiHelper.setAttribute(this._xComponent,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this._xComponent,"height",this._attr.size.h+"px");this._guiHelper.setAttribute(this._xComponent,"x",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xComponent,"y",this._inflatedPosition.factor+"px");break;case _d5c.EnumBorderStyle.ETCHED:case _d5c.EnumBorderStyle.RAISED:case _d5c.EnumBorderStyle.SUNKEN:this.parseInflate();this._guiHelper.setAttribute(this.domNode,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this.domNode,"height",this._attr.size.h+"px");this._guiHelper.setAttribute(this._xComponent,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this._xComponent,"height",this._attr.size.h+"px");break;}},applyDisable:function(anim,_d67){if(this._attr._animations!=null&&anim!==this._attr._animations.command){return;}this.inherited(arguments);if(this.isDisabled()===false){this._guiHelper.setColor(this._xText,{color:this._attr.font?this._attr.font.fontColor:"rgb(0, 0, 0)",style:_d5c.EnumColorExStyle.SOLID},"color");}else{this._guiHelper.setColor(this._xText,{color:"rgb(212, 208, 200)",style:_d5c.EnumColorExStyle.SOLID},"color");}},applyOpacity:function(_d68){this.inherited(arguments);if(this._xText.nodeName==="foreignObject"){this._guiHelper.setOpacity(this._xText.childNodes[0],_d68);}else{this._guiHelper.setOpacity(this._xText,_d68);}},positionVisibilityChange:function(_d69){if(_d69===true){this._setCaptionAttr(this._attr.caption);}},propertyVisibleChange:function(){if(this.visible===true){this._setCaptionAttr(this._attr.caption);}},_updateStyles:function(_d6a){var _d6b=this.inherited(arguments);if(_d6b){var _d6c=this._getCurLineWeight();_d6c=_d6c!=null&&_d6c>=0?_d6c:0;var prop={rect:{w:this._attr.size.w-_d6c,h:this._attr.size.h-_d6c},offset:{x:this._inflatedPosition.factor+0.5*_d6c,y:this._inflatedPosition.factor+0.5*_d6c},align:this._attr.align,multiline:this._attr.multiline,alignVertical:this._attr.alignVertical,wrapText:this._attr.wrapText||this._attr.wraptext,font:this._getCurFontStyle()};this._xText=this._guiHelper.setText(this._xText,this._attr.caption,prop,this._attr.engine==_d5c.EnumRuntimeScadaEngine.ArchestrA);this._updateTextClip(this._xText);}return _d6b;},setLineColor:function(_d6d){this.inherited(arguments);this._updateTextClip();},_updateRectSize:function(_d6e,_d6f){this.inherited(arguments);this._updateTextClip();},_updateLineWeightAndStyle:function(_d70){this.inherited(arguments);if(_d70!=null){if(_d70.lineWeight!=null){this.curLineWeight=_d70.lineWeight;}else{this.curLineWeight=this._getLineWeight();}this._updateTextClip();}},parseInflate:function(){this.inherited(arguments);this._updateTextClip();},_updateTextClip:function(_d71){if(this._attr.engine==_d5c.EnumRuntimeScadaEngine.ArchestrA){this._xTextClipRect.setAttribute("x",this._inflatedPosition.factor+0.5*this.curLineWeight);this._xTextClipRect.setAttribute("y",this._inflatedPosition.factor+0.5*this.curLineWeight);this._xTextClipRect.setAttribute("height",(this._attr.size.h-this.curLineWeight)<0?0:this._attr.size.h-this.curLineWeight);this._xTextClipRect.setAttribute("width",(this._attr.size.w-this.curLineWeight)<0?0:this._attr.size.w-this.curLineWeight);}},getMultiLineAttr:function(){return this._attr.multiLine;}});});},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(_d72,_d73){return _d72("dojox.mobile.EdgeToEdgeList",_d73,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_d74,_d75,_d76,_d77){var _d78=_d75("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_d79){if(this._hash[_d79.id]){throw new Error("Tried to register widget with id=="+_d79.id+" but that id is already registered");}this._hash[_d79.id]=_d79;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_d7a){_d7a=_d7a||_d76.global;var i=0,id;for(id in this._hash){func.call(_d7a,this._hash[id],i++,this._hash);}return this;},filter:function(_d7b,_d7c){_d7c=_d7c||_d76.global;var res=new _d78(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_d7b.call(_d7c,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _d78(),id,_d7d;for(id in this._hash){_d7d=this._hash[id];if(_d7d.declaredClass==cls){res.add(_d7d);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_d7e){return _d74.map(this.toArray(),func,_d7e);},every:function(func,_d7f){_d7f=_d7f||_d76.global;var x=0,i;for(i in this._hash){if(!func.call(_d7f,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_d80){_d80=_d80||_d76.global;var x=0,i;for(i in this._hash){if(func.call(_d80,this._hash[i],x++,this._hash)){return true;}}return false;}});_d74.forEach(["forEach","filter","byClass","map","every","some"],function(func){_d77[func]=_d78.prototype[func];});return _d78;});},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(_d81,_d82,_d83){var _d84={length:0,hash:{},initialView:null,add:function(view){this.hash[view.id]=view;this.length++;},remove:function(id){if(this.hash[id]){delete this.hash[id];this.length--;}},getViews:function(){var arr=[];for(var i in this.hash){arr.push(this.hash[i]);}return arr;},getParentView:function(view){for(var v=view.getParent();v;v=v.getParent()){if(_d82.contains(v.domNode,"mblView")){return v;}}return null;},getChildViews:function(_d85){return _d81.filter(this.getViews(),function(v){return this.getParentView(v)===_d85;},this);},getEnclosingView:function(node){for(var n=node;n&&n.tagName!=="BODY";n=n.parentNode){if(n.nodeType===1&&_d82.contains(n,"mblView")){return _d83.byNode(n);}}return null;},getEnclosingScrollable:function(node){for(var w=_d83.getEnclosingWidget(node);w;w=w.getParent()){if(w.scrollableParams&&w._v){return w;}}return null;}};return _d84;});},"viewer/screens/Dialog":function(){define(["dojo/_base/declare","./Popup","dojo/dom-construct"],function(_d86,_d87,_d88){return _d86("viewer.screens.Dialog",_d87,{protectiveLayer:null,protectiveLayerPositionRef:null,startup:function(){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},});});},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _d89=function(str,map){var _d8a,_d8b;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_d8a=map._encCache.mapper;_d8b=map._encCache.regexp;}else{_d8a={};_d8b=["["];var i;for(i=0;i<map.length;i++){_d8a[map[i][0]]="&"+map[i][1]+";";_d8b.push(map[i][0]);}_d8b.push("]");_d8b=new RegExp(_d8b.join(""),"g");map._encCache={mapper:_d8a,regexp:_d8b,length:map.length};}str=str.replace(_d8b,function(c){return _d8a[c];});return str;};var _d8c=function(str,map){var _d8d,_d8e;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_d8d=map._decCache.mapper;_d8e=map._decCache.regexp;}else{_d8d={};_d8e=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_d8e.push("|");}_d8d[e]=map[i][0];_d8e.push(e);}_d8e.push(")");_d8e=new RegExp(_d8e.join(""),"g");map._decCache={mapper:_d8d,regexp:_d8e,length:map.length};}str=str.replace(_d8e,function(c){return _d8d[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_d89(str,dhe.html);str=_d89(str,dhe.latin);}else{str=_d89(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_d8c(str,dhe.html);str=_d8c(str,dhe.latin);}else{str=_d8c(str,m);}}return str;};return dhe;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window","dojo/query","dojo/NodeList-traverse"],function(dojo,_d8f,dom,_d90,lang,on,has,_d91,_d92,win,_d93,_d94){var ios4=has("ios")<5;var _d95=has("pointer-events")||has("MSPointer"),_d96=(function(){var _d97={};for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){_d97[type]=has("MSPointer")?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;}return _d97;})();var _d98=has("touch-events");var _d99,_d9a,_d9b,_d9c,_d9d,_d9e,_d9f,_da0;var _da1;function _da2(_da3,_da4,_da5){if(_d95&&_da5){return function(node,_da6){return on(node,_da5,_da6);};}else{if(_d98){return function(node,_da7){var _da8=on(node,_da4,_da7),_da9=on(node,_da3,function(evt){if(!_da1||(new Date()).getTime()>_da1+1000){_da7.call(this,evt);}});return {remove:function(){_da8.remove();_da9.remove();}};};}else{return function(node,_daa){return on(node,_da3,_daa);};}}};function _dab(node){do{if(node.dojoClick){return node.dojoClick;}}while(node=node.parentNode);};function _dac(e,_dad,_dae){_d9a=!e.target.disabled&&_dab(e.target);if(_d9a){_d9b=e.target;_d9c=e.touches?e.touches[0].pageX:e.clientX;_d9d=e.touches?e.touches[0].pageY:e.clientY;_d9e=(typeof _d9a=="object"?_d9a.x:(typeof _d9a=="number"?_d9a:0))||4;_d9f=(typeof _d9a=="object"?_d9a.y:(typeof _d9a=="number"?_d9a:0))||4;if(!_d99){_d99=true;win.doc.addEventListener(_dad,function(e){_d9a=_d9a&&e.target==_d9b&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-_d9c)<=_d9e&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-_d9d)<=_d9f;},true);win.doc.addEventListener(_dae,function(e){if(_d9a){_da0=(new Date()).getTime();var _daf=e.target;if(_daf.tagName==="LABEL"){_daf=dom.byId(_daf.getAttribute("for"))||_daf;}setTimeout(function(){on.emit(_daf,"click",{bubbles:true,cancelable:true,_dojo_click:true});});}},true);function _db0(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_da0+1000&&!(e.target.tagName=="INPUT"&&_d90.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){if(e.target.type=="checkbox"&&e.target.className=="dojoxGridInput"){var node=e.target,_db1=dojo.query(node).closest(".dojoxGridRow")[0],_db2=dojo.query(node).closest(".dojoxGrid")[0],_db3=dijit.byNode(_db2),item=_db3.getItem(_db1.gridRowIndex),_db4=(dojo.query(_db2).closest(".ma_view_alarm")).length>0?"sel":"visible";store_value=_db3.store.getValue(item,_db4);_db3.beginUpdate();_db3.store.setValue(item,_db4,!store_value);_db3.endUpdate();while(_db3.updating){}_db3.updateRow(_db1.gridRowIndex);}e.preventDefault();}}},true);};_db0("click");_db0("mousedown");_db0("mouseup");}}};var _db5;if(has("touch")){if(_d95){_d92(function(){win.doc.addEventListener(_d96.down,function(evt){_dac(evt,_d96.move,_d96.up);},true);});}else{_d92(function(){_db5=win.body();win.doc.addEventListener("touchstart",function(evt){_da1=(new Date()).getTime();var _db6=_db5;_db5=evt.target;on.emit(_db6,"dojotouchout",{relatedTarget:_db5,bubbles:true});on.emit(_db5,"dojotouchover",{relatedTarget:_db6,bubbles:true});_dac(evt,"touchmove","touchend");},true);function _db7(evt){var _db8=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_db8.touches=evt.touches;_db8.altKey=evt.altKey;_db8.changedTouches=evt.changedTouches;_db8.ctrlKey=evt.ctrlKey;_db8.metaKey=evt.metaKey;_db8.shiftKey=evt.shiftKey;_db8.targetTouches=evt.targetTouches;}return _db8;};on(win.doc,"touchmove",function(evt){_da1=(new Date()).getTime();var _db9=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_db9){if(_db5!==_db9){on.emit(_db5,"dojotouchout",{relatedTarget:_db9,bubbles:true});on.emit(_db9,"dojotouchover",{relatedTarget:_db5,bubbles:true});_db5=_db9;}on.emit(_db9,"dojotouchmove",_db7(evt));}});on(win.doc,"touchend",function(evt){_da1=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_db7(evt));});});}}var _dba={press:_da2("mousedown","touchstart",_d96.down),move:_da2("mousemove","dojotouchmove",_d96.move),release:_da2("mouseup","dojotouchend",_d96.up),cancel:_da2(_d91.leave,"touchcancel",_d95?_d96.cancel:null),over:_da2("mouseover","dojotouchover",_d96.over),out:_da2("mouseout","dojotouchout",_d96.out),enter:_d91._eventHandler(_da2("mouseover","dojotouchover",_d96.over)),leave:_d91._eventHandler(_da2("mouseout","dojotouchout",_d96.out))};1&&(dojo.touch=_dba);return _dba;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(g,lang,m,_dbb){var _dbc=g.gradutils={};function _dbd(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var stop=c[i];if(stop.offset>=o){if(i){var prev=c[i-1];return _dbb.blendColors(new _dbb(prev.color),new _dbb(stop.color),(o-prev.offset)/(stop.offset-prev.offset));}return stop.color;}}return c[len-1].color;};_dbc.getColor=function(fill,pt){var o;if(fill){switch(fill.type){case "linear":var _dbe=Math.atan2(fill.y2-fill.y1,fill.x2-fill.x1),_dbf=m.rotate(-_dbe),_dc0=m.project(fill.x2-fill.x1,fill.y2-fill.y1),p=m.multiplyPoint(_dc0,pt),pf1=m.multiplyPoint(_dc0,fill.x1,fill.y1),pf2=m.multiplyPoint(_dc0,fill.x2,fill.y2),_dc1=m.multiplyPoint(_dbf,pf2.x-pf1.x,pf2.y-pf1.y).x;o=m.multiplyPoint(_dbf,p.x-pf1.x,p.y-pf1.y).x/_dc1;break;case "radial":var dx=pt.x-fill.cx,dy=pt.y-fill.cy;o=Math.sqrt(dx*dx+dy*dy)/fill.r;break;}return _dbd(o,fill.colors);}return new _dbb(fill||[0,0,0,0]);};_dbc.reverse=function(fill){if(fill){switch(fill.type){case "linear":case "radial":fill=lang.delegate(fill);if(fill.colors){var c=fill.colors,l=c.length,i=0,stop,n=fill.colors=new Array(c.length);for(;i<l;++i){stop=c[i];n[i]={offset:1-stop.offset,color:stop.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return fill;};return _dbc;});},"viewer/animation/TextStyle":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","viewer/misc/gui/helpers/svg","../misc/enums","../misc/common/elementStyleContainer"],function(_dc2,_dc3,_dc4,_dc5,_dc6,_dc7){return _dc2("viewer.animation.TextStyle",_dc3,{_node:null,_curStyle:null,_component:null,_curExex:true,constructor:function(_dc8,_dc9){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_execUpdate:function(){this._curStyle=this.operatorHandle(this._animProps.limitExpr,this._animProps.fonts);var _dca=this._widget._updateStyles();this._widget._executeBlinks(_dca);},onChangeProperty:function(prop){if(prop.propName!=="changeLimit"){return;}for(var i=0;i<this._animProps.fonts.length;i++){if(this._animProps.fonts[i].changeLimit.id===prop.id){this._animProps.fonts[i].value=prop.value;break;}}this._animProps.fonts.sort(function(a,b){return a.value-b.value;});}});});},"viewer/main":function(){require(["dojo/ready","dojo/parser","viewer/misc/common/textMetrics","viewer/misc/gui/vk","viewer/object/libraries/CustomWidget","viewer/misc/enums","dojox/xml/DomParser","dojox/xml/parser","dijit/dijit","viewer/Viewer","viewer/object/action/RadioButton","viewer/object/shape/Rectangle","viewer/object/shape/Ellipse","viewer/object/Group","viewer/screens/Dialog","viewer/object/shape/ClosedPolygon","viewer/object/shape/Line","viewer/object/shape/OpenPolygon","viewer/object/shape/Pie","viewer/object/shape/RoundedRectangle","viewer/object/action/Text","viewer/object/action/TextBox","viewer/object/action/ComboBox","viewer/object/action/CheckBox","viewer/object/action/Button","viewer/object/action/PushButton","viewer/object/action/ListBox","viewer/object/action/SmartMessage","viewer/object/data/AlarmEvent","viewer/object/data/Trend","viewer/object/data/Grid","viewer/animation/Command","viewer/misc/gesture/_base","viewer/misc/gui/helpers/svg","viewer/object/libraries/LinkedPicture","viewer/misc/gui/InputWindow","viewer/misc/gui/LogonWindow","viewer/misc/common/_PrepareTag","viewer/object/action/CheckRadioBase","viewer/object/shape/OpenBezierCurve","viewer/object/shape/ClosedBezierCurve","viewer/object/action/ComboBoxSimple","viewer/object/action/ComboBoxDropDown","viewer/object/action/ListBox","viewer/object/action/EditBox","viewer/object/action/Calendar"],function(_dcb,_dcc,_dcd,vk,_dce,_dcf){_dcb(80,function(){_dcd.startup();setInterval(function(){var _dd0=dojo.cookie("AuthenticationToken");if(typeof _dd0==="string"&&_dd0.length>0&&_dd0!==window.sma.token){window.sma.logon(_dd0);return;}},10000);if(typeof (window.sma)==="undefined"){window.sma={inputWithFocus:null,zoomMode:_dcf.EnumZoomMode.AUTO_SCREEN_SCALING,temp:{token:null}};}else{window.sma.inputWithFocus=null;window.sma.zoomMode=_dcf.EnumZoomMode.AUTO_SCREEN_SCALING;if(typeof window.sma.temp==="undefined"){window.sma.temp={token:null};}}if(typeof (window.webGraphicsApi)==="object"){window.sma.zoomMode=_dcf.EnumZoomMode.SINGLE_SCREEN_SCALING;}vk.setWidigetConstructor(_dce);if(!services&&Services){services=new Services();}else{if(!services){eval("console.error('The services not exists!!!')");}}});});},"viewer/misc/gui/inputCalendar":function(){define(["dojo/_base/declare","./_base","../../misc/enums","dojo/text!./inputCalendar.html","./helpers/css","dojo/touch"],function(_dd1,_dd2,_dd3,_dd4,_dd5,_dd6){return _dd1("viewer.misc.gui.InputWindow",_dd2,{templateString:_dd4,inputEvent:null,onWrite:null,onCancel:null,mask:null,currentValue:null,range:null,_currentDateTimeAsDefault:null,_calendar:null,_externalNodes:[],self:null,startup:function(){self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this.inherited(arguments);dojo.connect(this._dlgContent.parentNode,_dd6.press,function(evt){self.close();});dojo.connect(this._dlgContent,_dd6.press,function(evt){event.stopPropagation();});this._initIFrame();dojo.fadeIn({node:this._dlgContent,duration:100}).play();},_initIFrame:function(){this._calendarIFrame.contentDocument.head.innerHTML="<link rel=\"stylesheet\" type=\"text/css\" href=\"sma/apis/resources/libs/kendo/css/kendo.common-material.min.css\" />"+"<link rel=\"stylesheet\" type=\"text/css\" href=\"sma/apis/resources/libs/kendo/css/kendo.material.min.css\" />"+"<link rel=\"stylesheet\" type=\"text/css\" href=\"sma/apis/resources/libs/kendo/css/kendo.material.mobile.min.css\" />";this._calendarIFrame.contentDocument.body.innerHTML="<div id=\"_calendar\"></div>";var css=this._calendarIFrame.contentDocument.createElement("style");css.setAttribute("type","text/css");css.innerHTML="body { margin:0; height:250px; overflow:hidden;}";css.innerHTML+="#_calendar { font:75% Arial, Helvetica, sans-serif; }";css.innerHTML+=".k-month { font:75% Arial, Helvetica, sans-serif; }";css.innerHTML+=".k-year { font:100% Arial, Helvetica, sans-serif; }";css.innerHTML+=".k-decade { font:100% Arial, Helvetica, sans-serif; }";css.innerHTML+=".k-century { font:100% Arial, Helvetica, sans-serif; }";this._calendarIFrame.contentDocument.head.appendChild(css);this._loadJQueryToFrame();},_loadJQueryToFrame:function(){var ej=this._calendarIFrame.contentDocument.createElement("script");ej.setAttribute("type","text/javascript");if(ej.readyState){ej.onreadystatechange=function(){if(ej.readyState=="loaded"||ej.readState=="complete"){self._loadKendoToFrame();}};}else{ej.onload=function(){self._loadKendoToFrame();};}ej.src="sma/apis/resources/libs/jquery_3_2_1/dist/jquery.min.js";this._calendarIFrame.contentDocument.head.appendChild(ej);},_loadKendoToFrame:function(){var es=this._calendarIFrame.contentDocument.createElement("script");es.setAttribute("type","text/javascript");if(es.readyState){es.onreadystatechange=function(){if(es.readyState=="loaded"||es.readState=="complete"){self._initCalendar();}};}else{es.onload=function(){self._initCalendar();};}es.src="sma/apis/resources/libs/kendo/js/kendo.all.min.js";this._calendarIFrame.contentDocument.head.appendChild(es);},_initCalendar:function(){var _dd7=this._calendarIFrame.contentWindow;var _dd8=this._calendarIFrame.contentDocument;_dd7.jQuery("#_calendar").kendoCalendar({});var _dd9=_dd7.jQuery("#_calendar").data("kendoCalendar");if(this._currentDateTimeAsDefault){_dd9.value(new Date());}else{_dd9.value(new Date(Date.parse(this.currentValue)));}},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.onWrite){var _dda=this._calendarIFrame.contentWindow.jQuery("#_calendar").data("kendoCalendar").value();var _ddb=_dda.toLocaleDateString()+" 00:00:00";this.onWrite(_ddb);}},_onKeyPress:function(evt){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;}},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},setTypeAndRangeAttr:function(opts){},setPromptMessage:function(opts){}});});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_ddc,lang,_ddd,_dde,_ddf,on,_de0,_de1,_de2,_de3,_de4,_de5){var _de6=_ddc("dijit.DialogUnderlay",[_de1,_de2],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_dde.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_de7){this.node.className="dijitDialogUnderlay "+_de7;this._set("class",_de7);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _de8=_de0.getBox(this.ownerDocument);os.top=_de8.t+"px";os.left=_de8.l+"px";is.width=_de8.w+"px";is.height=_de8.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _de3(this.domNode);var win=_de0.get(this.ownerDocument);this._modalConnects=[_de4.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_de6.show=function(_de9,_dea){var _deb=_de6._singleton;if(!_deb||_deb._destroyed){_deb=_de5._underlay=_de6._singleton=new _de6(_de9);}else{if(_de9){_deb.set(_de9);}}_ddf.set(_deb.domNode,"zIndex",_dea);if(!_deb.open){_deb.show();}};_de6.hide=function(){var _dec=_de6._singleton;if(_dec&&!_dec._destroyed){_dec.hide();}};return _de6;});},"dojox/gauges/GlossySemiCircularGauge":function(){define(["dojo/_base/declare","dojo/_base/Color","./GlossyCircularGaugeBase"],function(_ded,_dee,_def){return _ded("dojox.gauges.GlossySemiCircularGauge",[_def],{_designWidth:381.25,_designHeight:221.25,_designCx:190.6675,_designCy:185.87665,_designTextIndicatorX:190.6675,_designTextIndicatorY:145.87665,constructor:function(){this.min=0;this.max=100;this.startAngle=-91.5;this.endAngle=91.5;},drawBackground:function(_df0){var _df1=_dee.blendColors(new _dee(this.color),new _dee("white"),0.4);var _df2=_dee.blendColors(new _dee(this.color),new _dee("white"),0.8);var _df3=Math.min((this.width/this._designWidth),(this.height/this._designHeight));var _df4={xx:_df3,xy:0,yx:0,yy:_df3,dx:-23.33928*_df3+(this.width-_df3*this._designWidth)/2,dy:-483.30859*_df3+(this.height-_df3*this._designHeight)/2};if(this._gaugeBackground){this._gaugeBackground.setTransform(_df4);return;}this._gaugeBackground=_df0.createGroup();this._gaugeBackground.setTransform(_df4);this._gaugeBackground.createPath({path:"M0 0 C0.023 0.892 0.037 9.147 0.045 15.97 C-0.349 98.05 -67.016 164.455 -149.182 164.427 C-231.347 164.398 -297.969 97.949 -298.307 15.869 C-298.299 9.081 -298.285 0.884 -298.262 -0.006 C-298.119 -5.424 -293.686 -9.742 -288.265 -9.742 L-9.996 -9.742 C-4.574 -9.742 -0.139 -5.42 0 0"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:400.74198,dy:690.00586}).setFill(this.color);this._gaugeBackground.createPath({path:"M451.297 436.5 C451.333 437.807 451.355 449.118 451.354 450.434 L451.354 450.527 C451.329 526.644 389.604 588.327 313.487 588.302 C237.372 588.275 175.688 526.551 175.713 450.434 C175.713 450.403 175.735 437.776 175.771 436.5 L451.297 436.5 Z"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-177.58928,dy:1234.05859}).setFill({type:"linear",x1:175.688,y1:390.95189,x2:175.688,y2:474.45676,colors:[{offset:0,color:_df1},{offset:1,color:this.color}]});this._gaugeBackground.createPath({path:"M451.321 453.375 C449.778 528.175 388.655 588.327 313.491 588.302 C238.359 588.276 177.295 528.135 175.753 453.377 C217.829 442.046 266.246 464.646 315.36 464.646 C364.489 464.646 409.364 442.041 451.321 453.375"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-177.58928,dy:1234.05859}).setFill({type:"linear",x1:175.75301,y1:442.04099,x2:175.75301,y2:588.32703,colors:[{offset:0,color:this.color},{offset:1,color:_df2}]});this._gaugeBackground.createPath({path:"M0 0 C-1.543 74.8 -62.666 134.952 -137.83 134.927 C-212.962 134.901 -274.026 74.76 -275.568 0.002 C-233.492 -11.329 -185.075 11.271 -135.961 11.271 C-86.832 11.271 -41.957 -11.334 0 0"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:386.81123,dy:667.59241}).setFill([255,255,255,0.12157]);},drawForeground:function(_df5){var _df6=Math.min((this.width/this._designWidth),(this.height/this._designHeight));var _df7={xx:_df6,xy:0,yx:0,yy:_df6,dx:(-160)*_df6+(this.width-_df6*this._designWidth)/2,dy:(-264.5)*_df6+(this.height-_df6*this._designHeight)/2};var _df8=_dee.blendColors(new _dee(this.color),new _dee("white"),0.4);var _df9=_dee.blendColors(new _dee(this.color),new _dee("white"),0.8);if(this._foreground){this._foreground.setTransform(_df7);return;}this._foreground=_df5.createGroup();this._foreground.setTransform(_df7);var _dfa=this._foreground.createGroup().setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-43.30358,dy:1015.57642});_dfa.createPath({path:"M0 0 C0.004 -12.579 -10.189 -22.779 -22.768 -22.784 C-35.349 -22.788 -45.549 -12.594 -45.553 -0.016 L-45.553 0 C-45.558 12.579 -35.363 22.779 -22.783 22.784 C-10.205 22.788 -0.004 12.594 0 0.015 L0 0 Z"}).setTransform({xx:1,xy:0,yx:0,yy:1,dx:336.31049,dy:451.43359}).setFill(this.color);_dfa.createPath({path:"M333.443 451.434 C333.446 440.438 324.537 431.523 313.541 431.519 C302.546 431.515 293.63 440.425 293.626 451.42 L293.626 451.434 C293.622 462.429 302.532 471.345 313.527 471.349 C324.523 471.353 333.439 462.442 333.443 451.447 L333.443 451.434 Z"}).setFill({type:"linear",x1:293.62201,y1:431.51501,x2:293.62201,y2:451.43401,colors:[{offset:0,color:_df8},{offset:1,color:this.color}]});_dfa.createPath({path:"M333.438 451.858 C333.215 462.663 324.386 471.353 313.528 471.349 C302.675 471.345 293.854 462.658 293.632 451.858 C299.709 450.222 306.702 453.486 313.799 453.486 C320.895 453.486 327.377 450.221 333.438 451.858"}).setFill({type:"linear",x1:293.63199,y1:450.22101,x2:293.63199,y2:471.353,colors:[{offset:0,color:this.color},{offset:1,color:_df9}]});_dfa.createPath({path:"M0 0 C-0.223 10.805 -9.052 19.494 -19.909 19.49 C-30.763 19.486 -39.583 10.799 -39.806 0 C-33.729 -1.636 -26.735 1.628 -19.639 1.628 C-12.543 1.628 -6.061 -1.638 0 0"}).setTransform({xx:1,xy:0,yx:0,yy:1,dx:333.4375,dy:451.8584}).setFill([255,255,255,0.12157]);}});});},"viewer/misc/common/textMetrics":function(){define([],function(){var _dfb=function(){};var _dfc=null,_dfd=null,_dfe=null;_dfb.startup=function(){_dfc=document.getElementById("_textMetrics");_dfd=_dfc.getContext("2d");_dfd.textBaseline="top";_dfd.fillStyle="blue";};_dfb.textWidth=function(text,font){var w;if(!_dfd){return 0;}_dfd.font=font;w=_dfd.measureText(text).width;return w;};_dfb.textSize=function(text,font,_dff,_e00){var w=0,h;h=NaN;var _e01=/\r\n|\r|\n|\n\n/g;var _e02=_e00?1:text.split(_e01).length;var _e03=_e00?text:text.split(_e01);if(_e02>1){for(i=0;i<_e03.length;i++){var _e04=_dfb.textWidth(_e03[i],font);if(w<_e04){w=_e04;}}}else{w=_dfb.textWidth(text,font);}if(_dfe===null){_dfe=[];}var key=typeof font=="string"?font.toLowerCase().replace(/\s/g,""):font;for(var i=0;i<_dfe.length;i++){if(_dfe[i].font===key){h=_dfe[i].height;break;}}if(isNaN(h)){var _e05=document.createElement("div");_e05.innerHTML="My";var _e06="visibility:hidden;font: "+font+";";if(_dff){_e06+="margin:0;padding:0;border-width:0px;";}_e05.setAttribute("style",_e06);document.body.appendChild(_e05);h=_e05.offsetHeight;_e05.innerHTML=null;document.body.removeChild(_e05);_dfe.push({"font":key,"height":h});}return {"w":w,"h":h*_e02,"lineCounts":_e02};};return _dfb;});},"ma/view/AlarmConf":function(){define(["dojo/_base/declare","./_base","dojo/text!./templates/alarmConf.html","dojox/mobile/ScrollableView","dojox/mobile/EdgeToEdgeList","dojox/mobile/ListItem","dojox/mobile/Heading","../widget/SwitchEx"],function(_e07,Base,_e08){return _e07("ma.view.AlarmConf",Base,{templateString:_e08,columns:null,settings:null,constructor:function(){},startup:function(){this.inherited(arguments);for(var i=0;i<this.columns.length;++i){if(this.columns[i].name=="sel"){continue;}li=document.createElement("li");dojo.attr(li,"dojotype","dojox.mobile.ListItem");li.innerHTML=this.columns[i].label+"<div id=\"_x_"+this.columns[i].name+"\" dojotype=\"ma.widget.SwitchEx\" value=\"on\" class=\"confRightOnOffButton\"></div>";this.scrollView.appendChild(li);}dojo.style(this.scrollView,"display","none");dojox.mobile.parser.parse(this.containerAlarmConf);dojo.style("_x_alarmToolBarSettings","width",this.get("width")+"px");for(var i=0;i<this.columns.length;++i){var _e09=dijit.byId("_x_"+this.columns[i].name);if(_e09==null){continue;}_e09.parentAlarmConfig=this;_e09.alarmColumnId=i;dojo.style(_e09.domNode,"position","absolute");dojo.connect(_e09,"onStateChanged",dojo.hitch(_e09,function(_e0a){var _e0b=this.parentAlarmConfig.settings.alarmColumns;var _e0c=this.parentAlarmConfig.columns[this.alarmColumnId];var _e0d=0;for(;_e0d<_e0b.length;++_e0d){if(_e0c.name==_e0b[_e0d].name){break;}}if(_e0a=="on"){if(_e0d>=_e0b.length){_e0b.push(_e0c);dojo.cookie("_x_config",dojo.toJson(this.parentAlarmConfig.settings),{expires:30});}}else{if(_e0d<_e0b.length){_e0b.splice(_e0d,1);dojo.cookie("_x_config",dojo.toJson(this.parentAlarmConfig.settings),{expires:30});}}}));}},MakeLayout:function(){this.inherited(arguments);dojo.style("_x_alarmToolBarSettings","width",this.getWidth()+"px");},Resize:function(){this.MakeLayout();},onShow:function(){dojo.style(this.domNode,"display","block");this.settings=dojo.fromJson(dojo.cookie("_x_config"));var tmp=this.settings.alarmColumns.slice(0);for(var i=0;i<this.columns.length;++i){var _e0e=dijit.byId("_x_"+this.columns[i].name);if(_e0e==null){continue;}_e0e.set("value","off");}for(var i=0;i<tmp.length;++i){var _e0e=dijit.byId("_x_"+tmp[i].name);if(_e0e==null){continue;}_e0e.set("value","on");}dojo.style(this.scrollView,"display","block");this.LoadCompleted();},onHide:function(){dojo.style(this.domNode,"display","none");}});});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_e0f,_e10,_e11,lang,on,has,_e12,_e13){var _e14=_e10("dijit._TemplatedMixin",_e13,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _e15=this.declaredClass,_e16=this;return _e12.substitute(tmpl,this,function(_e17,key){if(key.charAt(0)=="!"){_e17=lang.getObject(key.substr(1),false,_e16);}if(typeof _e17=="undefined"){throw new Error(_e15+" template:"+key);}if(_e17==null){return "";}return key.charAt(0)=="!"?_e17:_e17.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_e0f(this.templatePath,{sanitize:true});}var _e18=_e14.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_e18)){node=_e11.toDom(this._stringRepl(_e18),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_e18);}}else{node=_e18.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_e19){var dest=this.containerNode;if(_e19&&dest){while(_e19.hasChildNodes()){dest.appendChild(_e19.firstChild);}}}});_e14._templateCache={};_e14.getCachedTemplate=function(_e1a,_e1b,doc){var _e1c=_e14._templateCache;var key=_e1a;var _e1d=_e1c[key];if(_e1d){try{if(!_e1d.ownerDocument||_e1d.ownerDocument==(doc||document)){return _e1d;}}catch(e){}_e11.destroy(_e1d);}_e1a=_e12.trim(_e1a);if(_e1b||_e1a.match(/\$\{([^\}]+)\}/g)){return (_e1c[key]=_e1a);}else{var node=_e11.toDom(_e1a,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_e1a);}return (_e1c[key]=node);}};if(has("ie")){on(window,"unload",function(){var _e1e=_e14._templateCache;for(var key in _e1e){var _e1f=_e1e[key];if(typeof _e1f=="object"){_e11.destroy(_e1f);}delete _e1e[key];}});}return _e14;});},"viewer/object/action/ComboBoxDropDown":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","dojo/dom-construct","../../misc/gui/OutputWindow","../../server/serverEvents","../../misc/enums","dojo/text!./comboBoxDropDown.html"],function(_e20,_e21,_e22,on,_e23,_e24,_e25,_e26,_e27){return _e20("viewer.object.action.ComboBoxDropDown",_e21,{templateString:_e27,_currentSelectedIndex:-1,_fieldId:null,_isFirstDSEnqueue:true,_clickable:true,_lastComboPositionValue:null,_originalHeight:null,_inputComponent:null,_selectComponent:null,_maskComponent:null,_maxOptionShowNumber:15,buildRendering:function(){var _e28,self;if(!this._attr.colorAdvanced){this._attr.colorAdvanced=this._attr.background.color;}this.inherited(arguments);if(this._attr.dataSourceType!=_e26.EnumComboBoxDataSourceType.STATIC_LABEL&&this._attr.dataSourceType!=_e26.EnumComboBoxDataSourceType.DATABASE&&this._attr.dataSourceType!=_e26.EnumComboBoxDataSourceType.ARRAY_TAG){return;}self=this;this._inputComponent=this._xComponent.childNodes[1];this._selectComponent=this._xComponent.childNodes[3];this._maskComponent=this._xComponent.childNodes[5];on(this._xComponent,_e22.press,function(evt){evt.stopPropagation();});on(this._selectComponent,"change",function(evt){self._onChangeSelection(evt);});on(this._selectComponent,"click",function(evt){self._onClick_Select(evt);});on(this._selectComponent,"blur",function(evt){self._onBlur_Select(evt);});on(this._inputComponent,"blur",function(evt){self._onBlur_Input(evt);});on(this._maskComponent,"click",function(evt){self._onClick_Mask(evt);});this._populate();this._initial();},startup:function(){this.inherited(arguments);},_populate:function(){var i=0,_e29={};if(!this._attr.itemList){return;}for(i=0;i<this._attr.itemList.length;i++){_e29[this._attr.itemList[i]]=i;}if(this._attr.sort===1){this._attr.itemList.sort(function(a,b){return a.localeCompare(b);});this._attr.itemTypeList.sort(function(a,b){return a.captionField.localeCompare(b.captionField);});}var _e2a=this._selectComponent.selectedIndex;this._selectComponent.options.length=0;for(i=0;i<this._attr.itemList.length;i++){option=document.createElement("option");option.text=this._attr.itemList[i];option.value=this._attr.itemTypeList[i].valueField;this._selectComponent.add(option);}this._selectComponent.selectedIndex=_e2a;if(!(this.isDisabled()===true)&&!(this._securitySystem.isAuthorized(this._attr.security)===false)){this._onChangeSelection(null);}},_onChangeSelection:function(evt){var _e2b=0,_e2c=null,_e2d=null;if(!this.getParentScreen()){setTimeout(function(){this._onChangeSelection(null);}.bind(this),0);return;}if(!this._xComponent||this._xComponent.length===0||this._selectComponent.selectedIndex<0){return;}if(this.isDisabled()===true||this._securitySystem.isAuthorized(this._attr.security)===false){if(evt===null){return;}_e2c=_e23.create("div");_e23.place(_e2c,dojo.body(),"first");_e2d=new _e24({"onClose":function(){}},_e2c);_e2d._setMessageAttr("Your security group does not allow you to change this object value.");_e2d.startup();return;}_e2b=this._selectComponent.selectedIndex;this._inputComponent.value=this._selectComponent.options[_e2b].text;if(this._attr.label&&this._attr.label.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._selectComponent.options[_e2b].text);this.intervalCallRequest();}if(this._attr.comboPosition&&this._attr.comboPosition.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.comboPosition.id,this._selectComponent.options[_e2b].value);this.intervalCallRequest();}},_initial:function(){if(!this.getParentScreen()||!this._xComponent.clientHeight){setTimeout(function(){this._initial(null);}.bind(this),0);return;}this._originalHeight=this._xComponent.style.height;this._inputComponent.style.display="none";this._maskComponent.style.width=(this._attr.size.w-20)+"px";this._inputComponent.style.width=this._attr.size.w+"px";},_onClick_Select:function(evt){evt.stopPropagation();if(this._selectComponent.options.length>0){var _e2e=this._selectComponent.options.length>this._maxOptionShowNumber?this._maxOptionShowNumber:this._selectComponent.options.length;_e2e=_e2e==1?2:_e2e;if(this._selectComponent.style.height===this._originalHeight){this._selectComponent.setAttribute("size",_e2e);this._xComponent.style.zIndex=1;var _e2f=this._selectComponent.options[0].clientHeight+1;var _e30=_e2f*_e2e;this._selectComponent.style.height=_e30+"px";this._maskComponent.style.display="none";if(_e30+this._selectComponent.offsetTop>this.getParentScreen()._getHeightAttr()){this._selectComponent.style.marginTop=-(_e30-this._attr.size.h)+"px";}}else{var _e31=this._selectComponent.selectedIndex;this._selectComponent.removeAttribute("size");this._xComponent.style.zIndex=0;this._selectComponent.style.height=this._originalHeight;this._maskComponent.style.display="block";this._selectComponent.selectedIndex=_e31;this._selectComponent.style.marginTop="0px";}}},_onBlur_Select:function(){var _e32=this._selectComponent.selectedIndex;this._selectComponent.removeAttribute("size");this._xComponent.style.zIndex=0;this._selectComponent.style.height=this._originalHeight;this._selectComponent.style.marginTop="0px";this._selectComponent.selectedIndex=_e32;this._maskComponent.style.display="block";},_onClick_Mask:function(evt){evt.stopPropagation();this._inputComponent.style.display="block";this._selectComponent.style.display="none";this._maskComponent.style.display="none";this._inputComponent.focus();},_onBlur_Input:function(evt){evt.stopPropagation();var _e33=this._getIndexByValue(this._inputComponent.value);if(_e33!==undefined){this._selectComponent.selectedIndex=_e33;this._onChangeSelection();}this._inputComponent.style.display="none";this._selectComponent.style.display="block";this._maskComponent.style.display="block";},_setLabelAttr:function(_e34){this._attr.label.value=_e34;},_setArrayTagAttr:function(_e35){if(_e35){var _e36=_e35.split("8#4@$");var _e37;if(this._selectComponent.selectedIndex>-1){_e37=this._attr.itemTypeList[this._selectComponent.selectedIndex].valueField;}if(_e36.length>1){for(i=0;i<_e36.length/2;i++){this._attr.itemList[i]=_e36[i*2];this._attr.itemTypeList[i].captionField=_e36[i*2];this._attr.itemTypeList[i].valueField=_e36[i*2+1];}this._selectComponent.selectedIndex=this._getIndexByValue(_e37);this._populate();}}this._setComboPositionAttr(this._lastComboPositionValue);},_setComboPositionAttr:function(_e38){var i=0,opt=null;this._lastComboPositionValue=_e38;if(typeof (this._attr.comboPosition)==="undefined"){return;}var _e39=-1;var _e3a=(+_e38).toString()==="NaN"?_e38:(+_e38).toString();_e39=this._getIndexByValue(_e3a);this._attr.comboPosition.value=_e38;if(_e39<0){this._inputComponent.value=_e3a;this._maskComponent.innerHTML=this._inputComponent.value;}else{if(this._selectComponent.options.length>0){this._inputComponent.value=this._selectComponent.options[_e39].text;this._maskComponent.innerHTML="";}}this._selectComponent.selectedIndex=_e39;this._attr.comboPosition.value=_e38;if(this._attr.label&&this._attr.label.id>=0&&this._xComponent.length>0&&this._selectComponent.selectedIndex<this._xComponent.length&&this._selectComponent.selectedIndex>-1){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._selectComponent.options[this._selectComponent.selectedIndex].text);this.intervalCallRequest();}},_setDataAttr:function(ds){var i=0;if(this._attr.itemList){this._attr.itemList.length=0;}else{this._attr.itemList=[];}if(ds&&ds.rows){for(i=0;i<ds.rows.length;i++){if(ds.rows[i].length===1){this._attr.itemList.push(ds.rows[i][0].value);}}}this._populate();this._setComboPositionAttr(this._lastComboPositionValue);},_setArrayTagNumberOfItemsAttr:function(){},_setFieldAttr:function(){},_setReloadAttr:function(){},_setFilenameAttr:function(){},_updateRectSize:function(_e3b,_e3c){this.inherited(arguments);this._updateScaledSize(_e3b,_e3c);},_getIndexByValue:function(_e3d){if(this._attr.itemTypeList){for(i=0;i<this._attr.itemTypeList.length;i++){if(this._attr.itemTypeList[i].valueField===_e3d){return i;}}}return -1;},applyDisable:function(anim,_e3e){if(anim!==null){return;}this.inherited(arguments);this._xComponent.disabled=this.isDisabled();if(this._xComponent.disabled){this._guiHelper.setBackgroundColor(this._xComponent,"#F5F5F5");this._xComponent.style.color="#ACA899";}},});});},"dojox/charting/plot2d/MarkersOnly":function(){define(["dojo/_base/declare","./Default"],function(_e3f,_e40){return _e3f("dojox.charting.plot2d.MarkersOnly",_e40,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});});},"dojox/charting/plot2d/Areas":function(){define(["dojo/_base/declare","./Default"],function(_e41,_e42){return _e41("dojox.charting.plot2d.Areas",_e42,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/gauges/GlossyCircularGaugeNeedle":function(){define(["dojo/_base/declare","dojo/_base/Color","./AnalogIndicatorBase"],function(_e43,_e44,_e45){return _e43("dojox.gauges.GlossyCircularGaugeNeedle",[_e45],{interactionMode:"gauge",color:"#c4c4c4",_getShapes:function(_e46){var _e47=_e44.blendColors(new _e44(this.color),new _e44("black"),0.3);if(!this._gauge){return null;}var _e48=[];_e48[0]=_e46.createGroup();var _e49=Math.min((this._gauge.width/this._gauge._designWidth),(this._gauge.height/this._gauge._designHeight));_e48[0].createGroup().setTransform({xx:_e49,xy:0,yx:0,yy:_e49,dx:0,dy:0});_e48[0].children[0].createPath({path:"M357.1429 452.005 L333.0357 465.9233 L333.0357 438.0868 L357.1429 452.005 Z"}).setTransform({xx:0,xy:1,yx:-6.21481,yy:0,dx:-452.00505,dy:2069.75519}).setFill(this.color).setStroke({color:_e47,width:1,style:"Solid",cap:"butt",join:20});return _e48;}});});},"viewer/Viewer":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","./misc/gui/helpers/css","./misc/common/customParser","dojo/on","./server/serverEvents","./server/securitySystem","dojo/dom-construct","./misc/gui/helpers/trace","./misc/gui/ErrorWindow","./server/UserInterfaceFunction","./screens/behaviourManager","./misc/gesture/_base","./misc/common/alarmGlobalSetting","./misc/common/elementStyleContainer","dojo/text!./viewer.html","./misc/enums"],function(_e4a,_e4b,_e4c,_e4d,_e4e,on,_e4f,_e50,_e51,_e52,_e53,_e54,_e55,_e56,_e57,_e58,_e59,_e5a){var _e5b=_e4a("viewer.Viewer",[_e4b,_e4c,_e56],{templateString:_e59,_updating:false,_disableRequestEvents:false,_openingScreen:null,_center:null,_updateRate:1000,_interval:null,_interval_consume_screen:null,_uncoupled:false,_previousScreen:null,_screens:null,_screens_to_open:null,_screen_being_opened:null,logLevel:1,_frameScale:1,_appResolution:null,_container:null,_bounds:null,_screensLastScale:1,_minScale:1,_callback:null,_olMap:null,_apiContainer:null,_enableScreenCache:false,_screenCacheSize:0,_screenCacheCount:0,_screenCache:null,_isViewPortAlignWatcherStarted:false,_viewPortAlignTimeout:null,_viewPortAlignMode:0,_screenBelongViewer:true,_accelerator:null,_checkRequestCallback:null,_isSetMinScale:false,waitingOpen:{},triggerResize:false,startup:function(){this.inherited(arguments);this._center={"x":0,"y":0};this._screens_to_open=[];this._container={currentWidth:null,currentHeight:null};this._bounds={minX:0,minY:0,maxX:0,maxY:0,bigMax:{x:0,y:0}};this._accelerator={counter:0};_e52.logLevel=this.logLevel;lstChangedObjects=[];window.expUpdateCount={count:0,addExp:function(_e5c,exp){if(!this[_e5c]){this[_e5c]={};}if(!this[_e5c][exp]){this[_e5c][exp]=true;}},isReady:function(){return (Object.keys(this).length-this.count)<=4;},clear:function(){var prop;if(Object.keys(this).length===4){return;}for(prop in this){if(this.hasOwnProperty(prop)){if(prop==="count"||prop==="addExp"||prop==="isReady"||prop==="clear"){continue;}delete this[prop];}}this.count=0;}};window.securedControls={};window.userInterfaceFunction=_e54;this._getGlobalSettings();if(this._enableScreenCache){this._screenCache={};}_e55.Init(this);if(this._uncoupled===true){this._initUncoupledViewer();}this._screens={};if(window.sma.zoomMode===_e5a.EnumZoomMode.CUSTOM_ZOOM){this.activateScaling(this.domNode);this.activatePanning(this.domNode);_e55.subscribOnOpenScreen(this._getDimensions.bind(this));_e55.subscribOnCloseScreen(this._getDimensions.bind(this));}},_initUncoupledViewer:function(){var self=this;if(dojo.global.onorientationchange!==undefined){on(dojo.global,"orientationchange",function(){self._updateSize();});}on(window,"resize",function(){self._updateSize();});this._updateSize();},setApiContainer:function(_e5d){this._apiContainer=_e5d;},setScreenBelongViewer:function(_e5e){this._screenBelongViewer=_e5e;},_updateSize:function(){if(typeof window.webGraphicsApi==="object"&&this._apiContainer&&this._apiContainer!=null){if(dojo.window.getBox().w<this._apiContainer.clientWidth){this._setWidthAttr(dojo.window.getBox().w);}else{this._setWidthAttr(dojo.getContentBox(webGraphicsApi._wg_viewer._apiContainer).w-1);}if(dojo.window.getBox().h<this._apiContainer.clientHeight){this._setHeightAttr(dojo.window.getBox().h);}else{this._setHeightAttr(dojo.getContentBox(webGraphicsApi._wg_viewer._apiContainer).h-1);}}else{this._setWidthAttr(dojo.window.getBox().w);this._setHeightAttr(dojo.window.getBox().h);}if(window.sma.zoomMode===_e5a.EnumZoomMode.AUTO_SCREEN_SCALING){this._bounds.bigMax.x=this._bounds.maxX=this.viewArea.clientWidth;this._bounds.bigMax.y=this._bounds.maxY=this.viewArea.clientHeight;this._bounds.minX=0;this._bounds.minY=0;}else{this._getDimensions();}},_showErrorMessage:function(msg,onOk){var div,_e5f,self;self=this;div=document.createElement("div");_e51.place(div,dojo.body(),"first");_e5f=new _e53({message:msg,onOk:onOk},div);_e5f.startup();},OpenScreen:function(_e60,_e61,_e62,_e63){var _e64=null,_e65=null,_e66=null,i=null,data=null,body=null,html=null,self=this;body=document.querySelector("body");html=document.querySelector("html");body.classList.add("ma_disable_native_touch");html.classList.add("ma_disable_native_touch");if(this._openingScreen!==null){this._pushScreenToOpen(_e60);if(_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.FAILED_TO_LOAD,result:{resultCode:-1,message:"API is busy loading a symbol"}});}return;}if(typeof (window.webGraphicsApi)!=="object"&&window.sma.zoomMode===_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING){this.CloseAllScreens();}this._screens_being_opened=_e60;_e64=this._getScreenIdsByName(_e60);if(_e64&&_e64.length>0){var _e67=true;for(i=0;i<_e64.length;i++){if(this._screens[_e64[i]].domNode){_e67=false;_e66=this._screens[_e64[i]];_e55.notifyScreenSelection(_e66);_e66.resetPosition();}}if(_e67==false){this.onShow(_e60);if(_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADED,result:{resultCode:0,message:"Symbol is already loaded"}});}return;}else{for(i=0;i<_e64.length;i++){delete this._screens[_e64[i]];if(this._screenCache&&this._screenCache.hasOwnProperty[_e60.toLowerCase()]){this._screenCache[_e60.toLowerCase()]._allExpressionsLoaded=false;}}}}this.onOpenScreen();this._openingScreen=_e60.toLowerCase().trim().replace(".scr","").replace(".scc","");var _e68=this._openingScreen.indexOf(".sg");if(_e68>0&&(this._openingScreen.length-_e68)===3){data=_e4f.parseResultChekingCode(services.getScreenGroup(this._openingScreen));if(data&&data.screens){this._pushScreenToOpen(data.screens);}this._openingScreen=null;if(_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.FAILED_TO_LOAD_FILE,result:{resultCode:-1,message:"Graphics list specified could not be loaded."}});}return;}_e52.timeStart("Load screen file: "+_e60);var _e66;var _e69=function(_e6a){_e52.timeEnd("Load screen file: "+_e60,700);_e6a=_e4f.assyncResult(_e6a);_e66=self._parseScreen(_e6a,_e62);self._openingScreen=null;_e52.timeStart("Update screen data: "+_e60);if(window.sma.zoomMode===_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING){setTimeout(function(){self._applySingleScreenScaling();},100);}if(_e61){if(_e66!=null){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.FILE_LOADED,result:_e6a,screen:_e66});_e66.openScreenCallback=_e61;}else{_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.FAILED_TO_LOAD_FILE,result:_e6a});}}};if(!_e62||(_e62&&_e62.Style&&_e62.Style.toLowerCase()!==_e5a.EnumScreenStyle.DIALOG&&_e62.Style.toLowerCase()!==_e5a.EnumScreenStyle.POPUP)){viewer.screens.Popup.prototype.miniPopupIds=[];}if((!_e62||(_e62&&!_e62.Style)||(_e62&&_e62.Style&&_e62.Style.toLowerCase()!==_e5a.EnumScreenStyle.DIALOG&&_e62.Style.toLowerCase()!==_e5a.EnumScreenStyle.POPUP))&&this._enableScreenCache){if(this._screenCache&&this._screenCache[this._openingScreen.toLowerCase()]){var _e6b=this._openingScreen.toLowerCase();if((typeof window.webGraphicsApi)==="object"&&_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADING});_e65=services.showScreen(window.viewId,[this._screenCache[this._openingScreen.toLowerCase()].screenId],_e69);}else{_e65=services.showScreen(window.viewId,[this._screenCache[this._openingScreen.toLowerCase()].screenId]);_e69(_e65);}this.onShow(_e6b.toLowerCase());}else{if((typeof window.webGraphicsApi)==="object"&&_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADING});_e65=services.openScreen(window.viewId,[self._openingScreen],_e69,_e63);}else{if(_e62&&_e63){_e65=services.openScreen(window.viewId,[self._openingScreen],null,_e63);}else{if(self._openingScreen=="__xx__studio_internal_dbspy__xx__"){_e65=services.dbSpyLoad(window.viewId,[]);}else{_e65=services.openScreen(window.viewId,[self._openingScreen]);}}_e69(_e65);}}}else{if((typeof window.webGraphicsApi)==="object"&&_e61){_e61({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADING});_e65=services.openScreen(window.viewId,[self._openingScreen],_e69,_e63);}else{if(_e62&&_e63){_e65=services.openScreen(window.viewId,[self._openingScreen],null,_e63);}else{_e65=services.openScreen(window.viewId,[self._openingScreen]);}_e69(_e65);}}},LoadScreen:function(_e6c,xml,_e6d){var _e6e=null,_e6f=null,_e70=null,i=null,data=null,body=null,html=null,self=this;body=document.querySelector("body");html=document.querySelector("html");body.classList.add("ma_disable_native_touch");html.classList.add("ma_disable_native_touch");var _e71=0;var _e70=_e4e.parseXML(xml,this.containerNode,_e6c,_e71,null,null,null);if(window.sma.zoomMode===_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING){setTimeout(function(){self._applySingleScreenScaling();},100);}if(_e6d){if(_e70!=null){_e6d({status:_e5a.EnumWebGraphicsAPIRequestStatus.FILE_LOADED,result:_e6f,screen:_e70});_e70.openScreenCallback=_e6d;}else{_e6d({status:_e5a.EnumWebGraphicsAPIRequestStatus.FAILED_TO_LOAD_FILE,result:_e6f});}}if(_e70.domNode.parentNode){if(!this._screenBelongViewer){_e70.subscribePropertyChange();}}},OpenScreenList:function(_e72,_e73,_e74,_e75,_e76){var _e77=[];var _e78=[];var _e79=this;if(!_e75||(_e75&&_e75.Style&&_e75.Style.toLowerCase()!==_e5a.EnumScreenStyle.DIALOG&&_e75.Style.toLowerCase()!==_e5a.EnumScreenStyle.POPUP)){viewer.screens.Popup.prototype.miniPopupIds=[];}result=services.openScreen(window.viewId,_e72,null,_e76);if(!result.data.screens||result.data.screens==null||result.data.screens.length<=0){return _e77;}result=_e4f.assyncResult(result);result.data.screens.forEach(function(data){var _e7a;if(typeof this.maViewer==="undefined"){this.maViewer=_e79;}self=this.maViewer;_e50.update();this.maViewer.waitingOpen[data.name]=true;_e4f.setCurrentScreenId(data.id);_e7a=_e4e.parseXML(data.document,this.maViewer.containerNode,data.name,data.id);if(!this._screenBelongViewer){_e7a._attr.background.color="transparent";if(_e7a.apiScaleContainer&&_e7a.apiScaleContainer.childNodes[0]){_e4d.setBackgroundColor(_e7a.apiScaleContainer.childNodes[0],_e7a._attr.background.color);}}_e4f.setCurrentScreenId(null);this.maViewer._screens[data.id]=_e7a;_e7a.onClose=function(_e7b){self.CloseScreen(_e7b);};this.maViewer._screens_being_opened=null;this.maViewer._updating=true;_e77.push(_e7a);_e78=this.maViewer._getScreenIds();});services.requestEvents(window.viewId,_e78,function(_e7c){_e7c=_e4f.assyncResult(_e7c);self._propagateEvents(_e7c);if(_e73){this._callback=_e73;this._olMap=_e74;if(_e7c&&_e7c.data&&_e7c.data.mapChanges){_e73(_e7c.data.mapChanges,_e74);}}});return _e77;},CloseScreen:function(_e7d){var self=this,_e7e=[],_e7f=[],_e80=false;if(!_e7d){return;}_e7e=this._getScreenIdsByName(_e7d);if(_e7e.length===0){return null;}self._previousScreen=_e7d;for(var i=0;i<_e7e.length;i++){if(this._screens[_e7e[i]]._attr.style&&(this._screens[_e7e[i]]._attr.style.toLowerCase()===_e5a.EnumScreenStyle.DIALOG||this._screens[_e7e[i]]._attr.style.toLowerCase()===_e5a.EnumScreenStyle.POPUP)){_e80=true;_e4f.remove(_e7e[i]);if(!this._screens[_e7e[i]]){continue;}_e55.notifyClose(this._screens[_e7e[i]]);if(this._screens[_e7e[i]].wasDestroyed===false){this._screens[_e7e[i]].wasDestroyed=true;this._screens[_e7e[i]].destroyRecursive();}delete this._screens[_e7e[i]];}}if(_e80===true){services.closeScreen(window.viewId,_e7e,function(_e81){_e81=_e4f.assyncResult(_e81);self._parseCloseScreen(_e81);});return;}if(this._enableScreenCache&&this._screenCache){_e7f=Object.keys(this._screenCache);}var _e82=[];var _e83=[];for(var j=0;j<_e7e.length;j++){if(this._enableScreenCache&&this._screenCache&&this._screens[_e7e[j]].domNode){if(!this._screenCache.hasOwnProperty(_e7d.toLowerCase())){if(_e7f.length>0&&_e7f.length>=this._screenCacheSize){if(!this._screens[this._screenCache[_e7f[0].toLowerCase()].screenId]){_e82.push(this._screenCache[_e7f[0].toLowerCase()].screenId);_e4f.remove(this._screenCache[_e7f[0].toLowerCase()].screenId);if(this._screenCache[_e7f[0].toLowerCase()].wasDestroyed===false){this._screenCache[_e7f[0].toLowerCase()].wasDestroyed=true;this._screenCache[_e7f[0].toLowerCase()].destroyRecursive();}}delete this._screenCache[_e7f[0].toLowerCase()];}}_e83.push(_e7e[j]);this._screenCache[_e7d.toLowerCase()]=this._screens[_e7e[j]];this._screenCache[_e7d.toLowerCase()]._allExpressionsLoaded=false;_e4d.setVisibility(this._screens[_e7e[j]].domNode,"hidden");delete this._screens[_e7e[j]];this.onHide(_e7d.toLowerCase());}else{_e82.push(_e7e[j]);_e4f.remove(_e7e[j]);if(!this._screens[_e7e[j]]){continue;}_e55.notifyClose(this._screens[_e7e[j]]);if(this._screens[_e7e[j]].wasDestroyed===false){this._screens[_e7e[j]].wasDestroyed=true;this._screens[_e7e[j]].destroyRecursive();}delete this._screens[_e7e[j]];}}if(_e83.length>0){services.hideScreen(window.viewId,_e83,function(_e84){_e84=_e4f.assyncResult(_e84);self._parseCloseScreen(_e84);});}if(_e82.length>0){services.closeScreen(window.viewId,_e82,function(_e85){_e85=_e4f.assyncResult(_e85);self._parseCloseScreen(_e85);});}},onHide:function(_e86){if(!this._screenCache){return;}var _e87=this._screenCache[_e86.toLowerCase()];if(_e87){_e87.hide();}},onShow:function(_e88){if(!this._screenCache){return;}var _e89=this._screenCache[_e88.toLowerCase()];if(_e89){_e89.show();}},CloseAllScreens:function(){var self=this,_e8a=null,key,body,html;_e8a=this._getScreenIds();if(_e8a.length===0){return null;}self._previousScreen=this._screens[_e8a[0]].screenName;var _e8b=services.closeScreen(window.viewId,_e8a);_e8b=_e4f.assyncResult(_e8b);self._parseCloseScreen(_e8b);_e4f.removeAll();window.expUpdateCount.clear();window.securedControls={};for(key in this._screens){if(this._screens.hasOwnProperty(key)&&this._screens[key].wasDestroyed===false){this._screens[key].wasDestroyed=true;this._screens[key].destroyRecursive();delete this._screens[key];}}body=document.querySelector("body");html=document.querySelector("html");body.classList.remove("ma_disable_native_touch");html.classList.remove("ma_disable_native_touch");},OpenPreviousScreen:function(){if(this._previousScreen){return this.OpenScreen(this._previousScreen);}},_parseScreen:function(data,_e8c){var _e8d,_e8e="The Screen "+this._screens_being_opened+" could not be opened. Check console messages for more information.",_e8f=_e4f.parseResultChekingCode(data,_e8e),self=this;if(!_e8f){this.onCancelOpenScreen();this._screens_being_opened=null;return;}_e50.update();if((!_e8c||(_e8c&&!_e8c.Style)||(_e8c&&_e8c.Style&&_e8c.Style.toLowerCase()!==_e5a.EnumScreenStyle.DIALOG&&_e8c.Style.toLowerCase()!==_e5a.EnumScreenStyle.POPUP))&&this._screenCache&&this._screenCache[this._openingScreen.toLowerCase()]){var _e90=this._screenCache[this._openingScreen.toLowerCase()];this.waitingOpen[_e90.screenName]=true;_e52.timeStart("Screen parse: "+_e90.screenName);_e4f.setCurrentScreenId(_e90.screenId);_e8d=_e90;_e4f.setCurrentScreenId(null);_e52.timeEnd("Screen parse: "+_e90.screenName,2750);this._screens[_e90.screenId]=_e90;if(this._screens[_e90.screenId].domNode){_e4d.setVisibility(this._screens[_e90.screenId].domNode,"visible");}}else{this.waitingOpen[_e8f.screens[0].name]=true;_e52.timeStart("Screen parse: "+_e8f.screens[0].name);_e4f.setCurrentScreenId(_e8f.screens[0].id);if(_e8f.screens[0].screen_info){_e8d=_e4e.parseXML(_e8f.screens[0].document,this.containerNode,_e8f.screens[0].name,_e8f.screens[0].id,_e8c,_e8f.screens[0].screen_info.limitations,_e8f.screens[0].screen_info.custom_properties);}else{_e8d=_e4e.parseXML(_e8f.screens[0].document,this.containerNode,_e8f.screens[0].name,_e8f.screens[0].id,_e8c);}if(!this._screenBelongViewer){_e8d._attr.background.color="transparent";if(_e8d.apiScaleContainer&&_e8d.apiScaleContainer.childNodes[0]){_e4d.setBackgroundColor(_e8d.apiScaleContainer.childNodes[0],_e8d._attr.background.color);}}_e4f.setCurrentScreenId(null);_e52.timeEnd("Screen parse: "+_e8f.screens[0].name,2750);this._screens[_e8f.screens[0].id]=_e8d;}_e8d.onClose=function(_e91){self.CloseScreen(_e91);};_e8d.onMoveEnd=this._getDimensions.bind(this);this._screens_being_opened=null;this._updating=true;services.requestEvents(window.viewId,this._getScreenIds(),function(_e92){_e92=_e4f.assyncResult(_e92);self._propagateEvents(_e92);});return _e8d;},_parseCloseScreen:function(data){var _e93="An error occurred when the screen was closed. Check console messages for more information.";_e4f.parseResultChekingCode(data,_e93);},_updateEvents:function(){var _e94=null,self=this;if(this._disableRequestEvents===true||this._updating===true||this._openingScreen!==null){return;}_e94=this._getScreenIds();this._updating=true;if(this._accelerator.counter>0){this._accelerator.counter--;if(this._accelerator.counter===0){if(this._interval!==null){clearInterval(this._interval);this._interval=null;}this._interval=setInterval(this._updateEvents.bind(this),Math.max(this._updateRate,100));}}services.requestEvents(window.viewId,_e94,function(_e95){if(_e95.resultCode===-10000){self._updating=false;return;}_e95=_e4f.assyncResult(_e95);self._propagateEvents(_e95);if(_e95&&_e95.data&&_e95.data.mapChanges){if(this._callback){this._callback(_e95.data.mapChanges,this._olMap);}}});},_propagateEvents:function(_e96){var evts=null,_e97=null,_e98=null,_e99=null,_e9a;_e98=this._getScreenIds();evts=_e4f.parseResult(_e96);if(!evts){this._updating=false;return;}if(evts.logs){_e52.dispatchServerLog(evts.logs);}for(_e9a=0;_e9a<evts.screens.length;_e9a++){if(!(evts.screens[_e9a]&&_e98.indexOf(evts.screens[_e9a].id)!==-1)){continue;}_e97=evts.screens[_e9a].id;_e99={securityLevels:evts.securityLevels,screen:evts.screens[_e9a]};if(this._screens[_e97]){this._screens[_e97].propagateEvents(_e99);}}this._updating=false;},resize:function(){if(this.triggerResize){this._viewPortAlignApplyResize();}else{if(this._isSetMinScale){this._viewPortAlignApplyResize();this._isSetMinScale=false;}}},_applyScaling:function(){var aw=null,ah=null,i=null,_e9b=null,_e9c=null;if(this._isViewPortAlignWatcherStarted===false&&window.sma.zoomMode===_e5a.EnumZoomMode.AUTO_SCREEN_SCALING&&this._viewPortAlignMode!==_e5a.EnumViewPortAlignMode.TOP_LEFT){this._startViewPortAlignWatcher();}if(window.sma.zoomMode===_e5a.EnumZoomMode.AUTO_SCREEN_SCALING&&this._appResolution){if(typeof window.webGraphicsApi==="object"&&this._apiContainer&&this._apiContainer!=null){aw=parseInt(this._apiContainer.clientWidth,10);ah=parseInt(this._apiContainer.clientHeight,10);}else{aw=parseInt(this._appResolution[0],10);ah=parseInt(this._appResolution[1],10);}this._applyAutoScreenScaling(aw,ah);}else{_e9b=this.getChildren();for(i=0;i<_e9b.length;i++){_e9c=_e9b[i];_e9c.setFrameScale(1);_e9c.setMinScale(1);_e9c.resize();}}},_applyAutoScreenScaling:function(aw,ah){if(this._screenBelongViewer){var _e9d=this.getChildren(),hw,hh,_e9e,i=null;hw=parseFloat(_e4d.getWidth(this.domNode));hh=parseFloat(_e4d.getHeight(this.domNode));if(isNaN(hw)||isNaN(hh)){return;}this._minScale=Math.min(hw/aw,hh/ah);for(i=0;i<_e9d.length;i++){_e9e=_e9d[i];if(_e9e._attr.sizeHeight&&_e9e._attr.sizeWidth){if(_e9e._attr.sizeHeight>ah){var _e9f=hh/_e9e._attr.sizeHeight;this._minScale=Math.min(this._minScale,_e9f);}if(_e9e._attr.sizeWidth>aw){var _ea0=hw/_e9e._attr.sizeWidth;this._minScale=Math.min(this._minScale,_ea0);}}_e9e.setFrameScale(this._minScale);_e9e.setMinScale(this._minScale);_e9e.resize();this._isSetMinScale=true;}}else{if(this._screens){for(key in this._screens){var _e9e=this._screens[key];_e9e._applySingleScreenScaling();}}}},_applySingleScreenScaling:function(){var n,nw,nh,_ea1,tw,th,_ea2,cx,cy;tw=parseFloat(_e4d.getWidth(this.domNode));th=parseFloat(_e4d.getHeight(this.domNode));this._center.x=tw/2;this._center.y=th/2;_ea1=this.getChildren();for(var i=0;i<_ea1.length;i++){n=_ea1[i];nw=n._getWidthAttr();nh=n._getHeightAttr();if(nw===0||nh===0){continue;}if(typeof (window.webGraphicsApi)==="object"&&n instanceof viewer.screens.Popup){th-=28;nh+=2;nw+=2;}_ea2=Math.min((tw/nw),(th/nh));nw*=_ea2;nh*=_ea2;cx=(this._center.x-nw/2);cy=(this._center.y-nh/2);if(typeof (window.webGraphicsApi)==="object"&&n instanceof viewer.screens.Popup){cy=0;}n.setFrameScale(_ea2);n.setMinScale(_ea2);n._setLeftAttr(cx);n._setTopAttr(cy);n.resize();}},_setWidthAttr:function(v){_e4d.setWidth(this.domNode,v+"px");_e55.setWidth(v);if(window.sma.zoomMode===_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING){this._applySingleScreenScaling();}else{this._applyScaling();}this._applyTransform();},_setHeightAttr:function(v){_e4d.setHeight(this.domNode,v+"px");_e55.setHeight(v);if(window.sma.zoomMode===_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING){this._applySingleScreenScaling();}else{this._applyScaling();}this._applyTransform();},_setLeftAttr:function(v){_e4d.setLeft(this.domNode,v+"px");},_setTopAttr:function(v){_e4d.setTop(this.domNode,v+"px");},_getScreenIds:function(){var _ea3=Object.keys(this._screens);_ea3=_ea3.map(function(item){return parseInt(item,10);});return _ea3;},_getScreenIdsByName:function(_ea4){var _ea5=[],key;for(key in this._screens){if(this._screens.hasOwnProperty(key)&&(this._screens[key].screenName.toLowerCase()===_ea4.toLowerCase()||this._screens[key].screenName.toLowerCase()+".scr"===_ea4.toLowerCase()||this._screens[key].screenName.toLowerCase()+".scc"===_ea4.toLowerCase())){_ea5.push(parseInt(key,10));}}return _ea5;},onLoadedScreen:function(_ea6){delete this.waitingOpen[_ea6];},onLoadScreenFail:function(){},onOpenScreen:function(){},onCancelOpenScreen:function(){},Run:function(v){var self=this;this._updateRate=v;if(v!==0){_e52.profileStart("SMA-PROFILE");}else{_e52.profileEnd("SMA-PROFILE");}if(this._interval){clearInterval(this._interval);}if(this._updateRate){this._updateRate=Math.max(this._updateRate,100);this._interval=setInterval(function(){if(self._checkRequestCallback){self._checkRequestCallback(function(){self._updateEvents();});}else{self._updateEvents();}},this._updateRate);}},Stop:function(){this.Run(0);},_pushScreenToOpen:function(_ea7){var self=this;if(Array.isArray(_ea7)===true){this._screens_to_open=this._screens_to_open.concat(_ea7);}else{this._screens_to_open.push(_ea7);}if(this._interval_consume_screen===null){this._interval_consume_screen=setInterval(function(){if(self._screens_to_open.length>0){self.OpenScreen(self._screens_to_open.shift());}else{clearInterval(self._interval_consume_screen);self._interval_consume_screen=null;}},100);}},_applyTransform:function(evt){if(window.sma.zoomMode===_e5a.EnumZoomMode.CUSTOM_ZOOM){if(this._scalableNode===null&&this._panableNode===null){return;}if(!this.transform.isZoomEnabled(this.domNode.id)&&(evt&&!this.isDoubleTap(evt.timeStamp))){return;}this._applyRegularTransform();}else{this.inherited(arguments);}},_applyRegularTransform:function(){var _ea8={x:0,y:0,lastX:0,lastY:0},_ea9={view:{translate:"",scale:""},container:{translate:"",scale:""}},_eaa={x:0,y:0};if(window.sma.zoomMode===_e5a.EnumZoomMode.AUTO_SCREEN_SCALING){this._scale=1;return;}this._getDimensions();this._scale=Math.max(this._scale,Math.min(this._minScale,_e4d.getTransformScaleX(this.viewArea)));this._scale=Math.min(this._scale,this._maxScale);this._scale=parseFloat(this._scale.toFixed(2));_ea8.lastX=_e4d.getTransformTranslateX(this.containerNode);_ea8.lastY=_e4d.getTransformTranslateY(this.containerNode);_eaa.x=this.lastDeltaX/this._scale;if(_eaa.x!==0&&this._bounds.minX>=(-1*(_ea8.lastX+_eaa.x))){if(_eaa.x<0){_ea8.x=Math.abs(_ea8.lastX+_eaa.x);}else{if(this._bounds.minX>(_ea8.lastX+_eaa.x)){_ea8.x=Math.max(Math.abs(this._bounds.minX),Math.abs(_ea8.lastX));}else{_ea8.x=_ea8.lastX;}}}else{_ea8.x=_ea8.lastX+_eaa.x;}if(_ea8.x<0&&_eaa.x!==0){if(_eaa.x<0){if(this._bounds.maxX-Math.abs(_ea8.x)<this.viewArea.clientWidth/this._scale){_ea8.x=_ea8.lastX;}}}_eaa.y=this.lastDeltaY/this._scale;if(_eaa.y!==0&&this._bounds.minY>=(-1*(_ea8.lastY+_eaa.y))){if(_eaa.y<0){_ea8.y=Math.abs(_ea8.lastY+_eaa.y);}else{if(this._bounds.minY>(_ea8.lastY+_eaa.y)){_ea8.y=Math.max(Math.abs(this._bounds.minY),Math.abs(_ea8.lastY));}else{_ea8.y=_ea8.lastY;}}}else{_ea8.y=_ea8.lastY+_eaa.y;}if(_ea8.y<0){if(_eaa.y<0){if(this._bounds.maxY-Math.abs(_ea8.y)<this.viewArea.clientHeight/this._scale){_ea8.y=_ea8.lastY;}}}_ea9.view.scale="("+this._scale+","+this._scale+")";_ea9.view.translate="(0px,0px)";_ea9.container.translate="("+parseInt(_ea8.x,10)+"px,"+parseInt(_ea8.y,10)+"px)";_ea9.container.scale="(1,1)";_e4d.setTransformOrigin(this.containerNode,"0% 0%");_e4d.setTransformOrigin(this.viewArea,"0% 0%");_e4d.applyTransform(this.containerNode,_ea9.container,0);_e4d.applyTransform(this.viewArea,_ea9.view,0);},_onTouchStart:function(evt){this.transform.onStart(this.domNode.id);_e56.prototype._onTouchStart.call(this,evt);},_onTouchEnd:function(evt){this.transform.onEnd(this.domNode.id);_e56.prototype._onTouchEnd.call(this,evt);},_getDimensions:function(){var _eab=this.getChildren(),_eac=null,i=0,_ead=0,_eae=0,_eaf=0,_eb0=null,_eb1="";_ead=this._bounds.maxX;_eae=this._bounds.maxY;this._bounds.minX=0;this._bounds.minY=0;this._bounds.maxX=0;this._bounds.maxY=0;if(window.sma.zoomMode===_e5a.EnumZoomMode.CUSTOM_ZOOM){for(i=0;i<_eab.length;i++){_eac=_eab[i];_eb0=_eac.getTransformedPosition();if(_eac.getBorderThickness()>0){_eaf=_eac.getBorderThickness()*2+10;}this._bounds.maxX=Math.max(_eac._getWidthAttr()+Math.abs(_eb0.l)+_eaf,this._bounds.maxX);this._bounds.maxY=Math.max(_eac._getHeightAttr()+Math.abs(_eb0.t)+_eac.getTitleBarHeight()+_eaf,this._bounds.maxY);this._bounds.minX=Math.min(_eb0.l,this._bounds.minX);this._bounds.minY=Math.min(_eb0.t,this._bounds.minY);}}else{this._bounds.maxX=this.viewArea.clientWidth;this._bounds.maxY=this.viewArea.clientHeight;this._bounds.minX=0;this._bounds.minY=0;}this._bounds.bigMax.x=Math.max(_ead,this._bounds.maxX);this._bounds.bigMax.y=Math.max(_eae,this._bounds.maxY);if(window.sma.zoomMode===_e5a.EnumZoomMode.CUSTOM_ZOOM){this._minScale=Math.min(this.viewArea.clientWidth/(Math.abs(this._bounds.minX)+this._bounds.bigMax.x),this.viewArea.clientHeight/(Math.abs(this._bounds.minY)+this._bounds.bigMax.y));}_eb1=this.viewArea.style.display;this.viewArea.style.display="none";this.viewArea.offsetHeight;this.viewArea.style.display=_eb1;},_getGlobalSettings:function(){var _eb2=null,_eb3=_e4f.parseResult(services.getGlobalSettings());if(_eb3&&_eb3.appFile){_eb2=_eb3.appFile;dojo.cookie("_x_appFile",dojo.toJson(_eb2,{expires:30}));}if(_eb2&&_eb2.autoScreenScalingResolution&&_eb2.autoScreenScalingResolution!=="0 0"){this._appResolution=_eb2.autoScreenScalingResolution.split(" ");}if(_eb2&&_eb3.enableScreenCache){this._enableScreenCache=_eb3.enableScreenCache;}if(_eb2&&_eb3.screenCacheSize){this._screenCacheSize=_eb3.screenCacheSize;}if(_eb2&&_eb3.viewPortAlignMode){this._viewPortAlignMode=_eb3.viewPortAlignMode;}if(_eb2&&_eb3.alarmUpdateRate){window.alarmPullingRate=_eb3.alarmUpdateRate;}if(typeof (window.webGraphicsApi)==="object"){window.sma.zoomMode=_e5a.EnumZoomMode.SINGLE_SCREEN_SCALING;}else{if(_eb3.zoomMode!==undefined){window.sma.zoomMode=_eb3.zoomMode;}window.sma.showError=parseInt(_eb2.showError,10);}if(_eb2&&_eb3.bgColor){var c=_eb3.bgColor;dojo.removeClass(dojo.body(),"ma_view_dark_body");dojo.style(dojo.body(),"background-color","rgb("+c.r+","+c.g+","+c.b+")");}window.sma.showError=parseInt(_eb2.showError,10);_e57.init(_eb3);_e58.init(_eb3);},setCustomPropertyForApi:function(_eb4,_eb5,_eb6,_eb7,_eb8){_eb8({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADING});var _eb9=[];_eb9=this._getScreenIdsByName(_eb4);services.setCustomProperty(window.viewId,_eb9,_eb5,_eb6,_eb7,function(_eba){var _eba=_e4f.parseResult(_eba);_eb8({status:_e5a.EnumWebGraphicsAPIRequestStatus.LOADED});});},_startViewPortAlignWatcher:function(){var _ebb=null;if(!MutationObserver||!window||!window.addEventListener){return;}window.addEventListener("resize",this._callViewPortAlignApplyResize.bind(this));observer=new MutationObserver(this._callViewPortAlignApplyResize.bind(this));observer.observe(document.body,{attributes:true,childList:true});this._isViewPortAlignWatcherStarted=true;},_callViewPortAlignApplyResize:function(){if(this._viewPortAlignTimeout!==null){clearTimeout(this._viewPortAlignTimeout);this._viewPortAlignTimeout=null;}this._viewPortAlignTimeout=setTimeout(this._viewPortAlignApplyResize.bind(this),100);},_viewPortAlignApplyResize:function(){var sc=null;var _ebc=null;var max={w:-1,h:-1};var view={w:0,h:0};var body={w:0,h:0};var _ebd={y:"0px",x:"0px"};var rect={l:null,t:null,r:null,b:null};_ebc=this.getChildren();if(_ebc.length===0){return;}for(var i=0;i<_ebc.length;i++){sc=_ebc[i];if(rect.l===null){rect.l=sc._getLeftAttr();}if(rect.t===null){rect.l=sc._getTopAttr();}if(rect.r===null){rect.r=sc._getLeftAttr()+sc._getWidthAttr();}if(rect.b===null){rect.r=sc._getTopAttr()+sc._getHeightAttr();}rect.l=Math.min(sc._getLeftAttr(),rect.l);rect.t=Math.min(sc._getTopAttr(),rect.t);rect.r=Math.max(sc._getLeftAttr()+sc._getWidthAttr(),rect.r);rect.b=Math.max(sc._getTopAttr()+sc._getHeightAttr(),rect.b);}view.w=((rect.r-rect.l)*_ebc[0]._minScale);body.w=parseInt(window.getComputedStyle(document.body).width);view.h=((rect.b-rect.t)*_ebc[0]._minScale);body.h=parseInt(window.getComputedStyle(document.body).height);if(body.w>view.w&&(this._viewPortAlignMode===_e5a.EnumViewPortAlignMode.TOP_CENTER||this._viewPortAlignMode===_e5a.EnumViewPortAlignMode.CENTER)){_ebd.x=((body.w/2)-(view.w/2))+"px";}if(body.h>view.h&&(this._viewPortAlignMode===_e5a.EnumViewPortAlignMode.CENTER_LEFT||this._viewPortAlignMode===_e5a.EnumViewPortAlignMode.CENTER)){_ebd.y=((body.h/2)-(view.h/2))+"px";}dojo.style(this.domNode,"margin",_ebd.y+" "+_ebd.x);},setAlarmPullingRate:function(_ebe){if(_ebe){window.alarmPullingRate=_ebe;}},setCheckRequestCallback:function(_ebf){this._checkRequestCallback=_ebf;},accelerate:function(time,_ec0){var _ec1=0;this._accelerator.counter=_ec0;if(this._interval!==null){clearInterval(this._interval);this._interval=null;}if(isNaN(time)===true){_ec1=100;}else{_ec1=time;}this._interval=setInterval(this._updateEvents.bind(this),Math.max(_ec1,100));}});_e5b.init=function(_ec2,_ec3){var _ec4=document.createElement("div");dojo.body().appendChild(_ec4);if(_ec2&&_ec2==true){dojo.addClass(dojo.body(),"ma_view_dark_body");}var _ec5=new _e5b({_uncoupled:true,id:"_x_viewer_Viewer",logLevel:_ec3},_ec4);_ec5.startup();dojo.style(_ec5.domNode,"position","absolute");dojo.style(_ec5.domNode,"background-color","RGB(171,171,171)");return _ec5;};return _e5b;});},"dojo/dnd/Manager":function(){define(["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_ec6,_ec7,lang,win,_ec8,_ec9,has,keys,on,_eca,_ecb,dnd,_ecc,_ecd){var _ece=_ec7("dojo.dnd.Manager",[_ec9],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_ecf){if(this.avatar){this.target=(_ecf&&_ecf.targetState!="Disabled")?_ecf:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_eca.publish("/dnd/source/over",_ecf);},outSource:function(_ed0){if(this.avatar){if(this.target==_ed0){this.target=null;this.canDropFlag=false;this.avatar.update();_eca.publish("/dnd/source/over",null);}}else{_eca.publish("/dnd/source/over",null);}},startDrag:function(_ed1,_ed2,copy){_ecc.autoScrollStart(win.doc);this.source=_ed1;this.nodes=_ed2;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_eca.publish("/dnd/start",_ed1,_ed2,this.copy);function _ed3(e){e.preventDefault();e.stopPropagation();};this.events=[on(win.doc,_ecb.move,lang.hitch(this,"onMouseMove")),on(win.doc,_ecb.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_ed3),on(win.body(),"selectstart",_ed3)];var c="dojoDnd"+(copy?"Copy":"Move");_ec8.add(win.body(),c);},canDrop:function(flag){var _ed4=Boolean(this.target&&flag);if(this.canDropFlag!=_ed4){this.canDropFlag=_ed4;this.avatar.update();}},stopDrag:function(){_ec8.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_ec6.forEach(this.events,function(_ed5){_ed5.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _ecd(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_ecc.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_eca.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_eca.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_eca.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_eca.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_ec8.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_ece.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _ece();}return dnd._manager;};return _ece;});},"ma/widget/trend/GridLegend":function(){define(["dojo/_base/declare","../../_base","../dataGrid/StudioDataGrid","dojo/data/ItemFileWriteStore","dojo/text!../templates/gridLegend.html"],function(_ed6,Base,_ed7,_ed8,_ed9){return _ed6("ma.widget.trend.GridLegend",Base,{templateString:_ed9,grid:null,data:null,layout:[],width:0,height:0,visible_checked:"<span class='fa fa-check-square-o'></span>",visible_unchecked:"<span class='fa fa-square-o'></span>",constructor:function(){this.data={"label":"tagName","items":[]};this.store=new _ed8({data:this.data});while(this.layout.length){this.layout.pop();}this.AddColumn("visible"," ","32px",null,false,true);this.AddColumn("tagName","Label","15%",null,false);this.AddColumn("value","Value","15%",null,false);this.AddColumn("min","Min","15%",null,false);this.AddColumn("max","Max","15%",null,false);},startup:function(){},resize:function(_eda,_edb){if(_eda&&_edb&&(this.width!=_eda||this.height!=_edb)){if(!this.grid){this.grid=new _ed7({query:{state:"*"},id:this.id+"_grid",store:this.store,structure:this.layout,escapeHTMLInData:false},this.containerGrid);this.grid.onStyleRow=dojo.hitch(this,this.StyleRow);this.grid.onRowClick=dojo.hitch(this,this.RowClicked);this.grid.startup();}else{this.grid.customResize(_eda,_edb);this.grid.setStore(this.store);this.grid.setStructure(this.layout);this.grid.update();}this.width=_eda;this.height=_edb;}},NewItem:function(item){this.store.newItem(item);if(this.grid){this.grid.setStructure(this.layout);this.grid.update();}},Clear:function(){while(this.data.items.length){this.store.deleteItem(this.data.items[0]);}},AddColumn:function(_edc,name,_edd,_ede,_edf,_ee0){if(!_ee0){this.layout.push({field:_edc,name:name,width:_edd,formatter:this.formatter.bind(this),color:"yellow",hidden:_edf,styles:"text-align:center;"});}else{this.layout.push({field:_edc,name:name,width:_edd,formatter:this.formatter.bind(this),color:"yellow",hidden:_edf,editable:true,type:dojox.grid.cells.Cell,styles:"text-align:center;"});}if(this.grid){this.grid.setStructure(this.layout);this.grid.update();}},StyleRow:function(row){var item=this.grid.getItem(row.index);if(!item){return;}row.customStyles="color:"+item.color+";font-weight: bold;";},formatter:function(val,_ee1,cell){var item=this.grid.getItem(_ee1);while(cell.customClasses.length){cell.customClasses.pop();}cell.customClasses.push("legend_cells_"+cell.field);if(cell.field=="tagName"){return item.label&&item.label.toString().length>0?item.label:item.tagName;}if(cell.field=="visible"){return item.visible[0]===true?this.visible_checked:this.visible_unchecked;}else{return val;}},RowClicked:function(row){var item=this.grid.getItem(row.rowIndex);switch(row.cellIndex){case 0:item.visible[0]=!item.visible[0];this.onVisibleChange(item.tagName[0],item.visible[0]);break;}},onVisibleChange:function(_ee2,_ee3){},UpdateValues:function(_ee4){try{for(i=0;i<_ee4.length;i++){for(var ii=0;ii<this.data.items.length;ii++){if(_ee4[i].tagName==this.data.items[ii].tagName){this.store.setValue(this.data.items[ii],"value",_ee4[i].value!=undefined?_ee4[i].value:"");}}}this.grid.update();}catch(ex){eval("console.error(\""+ex.message.replace(/\"/g,"")+"\")");}},ProcPath:function(url){var tmp=location.href;var _ee5=tmp.lastIndexOf("/");tmp=tmp.substring(0,_ee5+1)+url;return tmp;}});});},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(lang,_ee6){var _ee7=lang.getObject("dojox.charting.scaler.linear",true);var _ee8=3,_ee9=_ee6.getNumericLabel;function _eea(val,text){val=val.toLowerCase();for(var i=text.length-1;i>=0;--i){if(val===text[i]){return true;}}return false;};var _eeb=function(min,max,_eec,_eed,_eee,_eef,span){_eec=lang.delegate(_eec);if(!_eed){if(_eec.fixUpper=="major"){_eec.fixUpper="minor";}if(_eec.fixLower=="major"){_eec.fixLower="minor";}}if(!_eee){if(_eec.fixUpper=="minor"){_eec.fixUpper="micro";}if(_eec.fixLower=="minor"){_eec.fixLower="micro";}}if(!_eef){if(_eec.fixUpper=="micro"){_eec.fixUpper="none";}if(_eec.fixLower=="micro"){_eec.fixLower="none";}}var _ef0=_eea(_eec.fixLower,["major"])?Math.floor(_eec.min/_eed)*_eed:_eea(_eec.fixLower,["minor"])?Math.floor(_eec.min/_eee)*_eee:_eea(_eec.fixLower,["micro"])?Math.floor(_eec.min/_eef)*_eef:_eec.min,_ef1=_eea(_eec.fixUpper,["major"])?Math.ceil(_eec.max/_eed)*_eed:_eea(_eec.fixUpper,["minor"])?Math.ceil(_eec.max/_eee)*_eee:_eea(_eec.fixUpper,["micro"])?Math.ceil(_eec.max/_eef)*_eef:_eec.max;if(_eec.useMin){min=_ef0;}if(_eec.useMax){max=_ef1;}var _ef2=(!_eed||_eec.useMin&&_eea(_eec.fixLower,["major"]))?min:Math.ceil(min/_eed)*_eed,_ef3=(!_eee||_eec.useMin&&_eea(_eec.fixLower,["major","minor"]))?min:Math.ceil(min/_eee)*_eee,_ef4=(!_eef||_eec.useMin&&_eea(_eec.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_eef)*_eef,_ef5=!_eed?0:(_eec.useMax&&_eea(_eec.fixUpper,["major"])?Math.round((max-_ef2)/_eed):Math.floor((max-_ef2)/_eed))+1,_ef6=!_eee?0:(_eec.useMax&&_eea(_eec.fixUpper,["major","minor"])?Math.round((max-_ef3)/_eee):Math.floor((max-_ef3)/_eee))+1,_ef7=!_eef?0:(_eec.useMax&&_eea(_eec.fixUpper,["major","minor","micro"])?Math.round((max-_ef4)/_eef):Math.floor((max-_ef4)/_eef))+1,_ef8=_eee?Math.round(_eed/_eee):0,_ef9=_eef?Math.round(_eee/_eef):0,_efa=_eed?Math.floor(Math.log(_eed)/Math.LN10):0,_efb=_eee?Math.floor(Math.log(_eee)/Math.LN10):0,_efc=span/(max-min);if(!isFinite(_efc)){_efc=1;}return {bounds:{lower:_ef0,upper:_ef1,from:min,to:max,scale:_efc,span:span},major:{tick:_eed,start:_ef2,count:_ef5,prec:_efa},minor:{tick:_eee,start:_ef3,count:_ef6,prec:_efb},micro:{tick:_eef,start:_ef4,count:_ef7,prec:0},minorPerMajor:_ef8,microPerMinor:_ef9,scaler:_ee7};};return lang.mixin(_ee7,{buildScaler:function(min,max,span,_efd,_efe,_eff){var h={fixUpper:"none",fixLower:"none",natural:false};if(_efd){if("fixUpper" in _efd){h.fixUpper=String(_efd.fixUpper);}if("fixLower" in _efd){h.fixLower=String(_efd.fixLower);}if("natural" in _efd){h.natural=Boolean(_efd.natural);}}_eff=!_eff||_eff<_ee8?_ee8:_eff;if("min" in _efd){min=_efd.min;}if("max" in _efd){max=_efd.max;}if(_efd.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _efd){min=_efd.from;h.useMin=false;}if("to" in _efd){max=_efd.to;h.useMax=false;}if(max<=min){return _eeb(min,max,h,0,0,0,span);}if(!_efe){_efe=max-min;}var mag=Math.floor(Math.log(_efe)/Math.LN10),_f00=_efd&&("majorTickStep" in _efd)?_efd.majorTickStep:Math.pow(10,mag),_f01=0,_f02=0,_f03;if(_efd&&("minorTickStep" in _efd)){_f01=_efd.minorTickStep;}else{do{_f01=_f00/10;if(!h.natural||_f01>0.9){_f03=_eeb(min,max,h,_f00,_f01,0,span);if(_f03.bounds.scale*_f03.minor.tick>_eff){break;}}_f01=_f00/5;if(!h.natural||_f01>0.9){_f03=_eeb(min,max,h,_f00,_f01,0,span);if(_f03.bounds.scale*_f03.minor.tick>_eff){break;}}_f01=_f00/2;if(!h.natural||_f01>0.9){_f03=_eeb(min,max,h,_f00,_f01,0,span);if(_f03.bounds.scale*_f03.minor.tick>_eff){break;}}return _eeb(min,max,h,_f00,0,0,span);}while(false);}if(_efd&&("microTickStep" in _efd)){_f02=_efd.microTickStep;_f03=_eeb(min,max,h,_f00,_f01,_f02,span);}else{do{_f02=_f01/10;if(!h.natural||_f02>0.9){_f03=_eeb(min,max,h,_f00,_f01,_f02,span);if(_f03.bounds.scale*_f03.micro.tick>_ee8){break;}}_f02=_f01/5;if(!h.natural||_f02>0.9){_f03=_eeb(min,max,h,_f00,_f01,_f02,span);if(_f03.bounds.scale*_f03.micro.tick>_ee8){break;}}_f02=_f01/2;if(!h.natural||_f02>0.9){_f03=_eeb(min,max,h,_f00,_f01,_f02,span);if(_f03.bounds.scale*_f03.micro.tick>_ee8){break;}}_f02=0;}while(false);}return _f02?_f03:_eeb(min,max,h,_f00,_f01,0,span);},buildTicks:function(_f04,_f05){var step,next,tick,_f06=_f04.major.start,_f07=_f04.minor.start,_f08=_f04.micro.start;if(_f05.microTicks&&_f04.micro.tick){step=_f04.micro.tick,next=_f08;}else{if(_f05.minorTicks&&_f04.minor.tick){step=_f04.minor.tick,next=_f07;}else{if(_f04.major.tick){step=_f04.major.tick,next=_f06;}else{return null;}}}var _f09=1/_f04.bounds.scale;if(_f04.bounds.to<=_f04.bounds.from||isNaN(_f09)||!isFinite(_f09)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _f0a=[],_f0b=[],_f0c=[];while(next<=_f04.bounds.to+_f09){if(Math.abs(_f06-next)<step/2){tick={value:_f06};if(_f05.majorLabels){tick.label=_ee9(_f06,_f04.major.prec,_f05);}_f0a.push(tick);_f06+=_f04.major.tick;_f07+=_f04.minor.tick;_f08+=_f04.micro.tick;}else{if(Math.abs(_f07-next)<step/2){if(_f05.minorTicks){tick={value:_f07};if(_f05.minorLabels&&(_f04.minMinorStep<=_f04.minor.tick*_f04.bounds.scale)){tick.label=_ee9(_f07,_f04.minor.prec,_f05);}_f0b.push(tick);}_f07+=_f04.minor.tick;_f08+=_f04.micro.tick;}else{if(_f05.microTicks){_f0c.push({value:_f08});}_f08+=_f04.micro.tick;}}next+=step;}return {major:_f0a,minor:_f0b,micro:_f0c};},getTransformerFromModel:function(_f0d){var _f0e=_f0d.bounds.from,_f0f=_f0d.bounds.scale;return function(x){return (x-_f0e)*_f0f;};},getTransformerFromPlot:function(_f10){var _f11=_f10.bounds.from,_f12=_f10.bounds.scale;return function(x){return x/_f12+_f11;};}});});},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_f13,_f14,_f15){return _f13("dojox.grid.DataSelection",_f15,{constructor:function(grid){if(grid.keepSelection){this.preserver=new _f14(this);}},destroy:function(){if(this.preserver){this.preserver.destroy();}},getFirstSelected:function(){var idx=_f15.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_f16){var _f17=this.grid.getItemIndex(_f16);var idx=_f15.prototype.getNextSelected.call(this,_f17);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _f18=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_f18.push(this.grid.getItem(i));}}return _f18;},addToSelection:function(_f19){if(this.mode=="none"){return;}var idx=null;if(typeof _f19=="number"||typeof _f19=="string"){idx=_f19;}else{idx=this.grid.getItemIndex(_f19);}_f15.prototype.addToSelection.call(this,idx);},deselect:function(_f1a){if(this.mode=="none"){return;}var idx=null;if(typeof _f1a=="number"||typeof _f1a=="string"){idx=_f1a;}else{idx=this.grid.getItemIndex(_f1a);}_f15.prototype.deselect.call(this,idx);},deselectAll:function(_f1b){var idx=null;if(_f1b||typeof _f1b=="number"){if(typeof _f1b=="number"||typeof _f1b=="string"){idx=_f1b;}else{idx=this.grid.getItemIndex(_f1b);}_f15.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_f1c,_f1d,dom,has,keys,lang,on,_f1e){var _f1f=_f1d("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_f20,_f21,_f22){var _f23;if(_f20!==undefined){_f23=this.filter(_f20);if(typeof _f22!="string"){if(_f23!==null&&((typeof _f23!="number")||!isNaN(_f23))){_f22=this.filter(this.format(_f23,this.constraints));}else{_f22="";}}}if(_f22!=null&&((typeof _f22)!="number"||!isNaN(_f22))&&this.textbox.value!=_f22){this.textbox.value=_f22;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_f23,_f21]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_f24){if(_f24==null){_f24="";}else{if(typeof _f24!="string"){_f24=String(_f24);}}this.textbox.value=_f24;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_f25){return _f25==null?"":(_f25.toString?_f25.toString():_f25);},parse:function(_f26){return _f26;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _f27=function(e){var _f28;if(e.type=="keydown"){_f28=e.keyCode;switch(_f28){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_f28){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_f28>=65&&_f28<=90)||(_f28>=48&&_f28<=57)||_f28==keys.SPACE){return;}var _f29=false;for(var i in keys){if(keys[i]===e.keyCode){_f29=true;break;}}if(!_f29){return;}}}_f28=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_f28){_f28=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_f28){_f28=229;}if(e.type=="keypress"){if(typeof _f28!="string"){return;}if((_f28>="a"&&_f28<="z")||(_f28>="A"&&_f28<="Z")||(_f28>="0"&&_f28<="9")||(_f28===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_f28,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});if(e.type=="keypress"){e.stopPropagation();}};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_f27)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_f1f.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_f1f=_f1d("dijit.form._TextBoxMixin",_f1f,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_f1f._setSelectionRange=_f1e._setSelectionRange=function(_f2a,_f2b,stop){if(_f2a.setSelectionRange){_f2a.setSelectionRange(_f2b,stop);}};_f1f.selectInputText=_f1e.selectInputText=function(_f2c,_f2d,stop){_f2c=dom.byId(_f2c);if(isNaN(_f2d)){_f2d=0;}if(isNaN(stop)){stop=_f2c.value?_f2c.value.length:0;}try{_f2c.focus();_f1f._setSelectionRange(_f2c,_f2d,stop);}catch(e){}};return _f1f;});},"viewer/object/libraries/CustomWidget":function(){define(["dojo/_base/declare","../_base","dojo/text!./customWidget.html","dojo/_base/lang","../../misc/enums","../../misc/gui/InputWindow","../../misc/gui/MsgboxWindow","dojo/dom-construct"],function(_f2e,_f2f,_f30,lang,_f31,_f32,_f33,_f34){return _f2e("viewer.object.libraries.CustomWidget",_f2f,{templateString:_f30,_lang:lang,_customWidget:null,_propertiesPool:null,_securityLevels:null,_propertiesInfo:null,_commandsInfo:null,_clickable:true,_interval:null,_inputWindow:null,_msgboxWindow:null,_isHidden:null,_cache_cw_attr:null,_listeners:null,_touchEventAttacherInterval:null,buildRendering:function(){this._isHidden=false;this._propertiesInfo={};this._commandsInfo={};this._listeners={};if(this._cw_attr.properties){for(var i=0;i<this._cw_attr.properties.length;i++){this["_setCW"+this._cw_attr.properties[i]+"Attr"]=this._receiveValuesFromServer;this["_CW"+this._cw_attr.properties[i]+"Id"]=null;this._propertiesInfo[this._cw_attr.properties[i]]=this._cw_attr[this._cw_attr.properties[i]];}}if(this._cw_attr.commands){for(var i=0;i<this._cw_attr.commands.length;i++){this["_setCW"+this._cw_attr.commands[i]+"DisableAttr"]=this._receiveValuesFromServer;this["_CW"+this._cw_attr.commands[i]+"Id"]=null;this._commandsInfo[this._cw_attr.commands[i]]=this._cw_attr[this._cw_attr.commands[i]];}}if(!this._cache_cw_attr){this._cache_cw_attr={};this._cache_cw_attr=this._lang.clone(this._cw_attr);}this._propertiesPool={};this.inherited(arguments);this._securitySystem.addOnChange(this._onSecurityLevelsChange.bind(this),this.id);this._frame=this._xComponent;},hide:function(){var _f35=null;var cls=["with-scroll","dgrid-scroller"];var i=0,c=0;if(this._interval){clearInterval(this._interval);this._interval=null;}this._isHidden=true;this._securitySystem.removeOnChange(this.id);this.inherited(arguments);if(!this._customWidget||!this._customWidget.proxy||!this._customWidget.proxy.notifyOnHide){return;}else{if(this._customWidget.doc!==null){for(c=0;c<cls.length;c++){_f35=this._customWidget.doc.getElementsByClassName(cls[c]);for(i=0;i<_f35.length;i++){_f35.item(i).style.overflow="hidden";_f35.item(i).style.overflowX="hidden";_f35.item(i).style.overflowY="hidden";}}}this._customWidget.proxy.notifyOnHide();}},show:function(){var _f36=null;var cls=["with-scroll","dgrid-scroller"];var i=0,c=0;if(!this._customWidget||!this._customWidget.proxy){return;}if(this._customWidget.doc!==null){for(c=0;c<cls.length;c++){_f36=this._customWidget.doc.getElementsByClassName(cls[c]);for(i=0;i<_f36.length;i++){_f36.item(i).style.overflow="";_f36.item(i).style.overflowX="";_f36.item(i).style.overflowY="";}}}this.resetAttrFromCache();this._customWidget.proxy.notifyOnShow();},resetAttrFromCache:function(){this._isHidden=false;this._cw_attr=this._cache_cw_attr?this._lang.clone(this._cache_cw_attr):this._cw_attr;if(this._cw_attr.properties){for(var i=0;i<this._cw_attr.properties.length;i++){this["_setCW"+this._cw_attr.properties[i]+"Attr"]=this._receiveValuesFromServer;this["_CW"+this._cw_attr.properties[i]+"Id"]=null;this._propertiesInfo[this._cw_attr.properties[i]]=this._cw_attr[this._cw_attr.properties[i]];}}if(this._cw_attr.commands){for(var i=0;i<this._cw_attr.commands.length;i++){this["_setCW"+this._cw_attr.commands[i]+"DisableAttr"]=this._receiveValuesFromServer;this["_CW"+this._cw_attr.commands[i]+"Id"]=null;this._commandsInfo[this._cw_attr.commands[i]]=this._cw_attr[this._cw_attr.commands[i]];}}this._securitySystem.addOnChange(this._onSecurityLevelsChange.bind(this),this.id);this.inherited(arguments);},destroy:function(){for(var k in this._listeners){this._listeners[k].length=0;delete this._listeners[k];}this._securitySystem.removeOnChange(this.id);this.onClose();this.inherited(arguments);},_onLoadWidget:function(){if(this._isHidden){return;}var self=this,info=null,_f37=null,_f38=null;this._customWidget={win:null,doc:null,proxy:null,started:false,firedLoad:false};try{this._customWidget.win=this._xComponent.contentWindow;this._customWidget.doc=this._xComponent.contentDocument;this._customWidget.proxy=this._customWidget.win.SmaCustomWidget.proxy;this._customWidget.proxy.host.widget=this;this._customWidget.proxy.host.doc=document;this._customWidget.proxy.host.win=window;this._customWidget.proxy.host.screenId=this.getParentScreen()?this.getParentScreen().screenId:null;this._customWidget.proxy.host._showWindow=this._showWindow.bind(this);for(var prop in this._propertiesInfo){this._customWidget.proxy.propertiesInfo[prop]={"security":this._propertiesInfo[prop].security,"id":this._propertiesInfo[prop].id};}_f37=function(data){self._onPropertyChange(data);};if(this._cw_attr.properties){for(var i=0;i<this._cw_attr.properties.length;i++){this._customWidget.proxy.on(this._cw_attr.properties[i],_f37);}}_f38=this._listeners[_f31.CUSTOM_WIDGET_EVENTS.READY];if(Array.isArray(_f38)===true){for(var i=0;i<_f38.length;i++){_f38[i]({commandNode:this._xComponent.contentDocument.body});}}this._xComponent.contentDocument.body.oncontextmenu=function(evt){evt.preventDefault();};this._attachTouchEventHandler();}catch(e){}if(!this._interval){this._interval=setInterval(function(){if(!this._customWidget.proxy.ready){return;}this._customWidget.started=true;this._notifyWidgetIsReady();}.bind(this),50);}},_onPropertyChange:function(data){var _f39=null,_f3a=this._propertiesInfo[data.propName],_f3b;if(typeof (_f3a)==="undefined"){this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.INVALID_PROPERTY;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.invalidProperty;return;}this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SUCCESS;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.success;if(this._securitySystem.isAuthorized(_f3a.security)===false){this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SECURITY_REQUIREMENT;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.securityRequirement;return;}_f3b=this._customWidget.proxy.host.screenId!=null?this._customWidget.proxy.host.screenId:this.getParentScreen().screenId;if(isNaN(_f3a.id)===false){_f39=services.setActionValue(window.viewId,_f3b,_f3a.id,data.value);}else{this.onWrite(data);}if(_f39&&_f39.data&&isNaN(_f39.resultCode)===false&&typeof (_f39.message)==="string"){this._customWidget.proxy.lastStatus.resultCode=_f39.resultCode;if(this._customWidget.proxy.statusMessages.success&&this._customWidget.proxy.statusMessages.success.length>0){this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.success;}else{this._customWidget.proxy.lastStatus.message=_f39.message;}return;}else{this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SERVER_ERROR;if(this._customWidget.proxy.statusMessages.serverError){this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.serverError;}else{this._customWidget.proxy.lastStatus.message="Server error, please check the log for more information.";}}},_receiveValuesFromServer:function(v,info){var _f3c="";this._propertiesPool[info.propName]=info;if(!this._checkWidgetReadyState()){return;}if(info.propName.indexOf("Disable")>0){_f3c=info.propName.replace(new RegExp("Disable$"),"");if(this._commandsInfo[_f3c]){this._commandsInfo[_f3c].disable=parseInt(v);}}try{var _f3d=this._lang.clone(info);this._customWidget.proxy.set(_f3d,this);}catch(e){}},_onSecurityLevelsChange:function(_f3e){this._securityLevels=_f3e;if(this._customWidget&&this._customWidget.proxy){this._customWidget.proxy.notifySecurityLevelsChanged(this._securityLevels);}this._notifyWidgetIsReady();},_onWidgetTouchEvent:function(_f3f){if((typeof window.panAndZoomSupport)!="object"){return;}var evt=_f3f&&_f3f.originalEvent?_f3f.originalEvent:_f3f;if(!evt){return;}var _f40=evt.type;if(!_f40){return;}evt.widgetId=this.id;var _f41=this._getWidgetRelatedClientPoint(evt.clientX,evt.clientY);evt.fixedClientX=_f41.x;evt.fixedClientY=_f41.y;evt.fixedTouches=this._getWidgetRelatedTouchPoints(evt.touches);_f40=_f40.toLowerCase();switch(_f40){case "gesturestart":evt.preventDefault();break;case "keydown":window.panAndZoomSupport.onKeyDown(evt);break;case "keyup":window.panAndZoomSupport.onKeyUp(evt);break;case "mousewheel":case "wheel":window.panAndZoomSupport.onMouseWheel(evt);break;case "mousedown":window.panAndZoomSupport.onMouseDown(evt);break;case "mouseup":window.panAndZoomSupport.onMouseUp(evt);break;case "mousemove":window.panAndZoomSupport.onMouseMove(evt);break;case "dblclick":window.panAndZoomSupport.onDoubleClick(evt);break;case "touchstart":case "pointerdown":case "mspointerdown":window.panAndZoomSupport.onTouchStart(evt);break;case "touchend":case "touchcancel":case "pointerup":case "pointercancel":case "mspointerup":case "mspointercancel":window.panAndZoomSupport.onTouchEnd(evt);break;case "touchmove":case "pointermove":case "mspointermove":window.panAndZoomSupport.onTouchMove(evt);break;case "pointerout":case "pointerleave":case "mspointerout":case "pointerover":case "pointerenter":case "mspointerover":if(window.panAndZoomSupport.onPointerOverOrOut!=null){window.panAndZoomSupport.onPointerOverOrOut(evt);}break;}},_getWidgetRelatedClientPoint:function(_f42,_f43){if(this._xComponent!=null){var _f44=this._xComponent.getBoundingClientRect();var _f45=[1,0,0,1,0,0];var _f46=this.getParentScreen();if(_f46!=null){_f45=this._svgGuiHelper.multiplyMatrix([_f46._frameScale*_f46._apiZoomLevel,0,0,_f46._frameScale*_f46._apiZoomLevel,0,0],_f45);}var _f47=this._svgGuiHelper.transformPoint(_f45,_f42,_f43);return {x:_f44.left+_f47.x,y:_f44.top+_f47.y};}return {x:_f42,y:_f43};},_getWidgetRelatedTouchPoints:function(_f48){if(_f48==null){return null;}var _f49=[];for(var i=0;i<_f48.length;i++){var _f4a=_f48[i];var _f4b=this._getWidgetRelatedClientPoint(_f4a.clientX,_f4a.clientY);_f49.push({identifier:_f4a.identifier,clientX:_f4b.x,clientY:_f4b.y,screenX:_f4a.screenX,screenY:_f4a.screenY});}return _f49;},_attachTouchEventHandler:function(){if(this._touchEventAttacherInterval!=null){return;}var self=this;var _f4c=function(){if(self._customWidget&&self._customWidget.proxy){var _f4d=false;if(self._customWidget.proxy.addOnTouchEvent&&self._customWidget.proxy._onTouchEventListeners!=null&&self._customWidget.proxy._onTouchEventListeners.length<=0){self._customWidget.proxy.addOnTouchEvent(self._onWidgetTouchEvent.bind(self));}if(self._touchEventAttacherInterval!=null){clearInterval(self._touchEventAttacherInterval);self._touchEventAttacherInterval=null;}return true;}return false;};if(!_f4c()){this._touchEventAttacherInterval=setInterval(_f4c,50);}},_detachTouchEventHandler:function(){this._isTouchTouchEventAttached=false;},_notifyWidgetIsReady:function(){if(!this._securityLevels||this._customWidget===null||this._customWidget.firedLoad===true||!this._checkWidgetReadyState()){return;}if(this._customWidget.proxy){this._customWidget.proxy.notifySecurityLevelsChanged(this._securityLevels);this._customWidget.proxy.notifyHostIsPrepared();}for(var _f4e in this._propertiesPool){var info=this._propertiesPool[_f4e];this._receiveValuesFromServer(info.value,info);}this._customWidget.firedLoad=true;this._customWidget.proxy.notifyOnShow();clearInterval(this._interval);this._interval=null;},_checkWidgetReadyState:function(){if(this._customWidget===null||this._customWidget.started===false||!this._customWidget.win||!this._customWidget.win.document||this._customWidget.win.document.readyState!="complete"||!this._customWidget.proxy||!this._customWidget.proxy.ready){return false;}return true;},executeCommand:function(_f4f){var _f50=this._commandsInfo[_f4f];if(typeof (_f50)==="undefined"){this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.INVALID_COMMAND;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.invalidCommand;return;}this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SUCCESS;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.success;if(this._securitySystem.isAuthorized(_f50.security)===false){this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SECURITY_REQUIREMENT;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.securityRequirement;return;}if(typeof (_f50.disable)==="undefined"||_f50.disable){this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.ACTION_DISABLED;this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.actionDisabled;return;}result=services.executeCommand(window.viewId,this.getParentScreen().screenId,_f50.id);if(result&&result.data&&isNaN(result.resultCode)===false&&typeof (result.message)==="string"){this._customWidget.proxy.lastStatus.resultCode=result.resultCode;if(this._customWidget.proxy.statusMessages.success&&this._customWidget.proxy.statusMessages.success.length>0){this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.success;}else{this._customWidget.proxy.lastStatus.message=result.message;}return;}else{this._customWidget.proxy.lastStatus.resultCode=this._customWidget.proxy.enumStatus.SERVER_ERROR;if(this._customWidget.proxy.statusMessages.serverError){this._customWidget.proxy.lastStatus.message=this._customWidget.proxy.statusMessages.serverError;}else{this._customWidget.proxy.lastStatus.message="Server error, please check the log for more information.";}}},getPosition:function(){return {"l":this._xComponent.style.left,"t":this._xComponent.style.top,};},setPosition:function(_f51){if(!_f51){return;}this._xComponent.style.left=_f51.l+"px";this._xComponent.style.top=_f51.t+"px";},getSize:function(){return {"w":this._xComponent.style.width,"h":this._xComponent.style.height,};},setSize:function(size){if(!size){return;}this._xComponent.style.width=size.w+"px";this._xComponent.style.height=size.h+"px";},applyAutoSize:function(left,top,_f52,_f53){this.setPosition({"l":left,"t":top,});this.setSize({"w":_f52,"h":_f53,});},onClose:function(){},onWrite:function(data){},getParentScreenSize:function(){var _f54=this.getParentScreen()?this.getParentScreen():null;return {"w":_f54._attr.sizeWidth,"h":_f54._attr.sizeHeight,};},_showWindow:function(_f55,_f56){var div=document.createElement("div");_f34.place(div,dojo.body(),"first");switch(_f55){case this._customWidget.proxy.enumWindowType.INPUT:this._inputWindow=new _f32({"inputEvent":null,"onWrite":function(data){if(_f56.required&&!data){return;}if(this._inputWindow){this._inputWindow.close();}this._customWidget.proxy.host.onCloseWindow(data);}.bind(this)},div);if(_f56){this._inputWindow.multiLine=true;this._inputWindow.setRequired(_f56.required);this._inputWindow._setMessageAttr(_f56.message);this._inputWindow._setPasswordTypeAttr(_f56.password);this._inputWindow._setMessageErrorAttr(_f56.errorMessage);}this._inputWindow.startup();break;case this._customWidget.proxy.enumWindowType.MSGBOX:var _f57={"returnCall":this._customWidget.proxy.host.onCloseWindow.bind(this._customWidget.proxy.host),};this._msgboxWindow=new _f33({"userInterfaceFunction":_f57,"functionData":_f56,"screenId":this._customWidget.proxy.host.screenId},div);this._msgboxWindow.startup();break;default:break;}},on:function(_f58,_f59){if(this._listeners[_f58]===undefined){this._listeners[_f58]=[];}this._listeners[_f58].push(_f59);}});});},"viewer/misc/common/alarmGlobalSetting":function(){define(["dojo/_base/declare","dojox/data/XmlStore","dojox/xml/parser","../gui/helpers/svg"],function(_f5a,_f5b,_f5c,_f5d){var _f5e={_critical:{},_high:{},_medium:{},_low:{},_shelved:{},_disabled:{},_silenced:{},_queryObj:{},init:function(_f5f){if(_f5f.alarmPriorityConfig){this._parseXML(_f5f.alarmPriorityConfig);}},_parseXML:function(data){var _f60=_f5c.parse(data);var _f61=_f60.documentElement;var _f62=_f61.getElementsByTagName("AlarmPriorityInfo");var _f63=_f61.getElementsByTagName("ModesInfo");for(var i=0;i<_f62.length;i++){var _f64=_f62[i];if(_f64.nodeName=="AlarmPriorityInfo"){if(_f64.hasAttribute("Severity")){switch(_f64.getAttribute("Severity")){case "1":this._critical=this._parseStyle(_f64);this._critical.unAckStyle="AlarmBorder_Critical_UNACK";this._critical.ackStyle="AlarmBorder_Critical_ACK";this._critical.rtnStyle="AlarmBorder_Critical_RTN";break;case "2":this._high=this._parseStyle(_f64);this._high.unAckStyle="AlarmBorder_High_UNACK";this._high.ackStyle="AlarmBorder_High_ ACK";this._high.rtnStyle="AlarmBorder_High_RTN";break;case "3":this._medium=this._parseStyle(_f64);this._medium.unAckStyle="AlarmBorder_Medium_UNACK";this._medium.ackStyle="AlarmBorder_Medium_ ACK";this._medium.rtnStyle="AlarmBorder_Med_RTN";break;case "4":this._low=this._parseStyle(_f64);this._low.unAckStyle="AlarmBorder_Low_UNACK";this._low.ackStyle="AlarmBorder_Low_ACK";this._low.rtnStyle="AlarmBorder_Low_RTN";break;default:break;}}}}for(var i=0;i<_f63.length;i++){var _f64=_f63[i];if(_f64.nodeName=="ModesInfo"){if(_f64.hasAttribute("Description")){switch(_f64.getAttribute("Description")){case "Shelved":this._shelved=this._parseStyle(_f64);this._shelved.style="AlarmBorder_Shelved";break;case "Inhibited/Disabled":this._disabled=this._parseStyle(_f64);this._disabled.style="AlarmBorder_Inhibited";break;case "Silenced":this._silenced=this._parseStyle(_f64);this._silenced.style="AlarmBorder_Silenced";break;default:break;}}}}},_parseStyle:function(_f65){var _f66={};if(_f65.hasAttribute("FromRange")){_f66.from=_f65.getAttribute("FromRange");}if(_f65.hasAttribute("ToRange")){_f66.to=_f65.getAttribute("ToRange");}if(_f65.hasAttribute("ImageData")){_f66.imgIcon="data:image/jpg;base64,"+_f65.getAttribute("ImageData");}return _f66;},};return _f5e;});},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(_f67,has){_f67.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");has.add("iphone",has("ios"));return has;});},"viewer/object/shape/OpenBezierCurve":function(){define(["dojo/_base/declare","./BezierCurve","dojo/text!./openBezierCurve.html"],function(_f68,_f69,_f6a){return _f68("viewer.object.shape.OpenBezierCurve",_f69,{templateString:_f6a,_proColorName:"fill",closed:false,buildRendering:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);}});});},"dojox/charting/plot2d/Bubble":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_f6b,arr,has,_f6c,_f6d,dc,df,dfr,du,fx){var _f6e=dfr.lambda("item.purgeGroup()");return _f6b("dojox.charting.plot2d.Bubble",[_f6c,_f6d],{defaultParams:{animate:null},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(_f6f,_f70){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_f70);du.updateWithPattern(this.opt,_f70,this.optionalParams);if(!this.opt.labelFunc){this.opt.labelFunc=function(_f71,_f72,_f73){return this._getLabel(_f71.size,_f72,_f73);};}this.animate=this.opt.animate;},render:function(dim,_f74){var s;if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_f74);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_f6e);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_f75=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}s=run.group;var _f76=t.next("circle",[this.opt,run]),_f77=arr.map(run.data,function(v){return v?{x:ht(v.x)+_f74.l,y:dim.height-_f74.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)}:null;},this);var _f78=null,_f79=null,_f7a=null,_f7b=this.opt.styleFunc;var _f7c=function(item){if(_f7b){return t.addMixin(_f76,"circle",[item,_f7b(item)],true);}return t.addMixin(_f76,"circle",item,true);};if(_f76.series.shadow){_f7a=arr.map(_f77,function(item,i){if(item!==null){var _f7d=_f7c(run.data[i]),_f7e=_f7d.series.shadow;var _f7f=s.createCircle({cx:item.x+_f7e.dx,cy:item.y+_f7e.dy,r:item.radius}).setStroke(_f7e).setFill(_f7e.color);if(this.animate){this._animateBubble(_f7f,dim.height-_f74.b,item.radius);}return _f7f;}return null;},this);if(_f7a.length){run.dyn.shadow=_f7a[_f7a.length-1].getStroke();}}if(_f76.series.outline){_f79=arr.map(_f77,function(item,i){if(item!==null){var _f80=_f7c(run.data[i]),_f81=dc.makeStroke(_f80.series.outline);_f81.width=2*_f81.width+_f76.series.stroke.width;var _f82=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_f81);if(this.animate){this._animateBubble(_f82,dim.height-_f74.b,item.radius);}return _f82;}return null;},this);if(_f79.length){run.dyn.outline=_f79[_f79.length-1].getStroke();}}_f78=arr.map(_f77,function(item,i){if(item!==null){var _f83=_f7c(run.data[i]),rect={x:item.x-item.radius,y:item.y-item.radius,width:2*item.radius,height:2*item.radius};var _f84=this._plotFill(_f83.series.fill,dim,_f74);_f84=this._shapeFill(_f84,rect);var _f85=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setFill(_f84).setStroke(_f83.series.stroke);if(_f85.setFilter&&_f83.series.filter){_f85.setFilter(_f83.series.filter);}if(this.animate){this._animateBubble(_f85,dim.height-_f74.b,item.radius);}this.createLabel(s,run.data[i],rect,_f83);return _f85;}return null;},this);if(_f78.length){run.dyn.fill=_f78[_f78.length-1].getFill();run.dyn.stroke=_f78[_f78.length-1].getStroke();}if(_f75){var _f86=new Array(_f78.length);arr.forEach(_f78,function(s,i){if(s!==null){var o={element:"circle",index:i,run:run,shape:s,outline:_f79&&_f79[i]||null,shadow:_f7a&&_f7a[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_f77[i].x,cy:_f77[i].y,cr:_f77[i].radius};this._connectEvents(o);_f86[i]=o;}},this);this._eventSeries[run.name]=_f86;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_f74);}return this;},_animateBubble:function(_f87,_f88,size){fx.animateTransform(lang.delegate({shape:_f87,duration:1200,transform:[{name:"translate",start:[0,_f88],end:[0,0]},{name:"scale",start:[0,1/size],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/mobile/SpinWheel":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","./_PickerBase","./SpinWheelSlot"],function(_f89,_f8a,_f8b,_f8c){return _f89("dojox.mobile.SpinWheel",_f8c,{baseClass:"mblSpinWheel",buildRendering:function(){this.inherited(arguments);_f8b.create("div",{className:"mblSpinWheelBar"},this.domNode);},startup:function(){if(this._started){return;}this.centerPos=Math.round(this.domNode.offsetHeight/2);this.inherited(arguments);},resize:function(){this.centerPos=Math.round(this.domNode.offsetHeight/2);_f8a.forEach(this.getChildren(),function(_f8d){_f8d.resize&&_f8d.resize();});},addChild:function(_f8e,_f8f){this.inherited(arguments);if(this._started){_f8e.setInitialValue();}}});});},"viewer/object/action/ComboBoxSimple":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","dojo/dom-construct","../../misc/gui/OutputWindow","../../server/serverEvents","../../misc/enums","dojo/text!./comboBoxSimple.html"],function(_f90,_f91,_f92,on,_f93,_f94,_f95,_f96,_f97){return _f90("viewer.object.action.ComboBoxSimple",_f91,{templateString:_f97,_currentSelectedIndex:-1,_fieldId:null,_isFirstDSEnqueue:true,_clickable:true,_lastComboPositionValue:null,_originalHeight:null,_textBoxHeight:0,_listBoxHeight:0,_inputComponent:null,_selectComponent:null,buildRendering:function(){var _f98,self;if(!this._attr.colorAdvanced){this._attr.colorAdvanced=this._attr.background.color;}this.inherited(arguments);this._inputComponent=this._xComponent.childNodes[1];this._selectComponent=this._xComponent.childNodes[3];this._textBoxHeight=26;this._listBoxHeight=this._attr.size.h-this._textBoxHeight;this._resetSimpleComboBox(this._textBoxHeight,this._listBoxHeight);if(this._attr.dataSourceType!=_f96.EnumComboBoxDataSourceType.STATIC_LABEL&&this._attr.dataSourceType!=_f96.EnumComboBoxDataSourceType.DATABASE&&this._attr.dataSourceType!=_f96.EnumComboBoxDataSourceType.ARRAY_TAG){return;}self=this;on(this._xComponent,_f92.press,function(evt){evt.stopPropagation();});on(this._selectComponent,"change",function(evt){self._onChangeSelection(evt);});on(this._xComponent,"click",function(evt){self._onClick(evt);});on(this._xComponent,"blur",function(evt){self._onBlur(evt);});this._populate();this._initial();},startup:function(){this.inherited(arguments);},_populate:function(){var i=0,_f99={};if(!this._attr.itemList){return;}for(i=0;i<this._attr.itemList.length;i++){_f99[this._attr.itemList[i]]=i;}if(this._attr.sort===1){this._attr.itemList.sort(function(a,b){return a.localeCompare(b);});this._attr.itemTypeList.sort(function(a,b){return a.captionField.localeCompare(b.captionField);});}var _f9a=this._selectComponent.selectedIndex;this._selectComponent.options.length=0;for(i=0;i<this._attr.itemList.length;i++){option=document.createElement("option");option.text=this._attr.itemList[i];option.value=this._attr.itemTypeList[i].valueField;this._selectComponent.add(option);}this._selectComponent.selectedIndex=_f9a;if(!(this.isDisabled()===true)&&!(this._securitySystem.isAuthorized(this._attr.security)===false)){this._onChangeSelection(null);}},_onChangeSelection:function(evt){var _f9b=0,_f9c=null,_f9d=null;if(!this.getParentScreen()){setTimeout(function(){this._onChangeSelection(null);}.bind(this),0);return;}if(!this._xComponent||this._xComponent.length===0||this._selectComponent.selectedIndex<0){return;}if(this.isDisabled()===true||this._securitySystem.isAuthorized(this._attr.security)===false){if(evt===null){return;}_f9c=_f93.create("div");_f93.place(_f9c,dojo.body(),"first");_f9d=new _f94({"onClose":function(){}},_f9c);_f9d._setMessageAttr("Your security group does not allow you to change this object value.");_f9d.startup();return;}_f9b=this._selectComponent.selectedIndex;this._inputComponent.value=this._selectComponent.options[_f9b].text;if(this._attr.label&&this._attr.label.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._selectComponent.options[_f9b].text);this.intervalCallRequest();}if(this._attr.comboPosition&&this._attr.comboPosition.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.comboPosition.id,this._selectComponent.options[_f9b].value);this.intervalCallRequest();}},_initial:function(){if(!this.getParentScreen()||!this._xComponent.clientHeight){setTimeout(function(){this._initial(null);}.bind(this),0);return;}this._originalHeight=this._xComponent.style.height;},_onClick:function(){return;},_onBlur:function(){var _f9e=this._getIndexByValue(this._inputComponent.value);if(_f9e!==undefined){this._selectComponent.selectedIndex=_f9e;this._onChangeSelection();}},_resetSimpleComboBox:function(_f9f,_fa0){if(this._inputComponent){this._inputComponent.style.height=_f9f+"px";}if(_fa0){if(this._selectComponent){this._selectComponent.style.height=_fa0+"px";}}else{if(this._selectComponent){this._selectComponent.style.display="none";}}},_setLabelAttr:function(_fa1){this._attr.label.value=_fa1;},_setArrayTagAttr:function(_fa2){if(_fa2){var _fa3=_fa2.split("8#4@$");var _fa4;if(this._selectComponent.selectedIndex>-1){_fa4=this._attr.itemTypeList[this._selectComponent.selectedIndex].valueField;}if(_fa3.length>1){for(i=0;i<_fa3.length/2;i++){this._attr.itemList[i]=_fa3[i*2];this._attr.itemTypeList[i].captionField=_fa3[i*2];this._attr.itemTypeList[i].valueField=_fa3[i*2+1];}this._selectComponent.selectedIndex=this._getIndexByValue(_fa4);this._populate();}}this._setComboPositionAttr(this._lastComboPositionValue);},_setComboPositionAttr:function(_fa5){var i=0,opt=null;this._lastComboPositionValue=_fa5;if(typeof (this._attr.comboPosition)==="undefined"){return;}var _fa6=-1;var _fa7=(+_fa5).toString()==="NaN"?_fa5:(+_fa5).toString();_fa6=this._getIndexByValue(_fa7);if(_fa6<0){this._inputComponent.value=_fa7;}else{if(this._selectComponent.options.length>0){this._inputComponent.value=this._selectComponent.options[_fa6].text;this._selectComponent.selectedIndex=_fa6;this._attr.comboPosition.value=_fa5;}}this._attr.comboPosition.value=_fa5;if(this._attr.label&&this._attr.label.id>=0&&this._xComponent.length>0&&this._selectComponent.selectedIndex<this._xComponent.length&&this._selectComponent.selectedIndex>-1){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._selectComponent.options[this._selectComponent.selectedIndex].text);this.intervalCallRequest();}},_setDataAttr:function(ds){var i=0;if(this._attr.itemList){this._attr.itemList.length=0;}else{this._attr.itemList=[];}if(ds&&ds.rows){for(i=0;i<ds.rows.length;i++){if(ds.rows[i].length===1){this._attr.itemList.push(ds.rows[i][0].value);}}}this._populate();this._setComboPositionAttr(this._lastComboPositionValue);},_setArrayTagNumberOfItemsAttr:function(){},_setFieldAttr:function(){},_setReloadAttr:function(){},_setFilenameAttr:function(){},_updateRectSize:function(_fa8,_fa9){this.inherited(arguments);this._updateScaledSize(_fa8,_fa9);},_getIndexByValue:function(_faa){if(this._attr.itemTypeList){for(i=0;i<this._attr.itemTypeList.length;i++){if(this._attr.itemTypeList[i].valueField===_faa){return i;}}}return -1;},applyDisable:function(anim,_fab){if(anim!==null){return;}this.inherited(arguments);this._xComponent.disabled=this.isDisabled();if(this._xComponent.disabled){this._guiHelper.setBackgroundColor(this._xComponent,"#F5F5F5");this._xComponent.style.color="#ACA899";}}});});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_fac,dom,_fad,_fae,lang,has,_faf){var a11y={_isElementShown:function(elem){var s=_fae.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_fad.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _fad.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _fb0=elem.contentDocument;if("designMode" in _fb0&&_fb0.designMode=="on"){return true;}body=_fb0.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},isTabNavigable:function(elem){if(_fad.get(elem,"disabled")){return false;}else{if(_fad.has(elem,"tabIndex")){return _fad.get(elem,"tabIndex")>=0;}else{return a11y.hasDefaultTabStop(elem);}}},_getTabNavigable:function(root){var _fb1,last,_fb2,_fb3,_fb4,_fb5,_fb6={};function _fb7(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _fb8=a11y._isElementShown,_fb9=a11y.isTabNavigable;var _fba=function(_fbb){for(var _fbc=_fbb.firstChild;_fbc;_fbc=_fbc.nextSibling){if(_fbc.nodeType!=1||(has("ie")<=9&&_fbc.scopeName!=="HTML")||!_fb8(_fbc)){continue;}if(_fb9(_fbc)){var _fbd=+_fad.get(_fbc,"tabIndex");if(!_fad.has(_fbc,"tabIndex")||_fbd==0){if(!_fb1){_fb1=_fbc;}last=_fbc;}else{if(_fbd>0){if(!_fb2||_fbd<_fb3){_fb3=_fbd;_fb2=_fbc;}if(!_fb4||_fbd>=_fb5){_fb5=_fbd;_fb4=_fbc;}}}var rn=_fb7(_fbc);if(_fad.get(_fbc,"checked")&&rn){_fb6[rn]=_fbc;}}if(_fbc.nodeName.toUpperCase()!="SELECT"){_fba(_fbc);}}};if(_fb8(root)){_fba(root);}function rs(node){return _fb6[_fb7(node)]||node;};return {first:rs(_fb1),last:rs(last),lowest:rs(_fb2),highest:rs(_fb4)};},getFirstInTabbingOrder:function(root,doc){var _fbe=a11y._getTabNavigable(dom.byId(root,doc));return _fbe.lowest?_fbe.lowest:_fbe.first;},getLastInTabbingOrder:function(root,doc){var _fbf=a11y._getTabNavigable(dom.byId(root,doc));return _fbf.last?_fbf.last:_fbf.highest;}};1&&lang.mixin(_faf,a11y);return a11y;});},"viewer/animation/Position":function(){define(["dojo/_base/declare","./_base","../misc/gesture/_base","dojo/dom-construct","../misc/enums","../server/serverEvents","dojo/on","dojo/touch","dojo/_base/lang"],function(_fc0,_fc1,_fc2,_fc3,_fc4,_fc5,on,_fc6,lang){return _fc0("viewer.animation.Position",[_fc1,_fc2],{_updateH:true,_updateV:true,_updateVisibility:true,_originX:50,_originY:50,_horizontalTagExpressionId:null,_verticalTagExpressionId:null,_node:null,_wrapperNode:null,_scale:1,_startPanX:null,_startPanY:null,_panStarted:false,_panWriting:false,_lastPanValueH:null,_lastWritingValueH:null,_lastPanValueV:null,_lastWritingValueV:null,_lastTempMatrix:null,_initialPanInfo:null,_cachedHorExpr:null,_cachedVerExpr:null,_lastWritingTime:0,_minContinouslyWriteInterval:150,_isContinouslyFollowingCursor:true,events:null,constructor:function(){var self=this;this.events=[];this.inherited(arguments);if(this._animProps.gestureEnable){this._widget._getComponentAttr().style.pointerEvents="visible";}this._setVisibilityClass(false);this.events.push(on(this._widget._getCommandNodeAttr(),_fc6.press,function(evt){if(self._animProps.gestureEnable!==null&&self._animProps.gestureEnable!==0&&!self.isDoubleTap(evt)){evt.stopPropagation();}evt.preventDefault();}));},onVisibilityChange:function(){},_horExpProc:function(){var _fc7,min,max,_fc8,end;_fc7=parseFloat(this._animProps.horizontalTagExpression);min=parseFloat(this._animProps.horizontalValueRangeFrom);max=parseFloat(this._animProps.horizontalValueRangeTo);_fc8=parseFloat(this._animProps.horizontalFrom);end=parseFloat(this._animProps.horizontalTo);if(!this._updateH||isNaN(this._animProps.horizontalTagExpression)||this._isInPan===true||this._panStarted==true){if(this._cachedHorExpr==null){this._cachedHorExpr={};}this._cachedHorExpr.horizontalTagExpression=_fc7;this._cachedHorExpr.horizontalValueRangeFrom=min;this._cachedHorExpr.horizontalValueRangeTo=max;this._cachedHorExpr.horizontalFrom=_fc8;this._cachedHorExpr.horizontalTo=end;return;}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){_fc8*=-1;}this._lastPan.x=0;if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&(min>max)){if(_fc7>min){_fc7=min;}else{if(_fc7<max){_fc7=max;}}}else{if(_fc7>max){_fc7=max;}else{if(_fc7<min){_fc7=min;}}}if(min!==max){this._lastPan.x=((end-_fc8)*(_fc7-min)/(max-min));this._lastPan.x+=_fc8;}this._lastPan.xFromExpr=this._lastPan.x;if(!this._updateInitialMatrix()&&this._initialPanInfo!=null&&this._initialPanInfo.matrix!=null&&this._initialPanInfo.origin!=null){}switch(this._animProps.horizontalReference){case _fc4.EnumAlignHorizontal.LEFT:this._originX=0;break;case _fc4.EnumAlignHorizontal.CENTER:this._originX=50;break;case _fc4.EnumAlignHorizontal.RIGHT:this._originX=100;break;}if(!this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){this._applyTransforms();}this._updateH=false;},_horPanProc:function(){var min,max,_fc9,end,_fca;_fca=parseFloat(this._lastPan.x);min=parseFloat(this._animProps.horizontalValueRangeFrom);max=parseFloat(this._animProps.horizontalValueRangeTo);_fc9=parseFloat(this._animProps.horizontalFrom);end=parseFloat(this._animProps.horizontalTo);if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){_fc9*=-1;}if(_fc9>end){if(_fca>_fc9){this._lastPan.offsetX+=_fca-_fc9;_fca=_fc9;}else{if(_fca<end){this._lastPan.offsetX+=_fca-end;_fca=end;}}}else{if(_fca<_fc9){this._lastPan.offsetX+=_fca-_fc9;_fca=_fc9;}else{if(_fca>end){this._lastPan.offsetX+=_fca-end;_fca=end;}}}this._lastPan.x=_fca;if(_fc9!==end&&min!==max){this._animProps.horizontalTagExpression=((max-min)*(_fca-_fc9)/(end-_fc9));this._animProps.horizontalTagExpression+=min;this._applyTransforms();}else{this._animProps.horizontalTagExpression=min;}},_verExpProc:function(){var _fcb,min,max,_fcc,end;_fcb=parseFloat(this._animProps.verticalTagExpression);min=parseFloat(this._animProps.verticalValueRangeFrom);max=parseFloat(this._animProps.verticalValueRangeTo);_fcc=parseFloat(this._animProps.verticalFrom);end=parseFloat(this._animProps.verticalTo);if(!this._updateV||isNaN(this._animProps.verticalTagExpression)||this._isInPan===true||this._panStarted==true){if(this._cachedVerExpr==null){this._cachedVerExpr={};}this._cachedVerExpr.verticalTagExpression=_fcb;this._cachedVerExpr.verticalValueRangeFrom=min;this._cachedVerExpr.verticalValueRangeTo=max;this._cachedVerExpr.verticalFrom=_fcc;this._cachedVerExpr.verticalTo=end;return;}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){_fcc*=-1;}this._lastPan.y=0;if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&(min>max)){if(_fcb>min){_fcb=min;}else{if(_fcb<max){_fcb=max;}}}else{if(_fcb>max){_fcb=max;}else{if(_fcb<min){_fcb=min;}}}if(min!==max){this._lastPan.y=((end-_fcc)*(_fcb-min)/(max-min));this._lastPan.y+=_fcc;}this._lastPan.yFromExpr=this._lastPan.y;if(!this._updateInitialMatrix()&&this._initialPanInfo!=null&&this._initialPanInfo.matrix!=null){}switch(this._animProps.verticalReference){case _fc4.EnumAlignVertical.TOP:this._originY=0;break;case _fc4.EnumAlignVertical.CENTER:this._originY=50;break;case _fc4.EnumAlignVertical.BOTTOM:this._originY=100;break;}if(!this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){this._applyTransforms();}this._updateV=false;},_verPanProc:function(){var min,max,_fcd,end,_fce;_fce=parseFloat(this._lastPan.y);min=parseFloat(this._animProps.verticalValueRangeFrom);max=parseFloat(this._animProps.verticalValueRangeTo);_fcd=parseFloat(this._animProps.verticalFrom);end=parseFloat(this._animProps.verticalTo);if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){_fcd*=-1;}if(_fcd>end){if(_fce>_fcd){this._lastPan.offsetY+=_fce-_fcd;_fce=_fcd;}else{if(_fce<end){this._lastPan.offsetY+=_fce-end;_fce=end;}}}else{if(_fce<_fcd){this._lastPan.offsetY+=_fce-_fcd;_fce=_fcd;}else{if(_fce>end){this._lastPan.offsetY+=_fce-end;_fce=end;}}}this._lastPan.y=_fce;if(_fcd!==end&&min!==max){this._animProps.verticalTagExpression=((max-min)*(_fce-_fcd)/(end-_fcd));this._animProps.verticalTagExpression+=min;this._applyTransforms();}else{this._animProps.verticalTagExpression=min;}},updateStartPan:function(){if(this._panStarted&&this._animProps.isContinuously){return;}if(this._lastPan!=null&&(this._startPanX!=null||this._startPanY!=null)){this._startPanX=this._lastPan.x;this._startPanY=this._lastPan.y;}},_onTouchStart:function(evt){if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget.disable){return;}this._lastPan.offsetX=0;this._lastPan.offsetY=0;if(this._startPanX==null){this._startPanX=this._lastPan.xFromExpr;}if(this._startPanY==null){this._startPanY=this._lastPan.yFromExpr;}this._panStarted=true;this._panWriting=false;this._lastPanValueV=this._animProps.verticalTagExpression;this._lastPanValueH=this._animProps.horizontalTagExpression;this._lastWritingValueH=null;this._lastWritingValueV=null;this._cachedHorExpr=null;this._cachedVerExpr=null;this._lastWritingTime=0;this._widget._isIgnoreMouseOutAsRelease=this._animProps.isContinuously?true:false;this._widget._isIgnoreMouseReleaseEvent=true;if(this._isContinouslyFollowingCursor){this._widget.setIgnoreUpdateMatrix(true);}this.inherited(arguments);},_onTouchCancel:function(evt){if(!this._panStarted){return;}this._onPreHandleTouchEnd(evt);this.inherited(arguments);this._onAfterHandleTouchEnd(evt);},_onTouchEnd:function(evt){if(!this._panStarted){return;}this._onPreHandleTouchEnd(evt);this.inherited(arguments);this._onAfterHandleTouchEnd(evt);},_onPreHandleTouchEnd:function(evt){if(!this._panStarted){return;}if(this._lastTempMatrix!=null){this._lastTempMatrix=null;}if(this._isContinouslyFollowingCursor){this._widget.setIgnoreUpdateMatrix(false);}if(this._animProps.isContinuously){this._writeLatestValue();}},_onAfterHandleTouchEnd:function(evt){this._panStarted=false;if(this._cachedHorExpr){this._animProps.horizontalTagExpression=this._cachedHorExpr.horizontalTagExpression;this._animProps.horizontalValueRangeFrom=this._cachedHorExpr.horizontalValueRangeFrom;this._animProps.horizontalValueRangeTo=this._cachedHorExpr.horizontalValueRangeTo;this._animProps.horizontalFrom=this._cachedHorExpr.horizontalFrom;this._animProps.horizontalTo=this._cachedHorExpr.horizontalTo;this._updateH=true;this._horExpProc();this._cachedHorExpr=null;}if(this._cachedVerExpr){this._animProps.verticalTagExpression=this._cachedVerExpr.verticalTagExpression;this._animProps.verticalValueRangeFrom=this._cachedVerExpr.verticalValueRangeFrom;this._animProps.verticalValueRangeTo=this._cachedVerExpr.verticalValueRangeTo;this._animProps.verticalFrom=this._cachedVerExpr.verticalFrom;this._animProps.verticalTo=this._cachedVerExpr.verticalTo;this._updateV=true;this._verExpProc();this._cachedVerExpr=null;}if(this._widget._isIgnoreMouseOutAsRelease){this._widget._isIgnoreMouseOutAsRelease=false;}if(this._widget._isIgnoreMouseReleaseEvent){if(this._widget._attr&&this._widget._attr._animations&&this._widget._attr._animations.command){var _fcf=this;setTimeout(function(){_fcf._widget._isIgnoreMouseReleaseEvent=false;_fcf._widget._attr._animations.command._onUp(evt);},10);}else{this._widget._isIgnoreMouseReleaseEvent=false;}}},onEndPan:function(evt){if(this._animProps.isContinuously){return;}this._writeLatestValue();},_writeLatestValue:function(){if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget.disable){return;}var self=this;if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false){return;}if(this._disableAxesYPan===false){services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._verticalTagExpressionId,this._animProps.verticalTagExpression.toString(),function(_fd0){_fd0=_fc5.assyncResult(_fd0);self._writeTagCallBack(_fd0);if(self._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){self.intervalQueueRequest(1000);}});}if(this._disableAxesXPan===false){services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._horizontalTagExpressionId,this._animProps.horizontalTagExpression.toString(),function(_fd1){_fd1=_fc5.assyncResult(_fd1);self._writeTagCallBack(_fd1);if(self._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){self.intervalQueueRequest(1000);}});}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){this._startPanX=null;this._startPanY=null;}else{this.intervalCallRequest();}},onContinuouslyPan:function(){if(!this._panStarted){return;}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget.disable){return;}if(!this._animProps.isContinuously){return;}if(this._panWriting||new Date().getTime()-this._lastWritingTime<this._minContinouslyWriteInterval){this._lastPanValueV=this._animProps.verticalTagExpression;this._lastPanValueH=this._animProps.horizontalTagExpression;return;}var self=this;if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false){return;}if(this._disableAxesYPan===false&&this._lastPanValueV!=this._animProps.verticalTagExpression&&this._lastWritingValueV!=this._animProps.verticalTagExpression){this._panWriting=true;this._lastPanValueV=this._animProps.verticalTagExpression;this._lastWritingValueV=this._animProps.verticalTagExpression;this._lastWritingTime=new Date().getTime();services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._verticalTagExpressionId,this._animProps.verticalTagExpression.toString(),function(_fd2){_fd2=_fc5.assyncResult(_fd2);self._writeTagCallBack(_fd2);self._syncPendingData();if(!self._isContinouslyFollowingCursor){self.intervalQueueRequest(1000);}});}if(this._disableAxesXPan===false&&this._lastPanValueH!=this._animProps.horizontalTagExpression&&this._lastWritingValueH!=this._animProps.horizontalTagExpression){this._panWriting=true;this._lastPanValueH=this._animProps.horizontalTagExpression;this._lastWritingValueH=this._animProps.horizontalTagExpression;this._lastWritingTime=new Date().getTime();services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._horizontalTagExpressionId,this._animProps.horizontalTagExpression.toString(),function(_fd3){_fd3=_fc5.assyncResult(_fd3);self._writeTagCallBack(_fd3);self._syncPendingData();if(!self._isContinouslyFollowingCursor){self.intervalQueueRequest(1000);}});}self._processWriteDone();},_processWriteDone:function(_fd4){if(!_fd4){this._panWriting=false;}if(this._isContinouslyFollowingCursor){return;}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA){this._startPanX=null;this._startPanY=null;}},_syncPendingData:function(_fd5){if(!this._panStarted){return false;}var _fd6=false;var self=this;var _fd7=new Date().getTime()-this._lastWritingTime;if(!_fd5&&this._pendingWritingTimeout==null&&_fd7<this._minContinouslyWriteInterval){var _fd8=this._minContinouslyWriteInterval-_fd7;this._pendingWritingTimeout=setTimeout(function(){self._syncPendingData(true);},_fd8);return true;}else{if(!_fd5&&this._pendingWritingTimeout){return true;}}this._pendingWritingTimeout=null;if(this._disableAxesYPan===false&&this._lastPanValueV!=null&&this._lastPanValueV!=this._lastWritingValueV){_fd6=true;this._lastWritingValueV=this._lastPanValueV;this._lastWritingTime=new Date().getTime();services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._verticalTagExpressionId,this._lastPanValueV.toString(),function(_fd9){_fd9=_fc5.assyncResult(_fd9);self._writeTagCallBack(_fd9);self._syncPendingData();if(!self._isContinouslyFollowingCursor){self.intervalQueueRequest(1000);}});}if(this._disableAxesXPan===false&&this._lastPanValueH!=null&&this._lastPanValueH!=this._lastWritingValueH){_fd6=true;this._lastWritingValueH=this._lastPanValueH;this._lastWritingTime=new Date().getTime();services.setActionValue(window.viewId,this._widget.getParentScreen().screenId,this._horizontalTagExpressionId,this._lastPanValueH.toString(),function(_fda){_fda=_fc5.assyncResult(_fda);self._writeTagCallBack(_fda);self._syncPendingData();if(!self._isContinouslyFollowingCursor){self.intervalQueueRequest(1000);}});}self._processWriteDone();return _fd6;},_setVisibilityClass:function(_fdb){if(this._widget._attr.name==="TrendControlWidget"){if(_fdb===true){this._widget.applyOpacity(1);}else{this._widget.applyOpacity(0);}}else{if(_fdb===true){this._guiHelper.removeClass(this._widget.domNode,"viewer-style-common-invisible");}else{this._guiHelper.addClass(this._widget.domNode,"viewer-style-common-invisible");}}},_visibilityExpProc:function(){if(this._widget.visibleHasUpdate||this._widget.opacityHasUpdate){return;}var _fdc=typeof (this._animProps.visibility)=="undefined"||this._animProps.visibility===null||this._animProps.visibility==="";if(_fdc){this._setVisibilityClass(true);return;}if(!this._updateVisibility){return;}this._setVisibilityClass(true);if(typeof this._widget.setChildrenCaptions==="function"){this._widget.setChildrenCaptions();}var _fdd=this._parseComparisonValue(this._animProps.visibility);if(!isNaN(_fdd)){_fdd=_fdd!=0?1:0;if(this._animProps.trueValue){var _fde=parseInt(this._animProps.trueValue);if(_fdd==_fde){_fdd=1;}else{_fdd=0;}}if(_fdd==1||_fdd==0){if(_fdd==0){this._setVisibilityClass(false);this._widget.visible=false;this.onVisibilityChange(false);this._widget._setOutlineVisibility(this._widget.isVisible());return;}else{this._widget.visible=true;this._widget._setOutlineVisibility(this._widget.isVisible());}}}if(this._animProps.visibility<0){this._widget.applyOpacity(1);this.onVisibilityChange(false);return;}if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.InduSoft){this._widget.applyOpacity(this._animProps.visibility);}this.onVisibilityChange(true);},_writeTagCallBack:function(){},_procPan:function(evt){if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget.disable){return;}if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false){return;}if(!this._panableNode||(evt.touches&&evt.touches.length>1)){return;}var f1,s;if(!evt.touches){f1=evt;}else{f1=evt.touches[0];}this._scale=this._widget._getScaleAttr()*this._widget.getParentScreen()._getFrameScaleAttr();s=this._scale;this._animProps.horizontalTagExpression=parseFloat(this._animProps.horizontalTagExpression);this._animProps.verticalTagExpression=parseFloat(this._animProps.verticalTagExpression);if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget._matrix!=null){var _fdf=this._widget._getParentTotalMatrix();_fdf[4]=0;_fdf[5]=0;var _fe0=this._widget._getInvertMatrix(_fdf);var _fe1=(parseFloat(f1.clientX)-parseFloat(this._lastFinger1.x))/(s*this._viewerGesture.scale);var _fe2=(parseFloat(f1.clientY)-parseFloat(this._lastFinger1.y))/(s*this._viewerGesture.scale);var _fe3=this._widget._svgGuiHelper.transformPoint(_fe0,_fe1,_fe2);if(_fe3.x>0&&this._lastPan.offsetX<0){if(_fe3.x>-1*this._lastPan.offsetX){_fe3.x+=this._lastPan.offsetX;this._lastPan.offsetX=0;}else{this._lastPan.offsetX+=_fe3.x;_fe3.x=0;}}else{if(_fe3.x<0&&this._lastPan.offsetX>0){if(-1*_fe3.x>this._lastPan.offsetX){_fe3.x+=this._lastPan.offsetX;this._lastPan.offsetX=0;}else{this._lastPan.offsetX+=_fe3.x;_fe3.x=0;}}}if(_fe3.y>0&&this._lastPan.offsetY<0){if(_fe3.y>-1*this._lastPan.offsetY){_fe3.y+=this._lastPan.offsetY;this._lastPan.offsetY=0;}else{this._lastPan.offsetY+=_fe3.y;_fe3.y=0;}}else{if(_fe3.y<0&&this._lastPan.offsetY>0){if(-1*_fe3.y>this._lastPan.offsetY){_fe3.y+=this._lastPan.offsetY;this._lastPan.offsetY=0;}else{this._lastPan.offsetY+=_fe3.y;_fe3.y=0;}}}if(this._disableAxesXPan===false){this._lastPan.x+=_fe3.x;this._updateH=true;this._horPanProc();}if(this._disableAxesYPan===false){this._lastPan.y+=_fe3.y;this._updateV=true;this._verPanProc();}}else{if(this._disableAxesXPan===false){this._lastPan.x+=(parseFloat(f1.clientX)-parseFloat(this._lastFinger1.x))/(s*this._viewerGesture.scale);this._updateH=true;this._horPanProc();}if(this._disableAxesYPan===false){this._lastPan.y+=(parseFloat(f1.clientY)-parseFloat(this._lastFinger1.y))/(s*this._viewerGesture.scale);this._updateV=true;this._verPanProc();}}this._lastFinger1.x=f1.clientX.toString();this._lastFinger1.y=f1.clientY.toString();evt.stopPropagation();evt.preventDefault();this.onContinuouslyPan();},_applyTransforms:function(){if(this._widget._attr.engine==_fc4.EnumRuntimeScadaEngine.ArchestrA&&this._widget._matrix!=null){if(!this._panStarted||(this._startPanX==null&&this._startPanY==null)){return;}var _fe4=this._widget._getCurrentMatrix(false);var _fe5=this._lastPan.x;var _fe6=this._lastPan.y;if(this._startPanX!=null){_fe5-=this._startPanX;}if(this._startPanY!=null){_fe6-=this._startPanY;}this._lastTempMatrix=this._applyPanMatrix(_fe4,_fe5,_fe6,-1*parseFloat(this._widget._originalGeometry.x),-1*parseFloat(this._widget._originalGeometry.y));}else{this._widget._setPanValue(this._lastPan.x,this._lastPan.y,this._originX,this._originY);this._widget._updatePan();}},_applyPanMatrix:function(_fe7,_fe8,_fe9,_fea,_feb){if(this._widget._attr.engine!=_fc4.EnumRuntimeScadaEngine.ArchestrA){return null;}var _fec=this._widget._svgGuiHelper.multiplyMatrix(_fe7,[1,0,0,1,_fe8,_fe9]);var _fed=_fec.join(",");this._widget._applyMatrix(_fed,_fea,_feb,true);return _fed;},_updateInitialMatrix:function(){var _fee=this._getWidgetOrigin();if(this._initialPanInfo!=null&&this._initialPanInfo.matrix!=null){var _fef=this._widget._getCurrentMatrix(false);if(_fef!=null&&(_fef[0]!=this._initialPanInfo.matrix[0]||_fef[1]!=this._initialPanInfo.matrix[1]||_fef[2]!=this._initialPanInfo.matrix[2]||_fef[3]!=this._initialPanInfo.matrix[3])){this._initialPanInfo=null;}}if(this._initialPanInfo==null&&this._lastPan!=null){this._initialPanInfo={matrix:this._widget._getCurrentMatrix(false),panX:this._lastPan.x,panY:this._lastPan.y,origin:_fee};return true;}return false;},_getWidgetOrigin:function(){var _ff0;if(this._widget._actualOrigin!=null){_ff0={x:this._widget._actualOrigin.x,y:this._widget._actualOrigin.y};}return _ff0;},_parseSlider:function(){if(!this._animProps.gestureEnable||this._animProps.gestureEnable===0){return;}var _ff1=isNaN(this._animProps.horizontalTagExpression),_ff2=isNaN(this._animProps.verticalTagExpression);this.activatePanning(this._widget._getCommandNodeAttr(),_ff1,_ff2);if(!_ff1){this._animProps.horizontalTagExpression=parseFloat(this._animProps.horizontalTagExpression);}if(!_ff2){this._animProps.verticalTagExpression=parseFloat(this._animProps.verticalTagExpression);}},_updateExpressions:function(ret){this.inherited(arguments);this._parseSlider();if(ret.propName.indexOf("horizontal")===0){this._updateH=true;}else{if(ret.propName.indexOf("vertical")===0){this._updateV=true;}else{if(ret.propName.indexOf("visibility")===0){this._updateVisibility=true;}}}},_execUpdate:function(){this._horExpProc();this._verExpProc();this._visibilityExpProc();this._widget.visibleHasUpdate=false;this._widget.opacityHasUpdate=false;this._updateVisibility=false;},onChangeProperty:function(data){switch(data.propName){case "gestureDisable":this._isDisabled=this._animProps.gestureDisable;break;}},_getTouchCommandNode:function(){return this._widget._getCommandNodeAttr();},_getIsHandledByAnimation:function(evt){return true;}});});},"ma/widget/trend/DataStore":function(){define(["dojo/_base/declare"],function(_ff3){return _ff3("ma.widget.trend.DataStore",null,{data:null,maxBuffer:30,stories:{},startDate:null,finishDate:null,constructor:function(data){this.startDate=new Date();this.finishDate=dojo.date.add(this.startDate,"second",-1*this.maxBuffer);if(!data){return;}this.ChangeData(data);},ChangeData:function(data){this.Clear();this.data=data;for(var i=0;i<this.data.serieNames.length;i++){this.CreateSerie(this.data.serieNames[i]);}},InsertData:function(data){if(!this.data){this.ChangeData(data);}else{for(var i=0;i<this.data.serieNames.length;i++){this.stories[this.data.serieNames[i]]=data.data[i].slice(-1*this.maxBuffer);}this.startDate.setTime(this.stories[this.data.serieNames[0]][this.stories[this.data.serieNames[0]].length-1].x);this.finishDate.setTime(this.stories[this.data.serieNames[0]][0].x);}},Clear:function(){for(var _ff4 in this.stories){delete this.stories[_ff4];}this.data=null;},forEach:function(_ff5,_ff6){for(var _ff7 in this.stories){_ff5.call(_ff6?_ff6:this,{serieName:_ff7,data:this.stories[_ff7]});}},CreateSerie:function(_ff8){this.stories[_ff8]=[];}});});},"viewer/misc/gui/inputBoolean":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputBoolean.html","./helpers/css","dojo/touch"],function(_ff9,_ffa,_ffb,_ffc,_ffd){return _ff9("viewer.misc.gui.InputWindow",_ffa,{templateString:_ffb,inputEvent:null,onWrite:null,onCancel:null,mask:null,currentValue:null,range:null,startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this.inherited(arguments);dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._dlgContent.parentNode,_ffd.press,function(evt){self.close();});dojo.connect(this._dlgContent,_ffd.press,function(evt){event.stopPropagation();});dojo.fadeIn({node:this._dlgContent,duration:100}).play();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_onTrue:function(){if(this.onWrite){this.onWrite(1);}},_onFalse:function(){if(this.onWrite){this.onWrite(0);}},_onKeyPress:function(evt){switch(evt.keyCode){case 27:this.close();break;}},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},setTypeAndRangeAttr:function(opts){},setPromptMessage:function(opts){var _ffe=opts.promptFalseMessage;var _fff=opts.promptTrueMessage;if(_ffe.length>10){_ffe=_ffe.substring(0,13)+" ...";_ffc.setAttr(this._falseBtn,"title",opts.promptFalseMessage);}if(_fff.length>10){_fff=_fff.substring(0,13)+" ...";_ffc.setAttr(this._trueBtn,"title",opts.promptTrueMessage);}this._falseBtn.innerHTML=_ffe;this._trueBtn.innerHTML=_fff;}});});},"viewer/misc/gui/MsgboxWindow":function(){define(["dojo/_base/declare","dojo/parser","dojo/window","dojo/fx","dojox/html/entities","./_base","dojo/text!./msgboxWindow.html"],function(_1000,_1001,win,_1002,_1003,_1004,_1005){return _1000("viewer.misc.gui.MsgboxWindow",_1004,{templateString:_1005,onClose:null,userInterfaceFunction:null,functionData:{},_btnValues:[1,0,0],screenId:null,startup:function(){var self=this,i,_1006,_1007,_1008,_1009,title,msg;this.inherited(arguments);dojo.connect(this._btn0,"click",function(){self._onButton(0);});dojo.connect(this._btn1,"click",function(){self._onButton(1);});dojo.connect(this._btn2,"click",function(){self._onButton(2);});title=_1003.encode(self.functionData.input["Title"]);self._dlgTitle.innerHTML=title==""?"&nbsp;":title;msg=_1003.encode(self.functionData.input["Message"]);self._dlgMessage.innerHTML=msg==""?"&nbsp;":msg;switch(self.functionData.input["Icon"]){case 16:dojo.addClass(self._dlgIcon,"misc-gui-imgIconError");dojo.addClass(self._dlgMessage,"misc-gui-message-icon");break;case 32:dojo.addClass(self._dlgIcon,"misc-gui-imgIconQuestion");dojo.addClass(self._dlgMessage,"misc-gui-message-icon");break;case 48:dojo.addClass(self._dlgIcon,"misc-gui-imgIconWarning");dojo.addClass(self._dlgMessage,"misc-gui-message-icon");break;case 64:dojo.addClass(self._dlgIcon,"misc-gui-imgIconInfo");dojo.addClass(self._dlgMessage,"misc-gui-message-icon");break;default:dojo.addClass(self._dlgMessage,"misc-gui-message-noicon");break;}switch(self.functionData.input["Buttons"]){case 0:self._btnValues=[1,0,0];_1006=1;break;case 1:self._btnValues=[1,2,0];_1006=2;break;case 2:self._btnValues=[3,4,5];_1006=3;break;case 3:self._btnValues=[6,7,2];_1006=3;break;case 4:self._btnValues=[6,7,0];_1006=2;break;case 5:self._btnValues=[4,2,0];_1006=2;break;default:self._btnValues=[1,0,0];_1006=1;break;}_1007=[self._btn0,self._btn1,self._btn2];for(i=0;i<3;i++){_1008=_1007[i];if(self._btnValues[i]==0){dojo.addClass(_1008,"misc-gui-bnt-hidden");}else{dojo.removeClass(_1008,"misc-gui-bnt-hidden");}switch(self._btnValues[i]){case 1:_1008.innerHTML="<span>OK</span>";break;case 2:_1008.innerHTML="<span>Cancel</span>";break;case 3:_1008.innerHTML="<span>Abort</span>";break;case 4:_1008.innerHTML="<span>Retry</span>";break;case 5:_1008.innerHTML="<span>Ignore</span>";break;case 6:_1008.innerHTML="<span>Yes</span>";break;case 7:_1008.innerHTML="<span>No</span>";break;default:_1008.innerHTML="<span>OK</span>";break;}}if(_1006==3){dojo.addClass(self._btnSet,"misc-gui-bntset3");}else{if(_1006==2){dojo.addClass(self._btnSet,"misc-gui-bntset2");}else{dojo.addClass(self._btnSet,"misc-gui-bntset1");}}_1009=0;switch(self.functionData.input["DefaultButton"]){case 256:if(_1006>1){_1009=1;}break;case 512:if(_1006>2){_1009=2;}break;}_1007[_1009].focus();dojo.fadeIn({node:this._dlgContent,duration:100}).play();},_onButton:function(_100a){var self=this;self.functionData.output["ReturnValue"]=self._btnValues[_100a];self.functionData.input={};if(self.userInterfaceFunction){self.userInterfaceFunction.returnCall(self.functionData,null,this.screenId);}dojo.destroy(this.id);}});});},"viewer/object/_base":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/lang","dojo/dom-construct","../misc/common/_PrepareTag","../misc/gui/helpers/svg","../misc/gui/helpers/css","../animation/Resize","../animation/Command","../animation/Position","../animation/Disable","../animation/Tooltip","../animation/Color","../animation/Bargraph","../animation/ImgBargraph","../animation/Hyperlink","../animation/TrendPenAnimation","../animation/TextDataLink","../animation/UserInput","../animation/Rotation","../animation/Point","../animation/Blink","../animation/LineStyle","../animation/TextStyle","../animation/FillStyle","../animation/ElementStyle","../animation/AlarmBorder","../animation/Fill","../misc/enums","dojo/text!./_base.html","../misc/common/elementStyleContainer"],function(_100b,_100c,_100d,lang,_100e,_100f,_1010,_1011,_1012,_1013,_1014,_1015,_1016,_1017,_1018,_1019,_101a,_101b,_101c,_101d,_101e,_101f,_1020,_1021,_1022,_1023,_1024,_1025,_1026,enums,_1027,_1028){return _100b("viewer.object._base",[_100c,_100d,_100f],{templateString:_1027,_guiHelper:null,_svgGuiHelper:null,_lang:lang,_animations:null,_componentType:enums.EnumComponentType.SVG,_sharedScreenProperties:null,_parent:null,_cachedParent:null,_cachedChildren:null,_cachedParentScreen:null,_proColorName:"fill",_wrapperNode:null,_inflatedPosition:null,_specialBorder:false,disable:null,position:null,size:null,hint:null,item:null,border:null,pen:null,background:null,backgroundOrginal:null,font:null,translate:0,translateSpecified:0,id:0,visible:true,visibleHasUpdate:false,opacityHasUpdate:false,opacity:1,isCustomWidget:false,_attr:null,_isScreenTaskSync:false,_rotationNode:null,_rotationWrapperNode:null,_rotationAngle:null,_panWrapperNode:null,_panNode:null,_panValue:null,_sizeChangedPan:null,_originalGeometry:null,_initialGeometry:null,_bargraphCloneNode:null,_lineCapNode:null,_matrix:null,_cachedMatrixRect:null,_positionOffset:null,_relativeOrigin:null,_actualOrigin:null,_scaleRatio:null,_blinkLineInterval:null,_blinkFillInterval:null,_blinkTextInterval:null,_blinkOutlineInterval:null,_blinkInvisibleInterval:null,_outLineBlinkInvisibleInterval:null,_hasBlinkInvisible:false,_blinkInvisibleTime:0,_outlineRect:null,_outlineObj:null,_cachedInitObj:null,_latestStyles:null,_latestESContainsOverride:false,_latestQSContainsOverride:false,_isStartUp:false,_isIgnoreMouseOutAsRelease:false,_isIgnoreMouseReleaseEvent:false,_isIgnoreUpdatePosition:false,_goodStatusId:-1,_currentLineWeight:null,buildRendering:function(){this.isCustomWidget=this.declaredClass==="viewer.object.libraries.CustomWidget";switch(this._componentType){case enums.EnumComponentType.SVG:this._guiHelper=_1010;this._svgGuiHelper=_1010;break;case enums.EnumComponentType.REGULAR:case enums.EnumComponentType.CANVAS:this._guiHelper=_1011;this._svgGuiHelper=_1010;break;}if(!this._attr.font){this._attr.font=null;}if(this._attr.border&&this._attr.border.colorEx!=null&&this._attr.border.colorEx.style!=null){this._attr.border.color=this._attr.border.colorEx;}if(this._attr.pen&&this._attr.pen.colorEx!=null&&this._attr.pen.colorEx.style!=null){this._attr.pen.color=this._attr.pen.colorEx;}if(this._attr.font&&this._attr.font.fontColorEx!=null&&this._attr.font.fontColorEx.style!=null){this._attr.font.fontColor=this._attr.font.fontColorEx;}this._parseFont();this._reset();this._prepareOwnTag();this.inherited(arguments);this._getComponent();if(this._attr.position){this._initialGeometry={"x":parseFloat(this._attr.position.left),"y":parseFloat(this._attr.position.top),"w":parseFloat(this._attr.size.w),"h":parseFloat(this._attr.size.h)};}if(this._attr._animations){if(this._attr._animations.resize){this._attr._animations.resize=new _1012(this,this._attr._animations.resize);}if(this._attr._animations.command){this._attr._animations.command=new _1013(this,this._attr._animations.command);}if(this._attr._animations.rotation){this._attr._animations.rotation=new _101e(this,this._attr._animations.rotation);}if(this._attr._animations.animationPoint){this._attr._animations.animationPoint=new _101f(this,this._attr._animations.animationPoint);}if(this._attr._animations.animationDisable){this._attr._animations.animationDisable=new _1015(this,this._attr._animations.animationDisable);}if(this._attr._animations.animationTooltip){this._attr._animations.animationTooltip=new _1016(this,this._attr._animations.animationTooltip);}if(this._attr._animations.animationColor){this._attr._animations.animationColor=new _1017(this,this._attr._animations.animationColor);}if(this._attr._animations.bargraph){if(this._componentType&&this._componentType==enums.EnumComponentType.CANVAS){this._attr._animations.bargraph=new _1019(this,this._attr._animations.bargraph);}else{this._attr._animations.bargraph=new _1018(this,this._attr._animations.bargraph);}}if(this._attr._animations.fillPercent){this._attr._animations.fillPercent=new _1026(this,this._attr._animations.fillPercent);}if(this._attr._animations.hyperLink){this._attr._animations.hyperLink=new _101a(this,this._attr._animations.hyperLink);}if(this._attr._animations.animationTrendPen){this._attr._animations.animationTrendPen=new _101b(this,this._attr._animations.animationTrendPen);}if(this._attr._animations.textDataLink){this._attr._animations.textDataLink=new _101c(this,this._attr._animations.textDataLink);}if(this._attr._animations.animationAnalogUserInput){this._attr._animations.animationAnalogUserInput=new _101d(this,this._attr._animations.animationAnalogUserInput);}if(this._attr._animations.animationBooleanUserInput){this._attr._animations.animationBooleanUserInput=new _101d(this,this._attr._animations.animationBooleanUserInput);}if(this._attr._animations.animationStringUserInput){this._attr._animations.animationStringUserInput=new _101d(this,this._attr._animations.animationStringUserInput);}if(this._attr._animations.animationTimeUserInput){this._attr._animations.animationTimeUserInput=new _101d(this,this._attr._animations.animationTimeUserInput);}if(this._attr._animations.animationElapsedTimeUserInput){this._attr._animations.animationElapsedTimeUserInput=new _101d(this,this._attr._animations.animationElapsedTimeUserInput);}if(this._attr._animations.alarmBorder){this._attr._animations.alarmBorder=new _1025(this,this._attr._animations.alarmBorder);}if(this._attr._animations.animationLineStyle){this._attr._animations.animationLineStyle=new _1021(this,this._attr._animations.animationLineStyle);}if(this._attr._animations.animationTextStyle){this._attr._animations.animationTextStyle=new _1022(this,this._attr._animations.animationTextStyle);}if(this._attr._animations.animationFillStyle){this._attr._animations.animationFillStyle=new _1023(this,this._attr._animations.animationFillStyle);}if(this._attr._animations.animationBlink){this._attr._animations.animationBlink=new _1020(this,this._attr._animations.animationBlink);}if(this._attr._animations.animationElementStyle){this._attr._animations.animationElementStyle=new _1024(this,this._attr._animations.animationElementStyle);}if(this._attr._animations.animationPosition){this._attr._animations.animationPosition=new _1014(this,this._attr._animations.animationPosition);}}if(this._attr.pen&&!this._attr.border){this._attr.border=this._attr.pen;}this._parseBorder();if(this._clickable){this._xComponent.style.pointerEvents="visible";}},destroy:function(){this.clearAllBlink();if(this._attr._animations){for(var anim in this._attr._animations){if(this._attr._animations[anim]){this._attr._animations[anim].destroy();}delete this._attr._animations[anim];this._attr._animations[anim]=null;}}this.inherited(arguments);},startup:function(){this.inherited(arguments);this._guiHelper.addClass(this.domNode,"noSelectable");this._guiHelper.addClass(this.domNode,"viewer-style-common-object");this._setNonScalingStroke(this.domNode);this._setNonScalingStroke(this._xComponent);if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){dojo.style(this.domNode,"overflow","visible");}this.cacheAttr();if(this._attr._animations){if(this._attr._animations.resize){this._attr._animations.resize.startup();}if(this._attr._animations.command){this._attr._animations.command.startup();}if(this._attr._animations.rotation){this._attr._animations.rotation.startup();}if(this._attr._animations.animationPoint){this._attr._animations.animationPoint.startup();}if(this._attr._animations.animationDisable){this._attr._animations.animationDisable.startup();}if(this._attr._animations.animationTooltip){this._attr._animations.animationTooltip.startup();}if(this._attr._animations.animationColor){this._attr._animations.animationColor.startup();}if(this._attr._animations.bargraph){this._attr._animations.bargraph.startup();}if(this._attr._animations.fillPercent){this._attr._animations.fillPercent.startup();}if(this._attr._animations.hyperLink){this._attr._animations.hyperLink.startup();}if(this._attr._animations.animationTrendPen){this._attr._animations.animationTrendPen.startup();}if(this._attr._animations.textDataLink){this._attr._animations.textDataLink.startup();}if(this._attr._animations.animationAnalogUserInput){this._attr._animations.animationAnalogUserInput.startup();}if(this._attr._animations.animationBooleanUserInput){this._attr._animations.animationBooleanUserInput.startup();}if(this._attr._animations.animationStringUserInput){this._attr._animations.animationStringUserInput.startup();}if(this._attr._animations.animationTimeUserInput){this._attr._animations.animationTimeUserInput.startup();}if(this._attr._animations.animationElapsedTimeUserInput){this._attr._animations.animationElapsedTimeUserInput.startup();}if(this._attr._animations.animationElementStyle){this._attr._animations.animationElementStyle.startup();}if(this._attr._animations.animationLineStyle){this._attr._animations.animationLineStyle.startup();}if(this._attr._animations.animationTextStyle){this._attr._animations.animationTextStyle.startup();}if(this._attr._animations.animationFillStyle){this._attr._animations.animationFillStyle.startup();}if(this._attr._animations.animationBlink){this._attr._animations.animationBlink.startup();}if(this._attr._animations.alarmBorder){this._attr._animations.alarmBorder.startup();}if(this._attr._animations.animationPosition){this._attr._animations.animationPosition.startup();}}if(this._rotationAngle){this.updateRotation();}if(this._attr.background&&this._isColorAvailable(this._attr.background)){if(!this._attr.background.typeName){this._attr.background.typeName="AF";}}if(this._attr.border&&this._attr.border.color&&this._isColorAvailable(this._attr.border.color)){if(!this._attr.border.color.typeName){this._attr.border.color.typeName="AL";}this.setLineColor({"lineColor":this._attr.border.color});}else{if(this._attr.pen&&this._attr.pen.color&&this._isColorAvailable(this._attr.pen.color)){if(!this._attr.pen.color.typeName){this._attr.pen.color.typeName="AL";}this.setLineColor({"lineColor":this._attr.pen.color});}}if(this._attr.pen&&(this._attr.pen.startCapType!=enums.EnumLineCapType.FLAT||this._attr.pen.endCapType!=enums.EnumLineCapType.FLAT)){this._setLineCapStyle(this._attr.pen);}if(this._attr.font&&this._attr.font.fontColor&&this._isColorAvailable(this._attr.font.fontColor)){if(!this._attr.font.fontColor.typeName){this._attr.font.fontColor.typeName="AT";}this.setTextColor({"fontColor":this._attr.font.fontColor});}if(this._attr.elementStyleID>0){var _1029=false;var _102a=this._containsStyleOverride(this._getElementStyleProperty());if(_102a||this._latestESContainsOverride!=_102a){_1029|=true;this._latestESContainsOverride=_102a;}if(_1029){var _102b=this._updateStyles();this._executeBlinks(_102b);}}this._isStartUp=true;},_getComponent:function(){if(this.domNode.className==="object-action-textBox"){if(this._attr.password){this._xComponent=this._txtField;this.domNode.removeChild(this._txtAreaField);}else{this._xComponent=this._txtAreaField;this.domNode.removeChild(this._txtField);}}else{if(this.domNode.className==="object-action-editBox"){this._xComponent=this._txtAreaField;this.domNode.removeChild(this._txtField);}}},getParentScreen:function(){if(this._cachedParentScreen!=null){return this._cachedParentScreen;}var _102c=this;do{if(_102c._getCachedParent){_102c=_102c._getCachedParent();}if(!_102c||!_102c.getParent){return null;}}while((!(_102c.screenName&&(_102c.screenId||_102c.screenId===0))));this._cachedParentScreen=_102c;return _102c;},cacheAttr:function(){if(!this._cachedInitObj){this._cachedInitObj={};}this._cachedInitObj.position=this._attr.position?this._lang.clone(this._attr.position):null;this._cachedInitObj.size=this._attr.size?this._lang.clone(this._attr.size):null;this._cachedInitObj.elementStyleID=this._attr.elementStyleID?this._lang.clone(this._attr.elementStyleID):null;this._cachedInitObj.matrix=this._attr.matrix?this._lang.clone(this._attr.matrix):null;if(this.points!=null){this._cachedInitObj.points=this._lang.clone(this.points);}},resetAttrFromCache:function(){if(!this._cachedInitObj){return;}this._scaleRatio=null;this._positionOffset={"x":0,"y":0};this._latestStyles=null;this._latestESContainsOverride=false;this._latestQSContainsOverride=false;this._relativeOrigin=null;this._actualOrigin=null;this._goodStatusId=-1;this._hasBlinkInvisible=false;this._attr.position=this._cachedInitObj.position?lang.clone(this._cachedInitObj.position):this._attr.position;this._attr.size=this._cachedInitObj.size?lang.clone(this._cachedInitObj.size):this._attr.size;this._attr.matrix=this._cachedInitObj.matrix?lang.clone(this._cachedInitObj.matrix):null;this._originalGeometry={"x":this._attr.position.left,"y":this._attr.position.top,"w":this._attr.size.w,"h":this._attr.size.h};if(this._cachedInitObj.points){this.points=this._lang.clone(this._cachedInitObj.points);}if(this._cachedInitObj.elementStyleID){this._attr.elementStyleID=this._cachedInitObj.elementStyleID;this._attr.elementStyleName=null;}if(this._attr.matrix==null||this._attr.matrix==""){this._svgGuiHelper.setTransform(this.domNode,null);}this._set_attrAttr(this._attr);},updateDOM:function(){if(!this._attr._animations){return;}this._reset();if(this._attr._animations.resize){this._attr._animations.resize.update();}if(this._attr._animations.command){this._attr._animations.command.update();}if(this._attr._animations.rotation){this._attr._animations.rotation.update();}if(this._attr._animations.animationPoint){this._attr._animations.animationPoint.update();}if(this._attr._animations.animationDisable){this._attr._animations.animationDisable.update();}if(this._attr._animations.animationTooltip){this._attr._animations.animationTooltip.update();}if(this._attr._animations.animationColor){this._attr._animations.animationColor.update();}if(this._attr._animations.bargraph){this._attr._animations.bargraph.update();}if(this._attr._animations.fillPercent){this._attr._animations.fillPercent.update();}if(this._attr._animations.hyperLink){this._attr._animations.hyperLink.update();}if(this._attr._animations.animationTrendPen){this._attr._animations.animationTrendPen.update();}if(this._attr._animations.animationAnalogUserInput){this._attr._animations.animationAnalogUserInput.update();}if(this._attr._animations.animationBooleanUserInput){this._attr._animations.animationBooleanUserInput.update();}if(this._attr._animations.animationStringUserInput){this._attr._animations.animationStringUserInput.update();}if(this._attr._animations.animationTimeUserInput){this._attr._animations.animationTimeUserInput.update();}if(this._attr._animations.animationElapsedTimeUserInput){this._attr._animations.animationElapsedTimeUserInput.update();}if(this._attr._animations.animationLineStyle){this._attr._animations.animationLineStyle.update();}if(this._attr._animations.animationTextStyle){this._attr._animations.animationTextStyle.update();}if(this._attr._animations.animationFillStyle){this._attr._animations.animationFillStyle.update();}if(this._attr._animations.textDataLink){this._attr._animations.textDataLink.update();}if(this._attr._animations.animationBlink){this._attr._animations.animationBlink.update();}if(this._attr._animations.animationElementStyle){this._attr._animations.animationElementStyle.update();}if(this._attr._animations.alarmBorder){this._attr._animations.alarmBorder.update();}if(this._attr._animations.animationPosition){this._attr._animations.animationPosition.update();}if(!this.visible&&this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._svgGuiHelper.addClass(this.domNode,"viewer-style-common-invisible");}},hide:function(){this.clearAllBlink();this._isStartUp=false;},show:function(){this._isStartUp=true;this.resetAttrFromCache();var _102d=this._updateStyles(false,true,true);this._executeBlinks(_102d,true,true);},_setWidthAttr:function(v){this._setGeometryValue(null,null,v,null);this._guiHelper.setWidth(this.domNode,v+"px");this._inflate();},_setHeightAttr:function(v){this._setGeometryValue(null,null,null,v);this._guiHelper.setHeight(this.domNode,v+"px");this._inflate();},_setTopAttr:function(v){this._setGeometryValue(null,v,null,null);this._guiHelper.setTop(this.domNode,v+"px");this._inflate();},_setLeftAttr:function(v){this._setGeometryValue(v,null,null,null);this._guiHelper.setLeft(this.domNode,v+"px");this._inflate();},_getTopAttr:function(){return this._attr.position.top;},_getLeftAttr:function(){return this._attr.position.left;},_getPositionAttr:function(){return this._attr.position;},_setPositionAttr:function(v){this._attr.position=v;this._attr.position.right=parseFloat(this._attr.position.right);this._attr.position.left=parseFloat(this._attr.position.left);this._attr.position.bottom=parseFloat(this._attr.position.bottom);this._attr.position.top=parseFloat(this._attr.position.top);this.parseInflate();var _102e={w:Math.max(0,(this._attr.position.right-this._attr.position.left)),h:Math.max(0,(this._attr.position.bottom-this._attr.position.top))};this._setTopAttr(this._attr.position.top);this._setLeftAttr(this._attr.position.left);this._setSizeAttr(_102e);},_getSizeAttr:function(){return this._attr.size;},_setSizeAttr:function(v){this._attr.size=v;this._setWidthAttr(this._attr.size.w);this._setHeightAttr(this._attr.size.h);},_parseBorder:function(){if(!this._attr.border){return;}this._attr.border=this._guiHelper.parseBorderStyle(this._attr.border);if(this._componentType===enums.EnumComponentType.REGULAR){this._guiHelper.setBorderStyle(this.domNode,this._attr.border.style);this._guiHelper.setBorderWidth(this.domNode,this._attr.border.width);this._guiHelper.setBorderColor(this.domNode,this._attr.border.color);return;}switch(this._attr.border.origin.style){case enums.EnumBorderStyle.NO_LINE:case enums.EnumBorderStyle.SOLIDE_LINE:case enums.EnumBorderStyle.DASHED_LINE:case enums.EnumBorderStyle.LONGDASH_LINE:case enums.EnumBorderStyle.SHORTDASH_LINE:case enums.EnumBorderStyle.DOTS_LINE:case enums.EnumBorderStyle.DASHDOTDASH_LINE:case enums.EnumBorderStyle.DASHDOTDOTDASH_LINE:this._guiHelper.setStrokeDasharray(this._xComponent||this.domNode,this._attr.border.style);this._guiHelper.setStrokeWidth(this._xComponent||this.domNode,this._attr.border.width);this._guiHelper.setStroke(this._xComponent||this.domNode,this._attr.border.color);break;case enums.EnumBorderStyle.ETCHED:case enums.EnumBorderStyle.RAISED:case enums.EnumBorderStyle.SUNKEN:this._specialBorder=true;this._guiHelper.setBorderStyle(this.domNode,this._attr.border.style);this._guiHelper.setBorderWidth(this.domNode,this._attr.border.origin.width);this._guiHelper.setBorderColor(this.domNode,this._attr.border.origin.color);break;}if(!this._attr.border.origin.color){this._guiHelper.setBorderColor(this.domNode,"rgb(255,255,255)");}this.parseInflate();},_parseFont:function(){if(!this._attr.font){return;}this._attr.font.fontDecoration="";this._attr.font.fontWeight="";this._attr.font.fontStyle="";if(this._attr.font.style.toLowerCase().indexOf("underline")!==-1){this._attr.font.fontDecoration+=" underline";}if(this._attr.font.style.toLowerCase().indexOf("strikeout")!==-1){this._attr.font.fontDecoration+=" line-through";}if(this._attr.font.style.toLowerCase().indexOf("bold")!==-1){this._attr.font.fontWeight+=" bold";}if(this._attr.font.style.toLowerCase().indexOf("italic")!==-1){this._attr.font.fontStyle+=" italic";}},_reset:function(){this._attr.size={w:Math.max(0,(this._attr.position.right-this._attr.position.left)),h:Math.max(0,(this._attr.position.bottom-this._attr.position.top))};},_getCommandNodeAttr:function(){return this.domNode;},_getLineWeight:function(){var _102f=this._getCurLineWeight();return _102f!=null?_102f:0;},_getOutlineLineWeight:function(){var _1030=this._getCurOutlineWeight();return _1030!=null?_1030:0;},parseInflate:function(){if(!this._attr.border){return;}var _1031=this._attr.border.width;this._inflatedPosition={};this._inflatedPosition.factor=parseFloat(_1031)/2;if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._inflatedPosition.factor=Math.ceil(this._inflatedPosition.factor);}this._inflatedPosition.right=parseFloat(this._attr.position.right)+this._inflatedPosition.factor;this._inflatedPosition.bottom=parseFloat(this._attr.position.bottom)+this._inflatedPosition.factor;this._inflatedPosition.left=parseFloat(this._attr.position.left)-this._inflatedPosition.factor;this._inflatedPosition.top=parseFloat(this._attr.position.top)-this._inflatedPosition.factor;if(this._animations&&this._animations.fillPercent){this._animations.fillPercent._updateClip();}},setColor:function(color){color.gradient=this._attr.background?this._attr.background.gradient:null;if(color.gradient==null&&color.style==null){color.style="Solid";}this._guiHelper.setColor(this._xComponent,color,this._proColorName,this._attr.size.w,this._attr.size.h);if(color.gradient&&this._attr.background){this._attr.background.gradient=color.gradient;}},resetColor:function(){if(this._attr.background){this._guiHelper.setColor(this._xComponent,this._attr.background,this._proColorName,this._attr.size.w,this._attr.size.h);}},_getClonedComponentAttr:function(){return lang.clone(this._xComponent);},_getComponentAttr:function(){return this._xComponent;},_getCachedParent:function(){return this._cachedParent;},_getCachedChildren:function(){if(this._cachedChildren!=null){return this._cachedChildren;}if(this._children!=null){return this._children;}this._cachedChildren=this.getChildren();return this._cachedChildren;},setCachedParent:function(v){if(v==null||this._cachedParent==v){return;}this._cachedParent=v;if(v._setCachedParent){if(v._cachedChildren==null){v._cachedChildren=new Array();}v._cachedChildren.push(this);}},_setParentAttr:function(value){this._parent=value;},_getScaleAttr:function(v){if(!this._parent){return 1;}return this._parent.getScale();},_getFrameScaleAttr:function(v){if(!this._parent){return 1;}return this._parent._getFrameScaleAttr();},getGUIHelper:function(){return this._guiHelper;},getAnimation:function(_1032){switch(_1032){case enums.EnumAnimations.RESIZE:return this._attr._animations.resize;case enums.EnumAnimations.COMMAND:return this._attr._animations.command;case enums.EnumAnimations.DISABLE:return this._attr._animations.animationDisable;case enums.EnumAnimations.POINT:return this._attr._animations.animationPoint;case enums.EnumAnimations.TOOLTIP:return this._attr._animations.animationTooltip;case enums.EnumAnimations.COLOR:return this._attr._animations.animationColor;case enums.EnumAnimations.BARGRAPH:return this._attr._animations.bargraph;case enums.EnumAnimations.FILLPERCENT:return this._attr._animations.fillPercent;case enums.EnumAnimations.HYPERLINK:return this._attr._animations.hyperLink;case enums.EnumAnimations.TEXT_DATA_LINK:return this._attr._animations.textDataLink;case enums.EnumAnimations.USERINPUT_ANALOG:return this._attr._animations.animationAnalogUserInput;case enums.EnumAnimations.USERINPUT_BOOLEAN:return this._attr._animations.animationBooleanUserInput;case enums.EnumAnimations.USERINPUT_STRING:return this._attr._animations.animationStringUserInput;case enums.EnumAnimations.USERINPUT_TIME:return this._attr._animations.animationTimeUserInput;case enums.EnumAnimations.USERINPUT_ELAPSEDTIME:return this._attr._animations.animationElapsedTimeUserInput;case enums.EnumAnimations.ROTATION:return this._attr._animations.rotation;case enums.EnumAnimations.LINESTYLE:return this._attr._animations.animationLineStyle;case enums.EnumAnimations.FILLSTYLE:return this._attr._animations.animationFillStyle;case enums.EnumAnimations.TEXTSTYLE:return this._attr._animations.animationTextStyle;case enums.EnumAnimations.ELEMENTSTYLE:return this._attr._animations.animationElementStyle;case enums.EnumAnimations.POSITION:return this._attr._animations.animationPosition;case enums.EnumAnimations.BLINK:return this._attr._animations.animationBlink;default:return null;}},_getWrapperNodeAttr:function(){if(this._wrapperNode===null){return this.domNode;}return this._wrapperNode;},_setWrapperNodeAttr:function(n){this._wrapperNode=n;},_inflate:function(){},_setVisibility:function(_1033){if(!_1033){this._svgGuiHelper.addClass(this.domNode,"viewer-style-common-invisible");}else{this._svgGuiHelper.removeClass(this.domNode,"viewer-style-common-invisible");}this._setOutlineVisibility(_1033);},_setOutlineVisibility:function(_1034){if(this._outlineObj&&this._outlineObj.isShown){if(_1034){this._svgGuiHelper.removeClass(this._outlineObj.svg,"viewer-style-common-invisible");_1011.setVisibility(this._outlineObj.svg,"inherit");}else{this._svgGuiHelper.addClass(this._outlineObj.svg,"viewer-style-common-invisible");}}},getParentBlinkSpeedTime:function(){var _1035=this._getCachedParent();if(_1035==null||_1035.getParentBlinkSpeedTime==null){return 0;}return _1035.getParentBlinkSpeedTime();},isVisible:function(_1036){var _1037=this.visible&&this._getParentVisibleAttr(_1036);if(!_1036||!this._blinkInvisibleInterval){return _1037;}if(!this._blinkInvisibleTime||this._blinkInvisibleTime<=0||!this._syncBlinkContainer){return _1037;}if(this._blinkInvisibleTime<=1){return _1037&&this._syncBlinkContainer._syncBlinkFastShowing;}else{if(this._blinkInvisibleTime<=2){return _1037&&this._syncBlinkContainer._syncBlinkMedShowing;}else{return _1037&&this._syncBlinkContainer._syncBlinkSlowShowing;}}},_getParentVisibleAttr:function(_1038){var _1039=this._getCachedParent();if(_1039==null){return true;}return _1039._getParentVisibleAttr!=null?_1039.isVisible(_1038):true;},applyDisable:function(anim,_103a){this.disable=(isNaN(_103a)===true?0:_103a);},_setDisableAttr:function(v){this.disable=(isNaN(v)===true?0:v);this.applyDisable(null,this.disable);},isDisabled:function(){if(isNaN(this.disable)===true||isNaN(parseInt(this.disable))){return false;}return parseInt(this.disable)!==0||this._getParentDisableAttr();},_getParentDisableAttr:function(){var _103b=this._getCachedParent();if(_103b==null){return false;}return _103b._getParentDisableAttr!=null?_103b.isDisabled():false;},_setBlinkInvisible:function(_103c,_103d){},_set_attrAttr:function(v){this._attr=v;if(this._originalGeometry===null){this._originalGeometry={"x":this._attr.position.left,"y":this._attr.position.top,"w":this._attr.size.w,"h":this._attr.size.h};}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._positionOffset={"x":0,"y":0};if(this._attr.size.w<=0&&!this.isVLine()){this._scaleRatio=this._scaleRatio!=null?this._scaleRatio:{"x":0,"y":1};this._scaleRatio.x=0;this._attr.matrix=this._attr.matrix!=null&&this._attr.matrix!=""?this._attr.matrix:"1,0,0,1,0,0";}if(this._attr.size.h<=0&&!this.isHLine()){this._scaleRatio=this._scaleRatio!=null?this._scaleRatio:{"x":1,"y":0};this._scaleRatio.y=0;this._attr.matrix=this._attr.matrix!=null&&this._attr.matrix!=""?this._attr.matrix:"1,0,0,1,0,0";}this._setMatrix(this._attr.matrix);}this._setPositionAttr(this._attr.position);if(this._attr.rotateAngle){this._setAngle(this._attr.rotateAngle);}if(this._sizeChangedPan===null){this._sizeChangedPan={"x":0,"y":0};}if(this._attr.transparency){this.opacity=(100-this._attr.transparency)/100;if(this.opacity>1){this.opacity=1;}else{if(this.opacity<=0){this.opacity=0.000001;}}this.applyOpacity(this.opacity);}if(!this._attr.visible&&this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.visible=false;if(!this._attr._animations||!this._attr._animations.animationPosition){this._svgGuiHelper.addClass(this.domNode,"viewer-style-common-invisible");}}},_getRootContainer:function(){var _103e=this._getCachedParent();do{if(_103e.declaredClass&&_103e._attr&&_103e.declaredClass=="viewer.object.Group"&&_103e._getCachedParent!=null){var _103f=_103e._getCachedParent();if(!_103f){return _103e;}_103e=_103f;}else{break;}}while(true);return _103e;},_getGroupContainer:function(){var _1040=this._getCachedParent();var _1041=this._getRootContainer();if(_1040===_1041){return null;}do{if(_1040.declaredClass&&_1040._attr&&_1040.declaredClass=="viewer.object.Group"&&_1040._getCachedParent!=null){var _1042=_1040._getCachedParent();if(!_1042||_1042===_1041){return _1040;}_1040=_1042;}else{break;}}while(true);return _1040;},_getParentTotalMatrix:function(){var _1043=this._getCachedParent();if(_1043.declaredClass&&_1043._attr&&_1043.declaredClass=="viewer.object.Group"){return _1043._getCurrentTotalMatrix();}return [1,0,0,1,0,0];},_getCurrentTotalMatrix:function(){var _1044=this._getCurrentMatrix();var _1045=this._getCachedParent();if(_1045!=null&&_1045.declaredClass&&_1045._attr&&_1045.declaredClass=="viewer.object.Group"){return this._svgGuiHelper.multiplyMatrix(_1044,_1045._getCurrentTotalMatrix());}return _1044;},_getCurrentActualTotalMatrix:function(){var _1046=this._getCurrentActualMatrix();var _1047=this._getCachedParent();if(_1047!=null&&_1047.declaredClass&&_1047._attr&&_1047.declaredClass=="viewer.object.Group"){return this._svgGuiHelper.multiplyMatrix(_1046,_1047._getCurrentTotalMatrix());}return _1046;},_getCurrentMatrix:function(_1048,_1049){var _104a=_1049!=null?_1049:this._matrix;var _104b;if(_104a!=null&&_104a!=""){_104b=_104a.split(",");if(_104b.length>=6){for(var i=0;i<_104b.length;i++){_104b[i]=parseFloat(_104b[i]);}}else{_104b=null;}}if(_104b==null){_104b=[1,0,0,1,0,0];}if(_104b[0]==0&&_1048!=null&&!_1048){_104b[0]=1;}if(_104b[3]==0&&_1048!=null&&!_1048){_104b[3]=1;}return _104b;},_getCurrentActualMatrix:function(){return this._getCurrentMatrix();},_getInvertMatrix:function(_104c){return this._svgGuiHelper.getInvertMatrix(_104c);},_getCurrentMatrixOrigin:function(){if(this._actualOrigin){return this._actualOrigin;}if(this._relativeOrigin){return this._relativeOrigin;}if(this._originalGeometry){return {"x":this._originalGeometry.x,"y":this._originalGeometry.y};}return {"x":parseFloat(this._attr.position.left),"y":parseFloat(this._attr.position.top)};},_getAbsBoundBaseRect:function(){if(this.declaredClass=="viewer.object.shape.Line"){var _104d=this._getCurLineWeight();var _104e=parseFloat(_104d);if(_104e){if(this.points.length==2){if(this._originalGeometry.w==0){this._originalGeometry.x-=_104e/2;this._originalGeometry.w=_104e;}if(this._originalGeometry.h==0){this._originalGeometry.y-=_104e/2;this._originalGeometry.h=_104e;}}}}return this._originalGeometry;},_getAbsBoundsPointsMatrix:function(_104f){if(_104f){return this._getCurrentMatrix(false);}else{return this._svgGuiHelper.multiplyMatrix(this._getCurrentMatrix(),this._getParentTotalMatrix());}},_getAbsBoundsPoints:function(_1050,_1051,_1052){var rect=_1052?this._originalGeometry:this._getAbsBoundBaseRect();var x=parseFloat(rect.x);var y=parseFloat(rect.y);var w=parseFloat(rect.w);var h=parseFloat(rect.h);var _1053=this._getAbsBoundsPointsMatrix(_1051);var p1=this._svgGuiHelper.transformPoint(_1053,x,y);var p2=this._svgGuiHelper.transformPoint(_1053,x+w,y);var p3=this._svgGuiHelper.transformPoint(_1053,x+w,y+h);var p4=this._svgGuiHelper.transformPoint(_1053,x,y+h);if(_1050!=null){return [p1,p2,p3,p4,this._svgGuiHelper.transformPoint(_1053,x-_1050,y-_1050),this._svgGuiHelper.transformPoint(_1053,x+w+_1050,y-_1050),this._svgGuiHelper.transformPoint(_1053,x+w+_1050,y+h+_1050),this._svgGuiHelper.transformPoint(_1053,x-_1050,y+h+_1050)];}else{return [p1,p2,p3,p4];}},_getAbsBounds:function(_1054){var _1055=_1054;if(_1054==null){_1055=this._getAbsBoundsPoints();}var l=Math.min(_1055[0].x,_1055[1].x,_1055[2].x,_1055[3].x);var r=Math.max(_1055[0].x,_1055[1].x,_1055[2].x,_1055[3].x);var t=Math.min(_1055[0].y,_1055[1].y,_1055[2].y,_1055[3].y);var b=Math.max(_1055[0].y,_1055[1].y,_1055[2].y,_1055[3].y);return {"x":l,"y":t,"w":r-l,"h":b-t};},_setMatrix:function(v){if(v!=null&&typeof (v)==="string"&&v!==""){v=v.replace(/\s/g,"");var _1056=v.split("|");var _1057=null;var _1058=null;if(_1056.length>1){var _1059=_1056[1].split(",");if(_1059.length>1){if(this._relativeOrigin===null){this._relativeOrigin={"x":parseFloat(_1059[0]),"y":parseFloat(_1059[1])};}else{this._relativeOrigin.x=parseFloat(_1059[0]);this._relativeOrigin.y=parseFloat(_1059[1]);}_1057=this._relativeOrigin.x;_1058=this._relativeOrigin.y;}}if(_1056.length>2){this._updateScaledMatrix(_1056[2],_1056.length>3?_1056[3]:null);}this._matrix=_1056[0];this._setMatrixOrigin();this._applyMatrix(this._matrix,_1057,_1058);}else{this._matrix="";}if(this._attr._animations&&this._attr._animations.animationPosition){this._attr._animations.animationPosition.updateStartPan();}},_setMatrixOrigin:function(_105a,_105b){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._positionOffset){var left=parseFloat(this._attr.position.left);var top=parseFloat(this._attr.position.top);var _105c=_105a?parseFloat(_105a):left;var _105d=_105b?parseFloat(_105b):top;if(_105a!=null||_105b!=null){var _105e=_105c-left;var _105f=_105d-top;if(_105e===this._positionOffset.x&&_105f===this._positionOffset.y){return;}this._positionOffset.x=_105e;this._positionOffset.y=_105f;}if(this._relativeOrigin!=null){left=this._relativeOrigin.x;top=this._relativeOrigin.y;}else{left*=-1;top*=-1;}this._actualOrigin={"x":(left-this._positionOffset.x),"y":(top-this._positionOffset.y)};this._guiHelper.applyOrigin(this._getWrapperNodeAttr(),{"x":this._actualOrigin.x+"px","y":this._actualOrigin.y+"px"});}},_setAngle:function(v){var _1060=false;if(v.isFlipped!==undefined&&v.isFlipped.toString().toLowerCase()==="true"){_1060=true;}if(this._rotationAngle==null){var _1061=parseFloat(v.relativeOrigin.x);var _1062=parseFloat(v.relativeOrigin.y);if((this._originalGeometry.w&1)&&Math.abs((this._originalGeometry.w/2)-_1061)<0.6){_1061=this._originalGeometry.w/2;}if((this._originalGeometry.h&1)&&Math.abs((this._originalGeometry.h/2)-_1062)<0.6){_1062=this._originalGeometry.h/2;}var x=_1061/(this._originalGeometry.w>=1?this._originalGeometry.w:1)*100;var y=_1062/(this._originalGeometry.h>=1?this._originalGeometry.h:1)*100;if(isNaN(x)){x=50;}if(isNaN(y)){y=50;}this._rotationAngle={"x":x,"y":y,"angle":v.angle,"isFlipped":_1060};}this._rotationAngle={"x":this._rotationAngle.x,"y":this._rotationAngle.y,"angle":v.angle,"isFlipped":_1060};},_setHintAttr:function(v){this._attr.hint=v;},_applyMatrix:function(_1063,_1064,_1065,_1066){var _1067=_1063.replace(/ /g,"");if(this._scaleRatio){this._applyAdditionalScaleOnMatrix(this._scaleRatio.x,this._scaleRatio.y,_1066?_1067:null);}else{this._guiHelper.applyTransform(this._getWrapperNodeAttr(),{"matrix":"("+_1063+")"});}},_applyAdditionalScaleOnMatrix:function(_1068,_1069,_106a){if(this._matrix!=null){var _106b=this._getCurrentMatrix(null,_106a);if(_106b){var _106c=this._calAdditionalMatrix(_106b,_1068,_1069);var _106d=_106c.join(",");this._guiHelper.applyTransform(this._getWrapperNodeAttr(),{"matrix":"("+_106d+")"});}}},_calAdditionalMatrix:function(_106e,_106f,_1070){var _1071=this._getCurrentMatrixOrigin();var _1072=-1*_1071.x;var _1073=-1*_1071.y;_1072=_1072*(1-_106f);_1073=_1073*(1-_1070);return this._svgGuiHelper.multiplyMatrix([_106f,0,0,_1070,_1072,_1073],_106e);},applyOpacity:function(_1074){this._guiHelper.setOpacity(this.domNode,_1074);if(this._outlineObj){this._svgGuiHelper.setAttribute(this._outlineObj.svg,"opacity",_1074);}if(this._specialBorder===true){this._guiHelper.setBorderStyle(this.domNode,this._attr.border.style);this._guiHelper.setBorderWidth(this.domNode,this._attr.border.width);this._guiHelper.setBorderColor(this.domNode,"rgba(192,192,192,"+_1074+")");}},onScreenTaskSync:function(){this._isScreenTaskSync=true;},setOutlineColor:function(color){if(this.domNode){if(!this._outlineObj&&(color.lineColor||color.lineWeight||color.strokedasharray)){this._createOutline();}if(this._outlineObj&&!this._outlineObj.isShown){this._svgGuiHelper.setAttribute(this._outlineObj.svg,"display","inline");this._outlineObj.isShown=true;}if(this._outlineObj&&this._outlineObj.isShown&&color.lineColor){var _1075=color.lineColor.color;if(color.lineColor.stops||color.lineColor.patternStyle){_1075="URL(#"+this._svgGuiHelper.getGradientID(this._outlineObj.path,this._svgGuiHelper.cloneColor(color.lineColor),this._outlineRect.w,this._outlineRect.h,this._getCurOutlineWeight())+")";}this._svgGuiHelper.setStroke(this._outlineObj.path,_1075);}if(this._outlineObj&&this._outlineObj.isShown&&color.lineWeight){this._svgGuiHelper.setStrokeWidth(this._outlineObj.path,color.lineWeight);}if(this._outlineObj&&this._outlineObj.isShown&&color.strokedasharray){this._svgGuiHelper.setStrokeDasharray(this._outlineObj.path,color.strokedasharray);}}},stopOutline:function(){if(this._outlineObj){this._svgGuiHelper.setAttribute(this._outlineObj.svg,"display","none");this._outlineObj.isShown=false;}},_createOutline:function(){var _1076=this.createOutlineSvg();this._outlineObj={"svg":_1076[0],"path":_1076[1],"isShown":true,"assignToDirectParent":null};this._updateOutlineRect();},_updateOutlineRect:function(_1077){if(this._outlineObj&&this._outlineObj.isShown){var _1078;var _1079=this._getCachedParent();if(this._outlineRect&&_1079){_1078=true;}if(_1079._xComponent&&this._outlineObj.svg.parent==_1079._xComponent){var _107a=this._getRootContainer();if(_107a&&_107a!=_1079){_1078=false;}}this._outlineObj.assignToDirectParent=_1078;var _107b;if(this._attr&&this._attr._animations&&this._attr._animations.alarmBorder){_107b=this._attr._animations.alarmBorder._updateAlarmRect(_1078);}if(_107b==null){_107b=this.updateOutlineRect(this._outlineObj.svg,this._outlineObj.path,_1078);}var l=210000000;var t=210000000;var r=-210000000;var b=-210000000;for(var i=4;i<8;i++){var p=_107b[i];if(p.x<l){l=p.x;}if(p.x>r){r=p.x;}if(p.y<t){t=p.y;}if(p.y>b){b=p.y;}}if(!this._outlineRect){this._outlineRect={"x":l,"y":t,"w":r-l,"h":b-t};}else{this._outlineRect.x=l;this._outlineRect.y=t;this._outlineRect.w=r-l;this._outlineRect.h=b-t;}if(this.visible){this._svgGuiHelper.removeClass(this._outlineObj.svg,"viewer-style-common-invisible");}else{this._svgGuiHelper.addClass(this._outlineObj.svg,"viewer-style-common-invisible");}this._svgGuiHelper.setAttribute(this._outlineObj.svg,"opacity",this.opacity);}},createOutlineSvg:function(_107c,_107d,_107e){var _107f=this._svgGuiHelper.createElement("svg");this._svgGuiHelper.setAttribute(_107f,"fill","rgba(255,255,255,0)");this._svgGuiHelper.setAttribute(_107f,"class","viewer-style-common-object");if(this._attr.transparency){this._svgGuiHelper.setAttribute(_107f,"opacity",(100-this._attr.transparency)/100);}_107f.style.overflow="visible";_107f.style.position="absolute";var _1080=this._getGroupContainer();if(_1080==null||this.domNode){_100e.place(_107f,this.domNode,"after");}else{_100e.place(_107f,_1080.domNode,"after");}_107f.style.overflow="visible";var _1081=this._svgGuiHelper.createElement("path");var shape=_107f.firstElementChild;if(_107d){this._svgGuiHelper.setStrokeWidth(_1081,_107d+"px");}if(_107e){this._svgGuiHelper.setStrokeDasharray(_1081,_107e);}if(_107c){this._svgGuiHelper.setAttribute(_1081,"fill",_107c);}_1081.style.overflow="visible";_107f.appendChild(_1081);return [_107f,_1081];},updateOutlineRect:function(svg,path,_1082){var _1083=this._getAbsBoundsPoints(5+0.5*(this._getLineWeight()+this._getOutlineLineWeight()),_1082);var _1084=this._getAbsBounds(_1083);for(var i=0;i<_1083.length;i++){_1083[i].x-=_1084.x-1;_1083[i].y-=_1084.y-1;}this._svgGuiHelper.setLeft(svg,_1084.x-1+"px");this._svgGuiHelper.setTop(svg,_1084.y-1+"px");this._svgGuiHelper.setWidth(svg,_1084.w+2+"px");this._svgGuiHelper.setHeight(svg,_1084.h+2+"px");var svgW=_1084.w+2;var svgH=_1084.h+2;var svgX=svg.x?svg.x.animVal.value:0;var svgY=svg.y?svg.y.animVal.value:0;this._svgGuiHelper.setAttribute(path,"d","M"+_1083[4].x+","+_1083[4].y+" "+"L"+_1083[5].x+","+_1083[5].y+" "+"L"+_1083[6].x+","+_1083[6].y+" "+"L"+_1083[7].x+","+_1083[7].y+" "+"L"+_1083[4].x+","+_1083[4].y+" ");this._svgGuiHelper.setAttribute(path,"x",0);this._svgGuiHelper.setAttribute(path,"y",0);this._svgGuiHelper.setAttribute(path,"width",svgW);this._svgGuiHelper.setAttribute(path,"height",svgH);return _1083;},setLineColor:function(color){if(this._xComponent){var _1085,_1086,_1087;if(color.lineColor){_1085=color.lineColor.color;if(_1085==null&&typeof color.lineColor=="string"){_1085=color.lineColor;}if(color.lineColor.stops||color.lineColor.patternStyle){_1085="URL(#"+this._svgGuiHelper.getGradientID(this._xComponent,this._svgGuiHelper.cloneColor(color.lineColor),this._attr.size.w,this._attr.size.h,this._getCurLineWeight())+")";}if(color.startCapType!=enums.EnumLineCapType.FLAT||color.endCapType!=enums.EnumLineCapType.FAST){this._setLineCapColor(color.lineColor);}}if(color.lineWeight){_1086=color.lineWeight;}if(color.strokedasharray){_1087=color.strokedasharray;}var doms=[this._xComponent];if(this._bargraphCloneNode&&this._bargraphCloneNode.length>0){doms=doms.concat(this._bargraphCloneNode);}for(var i=0;i<doms.length;i++){var dom=doms[i];if(_1085){this._svgGuiHelper.setStroke(dom,_1085);}if(_1086){this._svgGuiHelper.setStrokeWidth(dom,_1086);}if(_1087){this._svgGuiHelper.setStrokeDasharray(dom,_1087);}}if(_1086&&this._animations&&this._animations.fillPercent){this._animations.fillPercent._updateClip(_1086);}}},setText:function(font){if(this._xComponent){if(this._xComponent.nodeName=="rect"){if(this._xText){if(font){this._svgGuiHelper.setAnimationText(this._xText,this._attr.caption,font,this._attr.size.w,this._attr.size.h);}}}else{if(font){this._svgGuiHelper.setAnimationText(this._xComponent,this._attr.caption,font,this._attr.size.w,this._attr.size.h);if(typeof (this._isTextSizeCalculated)!="undefined"){this._isTextSizeCalculated=false;this._compoundFont=this._xComponent.style.fontWeight+" "+this._xComponent.style.fontSize+" "+this._xComponent.style.fontFamily;this._parseBoxSize();}}}}},setTextColor:function(color){var _1088=this._xComponent;if(_1088){var c=color.fontColor&&color.fontColor.style&&color.fontColor.stops?color.fontColor:{style:enums.EnumColorExStyle.SOLID,color:color.fontColor};if(_1088.nodeName=="text"){this._svgGuiHelper.setColor(_1088,c,"fill",this._attr.size.w,this._attr.size.h);}else{var _1089=c.color;if(c.stops){_1089="url(#"+this._svgGuiHelper.getGradientID(_1088,this._svgGuiHelper.cloneColor(c),this._attr.size.w,this._attr.size.h)+")";}if(_1088.nodeName=="rect"&&this._xText){this._svgGuiHelper.setColor(this._xText,_1089);}else{this._svgGuiHelper.setCssColor(_1088,_1089);}}}},setFillColor:function(color){if(!color||(!color.fillColor&&!this._isColorAvailable(color)&&typeof color!="string")){return;}var _108a=this._xComponent;var c=color.fillColor?color.fillColor:color;if(c){c.gradient=c.gradient?c.gradient:null;if(!c.style){c.style="Solid";}}if(_108a){if(c){c.gradient=c.gradient?c.gradient:null;if(!c.style){c.style="Solid";}this._svgGuiHelper.setColor(_108a,c,"fill",this._attr.size.w,this._attr.size.h);}}},setUnfillColor:function(color,_108b){if(!_108b){return;}if(!color||(!color.unfillColor&&!this._isColorAvailable(color)&&typeof color!="string")){return;}var _108c,_108d;if(this._attr&&this._attr._animations&&this._attr._animations.fillPercent&&this._attr._animations.fillPercent._xUnFillH){_108c=this._attr._animations.fillPercent._xUnFillH;}if(this._attr&&this._attr._animations&&this._attr._animations.fillPercent&&this._attr._animations.fillPercent._xUnFillV){_108d=this._attr._animations.fillPercent._xUnFillV;}var c=color.unfillColor;if(c){c.gradient=c.gradient?c.gradient:null;if(!c.style){c.style="Solid";}}if(_108c){if(c){c.gradient=c.gradient?c.gradient:null;if(!c.style){c.style="Solid";}this._svgGuiHelper.setColor(_108c,c,"fill",this._attr.size.w,this._attr.size.h);}}if(_108d){if(c){c.gradient=c.gradient?c.gradient:null;if(!c.style){c.style="Solid";}this._svgGuiHelper.setColor(_108d,c,"fill",this._attr.size.w,this._attr.size.h);}}},_setProXAttr:function(v){if(isNaN(parseFloat(v))){return false;}var _108e=this._calAndUpdateGeometryProp(v,null,null,null);this._setLeftAttr(_108e.x);this.updateRotation();},_setProYAttr:function(v){if(isNaN(parseFloat(v))){return false;}var _108f=this._calAndUpdateGeometryProp(null,v,null,null);this._setTopAttr(_108f.y);this.updateRotation();},_setProWidthAttr:function(v){if(isNaN(parseFloat(v))){return false;}var delta=parseFloat(v)-this._attr.size.w;var _1090=this._calAndUpdateGeometryProp(null,null,v,null);this._setWidthAttr(_1090.w);if(delta>=1||delta<=-1){var _1091=this._calSizePropChangedShifting(delta,0);this._sizeChangedPan.x-=_1091.x;this._sizeChangedPan.y-=_1091.y;this._setGeometryValue(_1090.x-_1091.x,_1090.y-_1091.y,_1090.w,_1090.h);}this.updateRotation();},_setProHeightAttr:function(v){if(isNaN(parseFloat(v))){return false;}var delta=parseFloat(v)-this._attr.size.h;var _1092=this._calAndUpdateGeometryProp(null,null,null,v);this._setHeightAttr(_1092.h);if(delta>=1||delta<=-1){var _1093=this._calSizePropChangedShifting(0,delta);this._sizeChangedPan.x-=_1093.x;this._sizeChangedPan.y-=_1093.y;this._setGeometryValue(_1092.x-_1093.x,_1092.y-_1093.y,_1092.w,_1092.h);}this.updateRotation();},_setProAngleAttr:function(v){if(isNaN(parseFloat(v))){return false;}if(this._attr.rotateAngle){this._attr.rotateAngle.angle=v;this._setAngle(this._attr.rotateAngle);this.updateRotation();}else{this._rotationAngle={"x":50,"y":50,"angle":v};this.updateRotation();}},_setProMatrixAttr:function(v){if(this._isIgnoreUpdatePosition){if(this._cachedMatrixRect){this._cachedMatrixRect.matrix=v;}return;}if(v&&typeof (v)==="string"){this._setMatrix(v);this._updateOutlineRect();this._checkBoundary();}},_setProRectAttr:function(v){if(this._isIgnoreUpdatePosition){if(this._cachedMatrixRect){this._cachedMatrixRect.rect=v;}return;}if(v&&typeof (v)==="string"){var _1094=v.split("|");if(_1094.length>0){var _1095=_1094[0].split(",");this._attr.position.left=parseFloat(_1095[0]);this._attr.position.top=parseFloat(_1095[1]);var _1096=parseFloat(_1095[2]);var _1097=parseFloat(_1095[3]);this._attr.position.right=this._attr.position.left+_1096;this._attr.position.bottom=this._attr.position.top+_1097;var dom=this._getWrapperNodeAttr();this._guiHelper.setTop(dom,this._attr.position.top+"px");this._guiHelper.setLeft(dom,this._attr.position.left+"px");if(this._relativeOrigin===null){this._relativeOrigin={"x":-1*this._attr.position.left,"y":-1*this._attr.position.top};}else{this._relativeOrigin.x=-1*this._attr.position.left;this._relativeOrigin.y=-1*this._attr.position.top;}this._setMatrixOrigin();this._updateRectSize(_1096,_1097);this._originalGeometry={"x":parseFloat(this._attr.position.left),"y":parseFloat(this._attr.position.top),"w":parseFloat(this._attr.size.w),"h":parseFloat(this._attr.size.h)};this._inflate();this._updateOutlineRect();}if(_1094.length>1){this._updateRectScale(_1094[1],_1094.length>2?_1094[2]:null);}this._onAfterSetRectAttr();if(this._attr._animations!=null&&this._attr._animations.animationPosition!=null&&this._attr._animations.animationPosition._animProps!=null&&this._attr._animations.animationPosition._animProps.gestureEnable){var _1098=this._getCurrentMatrix();if(_1098!=null){this._applyMatrix(_1098.join(","));}}this._checkBoundary();}},_checkBoundary:function(){if(!this.declaredClass||this.declaredClass!="viewer.object.action.Text"){return;}var _1099=this.getParentScreen();if(!_1099||!_1099.setExtendedSize){return;}var _109a=this._getAbsBoundsPoints(null,null,true);var _109b=Math.max(_109a[0].x,_109a[1].x,_109a[2].x,_109a[3].x);var _109c=Math.max(_109a[0].y,_109a[1].y,_109a[2].y,_109a[3].y);_1099.setExtendedSize(_109b,_109c,this.id);},_setProTextAttr:function(v){if(this._setCaptionAttr&&v!=null){this._setCaptionAttr(v);}},_setProLineWeightAttr:function(v){if(v&&typeof (v)==="string"){var _109d=parseFloat(v);if(!isNaN(_109d)){this._currentLineWeight=_109d;if(this._attr._animations&&this._attr._animations.animationElementStyle&&this._attr._animations.animationElementStyle._curElementStyle){var _109e=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.WEIGHT);if(_109e&&_109e.lineWeight){return;}}this._updateStyles(true);}}},_setProVisibleAttr:function(v){if(this._attr._animations&&this._attr._animations.animationPosition&&this._attr._animations.animationPosition._updateVisibility){return;}if(v!=null&&v!==""){var _109f=this._convertToBool(v);if(_109f!=this.visible){this.visibleHasUpdate=true;}else{return;}this._svgGuiHelper.removeClass(this.domNode,"viewer-style-common-invisible");this.visible=_109f;this._setVisibility(this.isVisible());if(this.declaredClass&&this.declaredClass=="viewer.object.Group"){this.updateChildTextBoxCaption();}else{if(this.declaredClass&&this.declaredClass=="viewer.object.shape.Rectangle"){this.propertyVisibleChange();}}this._updateOutlineRect();}},setIgnoreUpdateMatrix:function(value){this._isIgnoreUpdatePosition=value;if(value){this._cachedMatrixRect={};}else{if(this._cachedMatrixRect!=null){if(this._cachedMatrixRect.rect!=null){this._setProRectAttr(this._cachedMatrixRect.rect);}if(this._cachedMatrixRect.matrix!=null){this._setProMatrixAttr(this._cachedMatrixRect.matrix);}this._cachedMatrixRect=null;}}},propertyVisibleChange:function(){},updateChildTextBoxCaption:function(){var _10a0=this.getChildrenAttr();for(var i=0;i<_10a0.length;i++){if(_10a0[i].declaredClass&&_10a0[i]._attr&&_10a0[i].declaredClass=="viewer.object.Group"){_10a0[i].updateChildTextBoxCaption();}else{if(_10a0[i].declaredClass&&_10a0[i]._attr&&_10a0[i].declaredClass=="viewer.object.shape.Rectangle"){_10a0[i].propertyVisibleChange();}}}},_setProTransparencyAttr:function(v){if(v!=null&&v!==""){var _10a1=parseFloat(v);var _10a2=(100-_10a1)/100;if(_10a2>1){_10a2=1;}else{if(_10a2<=0){_10a2=0.000001;}}if(_10a2!=this.opacity){this.opacityHasUpdate=true;}else{return;}if(!isNaN(_10a1)){this.opacity=_10a2;this.applyOpacity(this.opacity);}}},_setProStyleStatusAttr:function(v){if(!v||v===""){return;}var _10a3=JSON.parse(v);var _10a4=false;if(_10a3&&typeof _10a3.style!=="undefined"){this._updateStyleId(_10a3.style);var _10a5=this._containsStyleOverride(this._getElementStyleProperty());if(_10a5||this._latestESContainsOverride!=_10a5){_10a4|=true;this._latestESContainsOverride=_10a5;}}if(_10a3&&typeof _10a3.status!=="undefined"){if(!_1028.checkStatusById(_10a3.status)){_10a3.status=null;}this._updateStatusId(_10a3.status);var _10a5=this._containsStyleOverride(this._getQualityStatusProperty());if(_10a5||this._latestQSContainsOverride!=_10a5){_10a4|=true;this._latestQSContainsOverride=_10a5;}}if(this._isStartUp&&_10a4){var _10a6=this._updateStyles();this._executeBlinks(_10a6);}},_setProElementStyleAttr:function(v){if(!v||v===""){return;}this._updateStyleName(v);var _10a7=false;var _10a8=this._containsStyleOverride(this._getElementStyleProperty());if(_10a8||this._latestESContainsOverride!=_10a8){_10a7|=true;this._latestESContainsOverride=_10a8;}if(_10a7){var _10a9=this._updateStyles();this._executeBlinks(_10a9);}},_setProFillTrendAttr:function(v){},_setProHasTransparentColorAttr:function(v){},_setLineCapStyle:function(pen){if((pen.startCapType==enums.EnumLineCapType.FLAT||pen.startCapType==null)&&(pen.endCapType==enums.EnumLineCapType.FLAT||pen.endCapType==null)){return;}if(this._lineCapNode==null){var _10aa=null;if(this.templateString.indexOf("<svg")<0){_10aa=this._svgGuiHelper.createElement("svg");}else{_10aa=this._svgGuiHelper.createElement("g");}var defs=this._svgGuiHelper.createElement("defs");this._lineCapNode=defs;if(pen.startCapType!=enums.EnumLineCapType.FLAT){this._markerStartNode=this._svgGuiHelper.getLineCapDom(pen.startCapType+"Start",pen.color,pen.startCapSize,pen.width);this._xComponent.setAttribute("marker-start","url(#"+this._markerStartNode.getAttribute("id")+")");}if(pen.endCapType!=enums.EnumLineCapType.FLAT){this._markerEndNode=this._svgGuiHelper.getLineCapDom(pen.endCapType+"End",pen.color,pen.endCapSize,pen.width);this._xComponent.setAttribute("marker-end","url(#"+this._markerEndNode.getAttribute("id")+")");}if(this._markerStartNode){defs.appendChild(this._markerStartNode);}if(this._markerEndNode){defs.appendChild(this._markerEndNode);}_10aa.appendChild(defs);this.domNode.appendChild(_10aa);}else{if(this._markerStartNode!=null){this._svgGuiHelper.updateLineCapDom(this._markerStartNode,pen.startCapType+"Start",pen.color,pen.startCapSize,pen.width);}if(this._markerEndNode!=null){this._svgGuiHelper.updateLineCapDom(this._markerEndNode,pen.endCapType+"End",pen.color,pen.endCapSize,pen.width);}}},_setLineCapColor:function(_10ab){if(this._markerStartNode){if(typeof _10ab=="string"){this._markerStartNode.firstChild.setAttribute("fill",_10ab);}else{if(_10ab.color){this._markerStartNode.firstChild.setAttribute("fill",_10ab.color);}else{if(_10ab.stops){this._markerStartNode.firstChild.setAttribute("fill",_10ab.stops[0].color);}}}}if(this._markerEndNode){if(typeof _10ab=="string"){this._markerEndNode.firstChild.setAttribute("fill",_10ab);}else{if(_10ab.color){this._markerEndNode.firstChild.setAttribute("fill",_10ab.color);}else{if(_10ab.stops){this._markerEndNode.firstChild.setAttribute("fill",_10ab.stops[_10ab.stops.length-1].color);}}}}},_updateStyleName:function(name){this._attr.elementStyleName=name;},_updateStyleId:function(id){this._attr.elementStyleID=id;},_updateStatusId:function(id){this._attr.qualityStatusID=id;},_onAfterSetRectAttr:function(){},_updateRectSize:function(_10ac,_10ad){this._attr.size.w=_10ac;this._attr.size.h=_10ad;var dom=this._getWrapperNodeAttr();this._guiHelper.setWidth(dom,_10ac+"px");this._guiHelper.setHeight(dom,_10ad+"px");if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.setWidth(this._bargraphCloneNode[i],_10ac+"px");this._guiHelper.setHeight(this._bargraphCloneNode[i],_10ad+"px");}}if(this._animations&&this._animations.fillPercent){this._animations.fillPercent._updateClip();}},_updateScaledSize:function(_10ae,_10af){var _10b0=0;if(this._inflatedPosition!=null&&this._inflatedPosition.factor){_10b0=this._inflatedPosition.factor;}else{if(this._attr.border&&this._attr.border.width){_10b0=this._attr.border.width/2;}}var _10b1=this._getScales(parseFloat(_10ae)+_10b0*2,parseFloat(_10af)+_10b0*2,this._initialGeometry.w+_10b0*2,this._initialGeometry.h+_10b0*2,_10b0*2);if(!this._scaleRatio){this._scaleRatio={};}this._scaleRatio.x=_10b1.x;this._scaleRatio.y=_10b1.y;this._applyAdditionalScaleOnMatrix(_10b1.x,_10b1.y);},_updateToInitialSize:function(){var dom=this._getWrapperNodeAttr();var _10b2=0;if(this._inflatedPosition!=null&&this._inflatedPosition.factor!=null){_10b2=this._inflatedPosition.factor;}else{if(this._attr.border&&this._attr.border.width){_10b2=this._attr.border.width/2;}}var _10b3=this._initialGeometry.w+_10b2*2;var _10b4=this._initialGeometry.h+_10b2*2;this._guiHelper.setWidth(dom,_10b3+"px");this._guiHelper.setHeight(dom,_10b4+"px");if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.setWidth(this._bargraphCloneNode[i],_10b3+"px");this._guiHelper.setHeight(this._bargraphCloneNode[i],_10b4+"px");}}},_updateScaledMatrix:function(_10b5,_10b6){},_updateRectScale:function(_10b7,_10b8){},_getScales:function(_10b9,_10ba,_10bb,_10bc,_10bd){var _10be=_10bd?_10bd:0;var _10bf=0;var _10c0=1;var _10c1=1;var w=_10b9;var h=_10ba;if(w<_10bf){w=_10bf;}if(h<_10bf){h=_10bf;}_10c0=w/(_10bb>0?_10bb:1);_10c1=h/(_10bc>0?_10bc:1);if(_10b9-_10be<=0&&!this.isVLine()){_10c0=0;}if(_10ba-_10be<=0&&!this.isHLine()){_10c1=0;}return {"x":_10c0,"y":_10c1};},isHLine:function(){if(this.isLine&&this.points&&this.points.length&&this.points.length>1){var _10c2=this.points[0].y;for(var i=1;i<this.points.length;i++){if(Math.abs(this.points[i].y-_10c2)>0){return false;}}return true;}return false;},isVLine:function(){if(this.isLine&&this.points&&this.points.length&&this.points.length>1){var _10c3=this.points[0].x;for(var i=1;i<this.points.length;i++){if(Math.abs(this.points[i].x-_10c3)>0){return false;}}return true;}return false;},updateRotation:function(){if(!this._rotationAngle||this._matrix!=null){return;}var _10c4=this._inflatedPosition||this._attr.position;var width=Math.max(Math.abs(_10c4.right-_10c4.left),1);var _10c5=Math.max(Math.abs(_10c4.bottom-_10c4.top),1);var _10c6=(Math.PI*this._rotationAngle.angle/180);var _10c7=_10c4.left-this._originalGeometry.x+(width-Math.max(this._originalGeometry.w,1))*this._rotationAngle.x/100;var _10c8=_10c4.top-this._originalGeometry.y+(_10c5-Math.max(this._originalGeometry.h,1))*this._rotationAngle.y/100;if(this._rotationNode===null){this._rotationWrapperNode=this._getWrapperNodeAttr();this._rotationNode=_100e.create("div");_100e.place(this._rotationNode,this._rotationWrapperNode,"replace");_100e.place(this._rotationWrapperNode,this._rotationNode,"only");this._guiHelper.setPosition(this._rotationNode,"absolute");this._setWrapperNodeAttr(this._rotationNode);}if(this._getWrapperNodeAttr()===this._rotationNode){this._guiHelper.setLeft(this._rotationNode,(_10c4.left-_10c7)+"px");this._guiHelper.setTop(this._rotationNode,(_10c4.top-_10c8)+"px");this._guiHelper.setLeft(this._rotationWrapperNode,_10c7+"px");this._guiHelper.setTop(this._rotationWrapperNode,_10c8+"px");}else{this._guiHelper.setLeft(this._rotationNode,_10c7+"px");this._guiHelper.setTop(this._rotationNode,_10c8+"px");}if(this._rotationNode){this._guiHelper.setWidth(this._rotationNode,width+"px");this._guiHelper.setHeight(this._rotationNode,_10c5+"px");}this._guiHelper.applyOrigin(this._rotationNode,{"x":this._rotationAngle.x+"%","y":this._rotationAngle.y+"%"});this._guiHelper.applyTransform(this._rotationNode,{"rotate":"("+this._rotationAngle.angle+"deg)"});this._updatePan(_10c7,_10c8);},_updatePan:function(_10c9,_10ca){if(this._matrix!=null){return;}if(this._panValue){var _10cb=this._inflatedPosition||this._attr.position;var width=Math.abs(_10cb.right-_10cb.left);var _10cc=Math.abs(_10cb.bottom-_10cb.top);if(this._panNode===null){this._panWrapperNode=this._getWrapperNodeAttr();this._panNode=_100e.create("div");_100e.place(this._panNode,this._panWrapperNode,"replace");_100e.place(this._panWrapperNode,this._panNode,"only");this._guiHelper.setPosition(this._panNode,"absolute");this._setWrapperNodeAttr(this._panNode);}if(this._getWrapperNodeAttr()===this._panNode){this._guiHelper.setLeft(this._panNode,(_10cb.left-(_10c9?_10c9:0))+"px");this._guiHelper.setTop(this._panNode,(_10cb.top-(_10ca?_10ca:0))+"px");this._guiHelper.setLeft(this._panWrapperNode,"0px");this._guiHelper.setTop(this._panWrapperNode,"0px");}else{this._guiHelper.setLeft(this._panNode,"0px");this._guiHelper.setTop(this._panNode,"0px");}if(this._panNode){this._guiHelper.setWidth(this._panNode,width+"px");this._guiHelper.setHeight(this._panNode,_10cc+"px");}var _10cd=this._calActualPanShifting(this._panValue.x,this._panValue.y,this._rotationAngle?this._rotationAngle.isFlipped:false);this._guiHelper.applyOrigin(this._panNode,{"x":this._panValue.originX+"%","y":this._panValue.originY+"%"});this._guiHelper.applyTransform(this._panNode,{"translate":"("+_10cd.x+"px,"+_10cd.y+"px)"});}},_setPanValue:function(x,y,_10ce,_10cf){if(this._panValue){this._panValue.x=x;this._panValue.y=y;this._panValue.originX=_10ce;this._panValue.originY=_10cf;}else{this._panValue={"x":x,"y":y,"originX":_10ce,"originY":_10cf};}},_setGeometryValue:function(newX,newY,_10d0,_10d1,_10d2){if(this._matrix&&!_10d2){return;}var _10d3=0;var _10d4=0;var _10d5=0;var _10d6=0;if(newX!=null){_10d3=parseFloat(newX)-this._attr.position.left;this._attr.position.left+=_10d3;this._attr.position.right+=_10d3;this._originalGeometry.x=this._attr.position.left;}if(newY!=null){_10d4=parseFloat(newY)-this._attr.position.top;this._attr.position.top+=_10d4;this._attr.position.bottom+=_10d4;this._originalGeometry.y=this._attr.position.top;}if(_10d0!=null){_10d5=parseFloat(_10d0)-this._attr.size.w;this._attr.size.w+=_10d5;this._attr.position.right+=_10d5;this._originalGeometry.w=this._attr.size.w;}if(_10d1!=null){_10d6=parseFloat(_10d1)-this._attr.size.h;this._attr.size.h+=_10d6;this._attr.position.bottom+=_10d6;this._originalGeometry.h=this._attr.size.h;}if(this._inflatedPosition){this._inflatedPosition.left+=_10d3;this._inflatedPosition.right+=_10d3+_10d5;this._inflatedPosition.top+=_10d4;this._inflatedPosition.bottom+=_10d4+_10d6;}},_setNonScalingStroke:function(node){if(node&&this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){dojo.style(node,"vectorEffect","non-scaling-stroke");}},_calAndUpdateGeometryProp:function(_10d7,_10d8,_10d9,_10da){var _10db=0;var _10dc=0;var _10dd=0;var _10de=0;var _10df=this._getPositionAttr();var size=this._getSizeAttr();if(_10d7!=null){_10db=parseFloat(_10d7)-_10df.left+this._sizeChangedPan.x;this._sizeChangedPan.x=0;}if(_10d8!=null){_10dc=parseFloat(_10d8)-_10df.top+this._sizeChangedPan.y;this._sizeChangedPan.y=0;}if(_10d9!=null){_10dd=parseFloat(_10d9)-size.w;}if(_10da!=null){_10de=parseFloat(_10da)-size.h;}return {"x":this._attr.position.left+_10db,"y":this._attr.position.top+_10dc,"w":this._attr.size.w+_10dd,"h":this._attr.size.h+_10de};},_calSizePropChangedShifting:function(_10e0,_10e1){var _10e2=0;var _10e3=0;if(this._rotationAngle){var _10e4=this._rotationAngle.angle%360;if(_10e4<0){_10e4+=360;}var _10e5=_10e0*this._rotationAngle.x/100;var _10e6=_10e1*this._rotationAngle.y/100;_10e2=-1*_10e5;_10e3=-1*_10e6;if(_10e4>=0&&_10e4<90){_10e3+=_10e1;}else{if(_10e4>=90&&_10e4<270){_10e3+=_10e1;_10e2+=_10e0;}else{if(_10e4>=180&&_10e4<270){_10e3+=_10e1;_10e2+=_10e0;}else{if(_10e4>=270&&_10e4<360){_10e2+=_10e0;}}}}var _10e7=this._calActualPanShifting(_10e2,_10e3,false);_10e2=_10e5+_10e7.x;_10e3=_10e6+_10e7.y;}return {"x":_10e2,"y":_10e3};},_calRotatedPoint:function(x,y,_10e8,_10e9,angle){var _10ea=(Math.PI*angle/180);var _10eb=_10e8-(_10e8-x)*Math.cos(_10ea)+(_10e9-y)*Math.sin(_10ea);var _10ec=_10e9-(_10e8-x)*Math.sin(_10ea)-(_10e9-y)*Math.cos(_10ea);return {"x":_10eb,"y":_10ec};},_calActualPanShifting:function(_10ed,_10ee,_10ef){var _10f0=_10ed;var _10f1=_10ee;if(this._rotationAngle&&(this._rotationAngle.angle!=0||_10ef)){var _10f2=this._rotationAngle.angle;var _10f3=1;if(_10ef){_10f3=-1;}_10f2=(Math.PI*_10f2/180);_10f0=_10f3*_10ed*Math.cos(_10f2)-_10ee*Math.sin(_10f2);_10f1=_10f3*_10ed*Math.sin(_10f2)+_10ee*Math.cos(_10f2);}return {"x":_10f0,"y":_10f1};},_convertToBool:function(obj){if(obj==null){return false;}var str=obj.toString().toUpperCase();if(str==="TRUE"||str==="1"){return true;}if(parseFloat(str)>0){return true;}return false;},_isColorAvailable:function(c){return c&&(c.color||c.stops||c.patternStyle||(typeof c=="string"&&c.toLowerCase().indexOf("rgb")==0));},_updateStyles:function(_10f4,_10f5,_10f6){var _10f7=this._isStyleUpdated(_10f5);if(_10f4||_10f7){this._updateFillLineTextStyles(_10f6||_10f5);this._updateOutlineStyles(_10f6||_10f5);}else{if(this._outlineObj&&this._outlineObj.assignToDirectParent){this._updateOutlineRect(_10f6||_10f5);}}return _10f7;},_isStyleUpdated:function(_10f8){var _10f9=false;if(!this._latestStyles){this._latestStyles={"widget":this};}if(this._attr._animations&&this._attr._animations.alarmBorder){var _10fa=!this._attr._animations.alarmBorder.alarmIsNone?this._attr._animations.alarmBorder._curStyle:null;_10f9|=this._latestStyles.alarmBorder!=_10fa;this._latestStyles.alarmBorder=_10fa;}else{this._latestStyles.alarmBorder=null;}if(this._attr._animations&&this._attr._animations.animationElementStyle){_10f9|=this._latestStyles.animationElementStyle!=this._attr._animations.animationElementStyle._curElementStyle;this._latestStyles.animationElementStyle=this._attr._animations.animationElementStyle._curElementStyle;}else{this._latestStyles.animationElementStyle=null;}if(this._attr._animations&&this._attr._animations.animationFillStyle){_10f9|=this._latestStyles.animationFillStyle!=this._attr._animations.animationFillStyle._curStyle;this._latestStyles.animationFillStyle=this._attr._animations.animationFillStyle._curStyle;}else{this._latestStyles.animationFillStyle=null;}if(this._attr._animations&&this._attr._animations.animationLineStyle){_10f9|=this._latestStyles.animationLineStyle!=this._attr._animations.animationLineStyle._curStyle;this._latestStyles.animationLineStyle=this._attr._animations.animationLineStyle._curStyle;}else{this._latestStyles.animationLineStyle=null;}if(this._attr._animations&&this._attr._animations.animationTextStyle){_10f9|=this._latestStyles.animationTextStyle!=this._attr._animations.animationTextStyle._curStyle;this._latestStyles.animationTextStyle=this._attr._animations.animationTextStyle._curStyle;}else{this._latestStyles.animationTextStyle=null;}if(this._attr._animations&&this._attr._animations.animationBlink){_10f9|=this._latestStyles.animationBlink!=this._attr._animations.animationBlink._curBlink||this._latestStyles.animationBlinkIsExecute!=this._attr._animations.animationBlink._isExcuteBlink;this._latestStyles.animationBlink=this._attr._animations.animationBlink._curBlink;this._latestStyles.animationBlinkIsExecute=this._attr._animations.animationBlink._isExcuteBlink;}else{this._latestStyles.animationBlink=null;this._latestStyles.animationBlinkIsExecute=false;}if(this._attr.qualityStatusID!=null&&this._attr.qualityStatusID>=0){_10f9|=this._latestStyles.qualityStatus!=this._attr.qualityStatusID;this._latestStyles.qualityStatus=this._attr.qualityStatusID;}else{this._latestStyles.qualityStatus=null;}if(this._attr.elementStyleName!=null&&this._attr.elementStyleName!==""){_10f9|=this._latestStyles.elementStyleName!=this._attr.elementStyleName;this._latestStyles.elementStyleName=this._attr.elementStyleName;}else{this._latestStyles.elementStyleName=this._attr.elementStyleName;}if(this._attr.elementStyleID!=null&&this._attr.elementStyleID>0){_10f9|=this._latestStyles.elementStyleId!=this._attr.elementStyleID;this._latestStyles.elementStyleId=this._attr.elementStyleID;}else{this._latestStyles.elementStyleId=null;}if(!_10f9&&_10f8){var _10fb=this._getCachedParent();if(_10fb!=null&&_10fb._isStyleUpdated!=null){_10f9|=_10fb._isStyleUpdated(_10f8);}}return _10f9;},_updateFillLineTextStyles:function(_10fc){var _10fd=this._getCurLineColor();var _10fe=this._getCurLineWeight();var _10ff=this._getCurLinePattern();var _1100=this._getCurFillColor();var _1101=this._getCurUnfillColor();var _1102=this._getCurFontStyle();var _1103=this._getCurFontColor();if(this._attr.border||this._attr.pen||_10fd!=null||_10fe!=null||_10ff!=null){var _1104={lineColor:_10fd,lineWeight:_10fe,strokedasharray:_10ff,startCapType:this._attr.pen?this._attr.pen.startCapType:null,endCapType:this._attr.pen?this._attr.pen.endCapType:null};this._updateLineWeightAndStyle(_1104);this.setLineColor(_1104);}if(this._attr.background&&_1100!=null){var _1105={fillColor:this._svgGuiHelper.cloneColor(_1100)};var _1106={unfillColor:this._svgGuiHelper.cloneColor(_1101)};this.setFillColor(_1105);this.setUnfillColor(_1106,true);}if(this._attr.font&&(_1103||_1102)){this.setTextColor({"fontColor":_1103});if(_1102&&_1102.name){var _1107={name:_1102.name,sizeInPoints:_1102.sizeInPoints,style:_1102.style,fontColor:_1103,fontWeight:_1102.fontweight,};this.setText(_1107);}}},_updateOutlineStyles:function(_1108){var _1109=this._getCurOutlineColor();var _110a=this._getCurOutlineWeight();var _110b=this._getCurOutlinePattern();var _110c=false;if(_1109!=null||_110a!=null||_110b!=null){var _110d={lineColor:_1109,lineWeight:_110a,strokedasharray:_110b};this.setOutlineColor(_110d);this._updateOutlineWeightAndStyle(_110d);_110c=true;}else{this.stopOutline();}if(_110c){this._updateOutlineRect(_1108);}},_updateOutlineWeightAndStyle:function(_110e){if(_110e&&this._outlineObj&&this._outlineObj.isShown){if(_110e.lineWeight!=null){this._svgGuiHelper.setStrokeWidth(this._outlineObj.path,_110e.lineWeight);}if(_110e.linePattern){this._svgGuiHelper.setStrokeDasharray(this._outlineObj.path,_110e.linePattern);}}},_updateLineWeightAndStyle:function(_110f){if(_110f&&this._xComponent){var _1110,_1111;if(_110f.lineWeight!=null){_1110=_110f.lineWeight;}if(_110f.linePattern){_1111=_110f.linePattern;}var doms=[this._xComponent];if(this._bargraphCloneNode&&this._bargraphCloneNode.length>0){doms=doms.concat(this._bargraphCloneNode);}for(var i=0;i<doms.length;i++){var dom=doms[i];if(_1110){this._svgGuiHelper.setStrokeWidth(dom,_1110);}if(_1111){this._svgGuiHelper.setStrokeDasharray(dom,_1111);}}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(_1110&&this._attr._animations&&this._attr._animations.fillPercent){this._attr._animations.fillPercent._updateClip(_1110);}}else{if(_1110&&this._animations&&this._animations.fillPercent){this._animations.fillPercent._updateClip(_1110);}}}},_getQualityStatusProperty:function(){if(this._attr.qualityStatusID!=null&&this._attr.qualityStatusID>=0){var style=_1028.getStatusById(this._attr.qualityStatusID);if(style.type!="Good"){return style;}}},_getGoodStatusId:function(){if(this._goodStatusId<0){this._goodStatusId=_1028.getGoodStatusId();}return this._goodStatusId;},_getElementStyleProperty:function(){if(this._attr.elementStyleName!=null&&this._attr.elementStyleName!==""){return _1028.getStyleByName(this._attr.elementStyleName);}if(this._attr.elementStyleID>0){return _1028.getStyleByName(this._attr.elementStyleID);}else{return null;}},_getCurStyle:function(_1112,prop,_1113,flag,_1114){var _1115=null;var _1116=null;if(flag!=enums.EnumGetElementStyleFlag.PROPERTY_ONLY){if(_1112==enums.EnumElementStyleType.OUTLINESTYLE){if(this._attr._animations&&this._attr._animations.alarmBorder&&!this._attr._animations.alarmBorder.alarmIsNone&&this._attr._animations.alarmBorder._curStyle&&this._attr._animations.alarmBorder._curStyle.Outline&&this._attr._animations.alarmBorder._curStyle.Outline.status==true){var _1117=this._getStyleSettingsFromStyle(this._attr._animations.alarmBorder._curStyle,_1112);if(_1117!=null){_1117.isAnimAlarmBorder=true;if(_1117.blink!=null){_1117.blink.isAnimAlarmBorder=true;}return _1117;}}}var _1118=this._getQualityStatusProperty();if(_1118){var _1117=this._getStyleSettingsFromStyle(_1118,_1112);if(_1117!=null&&this._containsStyleProperty(_1117,prop)){_1117.isQS=true;if(_1117.blink!=null){_1117.blink.isQS=true;}return _1117;}}if(_1112!=enums.EnumElementStyleType.OUTLINESTYLE){_1116=this._getCachedParent();var _1119=_1116!=null&&_1116._getCurStyle?_1116._getCurStyle(_1112,prop,_1113,enums.EnumGetElementStyleFlag.QS_ONLY):null;if(_1119!=null){return _1119;}}if(flag==enums.EnumGetElementStyleFlag.QS_ONLY){return null;}if(this._attr._animations){if(this._attr._animations.animationElementStyle&&this._attr._animations.animationElementStyle._curElementStyle&&(!_1113||(_1112==enums.EnumElementStyleType.FILLSTYLE&&this._attr._animations.animationElementStyle._curElementStyle.FillStyle&&this._attr._animations.animationElementStyle._curElementStyle.FillStyle.blink&&this._attr._animations.animationElementStyle._curElementStyle.FillStyle.blink.blink!="None")||(_1112==enums.EnumElementStyleType.LINESTYLE&&this._attr._animations.animationElementStyle._curElementStyle.LineStyle&&this._attr._animations.animationElementStyle._curElementStyle.LineStyle.blink&&this._attr._animations.animationElementStyle._curElementStyle.LineStyle.blink.blink!="None")||(_1112==enums.EnumElementStyleType.TEXTSTYLE&&this._attr._animations.animationElementStyle._curElementStyle.TextStyle&&this._attr._animations.animationElementStyle._curElementStyle.TextStyle.blink&&this._attr._animations.animationElementStyle._curElementStyle.TextStyle.blink.blink!="None")||(_1112==enums.EnumElementStyleType.OUTLINESTYLE&&this._attr._animations.animationElementStyle._curElementStyle.Outline&&this._attr._animations.animationElementStyle._curElementStyle.Outline.blink&&this._attr._animations.animationElementStyle._curElementStyle.Outline.blink.blink!="None"))){var _1117=this._getStyleSettingsFromStyle(this._attr._animations.animationElementStyle._curElementStyle,_1112);if(_1117!=null){_1117.isAnimES=true;if(_1117.blink!=null){_1117.blink.isAnimES=true;}if(this._containsStyleProperty(_1117,prop)){return _1117;}else{if(prop==null){return _1117;}}_1115=_1117;}}if(!_1113){if(_1112==enums.EnumElementStyleType.FILLSTYLE&&this._attr._animations.animationFillStyle&&this._attr._animations.animationFillStyle._curStyle){var _111a={"FillStyle":this._attr._animations.animationFillStyle._curStyle};_111a.FillStyle.status=true;var _1117=this._getStyleSettingsFromStyle(_111a,_1112);if(_1117!=null&&this._containsStyleProperty(_1117,prop)){_1117.isAnimFS=true;if(_1117.blink!=null){_1117.blink.isAnimFS=true;}return _1117;}}else{if(_1112==enums.EnumElementStyleType.LINESTYLE&&this._attr._animations.animationLineStyle&&this._attr._animations.animationLineStyle._curStyle){var _111a={"LineStyle":this._attr._animations.animationLineStyle._curStyle};_111a.LineStyle.status=true;var _1117=this._getStyleSettingsFromStyle(_111a,_1112);if(_1117!=null&&this._containsStyleProperty(_1117,prop)){_1117.isAnimLS=true;if(_1117.blink!=null){_1117.blink.isAnimLS=true;}return _1117;}}else{if(_1112==enums.EnumElementStyleType.TEXTSTYLE&&this._attr._animations.animationTextStyle&&this._attr._animations.animationTextStyle._curStyle){var _111a={"TextStyle":this._attr._animations.animationTextStyle._curStyle};_111a.TextStyle.status=true;var _1117=this._getStyleSettingsFromStyle(_111a,_1112);if(_1117!=null&&this._containsStyleProperty(_1117,prop)){_1117.isAnimTS=true;if(_1117.blink!=null){_1117.blink.isAnimTS=true;}return _1117;}}}}}else{if(this._attr._animations.animationBlink&&this._attr._animations.animationBlink._curBlink&&this._attr._animations.animationBlink._isExcuteBlink){var _1117=this._attr._animations.animationBlink._curBlink;var _111b={"blink":{},"isExecuteBlink":this._attr._animations.animationBlink._isExcuteBlink,"status":true};if(_1112==enums.EnumElementStyleType.FILLSTYLE&&_1117.fillColor&&this._isColorAvailable(_1117.fillColor)){if(!_1117.fillColor.typeName){_1117.fillColor.typeName="BF";}_111b.blink=this._svgGuiHelper.cloneColor(_1117.fillColor);_111b.blink.blink=_1117.blink;_111b.isAnimBlink=true;if(_111b.blink!=null){_111b.blink.isAnimBlink=true;}return _111b;}else{if(_1112==enums.EnumElementStyleType.LINESTYLE&&_1117.lineColor&&this._isColorAvailable(_1117.lineColor)){if(!_1117.lineColor.typeName){_1117.lineColor.typeName="BL";}_111b.blink=this._svgGuiHelper.cloneColor(_1117.lineColor);_111b.blink.blink=_1117.blink;_111b.isAnimBlink=true;if(_111b.blink!=null){_111b.blink.isAnimBlink=true;}return _111b;}else{if(_1112==enums.EnumElementStyleType.TEXTSTYLE&&_1117.textColor&&this._isColorAvailable(_1117.textColor)){if(!_1117.textColor.typeName){_1117.textColor.typeName="BT";}_111b.blink=this._svgGuiHelper.cloneColor(_1117.textColor);_111b.blink.blink=_1117.blink;_111b.isAnimBlink=true;if(_111b.blink!=null){_111b.blink.isAnimBlink=true;}return _111b;}}}}}}if(_1112!=enums.EnumElementStyleType.OUTLINESTYLE&&_1114!==true){_1116=this._getCachedParent();var _1119=_1116!=null&&_1116._getCurStyle?_1116._getCurStyle(_1112,prop,_1113,enums.EnumGetElementStyleFlag.ANIMATION_ONLY):null;if(_1119!=null){return _1119;}}}if(flag==enums.EnumGetElementStyleFlag.ANIMATION_ONLY){return null;}var _111c=this._getElementStyleProperty();var _111d=this._getStyleSettingsFromStyle(_111c,_1112);var _1117=null;if(_111d!=null&&_1115!=null){_1117=this._lang.clone(_1115);_1117.isES=true;if(_1117.blink!=null){_1117.blink.isES=true;}if(_1112==enums.EnumElementStyleType.FILLSTYLE){if(!_1115.color&&_111d.color){_1117.color=_111d.color;}if(!_1115.blink&&_111d.blink){_1117.blink=_111d.blink;}}else{if(_1112==enums.EnumElementStyleType.LINESTYLE){if(!_1115.lineColor&&_111d.lineColor){_1117.lineColor=_111d.lineColor;}if(!_1115.lineColor.color&&_111d.lineColor.color){_1117.lineColor=_111d.lineColor;}if(!_1115.blink&&_111d.blink){_1117.blink=_111d.blink;}if((!_1115.linePattern||_1117.linePattern=="NoLine")&&_111d.linePattern){_1117.linePattern=_111d.linePattern;}if(!_1115.lineWeight&&_111d.lineWeight){_1117.lineWeight=_111d.lineWeight;}}else{if(_1112==enums.EnumElementStyleType.TEXTSTYLE){if(!_1115.font&&_111d.font){_1117.font=_111d.font;}if(!_1115.font.fontColor&&_111d.font.fontColor){_1117.font.fontColor=_111d.font.fontColor;}if(!_1115.blink&&_111d.blink){_1117.blink=_111d.blink;}}else{if(_1112==enums.EnumElementStyleType.OUTLINESTYLE){if(!_1115.lineColor&&_111d.lineColor){_1117.lineColor=_111d.lineColor;}if(!_1115.blink&&_111d.blink){_1117.blink=_111d.blink;}if(!_1115.linePattern&&_111d.linePattern){_1117.linePattern=_111d.linePattern;}if(!_1115.lineWeight&&_111d.lineWeight){_1117.lineWeight=_111d.lineWeight;}}}}}}else{if(_111d!=null&&_1115==null){_1117=this._lang.clone(_111d);_1117.isES=true;if(_1117.blink!=null){_1117.blink.isES=true;}}}if(_1117!=null&&this._containsStyleProperty(_1117,prop)){return _1117;}if(_1112!=enums.EnumElementStyleType.OUTLINESTYLE){_1116=_1116?_1116:this._getCachedParent();var _1119=_1116!=null&&_1116._getCurStyle&&_1116._attr.treatAsIcon?_1116._getCurStyle(_1112,prop,_1113,enums.EnumGetElementStyleFlag.PROPERTY_ONLY):null;if(_1119){return _1119;}}return null;},_isQualityGood:function(_111e){if(_111e==null){return true;}return (_111e>=this._getGoodStatusId())&&(_111e!=65535);},_containsStyleProperty:function(_111f,prop){if((prop==enums.EnumStyleProperty.COLOR&&((_111f.color&&this._isColorAvailable(_111f.color))||(_111f.lineColor&&this._isColorAvailable(_111f.lineColor))||(_111f.font&&_111f.font.fontColor&&(this._isColorAvailable(_111f.font.fontColor)))))||(prop==enums.EnumStyleProperty.WEIGHT&&_111f.lineWeight&&parseFloat(_111f.lineWeight)>=0)||(prop==enums.EnumStyleProperty.PATTERN&&_111f.linePattern&&_111f.linePattern!=""&&_111f.linePattern!="NoLine")||(prop==enums.EnumStyleProperty.FONT&&_111f.font&&_111f.font.name)||(prop==enums.EnumStyleProperty.BLINKCOLOR&&this._containsStyleBlink(_111f)&&this._isColorAvailable(_111f.blink))||(prop==enums.EnumStyleProperty.SPEED&&this._containsStyleBlink(_111f))){return true;}return false;},_containsStyleOverride:function(_1120){if(_1120==null){return false;}if((_1120.FillStyle==null||_1120.FillStyle.status!=true)&&(_1120.LineStyle==null||_1120.LineStyle.status!=true)&&(_1120.TextStyle==null||_1120.TextStyle.status!=true)&&(_1120.Outline==null||_1120.Outline.status!=true)){return false;}else{return true;}return false;},_containsStyleBlink:function(_1121){return _1121&&_1121.blink&&_1121.blink.blink&&_1121.blink.blink!="None";},_getStyleSettingsFromStyle:function(_1122,_1123){if(_1122==null){return null;}if(_1123==enums.EnumElementStyleType.FILLSTYLE&&_1122.FillStyle&&_1122.FillStyle.status==true){if(this._isColorAvailable(_1122.FillStyle.color)&&!_1122.FillStyle.color.typeName){_1122.FillStyle.color.typeName="F";}if(this._isColorAvailable(_1122.FillStyle.blink)&&!_1122.FillStyle.blink.typeName){_1122.FillStyle.blink.typeName="BF";}return _1122.FillStyle;}else{if(_1123==enums.EnumElementStyleType.LINESTYLE&&_1122.LineStyle&&_1122.LineStyle.status==true){if(this._isColorAvailable(_1122.LineStyle.lineColor)&&!_1122.LineStyle.lineColor.typeName){_1122.LineStyle.lineColor.typeName="L";}if(this._isColorAvailable(_1122.LineStyle.blink)&&!_1122.LineStyle.blink.typeName){_1122.LineStyle.blink.typeName="BL";}return _1122.LineStyle;}else{if(_1123==enums.EnumElementStyleType.TEXTSTYLE&&_1122.TextStyle&&_1122.TextStyle.status==true){if(_1122.TextStyle.font&&this._isColorAvailable(_1122.TextStyle.font.fontColor)&&!_1122.TextStyle.font.fontColor.typeName){_1122.TextStyle.font.fontColor.typeName="T";}if(this._isColorAvailable(_1122.TextStyle.blink)&&!_1122.TextStyle.blink.typeName){_1122.TextStyle.blink.typeName="BT";}return _1122.TextStyle;}else{if(_1123==enums.EnumElementStyleType.OUTLINESTYLE&&_1122.Outline&&_1122.Outline.status==true){if(this._isColorAvailable(_1122.Outline.lineColor)&&!_1122.Outline.lineColor.typeName){_1122.Outline.lineColor.typeName="OL";}if(this._isColorAvailable(_1122.Outline.blink)&&!_1122.Outline.blink.typeName){_1122.Outline.blink.typeName="BOL";}return _1122.Outline;}}}}return null;},_getCurOutlineWeight:function(){var _1124=this._getCurStyle(enums.EnumElementStyleType.OUTLINESTYLE,enums.EnumStyleProperty.WEIGHT);if(_1124&&_1124.lineWeight){var _1125=parseFloat(_1124.lineWeight);if(_1125>=0){return _1125;}}return null;},_getCurLineWeight:function(){var _1126=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.WEIGHT);if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){var _1127=this._getQualityStatusProperty();if(_1127&&_1127.LineStyle&&_1127.LineStyle.lineWeight){var _1128=parseFloat(_1127.LineStyle.lineWeight);if(_1128>0){return _1128;}}else{if(_1126&&_1126.lineWeight){var _1128=parseFloat(_1126.lineWeight);if(this._attr._animations&&this._attr._animations.animationElementStyle&&this._attr._animations.animationElementStyle._curElementStyle){if(_1128>=0){return _1128;}}else{if(this._currentLineWeight!=null){return this._currentLineWeight;}else{if(_1128>=0){return _1128;}}}}else{if(this._currentLineWeight!=null){return this._currentLineWeight;}}}}else{if(_1126&&_1126.lineWeight){var _1128=parseFloat(_1126.lineWeight);if(_1128>=0){return _1128;}}}if(this._attr.border&&this._attr.border.width){return parseFloat(this._attr.border.width);}if(this._attr.pen&&this._attr.pen.width){return parseFloat(this._attr.pen.width);}return null;},_getCurOutlineColor:function(){var _1129=this._getCurStyle(enums.EnumElementStyleType.OUTLINESTYLE,enums.EnumStyleProperty.COLOR);if(_1129&&_1129.lineColor&&this._isColorAvailable(_1129.lineColor)){return _1129.lineColor;}return null;},_getCurLineColor:function(){var _112a=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.COLOR);if(_112a&&_112a.lineColor&&this._isColorAvailable(_112a.lineColor)){return _112a.lineColor;}var _112b;if(this._isColorAvailable(this._attr.border)){_112b=this._attr.border.color;}if(!_112b&&this._isColorAvailable(this._attr.pen&&this._attr.pen.color)){_112b=this._attr.pen.color;}if(_112b!=null&&!this._isColorAvailable(_112b)&&typeof _112b==="string"){_112b={"style":"Solid","color":_112b};}return _112b;},_getCurOutlinePattern:function(){var _112c;var _112d=this._getCurOutlineWeight();var _112e=this._getCurStyle(enums.EnumElementStyleType.OUTLINESTYLE,enums.EnumStyleProperty.PATTERN);if(_112e&&_112e.linePattern){_112c=_112e.linePattern;}if(_112c&&_112d){var _112f;_112f=_1010.transformPattern(_112c,_112d,null);return _112f;}return null;},_getCurLinePattern:function(){var _1130;var _1131=this._getCurLineWeight();var _1132=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.PATTERN);if(_1132&&_1132.linePattern){_1130=_1132.linePattern;}var _1133;if(this._attr.border&&this._attr.border.style){_1133=this._attr.border.style;if(!_1130&&_1133){_1130=this._attr.border.borderType;}}if(!_1133&&this._attr.pen&&this._attr.pen.style){_1133=this._attr.pen.style;}if(_1130&&_1131){var _1134;_1134=_1010.transformPattern(_1130,_1131,_1133);return _1134;}return _1133;},_getCurFillColor:function(){var _1135;var _1136=this._getCurStyle(enums.EnumElementStyleType.FILLSTYLE,enums.EnumStyleProperty.COLOR);if(_1136&&_1136.color){_1135=_1136.color;if(this._isColorAvailable(_1135)){if(typeof this._attr.background!=="undefined"){this._attr.backgroundOrginal=this._attr.backgroundOrginal||this._attr.background;if(this._isColorAvailable(this._attr.backgroundOrginal)&&!this._attr.backgroundOrginal.typeName){this._attr.backgroundOrginal.typeName="AF";}this._attr.background=_1135;}return _1135;}else{if(this._attr.backgroundOrginal){this._attr.background=this._attr.backgroundOrginal;}}}if(this._attr.backgroundOrginal){this._attr.background=this._attr.backgroundOrginal;}if(this._isColorAvailable(this._attr.background)){return this._attr.background;}},_getCurUnfillColor:function(){if(this._attr&&this._attr._animations&&this._attr._animations.fillPercent&&this._attr._animations.fillPercent._animProps&&this._attr._animations.fillPercent._animProps.unFillPercentColor){return this._attr._animations.fillPercent._animProps.unFillPercentColor;}},_getCurFontStyle:function(){var _1137=this._getCurStyle(enums.EnumElementStyleType.TEXTSTYLE,enums.EnumStyleProperty.FONT);if(_1137&&_1137.font&&_1137.font.name){return _1137.font;}if(this._attr.font&&this._attr.font.name){return this._attr.font;}},_getCurFontColor:function(){var _1138=this._getCurStyle(enums.EnumElementStyleType.TEXTSTYLE,enums.EnumStyleProperty.COLOR);if(_1138&&_1138.font&&_1138.font.fontColor){return _1138.font.fontColor.color!=null?_1138.font.fontColor.color:_1138.font.fontColor;}if(this._attr.font&&this._attr.font&&this._attr.font.fontColor){return this._attr.font.fontColor.color!=null?this._attr.font.fontColor.color:this._attr.font.fontColor;}},_executeBlinks:function(_1139,_113a,_113b,_113c){var _113d=this._isStyleUpdated(_113a);if(_1139||_113d){this._executeFillLineTextBlinks(_113b||_113a);this._executeOutlineBlinks(_113b||_113a);}return _113d;},_executeFillLineTextBlinks:function(_113e){var _113f=this._getCurLineBlinkColor();var _1140=this._getCurLineBlinkSpeed();var _1141=this._getCurFillBlinkColor();var _1142=this._getCurFillBlinkSpeed();var _1143=this._getCurTextBlink();var _1144=_1143!=null&&_1143.color!=null?_1143.color:null;var _1145=this._getCurTextBlinkSpeed();var _1146=this._getCurLineColor();var _1147=this._getCurFillColor();var _1148=this._getCurUnfillColor();var _1149=this._getCurFontColor();var _114a=null;var _114b=null;var _114c=null;var _114d=this;while(_114d!=null&&_114d._getCurStyle&&_114d._getCachedParent){if(_113f!=null&&_113f.isAnimBlink){var _114e=_114d._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.COLOR,true,enums.EnumGetElementStyleFlag.ANIMATION_ONLY,true);if(_114e!=null&&this._containsStyleBlink(_114e)){if(_114a==null){_114a=_114e.blink;}else{_1146=_114e.blink;}}}if(_1141!=null&&_1141.isAnimBlink){var _114f=_114d._getCurStyle(enums.EnumElementStyleType.FILLSTYLE,enums.EnumStyleProperty.COLOR,true,enums.EnumGetElementStyleFlag.ANIMATION_ONLY,true);if(_114f!=null&&this._containsStyleBlink(_114f)){if(_114b==null){_114b=_114f.blink;}else{_1147=_114f.blink;}}}if(_1143!=null&&_1143.isAnimBlink){var _1150=_114d._getCurStyle(enums.EnumElementStyleType.TEXTSTYLE,enums.EnumStyleProperty.COLOR,true,enums.EnumGetElementStyleFlag.ANIMATION_ONLY,true);if(_1150!=null&&this._containsStyleBlink(_1150)){if(_114c==null){_114c=_1150.blink;}else{_1149=_1150.blink.color;}}}_114d=_114d._getCachedParent();}if(this._attr.border&&_113f&&_1140){this.clearBlink(enums.EnumElementStyleType.LINESTYLE);this.applyBlink(_1140,_1146,_113f,enums.EnumElementStyleType.LINESTYLE);}else{this.clearBlink(enums.EnumElementStyleType.LINESTYLE);if(this._attr.border&&_1146){var _1151={lineColor:_1146};this.setLineColor(_1151);}}if(this._attr.background&&_1141&&_1142){this.clearBlink(enums.EnumElementStyleType.FILLSTYLE);this.applyBlink(_1142,_1147,_1141,enums.EnumElementStyleType.FILLSTYLE);}else{this.clearBlink(enums.EnumElementStyleType.FILLSTYLE);if(this._attr.background&&_1147){var _1152={fillColor:this._svgGuiHelper.cloneColor(_1147)};this.setFillColor(_1152);}}if(this._attr.background&&_1148){var _1153={unfillColor:this._svgGuiHelper.cloneColor(_1148)};this.setUnfillColor(_1153,true);}if(this._attr.font&&_1144&&_1145){this.clearBlink(enums.EnumElementStyleType.TEXTSTYLE);this.applyBlink(_1145,_1149,_1144,enums.EnumElementStyleType.TEXTSTYLE);}else{this.clearBlink(enums.EnumElementStyleType.TEXTSTYLE);if(this._attr.font&&_1149){var _1154={fontColor:_1149,};this.setTextColor(_1154);}}this._executeBlinkInvisible();},_executeBlinkInvisible:function(_1155){var _1156=this.getParentBlinkSpeedTime();var _1157=!_1155&&_1156>0;var _1158=null;this._hasBlinkInvisible=false;if(this._attr._animations&&this._attr._animations.animationBlink&&this._attr._animations.animationBlink._curBlink){_1158=this._attr._animations.animationBlink._curBlink;if(_1158&&_1158.blinkInvisible&&this._attr._animations.animationBlink._isExcuteBlink){_1157|=true;this._hasBlinkInvisible=true;}}if(_1157){this.clearInvisibleBlink();var speed=enums.EnumBlink.FAST;if(_1156>0&&_1156<=1){speed=enums.EnumBlink.FAST;}else{if(_1156>1&&_1156<=2){speed=enums.EnumBlink.MEDIUM;}else{if(_1156>2&&_1156<=4){speed=enums.EnumBlink.SLOW;}}}var _1159=true;if(_1158&&_1158.blink){speed=_1156>0&&_1156<this.getBlinkSpeedTime(_1158.blink)?speed:_1158.blink;_1159=false;}if(speed){this.applyInvisibleBlink(speed,_1159);}}else{this.clearInvisibleBlink();this._updateInvisibleBlink(true,[this,true]);}},_executeOutlineBlinks:function(_115a){var _115b=this._getCurOutlineBlinkColor();var _115c=this._getCurOutlineBlinkSpeed();var _115d=this._getCurOutlineColor();this.clearBlink(enums.EnumElementStyleType.OUTLINESTYLE);this.clearOutLineInvisibleBlink();if(this._attr._animations&&this._attr._animations.animationBlink&&this._attr._animations.animationBlink._curBlink){curBlink=this._attr._animations.animationBlink._curBlink;var _115e=this._attr._animations.animationBlink._isExcuteBlink;if(curBlink&&curBlink.blinkInvisible){if(_115e){this.applyOutLineInvisibleBlink(curBlink.blink);}else{this._updateOutLineInvisibleBlink(true,[this]);}}else{if(_115b&&_115c){this.applyBlink(_115c,_115d,_115b,enums.EnumElementStyleType.OUTLINESTYLE);}}}else{if(_115b&&_115c){this.applyBlink(_115c,_115d,_115b,enums.EnumElementStyleType.OUTLINESTYLE);if(this._outlineObj&&this._outlineObj.svg){_1011.setVisibility(this._outlineObj.svg,"inherit");}}else{if(this._outlineObj&&this._outlineObj.svg){_1011.setVisibility(this._outlineObj.svg,"inherit");}}}},_updateInvisibleBlink:function(_115f,param){var _1160=_1010.arrItemAt(param,0);var _1161=_1010.arrItemAt(param,1);if(!_1160.domNode){return;}if(_1161||_1160._hasBlinkInvisible){var _1162=_1160.domNode;if(_115f){_1011.setVisibility(_1162,"inherit");}else{_1011.setVisibility(_1162,"hidden");}}_1160._updateOutLineInvisibleBlink(_115f,[_1160,true]);},_updateOutLineInvisibleBlink:function(_1163,param){var _1164=_1010.arrItemAt(param,0);var _1165=_1010.arrItemAt(param,1);if(!_1164._outlineObj||!_1164._outlineObj.svg){return;}var _1166=_1164._outlineObj.svg;var _1167=_1165&&_1164._blinkInvisibleInterval!=null;var _1168=_1164.isVisible(true);if(_1167){_1167=!_1163||!_1168;}else{_1167=_1164._outLineBlinkInvisibleInterval!=null&&!_1163;}if(!_1168||_1167){_1011.setVisibility(_1166,"hidden");}else{_1011.setVisibility(_1166,"inherit");}},applyOutLineInvisibleBlink:function(_1169){var self=this;var _116a=this._updateOutLineInvisibleBlink;this._outLineBlinkInvisibleInterval=this.setSyncBlinkInterval(_116a,_1169,[self,false]);},clearOutLineInvisibleBlink:function(){if(this._outLineBlinkInvisibleInterval){this.clearSyncBlinkInterval(this._outLineBlinkInvisibleInterval);this._outLineBlinkInvisibleInterval=null;}},applyBlink:function(_116b,_116c,_116d,_116e){var self=this;var _116f;switch(_116e){case enums.EnumElementStyleType.LINESTYLE:_116f=self._updateLineBlinkColor;break;case enums.EnumElementStyleType.TEXTSTYLE:_116f=self._updateTextBlinkColor;break;case enums.EnumElementStyleType.FILLSTYLE:_116f=self._updateFillBlinkColor;break;case enums.EnumElementStyleType.OUTLINESTYLE:_116f=self._updateOutlineBlinkColor;}switch(_116b){case enums.EnumBlink.SLOW:case enums.EnumBlink.FAST:case enums.EnumBlink.MEDIUM:break;default:this.clearBlink(_116e);_116f(true,[self,_116c,_116d]);}this._setBlinkInterval(this.setSyncBlinkInterval(_116f,_116b,[self,_116c,_116d]),_116e);},applyInvisibleBlink:function(_1170,_1171){var self=this;var _1172=this._updateInvisibleBlink;self._blinkInvisibleTime=self.getBlinkSpeedTime(_1170);this._blinkInvisibleInterval=this.setSyncBlinkInterval(_1172,_1170,[self,false]);},_setBlinkInterval:function(_1173,_1174){switch(_1174){case enums.EnumElementStyleType.LINESTYLE:if(this._blinkLineInterval===null){this._blinkLineInterval=_1173;}break;case enums.EnumElementStyleType.TEXTSTYLE:if(this._blinkTextInterval===null){this._blinkTextInterval=_1173;}break;case enums.EnumElementStyleType.FILLSTYLE:if(this._blinkFillInterval===null){this._blinkFillInterval=_1173;}break;case enums.EnumElementStyleType.OUTLINESTYLE:if(this._blinkOutlineInterval===null){this._blinkOutlineInterval=_1173;}break;}},_updateLineBlinkColor:function(_1175,param){var _1176=_1010.arrItemAt(param,0);var _1177=_1010.arrItemAt(param,1);var _1178=_1010.arrItemAt(param,2);if(_1176._xComponent&&_1176._attr.border){if(_1175){_1176.setLineColor({"lineColor":_1177});}else{_1176.setLineColor({"lineColor":_1178});}}},_updateOutlineBlinkColor:function(_1179,param){var _117a=_1010.arrItemAt(param,0);var _117b=_1010.arrItemAt(param,1);var _117c=_1010.arrItemAt(param,2);if(_117a._xComponent||_117a.domNode){if(_1179){_117a.setOutlineColor({"lineColor":_117b});}else{_117a.setOutlineColor({"lineColor":_117c});}}},_updateFillBlinkColor:function(_117d,param){var _117e=_1010.arrItemAt(param,0);var _117f=_1010.arrItemAt(param,1);var _1180=_1010.arrItemAt(param,2);if(_117e._xComponent&&_117e._attr.background){var _1181={fillColor:_117e._svgGuiHelper.cloneColor(_117f)};var _1182={unfillColor:_117e._getCurUnfillColor()};var _1183;if(_117e._attr._animations&&_117e._attr._animations.animationElementStyle&&_117e._attr._animations.animationElementStyle._curElementStyle){_1183=false;}else{if(_117e._attr._animations&&_117e._attr._animations.animationBlink&&_117e._attr._animations.animationBlink._isExcuteBlink){_1183=_117e._attr._animations.animationBlink._isExcuteBlink;}else{if(_1180&&_1180.isAnimBlink){_1183=true;}}}if(_117d){_117e.setFillColor(_1181);_117e.setUnfillColor(_1182,_1183);}else{_1181.fillColor=_117e._svgGuiHelper.cloneColor(_1180);_1182.unfillColor=_117e._svgGuiHelper.cloneColor(_1180);_117e.setFillColor(_1181);_117e.setUnfillColor(_1182,_1183);}}},_updateTextBlinkColor:function(_1184,param){var _1185=_1010.arrItemAt(param,0);var _1186=_1010.arrItemAt(param,1);var _1187=_1010.arrItemAt(param,2);if(_1185._xComponent&&_1185._attr.font){var _1188={fontColor:_1186};if(_1184){_1185.setTextColor(_1188);}else{_1188.fontColor=_1187;_1185.setTextColor(_1188);}}},_getCurOutlineBlinkColor:function(){var _1189=this._getCurStyle(enums.EnumElementStyleType.OUTLINESTYLE,enums.EnumStyleProperty.BLINKCOLOR,true);if(_1189&&_1189.blink&&_1189.status==true&&this._isColorAvailable(_1189.blink)){return _1189.blink;}return null;},_getCurLineBlinkColor:function(){var _118a=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.BLINKCOLOR,true);if(_118a&&_118a.blink&&this._isColorAvailable(_118a.blink)){return _118a.blink;}return null;},_getCurLineBlinkSpeed:function(){var _118b=this._getCurStyle(enums.EnumElementStyleType.LINESTYLE,enums.EnumStyleProperty.SPEED,true);if(_118b&&_118b.blink){return _118b.blink.blink;}return null;},_getCurOutlineBlinkSpeed:function(){var _118c=this._getCurStyle(enums.EnumElementStyleType.OUTLINESTYLE,enums.EnumStyleProperty.SPEED,true);if(_118c&&_118c.blink){return _118c.blink.blink;}return null;},_getCurFillBlinkColor:function(){var _118d=this._getCurStyle(enums.EnumElementStyleType.FILLSTYLE,enums.EnumStyleProperty.BLINKCOLOR,true);if(_118d&&_118d.blink&&this._isColorAvailable(_118d.blink)){return _118d.blink;}return null;},_getCurFillBlinkSpeed:function(){var _118e=this._getCurStyle(enums.EnumElementStyleType.FILLSTYLE,enums.EnumStyleProperty.SPEED,true);if(_118e&&_118e.blink){return _118e.blink.blink;}return null;},_getCurTextBlink:function(){var _118f=this._getCurStyle(enums.EnumElementStyleType.TEXTSTYLE,enums.EnumStyleProperty.BLINKCOLOR,true);if(_118f&&_118f.blink){return _118f.blink;}return null;},_getCurTextBlinkColor:function(){var blink=this._getCurTextBlink();if(blink&&blink.color){return blink.color;}return null;},_getCurTextBlinkSpeed:function(){var _1190=this._getCurStyle(enums.EnumElementStyleType.TEXTSTYLE,enums.EnumStyleProperty.SPEED,true);if(_1190&&_1190.blink){return _1190.blink.blink;}return null;},clearBlink:function(_1191){_1191=_1191!=null?_1191:"";var _1192=false;var _1193=false;var _1194=false;var _1195=false;switch(_1191){case enums.EnumElementStyleType.LINESTYLE:_1192=true;break;case enums.EnumElementStyleType.TEXTSTYLE:_1194=true;break;case enums.EnumElementStyleType.FILLSTYLE:_1193=true;break;case enums.EnumElementStyleType.OUTLINESTYLE:_1195=true;break;default:_1192=true;_1194=true;_1193=true;_1195=true;}if(_1192&&this._blinkLineInterval){this.clearSyncBlinkInterval(this._blinkLineInterval);this._blinkLineInterval=null;}if(_1193&&this._blinkFillInterval){this.clearSyncBlinkInterval(this._blinkFillInterval);this._blinkFillInterval=null;}if(_1195&&this._blinkOutlineInterval){this.clearSyncBlinkInterval(this._blinkOutlineInterval);this._blinkOutlineInterval=null;}if(_1194&&this._blinkTextInterval){this.clearSyncBlinkInterval(this._blinkTextInterval);this._blinkTextInterval=null;}},clearInvisibleBlink:function(){this._blinkInvisibleTime=0;if(this._blinkInvisibleInterval){this.clearSyncBlinkInterval(this._blinkInvisibleInterval);this._blinkInvisibleInterval=null;}},clearAllBlink:function(){this.clearBlink(enums.EnumElementStyleType.LINESTYLE);this.clearBlink(enums.EnumElementStyleType.FILLSTYLE);this.clearBlink(enums.EnumElementStyleType.TEXTSTYLE);this.clearBlink(enums.EnumElementStyleType.OUTLINESTYLE);this.clearInvisibleBlink();},setSyncBlinkInterval:function(_1196,_1197,_1198){this._checkSyncBlinkQueue();var item={id:this._syncBlinkContainer._syncBlinkId,action:_1196,param:_1198};this._syncBlinkContainer._syncBlinkId++;switch(_1197){case enums.EnumBlink.SLOW:this._syncBlinkContainer._syncBlinkSlowQueue.push(item);break;case enums.EnumBlink.FAST:this._syncBlinkContainer._syncBlinkFastQueue.push(item);break;case enums.EnumBlink.MEDIUM:this._syncBlinkContainer._syncBlinkMedQueue.push(item);break;}this._checkSyncBlink();return item.id;},clearSyncBlinkInterval:function(_1199){this._checkSyncBlinkQueue();var queue=this._syncBlinkContainer._syncBlinkSlowQueue;for(var i=0;i<queue.length;i++){if(queue[i].id==_1199){queue.splice(i,1);return;}}queue=this._syncBlinkContainer._syncBlinkMedQueue;for(var i=0;i<queue.length;i++){if(queue[i].id==_1199){queue.splice(i,1);return;}}queue=this._syncBlinkContainer._syncBlinkFastQueue;for(var i=0;i<queue.length;i++){if(queue[i].id==_1199){queue.splice(i,1);return;}}},getBlinkSpeedTime:function(_119a){switch(_119a){case enums.EnumBlink.FAST:return 1;case enums.EnumBlink.MEDIUM:return 2;case enums.EnumBlink.SLOW:return 4;}return 0;},_checkSyncBlinkQueue:function(){if(this._syncBlinkContainer==null){this._syncBlinkContainer=window;}if(this._syncBlinkContainer._syncBlinkId==null){this._syncBlinkContainer._syncBlinkId=1;}if(!this._syncBlinkContainer._syncBlinkSlowQueue){this._syncBlinkContainer._syncBlinkSlowQueue=[];}if(!this._syncBlinkContainer._syncBlinkMedQueue){this._syncBlinkContainer._syncBlinkMedQueue=[];}if(!this._syncBlinkContainer._syncBlinkFastQueue){this._syncBlinkContainer._syncBlinkFastQueue=[];}},_checkSyncBlink:function(){if(this._syncBlinkContainer==null){this._syncBlinkContainer=window;}if(!this._syncBlinkContainer._syncBlinkInterval){var _119b=250;this._syncBlinkContainer._syncBlinkSlowShowing=true;this._syncBlinkContainer._syncBlinkMedShowing=true;this._syncBlinkContainer._syncBlinkFastShowing=true;this._syncBlinkContainer._syncBlinkCounter=0;this._syncBlinkContainer._syncBlinkInterval=setInterval(this._executeSyncBlink,_119b,this._syncBlinkContainer);this._executeSyncBlink(this._syncBlinkContainer);this._syncBlinkContainer._syncBlinkCounter=0;}},_executeSyncBlink:function(_119c){_119c._syncBlinkCounter++;var queue=_119c._syncBlinkFastQueue;_119c._syncBlinkFastShowing=!_119c._syncBlinkFastShowing;for(var i=0;i<queue.length;i++){var item=queue[i];item.action(_119c._syncBlinkFastShowing,item.param);}if(_119c._syncBlinkCounter%2==0){_119c._syncBlinkMedShowing=!_119c._syncBlinkMedShowing;queue=_119c._syncBlinkMedQueue;for(var i=0;i<queue.length;i++){var item=queue[i];item.action(_119c._syncBlinkMedShowing,item.param);}}if(_119c._syncBlinkCounter%4==0){_119c._syncBlinkSlowShowing=!_119c._syncBlinkSlowShowing;queue=_119c._syncBlinkSlowQueue;for(var i=0;i<queue.length;i++){var item=queue[i];item.action(_119c._syncBlinkSlowShowing,item.param);}}},isIE:function(){return (navigator.userAgent.toLowerCase().match(/msie/))||(!!window.ActiveXObject||("ActiveXObject" in window));},SetLetterSpacing:function(_119d,_119e){var _119f="",_11a0="0.3";if(_119e){_11a0=_119e;}if(this._attr.font&&this._attr.font.sizeInPoints){if(this.isIE()){if(parseInt(this._attr.font.sizeInPoints)>=16){_119f="-0.1";}if(this._attr.font.fontWeight.toLowerCase().indexOf("bold")>-1){if(this._attr.font.sizeInPoints===8){_119f=_11a0;}}if(this._attr.font.fontStyle.toLowerCase().indexOf("italic")>-1){if(this._attr.font.sizeInPoints===8){_119f="-0.1";}else{if(parseInt(this._attr.font.sizeInPoints)>=16){_119f="-0.8";}}}}else{if(this._attr.font.sizeInPoints===8){_119f=_11a0;}else{if(parseInt(this._attr.font.sizeInPoints)>=16){_119f="-"+_11a0;}}if(this._attr.font.fontStyle.toLowerCase().indexOf("italic")>-1){if(this._attr.font.sizeInPoints===8){_119f=parseFloat(_11a0)-0.03;}}}dojo.style(_119d,"letter-spacing",_119f+"px");}}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(array,_11a1,_11a2,_11a3,lang,mouse,on,has,_11a4,a11y){return _11a1("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(value){this._set("disabled",value);_11a2.set(this.focusNode,"disabled",value);if(this.valueNode){_11a2.set(this.valueNode,"disabled",value);}this.focusNode.setAttribute("aria-disabled",value?"true":"false");if(value){this._set("hovering",false);this._set("active",false);var _11a5="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";array.forEach(lang.isArray(_11a5)?_11a5:[_11a5],function(_11a6){var node=this[_11a6];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _11a7=this.own(on(this.focusNode,"focus",function(){_11a8.remove();_11a7.remove();}))[0];var _11a8=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){_11a8.remove();_11a7.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_11a4.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_11a3.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_11a9,_11aa){if(this._lastValueReported==undefined&&(_11aa===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_11a9;}this._pendingOnChange=this._pendingOnChange||(typeof _11a9!=typeof this._lastValueReported)||(this.compare(_11a9,this._lastValueReported)!=0);if((this.intermediateChanges||_11aa||_11aa===undefined)&&this._pendingOnChange){this._lastValueReported=_11a9;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_11a9);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dojox/gauges/AnalogIndicatorBase":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/fx","dojox/gfx","./_Indicator"],function(lang,_11ab,_11ac,fx,gfx,_11ad){return _11ab("dojox.gauges.AnalogIndicatorBase",[_11ad],{draw:function(group,_11ae){if(this.shape){this._move(_11ae);}else{if(this.text){this.text.parent.remove(this.text);this.text=null;}var a=this._gauge._getAngle(Math.min(Math.max(this.value,this._gauge.min),this._gauge.max));this.color=this.color||"#000000";this.length=this.length||this._gauge.radius;this.width=this.width||1;this.offset=this.offset||0;this.highlight=this.highlight||"#D0D0D0";var _11af=this._getShapes(group,this._gauge,this);if(_11af){if(_11af.length>1){this.shape=group.createGroup();for(var s=0;s<_11af.length;s++){this.shape.add(_11af[s]);}}else{this.shape=_11af[0];}this.shape.setTransform([{dx:this._gauge.cx,dy:this._gauge.cy},gfx.matrix.rotateg(a)]);this.shape.connect("onmouseover",this,this.handleMouseOver);this.shape.connect("onmouseout",this,this.handleMouseOut);this.shape.connect("onmousedown",this,this.handleMouseDown);this.shape.connect("touchstart",this,this.handleTouchStart);}if(this.label){var _11b0=this.direction;if(!_11b0){_11b0="outside";}var len;if(_11b0=="inside"){len=-this.length+this.offset-5;}else{len=this.length+this.offset+5;}var rad=this._gauge._getRadians(90-a);this._layoutLabel(group,this.label+"",this._gauge.cx,this._gauge.cy,len,rad,_11b0);}this.currentValue=this.value;}},_layoutLabel:function(group,txt,ox,oy,lrad,angle,_11b1){var font=this.font?this.font:gfx.defaultFont;var box=gfx._base._getTextBox(txt,{font:gfx.makeFontString(gfx.makeParameters(gfx.defaultFont,font))});var tw=box.w;var fz=font.size;var th=gfx.normalizedLength(fz);var tfx=ox+Math.cos(angle)*lrad-tw/2;var tfy=oy-Math.sin(angle)*lrad-th/2;var side;var _11b2=[];side=tfx;var ipx=side;var ipy=-Math.tan(angle)*side+oy+Math.tan(angle)*ox;if(ipy>=tfy&&ipy<=tfy+th){_11b2.push({x:ipx,y:ipy});}side=tfx+tw;ipx=side;ipy=-Math.tan(angle)*side+oy+Math.tan(angle)*ox;if(ipy>=tfy&&ipy<=tfy+th){_11b2.push({x:ipx,y:ipy});}side=tfy;ipx=-1/Math.tan(angle)*side+ox+1/Math.tan(angle)*oy;ipy=side;if(ipx>=tfx&&ipx<=tfx+tw){_11b2.push({x:ipx,y:ipy});}side=tfy+th;ipx=-1/Math.tan(angle)*side+ox+1/Math.tan(angle)*oy;ipy=side;if(ipx>=tfx&&ipx<=tfx+tw){_11b2.push({x:ipx,y:ipy});}var dif;if(_11b1=="inside"){for(var it=0;it<_11b2.length;it++){var ip=_11b2[it];dif=this._distance(ip.x,ip.y,ox,oy)-lrad;if(dif>=0){tfx=ox+Math.cos(angle)*(lrad-dif)-tw/2;tfy=oy-Math.sin(angle)*(lrad-dif)-th/2;break;}}}else{for(it=0;it<_11b2.length;it++){ip=_11b2[it];dif=this._distance(ip.x,ip.y,ox,oy)-lrad;if(dif<=0){tfx=ox+Math.cos(angle)*(lrad-dif)-tw/2;tfy=oy-Math.sin(angle)*(lrad-dif)-th/2;break;}}}this.text=this._gauge.drawText(group,txt,tfx+tw/2,tfy+th,"middle",this.color,this.font);},_distance:function(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));},_move:function(_11b3){var v=Math.min(Math.max(this.value,this._gauge.min),this._gauge.max),c=this.currentValue;if(_11b3){var angle=this._gauge._getAngle(v);this.shape.setTransform([{dx:this._gauge.cx,dy:this._gauge.cy},gfx.matrix.rotateg(angle)]);this.currentValue=v;}else{if(c!=v){var anim=new fx.Animation({curve:[c,v],duration:this.duration,easing:this.easing});_11ac.connect(anim,"onAnimate",lang.hitch(this,function(step){this.shape.setTransform([{dx:this._gauge.cx,dy:this._gauge.cy},gfx.matrix.rotateg(this._gauge._getAngle(step))]);this.currentValue=step;}));anim.play();}}}});});},"dojox/mobile/SpinWheelSlot":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/SpinWheelSlot","dojo/touch","dojo/on","dijit/_Contained","dijit/_WidgetBase","./scrollable","./common"],function(dojo,array,_11b4,win,_11b5,_11b6,has,_11b7,touch,on,_11b8,_11b9,_11ba){var _11bb=_11b4(has("dojo-bidi")?"dojox.mobile.NonBidiSpinWheelSlot":"dojox.mobile.SpinWheelSlot",[_11b9,_11b8,_11ba],{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSpinWheelSlot",maxSpeed:500,minItems:15,centerPos:0,scrollBar:false,constraint:false,propagatable:false,androidWorkaroud:false,buildRendering:function(){this.inherited(arguments);this.initLabels();var i,j;if(this.labels.length>0){this.items=[];for(i=0;i<this.labels.length;i++){this.items.push([i,this.labels[i]]);}}this.containerNode=_11b6.create("div",{className:"mblSpinWheelSlotContainer"});this.containerNode.style.height=(win.global.innerHeight||win.doc.documentElement.clientHeight)*2+"px";this.panelNodes=[];for(var k=0;k<3;k++){this.panelNodes[k]=_11b6.create("div",{className:"mblSpinWheelSlotPanel"});var len=this.items.length;if(len>0){var n=Math.ceil(this.minItems/len);for(j=0;j<n;j++){for(i=0;i<len;i++){_11b6.create("div",{className:"mblSpinWheelSlotLabel",name:this.items[i][0],"data-mobile-val":this.items[i][1],innerHTML:this._cv?this._cv(this.items[i][1]):this.items[i][1]},this.panelNodes[k]);}}}this.containerNode.appendChild(this.panelNodes[k]);}this.domNode.appendChild(this.containerNode);this.touchNode=_11b6.create("div",{className:"mblSpinWheelSlotTouch"},this.domNode);this.setSelectable(this.domNode,false);if(this.value===""&&this.items.length>0){this.value=this.items[0][1];}this._initialValue=this.value;if(has("windows-theme")){var self=this,_11bc=this.containerNode,_11bd=5;this.own(on(self.touchNode,touch.press,function(e){var posY=e.pageY,slots=self.getParent().getChildren();for(var i=0,ln=slots.length;i<ln;i++){var _11be=slots[i].containerNode;if(_11bc!==_11be){_11b5.remove(_11be,"mblSelectedSlot");_11be.selected=false;}else{_11b5.add(_11bc,"mblSelectedSlot");}}var _11bf=on(self.touchNode,touch.move,function(e){if(Math.abs(e.pageY-posY)<_11bd){return;}_11bf.remove();_11c0.remove();_11bc.selected=true;var item=self.getCenterItem();if(item){_11b5.remove(item,"mblSelectedSlotItem");}});var _11c0=on(self.touchNode,touch.release,function(){_11c0.remove();_11bf.remove();_11bc.selected?_11b5.remove(_11bc,"mblSelectedSlot"):_11b5.add(_11bc,"mblSelectedSlot");_11bc.selected=!_11bc.selected;});}));this.on("flickAnimationEnd",function(){var item=self.getCenterItem();if(self.previousCenterItem){_11b5.remove(self.previousCenterItem,"mblSelectedSlotItem");}_11b5.add(item,"mblSelectedSlotItem");self.previousCenterItem=item;});}},startup:function(){if(this._started){return;}this.inherited(arguments);this.noResize=true;if(this.items.length>0){this.init();this.centerPos=this.getParent().centerPos;var items=this.panelNodes[1].childNodes;this._itemHeight=items[0].offsetHeight;this.adjust();this.connect(this.domNode,"onkeydown","_onKeyDown");}if(has("windows-theme")){this.previousCenterItem=this.getCenterItem();if(this.previousCenterItem){_11b5.add(this.previousCenterItem,"mblSelectedSlotItem");}}},initLabels:function(){if(this.labelFrom!==this.labelTo){var a=this.labels=[],zeros=this.zeroPad&&Array(this.zeroPad).join("0");for(var i=this.labelFrom;i<=this.labelTo;i+=this.step){a.push(this.zeroPad?(zeros+i).slice(-this.zeroPad):i+"");}}},adjust:function(){var items=this.panelNodes[1].childNodes;var _11c1;for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item.offsetTop<=this.centerPos&&this.centerPos<item.offsetTop+item.offsetHeight){_11c1=this.centerPos-(item.offsetTop+Math.round(item.offsetHeight/2));break;}}var h=this.panelNodes[0].offsetHeight;this.panelNodes[0].style.top=-h+_11c1+"px";this.panelNodes[1].style.top=_11c1+"px";this.panelNodes[2].style.top=h+_11c1+"px";},setInitialValue:function(){this.set("value",this._initialValue);},_onKeyDown:function(e){if(!e||e.type!=="keydown"){return;}if(e.keyCode===40){this.spin(-1);}else{if(e.keyCode===38){this.spin(1);}}},_getCenterPanel:function(){var pos=this.getPos();for(var i=0,len=this.panelNodes.length;i<len;i++){var top=pos.y+this.panelNodes[i].offsetTop;if(top<=this.centerPos&&this.centerPos<top+this.panelNodes[i].offsetHeight){return this.panelNodes[i];}}return null;},setColor:function(value,color){array.forEach(this.panelNodes,function(panel){array.forEach(panel.childNodes,function(node,i){_11b5.toggle(node,color||"mblSpinWheelSlotLabelBlue",node.innerHTML===value);},this);},this);},disableValues:function(n){array.forEach(this.panelNodes,function(panel){for(var i=0;i<panel.childNodes.length;i++){_11b5.toggle(panel.childNodes[i],"mblSpinWheelSlotLabelGray",i>=n);}});},getCenterItem:function(){var pos=this.getPos();var _11c2=this._getCenterPanel();if(_11c2){var top=pos.y+_11c2.offsetTop;var items=_11c2.childNodes;for(var i=0,len=items.length;i<len;i++){if(top+items[i].offsetTop<=this.centerPos&&this.centerPos<top+items[i].offsetTop+items[i].offsetHeight){return items[i];}}}return null;},_getKeyAttr:function(){if(!this._started){if(this.items){var v=this.value;for(var i=0;i<this.items.length;i++){if(this.items[i][1]==this.value){return this.items[i][0];}}}return null;}var item=this.getCenterItem();return (item&&item.getAttribute("name"));},_getValueAttr:function(){if(!this._started){return this.value;}if(this.items.length>0){var item=this.getCenterItem();return (item&&item.getAttribute("data-mobile-val"));}else{return this._initialValue;}},_setValueAttr:function(value){if(this.items.length>0){this._spinToValue(value,true);}},_spinToValue:function(value,_11c3){var idx0,idx1;var _11c4=this.get("value");if(!_11c4){this._pendingValue=value;return;}if(_11c4==value){return;}this._pendingValue=undefined;if(_11c3){this._set("value",value);}var n=this.items.length;for(var i=0;i<n;i++){if(this.items[i][1]===String(_11c4)){idx0=i;}if(this.items[i][1]===String(value)){idx1=i;}if(idx0!==undefined&&idx1!==undefined){break;}}var d=idx1-(idx0||0);var m;if(d>0){m=(d<n-d)?-d:n-d;}else{m=(-d<n+d)?-d:-(n+d);}this.spin(m);},onFlickAnimationStart:function(e){this._onFlickAnimationStartCalled=true;this.inherited(arguments);},onFlickAnimationEnd:function(e){this._duringSlideTo=false;this._onFlickAnimationStartCalled=false;this.inherited(arguments);},spin:function(steps){if(!this._started||this._duringSlideTo){return;}var to=this.getPos();to.y+=steps*this._itemHeight;this.slideTo(to,1);},getSpeed:function(){var y=0,n=this._time.length;var delta=(new Date()).getTime()-this.startTime-this._time[n-1];if(n>=2&&delta<200){var dy=this._posY[n-1]-this._posY[(n-6)>=0?n-6:0];var dt=this._time[n-1]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);}return {x:0,y:y};},calcSpeed:function(d,t){var speed=this.inherited(arguments);if(!speed){return 0;}var v=Math.abs(speed);var ret=speed;if(v>this.maxSpeed){ret=this.maxSpeed*(speed/v);}return ret;},adjustDestination:function(to,pos,dim){var h=this._itemHeight;var j=to.y+Math.round(h/2);var r=j>=0?j%h:j%h+h;to.y=j-r;return true;},resize:function(e){var items=this.panelNodes[1].childNodes;if(items.length>0&&!has("windows-theme")){this._itemHeight=items[0].offsetHeight;this.centerPos=this.getParent().centerPos;this.adjust();}if(this._pendingValue){this.set("value",this._pendingValue);}},slideTo:function(to,_11c5,_11c6){this._duringSlideTo=true;var pos=this.getPos();var top=pos.y+this.panelNodes[1].offsetTop;var _11c7=top+this.panelNodes[1].offsetHeight;var vh=this.domNode.parentNode.offsetHeight;var t;if(pos.y<to.y){if(_11c7>vh){t=this.panelNodes[2];t.style.top=this.panelNodes[0].offsetTop-this.panelNodes[0].offsetHeight+"px";this.panelNodes[2]=this.panelNodes[1];this.panelNodes[1]=this.panelNodes[0];this.panelNodes[0]=t;}}else{if(pos.y>to.y){if(top<0){t=this.panelNodes[0];t.style.top=this.panelNodes[2].offsetTop+this.panelNodes[2].offsetHeight+"px";this.panelNodes[0]=this.panelNodes[1];this.panelNodes[1]=this.panelNodes[2];this.panelNodes[2]=t;}}}if(this.getParent()._duringStartup){_11c5=0;}else{if(Math.abs(this._speed.y)<40){_11c5=0.2;}}this.inherited(arguments,[to,_11c5,_11c6]);if(this.getParent()._duringStartup&&!this._onFlickAnimationStartCalled){this.onFlickAnimationEnd();}else{if(!this._onFlickAnimationStartCalled){this._duringSlideTo=false;}}}});return has("dojo-bidi")?_11b4("dojox.mobile.SpinWheelSlot",[_11bb,_11b7]):_11bb;});},"dojox/mobile/Switch":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","dijit/_Contained","dijit/_WidgetBase","./sniff","./_maskUtils","./common","dojo/has!dojo-bidi?dojox/mobile/bidi/Switch"],function(array,_11c8,_11c9,event,win,_11ca,_11cb,_11cc,_11cd,touch,_11ce,_11cf,has,_11d0,dm,_11d1){var _11d2=_11c9(has("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[_11cf,_11ce],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){if(!this.templateString){this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_11cb.create("span");}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.inherited(arguments);if(!this.templateString){var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];if((c=c.match(/mblSw.*Shape\d*/))){this.shape=c;}_11ca.add(this.domNode,this.shape);var _11d3=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_11d3+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];}_11cd.set(this.domNode,"role","checkbox");_11cd.set(this.domNode,"aria-checked",(this.value==="on")?"true":"false");this.switchNode=this.domNode;if(has("windows-theme")){var _11d4=_11cb.create("div",{className:"mblSwitchContainer"});this.labelNode=_11cb.create("label",{"class":"mblSwitchLabel","for":this.id},_11d4);_11d4.appendChild(this.domNode.cloneNode(true));this.domNode=_11d4;this.focusNode=_11d4.childNodes[1];this.labelNode.innerHTML=(this.value=="off")?this.rightLabel:this.leftLabel;this.switchNode=this.domNode.childNodes[1];var inner=this.inner=this.domNode.childNodes[1].firstChild;this.left=inner.childNodes[0];this.right=inner.childNodes[1];this.knob=inner.childNodes[2];this.input=inner.childNodes[3];}},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,touch.press,"onTouchStart");this._initialValue=this.value;},_changeState:function(state,anim){var on=(state==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_11ca.add(this.switchNode,"mblSwitchAnimation");}_11ca.remove(this.switchNode,on?"mblSwitchOff":"mblSwitchOn");_11ca.add(this.switchNode,on?"mblSwitchOn":"mblSwitchOff");_11cd.set(this.switchNode,"aria-checked",on?"true":"false");var _11d5=this;_11d5.defer(function(){_11d5.left.style.display=on?"":"none";_11d5.right.style.display=!on?"":"none";_11ca.remove(_11d5.switchNode,"mblSwitchAnimation");},anim?300:0);},_createMaskImage:function(){if(this._timer){this._timer.remove();delete this._timer;}if(this._hasMaskImage){return;}this._width=this.switchNode.offsetWidth-this.knob.offsetWidth;this._hasMaskImage=true;if(!(has("webkit")||has("svg"))){return;}var rDef=_11cc.get(this.left,"borderTopLeftRadius");if(rDef=="0px"){return;}var rDefs=rDef.split(" ");var rx=parseFloat(rDefs[0]),ry=(rDefs.length==1)?rx:parseFloat(rDefs[1]);var w=this.switchNode.offsetWidth,h=this.switchNode.offsetHeight;var id=(this.shape+"Mask"+w+h+rx+ry).replace(/\./,"_");_11d0.createRoundMask(this.switchNode,0,0,0,0,w,h,rx,ry,1);},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}if(this._moved){return;}this.value=this.input.value=(this.value=="on")?"off":"on";this._changeState(this.value,true);this.onStateChanged(this.value);},onClick:function(){},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[this.connect(this.inner,touch.move,"onTouchMove"),this.connect(win.doc,touch.release,"onTouchEnd")];if(has("windows-theme")){this._conn.push(this.connect(win.doc,"MSPointerCancel","onTouchEnd"));}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";event.stop(e);this._createMaskImage();},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){array.forEach(this._conn,_11c8.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")&&has("clicks-prevented")){dm._sendClick(this.inner,e);}return;}var _11d6=(this.inner.offsetLeft<-(this._width/2))?"off":"on";_11d6=this._newState(_11d6);this._changeState(_11d6,true);if(_11d6!=this.value){this.value=this.input.value=_11d6;this.onStateChanged(_11d6);}},_newState:function(_11d7){return _11d7;},onStateChanged:function(_11d8){if(this.labelNode){this.labelNode.innerHTML=_11d8=="off"?this.rightLabel:this.leftLabel;}},_setValueAttr:function(value){this._changeState(value,false);if(this.value!=value){this.onStateChanged(value);}this.value=this.input.value=value;},_setLeftLabelAttr:function(label){this.leftLabel=label;this.left.firstChild.innerHTML=this._cv?this._cv(label):label;},_setRightLabelAttr:function(label){this.rightLabel=label;this.right.firstChild.innerHTML=this._cv?this._cv(label):label;},reset:function(){this.set("value",this._initialValue);}});return has("dojo-bidi")?_11c9("dojox.mobile.Switch",[_11d2,_11d1]):_11d2;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(array,lang,_11d9,place,dijit){var _11da={};_11da.getViewport=function(){return _11d9.getBox();};_11da.placeOnScreen=place.at;_11da.placeOnScreenAroundElement=function(node,_11db,_11dc,_11dd){var _11de;if(lang.isArray(_11dc)){_11de=_11dc;}else{_11de=[];for(var key in _11dc){_11de.push({aroundCorner:key,corner:_11dc[key]});}}return place.around(node,_11db,_11de,true,_11dd);};_11da.placeOnScreenAroundNode=_11da.placeOnScreenAroundElement;_11da.placeOnScreenAroundRectangle=_11da.placeOnScreenAroundElement;_11da.getPopupAroundAlignment=function(_11df,_11e0){var align={};array.forEach(_11df,function(pos){var ltr=_11e0;switch(pos){case "after":align[_11e0?"BR":"BL"]=_11e0?"BL":"BR";break;case "before":align[_11e0?"BL":"BR"]=_11e0?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":align[ltr?"BL":"BR"]=ltr?"TL":"TR";align[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:align[ltr?"TL":"TR"]=ltr?"BL":"BR";align[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return align;};lang.mixin(dijit,_11da);return dijit;});},"viewer/misc/common/patternContainer":function(){define(["dojo/_base/declare","../gui/helpers/svg"],function(_11e1,_11e2){var _11e3=function(){};_11e3.defsIds=0;_11e3.getdefsId=function(){var _11e4=this.defsIds;this.defsIds++;return _11e4;};_11e3.getPatternStyle=function(_11e5,_11e6,_11e7,_11e8){var _11e9=_11e2.getPatternDOM(_11e5,_11e6,_11e7,_11e8);var _11ea=_11e2.createElement("defs");_11ea.appendChild(_11e9);return _11ea;};return _11e3;});},"viewer/misc/gui/_base":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(_11eb,_11ec,_11ed){return _11eb("viewer.misc.gui._base",[_11ec,_11ed],{startup:function(){this.domNode.style.zIndex=30000;}});});},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(lang,has){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){var s="dojox/mobile/_compat";require([s]);}return dm;});},"viewer/animation/ImgBargraph":function(){define(["dojo/_base/declare","dojo/dom-construct","./_base","../misc/gui/helpers/svg","../misc/enums"],function(_11ee,_11ef,_11f0,_11f1,enums){return _11ee("viewer.animation.ImgBargraph",_11f0,{_mask:null,_rect:null,_svgNode:null,_value:null,_firstTime:{"firstOfAll":true},constructor:function(_11f2,_11f3){this.inherited(arguments);this._svgNode=_11f1.createElement("svg");this._svgNode.style.left=this._widget._attr.position.left;this._svgNode.style.top=this._widget._attr.position.top;this._svgNode.style.position="absolute";this._svgNode.style.width=this._widget._attr.size.w;this._svgNode.style.height=this._widget._attr.size.h;this._svgNode.setAttribute("stroke-width",this._widget._attr.border.width);this._svgNode.setAttribute("stroke",this._widget._attr.border.color);this._rect=_11f1.createElement("rect");this._rect.setAttribute("x",0);this._rect.setAttribute("y",0);this._rect.setAttribute("width","100%");this._rect.setAttribute("height","100%");this._rect.setAttribute("stroke-width",this._widget._attr.border.width);this._rect.setAttribute("stroke",this._widget._attr.border.color);this._rect.setAttribute("display","none");},_execUpdate:function(){this._rect.setAttribute("display","display");this._updateValue();this._updateMask();},startup:function(){_11f1.setColor(this._rect,this._widget._attr.background);this._svgNode.appendChild(this._rect);_11ef.place(this._svgNode,this._widget._xComponent,"after");},_updateValue:function(){var _11f4,min,_11f5,max;strMin=this._animProps.minimumValue;strMax=this._animProps.maximumValue;min=parseFloat(strMin);max=parseFloat(strMax);if(!isNaN(this._animProps.tagExpression)){if(this._animProps.tagExpression>=min&&this._animProps.tagExpression<=max){this._value=((parseFloat(this._animProps.tagExpression)-min)*100)/(max-min);}else{if(this._animProps.tagExpression<min){this._value=0;}else{if(this._animProps.tagExpression>max){this._value=100;}}}}else{this._value=100;}},_updateMask:function(){this._value=Math.max(this._value,0);if(this._animProps.direction===enums.EnumBargraphDirection.VERTICAL){this._rect.setAttribute("height",(100-this._value)+"%");switch(this._animProps.orientation){case enums.BargraphOrientation.UP:this._rect.setAttribute("y",this._value+"%");break;}}else{if(this._animProps.direction===enums.EnumBargraphDirection.HORIZONTAL){this._rect.setAttribute("width",(100-this._value)+"%");switch(this._animProps.orientation){case enums.BargraphOrientation.UP:this._rect.setAttribute("x",this._value+"%");break;}}}},setColor:function(c){_11f1.setColor(this._rect,c);},resetColor:function(){_11f1.setColor(this._rect,this._animProps.foregroundColor);}});});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(dojo,array,_11f6,lang,win,ready){var dm=lang.getObject("dojox.mobile",true);var _11f7=function(){var _11f8={};var _11f9=function(type,_11fa){if(typeof (_11fa)==="string"){var t=type+":"+_11fa.replace(/ /g,"");return _11f8[t]||(_11f8[t]=_11f9(type).createSubclass(array.map(_11fa.split(/, */),_11f9)));}return _11f8[type]||(_11f8[type]=lang.getObject(type)||require(type));};var _11fb=function(js){return eval(js);};this.instantiate=function(nodes,mixin,_11fc){mixin=mixin||{};_11fc=_11fc||{};var i,ws=[];if(nodes){for(i=0;i<nodes.length;i++){var n=nodes[i],type=n._type,ctor=_11f9(type,n.getAttribute("data-dojo-mixins")),proto=ctor.prototype,_11fd={},prop,v,t;lang.mixin(_11fd,_11fb.call(_11fc.propsThis,"({"+(n.getAttribute("data-dojo-props")||"")+"})"));lang.mixin(_11fd,_11fc.defaults);lang.mixin(_11fd,mixin);for(prop in proto){v=n.getAttributeNode(prop);v=v&&v.nodeValue;t=typeof proto[prop];if(!v&&(t!=="boolean"||v!=="")){continue;}if(lang.isArray(proto[prop])){_11fd[prop]=v.split(/\s*,\s*/);}else{if(t==="string"){_11fd[prop]=v;}else{if(t==="number"){_11fd[prop]=v-0;}else{if(t==="boolean"){_11fd[prop]=(v!=="false");}else{if(t==="object"){_11fd[prop]=eval("("+v+")");}else{if(t==="function"){_11fd[prop]=lang.getObject(v,false)||new Function(v);n.removeAttribute(prop);}}}}}}}_11fd["class"]=n.className;if(!_11fd.style){_11fd.style=n.style.cssText;}v=n.getAttribute("data-dojo-attach-point");if(v){_11fd.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_11fd.dojoAttachEvent=v;}var _11fe=new ctor(_11fd,n);ws.push(_11fe);var jsId=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(jsId){lang.setObject(jsId,_11fe);}}for(i=0;i<ws.length;i++){var w=ws[i];!_11fc.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_11ff,_1200){if(!_11ff){_11ff=win.body();}else{if(!_1200&&_11ff.rootNode){_1200=_11ff;_11ff=_11ff.rootNode;}}var nodes=_11ff.getElementsByTagName("*");var i,j,list=[];for(i=0;i<nodes.length;i++){var n=nodes[i],type=(n._type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));if(type){if(n._skip){n._skip="";continue;}if(_11f9(type).prototype.stopParser&&!(_1200&&_1200.template)){var arr=n.getElementsByTagName("*");for(j=0;j<arr.length;j++){arr[j]._skip="1";}}list.push(n);}}var mixin=_1200&&_1200.template?{template:true}:null;return this.instantiate(list,mixin,_1200);};};var _1201=new _11f7();if(_11f6.parseOnLoad){ready(100,function(){try{if(!require("dojo/parser")){_1201.parse();}}catch(e){_1201.parse();}});}dm.parser=_1201;dojo.parser=dojo.parser||_1201;return _1201;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojo/dnd/Selector":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(array,_1202,_1203,lang,dom,_1204,mouse,_1205,on,touch,dnd,_1206){var _1207=_1202("dojo.dnd.Selector",_1206,{constructor:function(node,_1208){if(!_1208){_1208={};}this.singular=_1208.singular;this.autoSync=_1208.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,touch.press,lang.hitch(this,"onMouseDown")),on(this.node,touch.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _1205();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_1204.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_1203.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_1207.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}array.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_1209,data,_120a,_120b){var _120c=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_120c.call(this,item,hint);if(_1209){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_1207.superclass.insertNodes.call(this,data,_120a,_120b);this._normalizedCreator=_120c;return this;},destroy:function(){_1207.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(mouse.isLeft(e)){e.stopPropagation();e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.stopPropagation();e.preventDefault();},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,touch.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _1207;});},"dojox/charting/Chart2D":function(){define(["dojo/_base/kernel","dojo/_base/lang","..","./Chart","./axis2d/Default","./axis2d/Invisible","./plot2d/Default","./plot2d/Lines","./plot2d/Areas","./plot2d/Markers","./plot2d/MarkersOnly","./plot2d/Scatter","./plot2d/Stacked","./plot2d/StackedLines","./plot2d/StackedAreas","./plot2d/Columns","./plot2d/StackedColumns","./plot2d/ClusteredColumns","./plot2d/Bars","./plot2d/StackedBars","./plot2d/ClusteredBars","./plot2d/Grid","./plot2d/Pie","./plot2d/Bubble","./plot2d/Candlesticks","./plot2d/OHLC","./plot2d/Spider"],function(_120d,lang,dojox,Chart){_120d.deprecated("dojox.charting.Chart2D","Use dojox.charting.Chart instead and require all other components explicitly","2.0");return lang.setObject("dojox.charting.Chart2D",Chart);});},"viewer/object/data/Grid":function(){define(["dojo/_base/declare","dojo/parser","../_base","../../misc/enums","dojo/text!./grid.html","viewer/misc/gui/DataGrid","viewer/misc/gui/CellText"],function(_120e,_120f,_1210,enums,_1211){return _120e("viewer.object.data.Grid",_1210,{templateString:_1211,startup:function(){eval("var g = "+this.gridcolumn);this.gridcolumn=g;this.gridcolumn.label=this.gridcolumn.label.replace("'","");this.gridcolumn.label=this.gridcolumn.label.replace("'","");this.oddlines=this.oddlines.replace("'","");this.oddlines=this.oddlines.replace("'","");this.evenlines=this.evenlines.replace("'","");this.evenlines=this.evenlines.replace("'","");dojo.attr(this._xComponent,"id",this.id+"_dataGrid");_120f.parse(this.domNode);this._xComponent=dijit.byId(this.id+"_dataGrid");this._xComponent.set("gridSchema",{cols:[{name:"id",label:"ID",width:"10%",type:enums.EnumCellTypes.TEXT},{name:this.gridcolumn.label,label:this.gridcolumn.label,width:"90%",type:enums.EnumCellTypes.TEXT}]});dojo.attr(this._xComponent.domNode,"cellspacing","0");dojo.attr(this._xComponent.domNode,"width","80%");this._xComponent.set("data",[[1,"MMM 1"],[2,"MMM 2"],[3,"MMM 3"],[4,"MMM 4"],[5,"MMM 5"],[6,"MMM 6"],[7,"MMM 7"]]);this._xComponent.set("oddLineColor",this.oddlines);this._xComponent.set("evenLineColor",this.evenlines);this._xComponent.render();}});});},"dojox/mobile/IconContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./IconItem","./Heading","./View"],function(array,_1212,lang,win,_1213,_1214,_1215,_1216,_1217,_1218,View){return _1212("dojox.mobile.IconContainer",[_1216,_1215,_1214],{defaultIcon:"",transition:"below",pressedIconOpacity:0.4,iconBase:"",iconPos:"",back:"Home",label:"My Application",single:false,editable:false,tag:"ul",baseClass:"mblIconContainer",editableMixinClass:"dojox/mobile/_EditableIconMixin",iconItemPaneContainerClass:"dojox/mobile/Container",iconItemPaneContainerProps:null,iconItemPaneClass:"dojox/mobile/_IconItemPane",iconItemPaneProps:null,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_1213.create(this.tag);this._terminator=_1213.create(this.tag==="ul"?"li":"div",{className:"mblIconItemTerminator"},this.domNode);this.inherited(arguments);},postCreate:function(){if(this.editable&&!this.startEdit){require([this.editableMixinClass],lang.hitch(this,function(_1219){_1212.safeMixin(this,new _1219());this.set("editable",this.editable);}));}},startup:function(){if(this._started){return;}require([this.iconItemPaneContainerClass],lang.hitch(this,function(_121a){this.paneContainerWidget=new _121a(this.iconItemPaneContainerProps);if(this.transition==="below"){_1213.place(this.paneContainerWidget.domNode,this.domNode,"after");}else{var view=this.appView=new View({id:this.id+"_mblApplView"});var _121b=this;view.onAfterTransitionIn=function(_121c,dir,_121d,_121e,_121f){_121b._opening._open_1();};view.domNode.style.visibility="hidden";var _1220=view._heading=new _1218({back:this._cv?this._cv(this.back):this.back,label:this._cv?this._cv(this.label):this.label,moveTo:this.domNode.parentNode.id,transition:this.transition=="zoomIn"?"zoomOut":this.transition});view.addChild(_1220);view.addChild(this.paneContainerWidget);var _1221;for(var w=this.getParent();w;w=w.getParent()){if(w instanceof View){_1221=w.domNode.parentNode;break;}}if(!_1221){_1221=win.body();}_1221.appendChild(view.domNode);view.startup();}}));this.inherited(arguments);},closeAll:function(){array.forEach(this.getChildren(),function(w){w.close(true);},this);},addChild:function(_1222,_1223){this.inherited(arguments);if(this._started&&_1222.paneWidget&&!_1222.paneWidget.getParent()){this.paneContainerWidget.addChild(_1222.paneWidget,_1223);}this.domNode.appendChild(this._terminator);},removeChild:function(_1224){var index=(typeof _1224=="number")?_1224:_1224.getIndexInParent();this.paneContainerWidget.removeChild(index);this.inherited(arguments);},_setLabelAttr:function(text){if(!this.appView){return;}this.label=text;var s=this._cv?this._cv(text):text;this.appView._heading.set("label",s);}});});},"dojox/gauges/AnalogLineIndicator":function(){define(["dojo/_base/declare","./AnalogIndicatorBase"],function(_1225,_1226){return _1225("dojox.gauges.AnalogLineIndicator",[_1226],{_getShapes:function(group){var _1227=this.direction;var _1228=this.length;if(_1227=="inside"){_1228=-_1228;}return [group.createLine({x1:0,y1:-this.offset,x2:0,y2:-_1228-this.offset}).setStroke({color:this.color,width:this.width})];}});});},"viewer/misc/common/customParser":function(){define(["viewer/screens/Popup","viewer/screens/Dialog","viewer/screens/Screen","viewer/object/action/Text","viewer/object/shape/Rectangle","viewer/object/shape/RoundedRectangle","viewer/object/shape/Line","viewer/object/shape/OpenCurve","viewer/object/shape/ClosedCurve","viewer/object/shape/Arc","viewer/object/shape/ClosedPolygon","viewer/object/shape/Ellipse","viewer/object/shape/OpenPolygon","viewer/object/shape/Pie","viewer/object/shape/Chord","viewer/object/shape/Path","viewer/object/shape/TrendPen","viewer/object/shape/StatusElement","viewer/object/Group","viewer/object/action/Button","viewer/object/action/CheckBox","viewer/object/action/ComboBox","viewer/object/action/RadioButton","viewer/object/action/TextBox","viewer/object/libraries/LinkedPicture","viewer/object/libraries/CustomWidget","viewer/object/shape/OpenBezierCurve","viewer/object/shape/ClosedBezierCurve","viewer/object/action/ComboBoxSimple","viewer/object/action/ComboBoxDropDown","viewer/object/action/ListBox","viewer/object/action/EditBox","viewer/object/action/Calendar","../enums"],function(Popup,_1229,_122a,_122b,_122c,_122d,_122e,_122f,_1230,_1231,_1232,_1233,_1234,_1235,_1236,_1237,_1238,_1239,_123a,_123b,_123c,_123d,_123e,_123f,_1240,_1241,_1242,_1243,_1244,_1245,_1246,_1247,_1248,enums){var _1249=function(){};_1249._screen=null;_1249.preserveSpaces=false;_1249.parseXML=function(_124a,_124b,_124c,_124d,_124e,_124f,_1250){var _1251=dojox.xml.DomParser.parse(_124a),attr={"_attr":null,"_attrWithSpaces":null,"screenName":_124c,"screenId":_124d},_1252=_1251.childNodes[0],_1253=document.createElement("div");for(var i=0;i<_1252.attributes.length;i++){if(_1252.attributes[i].localName==="_attr"){attr._attr=this.parseScreenAttr(_1252.attributes[i].nodeValue);_1249.preserveSpaces=true;attr._attrWithSpaces=this.parseScreenAttr(_1252.attributes[i].nodeValue);_1249.preserveSpaces=false;}}_124b.appendChild(_1253);attr._attr.titleBar=attr._attrWithSpaces.titleBar;if(_124e&&_124e.Style&&(_124e.Style.toLowerCase()==enums.EnumScreenStyle.DIALOG||_124e.Style.toLowerCase()==enums.EnumScreenStyle.POPUP)){attr._attr.style=_124e.Style;attr._attr.borderScreen="resizing";attr._attr.enableTitleBar=1;attr._attr.systemMenu=1;attr._attr.enableTitleBar=1;attr._attr.locationLeft=200;attr._attr.locationTop=200;}if(_124e&&_124e.Style&&_124e.Style.toLowerCase()=="replace"){attr._attr.style="replacepartial";}if(attr._attr.style.toLowerCase()==enums.EnumScreenStyle.DIALOG){_1249._screen=new _1229(attr,_1253);}else{if(attr._attr.style.toLowerCase()==enums.EnumScreenStyle.POPUP){_1249._screen=new Popup(attr,_1253);}else{_1249._screen=new _122a(attr,_1253);}}if(_124f){_1249._screen.limitations=_124f;}if(_1250){_1249._screen.customProperties=_1250;}_1249._screen.startup();this._parseScreenObjects(_1252.childNodes,this._screen,_124c);_1249._screen.childNodes=_1252.childNodes;return _1249._screen;};_1249._parseScreenObjects=function(_1254,_1255,_1256){var obj=null,self=this,node=null,_1257=null;for(var i=0;i<_1254.length;i++){obj=_1254[i];node=document.createElement("div");if(typeof (_1255._attr.engine)=="undefined"||_1255._attr.engine==null){_1255._attr.engine=0;}var _1258={nodeType:2,nodeName:"engine",localName:"engine",namespace:"_def_",nodeValue:_1255._attr.engine.toString()};obj.attributes.push(_1258);if(obj.attributes[0].nodeValue==="viewer.object.action.Text"){_1257=new _122b({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.Button"){_1257=new _123b({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.CheckBox"){_1257=new _123c({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.ComboBox"){_1249.preserveSpaces=true;_1257=new _123d({"_attr":this.parseAttr(obj.attributes)},node);_1249.preserveSpaces=false;}else{if(obj.attributes[0].nodeValue==="viewer.object.action.ComboBoxSimple"){_1249.preserveSpaces=true;_1257=new _1244({"_attr":this.parseAttr(obj.attributes)},node);_1249.preserveSpaces=false;}else{if(obj.attributes[0].nodeValue==="viewer.object.action.ComboBoxDropDown"){_1249.preserveSpaces=true;_1257=new _1245({"_attr":this.parseAttr(obj.attributes)},node);_1249.preserveSpaces=false;}else{if(obj.attributes[0].nodeValue==="viewer.object.action.ListBox"){_1249.preserveSpaces=true;_1257=new _1246({"_attr":this.parseAttr(obj.attributes)},node);_1249.preserveSpaces=false;}else{if(obj.attributes[0].nodeValue==="viewer.object.action.RadioButton"){_1257=new _123e({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.TextBox"){_1257=new _123f({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.Calendar"){_1257=new _1248({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.action.EditBox"){_1249.preserveSpaces=true;_1257=new _1247({"_attr":this.parseAttr(obj.attributes)},node);_1249.preserveSpaces=false;}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Rectangle"){_1257=new _122c({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.RoundedRectangle"){_1257=new _122d({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Ellipse"){_1257=new _1233({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.OpenCurve"){_1257=new _122f({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.ClosedCurve"){_1257=new _1230({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Arc"){_1257=new _1231({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.ClosedPolygon"){_1257=new _1232({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.OpenPolygon"){_1257=new _1234({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Pie"){_1257=new _1235({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Chord"){_1257=new _1236({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.OpenBezierCurve"){_1257=new _1242({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.ClosedBezierCurve"){_1257=new _1243({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Line"){_1257=new _122e({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.libraries.LinkedPicture"){_1257=new _1240({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.libraries.CustomWidget"){_1257=new _1241(this.parseCustomWidgetAttr(obj.attributes),node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.Path"){_1257=new _1237({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.TrendPen"){_1257=new _1238({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.shape.StatusElement"){_1257=new _1239({"_attr":this.parseAttr(obj.attributes)},node);}else{if(obj.attributes[0].nodeValue==="viewer.object.Group"){_1257=new _123a({"_attr":this.parseAttr(obj.attributes)},node);_1257._attr.engine=_1255._attr.engine;if(_1257.setCachedParent){_1257.setCachedParent(_1255);}this._parseScreenObjects(obj.childNodes,_1257,_1256);}else{console.error("Error trying create: "+obj.attributes[0].nodeValue);}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}if(_1257.setCachedParent){_1257.setCachedParent(_1255);}_1257.placeAt(_1255);_1257.startup();if(typeof _1255.setChildrenAttr==="function"){_1255.setChildrenAttr(_1257);}if(!window.securedControls[_1256]){window.securedControls[_1256]=[];}if(_1257._attr&&_1257._attr.security&&_1257._attr.security!=0){window.securedControls[_1256].push(_1257);}else{if(_1257._attr&&_1257._attr._animations){for(var _1259 in _1257._attr._animations){var anim=_1257._attr._animations[_1259];if(anim&&anim._animProps&&anim._animProps.security&&anim._animProps.security!=0){window.securedControls[_1256].push(_1257);}}}}}};_1249.parseAttr=function(attr){var _125a={};for(var i=1;i<attr.length;i++){_125a[attr[i].localName]=this.parseScreenAttr(attr[i].nodeValue,attr[i].localName);}return _125a;};_1249.parseCustomWidgetAttr=function(attr){var _125b={"_attr":{},"_cw_attr":null};for(var i=1;i<attr.length;i++){if(attr[i].localName!=="_cw_attr"){_125b._attr[attr[i].localName]=this.parseScreenAttr(attr[i].nodeValue,attr[i].localName);}else{_125b._cw_attr=this.parseScreenAttr(attr[i].nodeValue);}}return _125b;};_1249.parseScreenAttr=function(attr,name){var _125c=null,_125d=null;if(!attr||attr.length<=0){return {};}attr=attr.replace(/'/g,"\"");attr=attr.replace(/colors/g,"\"colors\"");attr=attr.replace(/ElementStyles/g,"\"ElementStyles\"");attr=attr.replace(/elementstyles/g,"\"elementstyles\"");attr=attr.replace(/FillStyles/g,"\"FillStyles\"");attr=attr.replace(/LineStyles/g,"\"LineStyles\"");attr=attr.replace(/foregroundColor/g,"\"foregroundColor\"");attr=attr.replace(/fonts/g,"\"fonts\"");attr=attr.replace(/fillPercentColor/g,"\"fillPercentColor\"");attr=attr.replace(/unFillPercentColor/g,"\"unFillPercentColor\"");if(name&&name.toLowerCase()==="font"){_125c=JSON.parse(attr).name;}if(name&&name.toLowerCase()==="pathstring"){attr=JSON.parse(attr);}if(name){if(name.toLowerCase()==="imagestyle"||name.toLowerCase()==="imagealignment"){attr=JSON.stringify(attr);}}if(_1249.preserveSpaces===false){attr=attr.replace(/\s/g,"");}attr=attr.replace(/},}/g,"}}");_125d=JSON.parse(attr);if(_125c){_125d.name=_125c;}return _125d;};return _1249;});},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_125e,_125f,lang,util,html){var _1260=function(_1261){var i=0,n,p=_1261.parentNode;while((n=p.childNodes[i++])){if(n==_1261){return i-1;}}return -1;};var _1262=function(_1263){if(!_1263){return;}dojo.forEach(_125e.toArray(),function(w){if(w.domNode&&html.isDescendant(w.domNode,_1263,true)){w.destroy();}});};var _1264=function(_1265){var node=html.byId(_1265);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _1266=function(_1267,inTag){var _1268=[];var i=0,n;while((n=_1267.childNodes[i])){i++;if(_1264(n)==inTag){_1268.push(n);}}return _1268;};var _1269=function(_126a){return _1266(_126a,"div");};return _125f("dojox.grid._Scroller",null,{constructor:function(_126b){this.setContentNodes(_126b);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_126c,_126d,_126e){switch(arguments.length){case 3:this.rowsPerPage=_126e;case 2:this.keepRows=_126d;case 1:this.rowCount=_126c;default:break;}this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");}},_getPageCount:function(_126f,_1270){return _126f?(Math.ceil(_126f/_1270)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_1271){this.keepRows=_1271;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_1272){this.contentNodes=_1272;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_1273){this.invalidateNodes();this.rowCount=_1273;var _1274=this.pageCount;if(_1274===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_1274){for(var i=_1274-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_1274){this.height+=this.defaultPageHeight*(this.pageCount-_1274-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_1275){return Boolean(this.getDefaultPageNode(_1275));},measurePage:function(_1276){if(this.grid.rowHeight){return ((_1276+1)*this.rowsPerPage>this.rowCount?this.rowCount-_1276*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;}var n=this.getDefaultPageNode(_1276);return (n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_1277,inPos){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_1277].style.top=inPos+"px";}},repositionPages:function(_1278){var nodes=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=nodes[_1278];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_1278):0);for(var p=_1278+1;p<=last;p++){n=nodes[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_1279){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_1279]);}},preparePage:function(_127a,_127b){var p=(_127b?this.popPage():null);for(var i=0;i<this.colCount;i++){var nodes=this.pageNodes[i];var new_p=(p===null?this.createPageNode():this.invalidatePageNode(p,nodes));new_p.pageIndex=_127a;nodes[_127a]=new_p;}},renderPage:function(_127c){var nodes=[];var i,j;for(i=0;i<this.colCount;i++){nodes[i]=this.pageNodes[i][_127c];}for(i=0,j=_127c*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,nodes);}},removePage:function(_127d){for(var i=0,j=_127d*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_127e){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_127e,this.pageNodes[i]);if(n){html.destroy(n);}}},pacify:function(_127f){},pacifying:false,pacifyTicks:200,setPacifying:function(_1280){if(this.pacifying!=_1280){this.pacifying=_1280;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _1281=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _1281;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _1282=(!this._invalidating);if(!_1282){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_1282=true;}}if(_1282){this.needPage(this.page,this.pageTop);}var _1283=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _1284=this.getPageHeight(this.page);this.averageRowHeight=(_1284>0&&_1283>0)?(_1284/_1283):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _1285=this.pageCount-1;var _1286=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_1285]=_1286;return _1286;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_1287,_1288,_1289){if(this.pageExists(_1287)){var oh=this.getPageHeight(_1287);var h=(this.measurePage(_1287));if(h===undefined){h=oh;}this.pageHeights[_1287]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_1288)){if(!_1289){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_1287);}}else{this.repositionPages(_1287);}}return h;}return 0;},rowHeightChanged:function(_128a,_128b){this.updatePageHeight(Math.floor(_128a/this.rowsPerPage),false,_128b);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");html.attr(p,"role","presentation");p.style.position="absolute";p.style[this.grid.isLeftToRight()?"left":"right"]="0";return p;},getPageHeight:function(_128c){var ph=this.pageHeights[_128c];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_128d){return this.stack.push(_128d);},popPage:function(){return this.stack.shift();},findPage:function(inTop){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=inTop){break;}}this.page=i;this.pageTop=h;},buildPage:function(_128e,_128f,inPos){this.preparePage(_128e,_128f);this.positionPage(_128e,inPos);this.installPage(_128e);this.renderPage(_128e);this.pushPage(_128e);},needPage:function(_1290,inPos){var h=this.getPageHeight(_1290),oh=h;if(!this.pageExists(_1290)){this.buildPage(_1290,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),inPos);h=this.updatePageHeight(_1290,true);}else{this.positionPage(_1290,inPos);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(inTop){this.grid.scrollTop=inTop;if(this.colCount){this.startPacify();this.findPage(inTop);var h=this.height;var b=this.getScrollBottom(inTop);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,inTop);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(inTop){return (this.windowHeight>=0?inTop+this.windowHeight:-1);},processNodeEvent:function(e,_1291){var t=e.target;while(t&&(t!=_1291)&&t.parentNode&&(t.parentNode.parentNode!=_1291)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_1291)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_1260(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_1292,_1293){},removeRow:function(_1294){},getDefaultPageNode:function(_1295){return this.getDefaultNodes()[_1295];},positionPageNode:function(_1296,inPos){},getPageNodePosition:function(_1297){return _1297.offsetTop;},invalidatePageNode:function(_1298,_1299){var p=_1299[_1298];if(p){delete _1299[_1298];this.removePage(_1298,p);_1262(p);p.innerHTML="";}return p;},getPageRow:function(_129a){return _129a*this.rowsPerPage;},getLastPageRow:function(_129b){return Math.min(this.rowCount,this.getPageRow(_129b+1))-1;},getFirstVisibleRow:function(_129c,_129d,_129e){if(!this.pageExists(_129c)){return 0;}var row=this.getPageRow(_129c);var nodes=this.getDefaultNodes();var rows=_1269(nodes[_129c]);for(var i=0,l=rows.length;i<l&&_129d<_129e;i++,row++){_129d+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_129f,_12a0,_12a1){if(!this.pageExists(_129f)){return 0;}var nodes=this.getDefaultNodes();var row=this.getLastPageRow(_129f);var rows=_1269(nodes[_129f]);for(var i=rows.length-1;i>=0&&_12a0>_12a1;i--,row--){_12a0-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_12a2){var nodes=this.getDefaultNodes();var rows=_1269(nodes[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_12a2){this.offset=h-(t-_12a2);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(inRow){var _12a3=Math.floor(inRow/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_12a3;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_12a3;this.needPage(_12a3,this.pageTop);var nodes=this.getDefaultNodes();var rows=_1269(nodes[_12a3]);var r=inRow-this.rowsPerPage*_12a3;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});});},"dojox/xml/DomParser":function(){define(["dojo/_base/kernel","dojo/_base/array"],function(dojo){dojo.getObject("xml",true,dojox);dojox.xml.DomParser=new (function(){var _12a4={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9};var _12a5=/<([^>\/\s+]*)([^>]*)>([^<]*)/g;var _12a6=/([^=]*)=(("([^"]*)")|('([^']*)'))/g;var _12a7=/<!ENTITY\s+([^"]*)\s+"([^"]*)">/g;var _12a8=/<!\[CDATA\[([\u0001-\uFFFF]*?)\]\]>/g;var _12a9=/<!--([\u0001-\uFFFF]*?)-->/g;var trim=/^\s+|\s+$/g;var _12aa=/\s+/g;var egt=/\&gt;/g;var elt=/\&lt;/g;var equot=/\&quot;/g;var eapos=/\&apos;/g;var eamp=/\&amp;/g;var dNs="_def_";function _12ab(){return new (function(){var all={};this.nodeType=_12a4.DOCUMENT;this.nodeName="#document";this.namespaces={};this._nsPaths={};this.childNodes=[];this.documentElement=null;this._add=function(obj){if(typeof (obj.id)!="undefined"){all[obj.id]=obj;}};this._remove=function(id){if(all[id]){delete all[id];}};this.byId=this.getElementById=function(id){return all[id];};this.byName=this.getElementsByTagName=_12ac;this.byNameNS=this.getElementsByTagNameNS=_12ad;this.childrenByName=_12ae;this.childrenByNameNS=_12af;})();};function _12ac(name){function _12b0(node,name,arr){dojo.forEach(node.childNodes,function(c){if(c.nodeType==_12a4.ELEMENT){if(name=="*"){arr.push(c);}else{if(c.nodeName==name){arr.push(c);}}_12b0(c,name,arr);}});};var a=[];_12b0(this,name,a);return a;};function _12ad(name,ns){function _12b1(node,name,ns,arr){dojo.forEach(node.childNodes,function(c){if(c.nodeType==_12a4.ELEMENT){if(name=="*"&&c.ownerDocument._nsPaths[ns]==c.namespace){arr.push(c);}else{if(c.localName==name&&c.ownerDocument._nsPaths[ns]==c.namespace){arr.push(c);}}_12b1(c,name,ns,arr);}});};if(!ns){ns=dNs;}var a=[];_12b1(this,name,ns,a);return a;};function _12ae(name){var a=[];dojo.forEach(this.childNodes,function(c){if(c.nodeType==_12a4.ELEMENT){if(name=="*"){a.push(c);}else{if(c.nodeName==name){a.push(c);}}}});return a;};function _12af(name,ns){var a=[];dojo.forEach(this.childNodes,function(c){if(c.nodeType==_12a4.ELEMENT){if(name=="*"&&c.ownerDocument._nsPaths[ns]==c.namespace){a.push(c);}else{if(c.localName==name&&c.ownerDocument._nsPaths[ns]==c.namespace){a.push(c);}}}});return a;};function _12b2(v){return {nodeType:_12a4.TEXT,nodeName:"#text",nodeValue:v.replace(_12aa," ").replace(egt,">").replace(elt,"<").replace(eapos,"'").replace(equot,"\"").replace(eamp,"&")};};function _12b3(name){for(var i=0;i<this.attributes.length;i++){if(this.attributes[i].nodeName==name){return this.attributes[i].nodeValue;}}return null;};function _12b4(name,ns){for(var i=0;i<this.attributes.length;i++){if(this.ownerDocument._nsPaths[ns]==this.attributes[i].namespace&&this.attributes[i].localName==name){return this.attributes[i].nodeValue;}}return null;};function _12b5(name,val){var old=null;for(var i=0;i<this.attributes.length;i++){if(this.attributes[i].nodeName==name){old=this.attributes[i].nodeValue;this.attributes[i].nodeValue=val;break;}}if(name=="id"){if(old!=null){this.ownerDocument._remove(old);}this.ownerDocument._add(this);}};function _12b6(name,val,ns){for(var i=0;i<this.attributes.length;i++){if(this.ownerDocument._nsPaths[ns]==this.attributes[i].namespace&&this.attributes[i].localName==name){this.attributes[i].nodeValue=val;return;}}};function prev(){var p=this.parentNode;if(p){for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i]==this&&i>0){return p.childNodes[i-1];}}}return null;};function next(){var p=this.parentNode;if(p){for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i]==this&&(i+1)<p.childNodes.length){return p.childNodes[i+1];}}}return null;};this.parse=function(str){var root=_12ab();if(str==null){return root;}if(str.length==0){return root;}if(str.indexOf("<!ENTITY")>0){var _12b7,eRe=[];if(_12a7.test(str)){_12a7.lastIndex=0;while((_12b7=_12a7.exec(str))!=null){eRe.push({entity:"&"+_12b7[1].replace(trim,"")+";",expression:_12b7[2]});}for(var i=0;i<eRe.length;i++){str=str.replace(new RegExp(eRe[i].entity,"g"),eRe[i].expression);}}}var _12b8=[],cdata;while((cdata=_12a8.exec(str))!=null){_12b8.push(cdata[1]);}for(var i=0;i<_12b8.length;i++){str=str.replace(_12b8[i],i);}var _12b9=[],_12ba;while((_12ba=_12a9.exec(str))!=null){_12b9.push(_12ba[1]);}for(i=0;i<_12b9.length;i++){str=str.replace(_12b9[i],i);}var res,obj=root;while((res=_12a5.exec(str))!=null){if(res[2].charAt(0)=="/"&&res[2].replace(trim,"").length>1){if(obj.parentNode){obj=obj.parentNode;}var text=(res[3]||"").replace(trim,"");if(text.length>0){obj.childNodes.push(_12b2(text));}}else{if(res[1].length>0){if(res[1].charAt(0)=="?"){var name=res[1].substr(1);var _12bb=res[2].substr(0,res[2].length-2);obj.childNodes.push({nodeType:_12a4.PROCESSING_INSTRUCTION,nodeName:name,nodeValue:_12bb});}else{if(res[1].charAt(0)=="!"){if(res[1].indexOf("![CDATA[")==0){var val=parseInt(res[1].replace("![CDATA[","").replace("]]",""));obj.childNodes.push({nodeType:_12a4.CDATA_SECTION,nodeName:"#cdata-section",nodeValue:_12b8[val]});}else{if(res[1].substr(0,3)=="!--"){var val=parseInt(res[1].replace("!--","").replace("--",""));obj.childNodes.push({nodeType:_12a4.COMMENT,nodeName:"#comment",nodeValue:_12b9[val]});}}}else{var name=res[1].replace(trim,"");var o={nodeType:_12a4.ELEMENT,nodeName:name,localName:name,namespace:dNs,ownerDocument:root,attributes:[],parentNode:null,childNodes:[]};if(name.indexOf(":")>-1){var t=name.split(":");o.namespace=t[0];o.localName=t[1];}o.byName=o.getElementsByTagName=_12ac;o.byNameNS=o.getElementsByTagNameNS=_12ad;o.childrenByName=_12ae;o.childrenByNameNS=_12af;o.getAttribute=_12b3;o.getAttributeNS=_12b4;o.setAttribute=_12b5;o.setAttributeNS=_12b6;o.previous=o.previousSibling=prev;o.next=o.nextSibling=next;var attr;while((attr=_12a6.exec(res[2]))!=null){if(attr.length>0){var name=attr[1].replace(trim,"");var val=(attr[4]||attr[6]||"").replace(_12aa," ").replace(egt,">").replace(elt,"<").replace(eapos,"'").replace(equot,"\"").replace(eamp,"&");if(name.indexOf("xmlns")==0){if(name.indexOf(":")>0){var ns=name.split(":");root.namespaces[ns[1]]=val;root._nsPaths[val]=ns[1];}else{root.namespaces[dNs]=val;root._nsPaths[val]=dNs;}}else{var ln=name;var ns=dNs;if(name.indexOf(":")>0){var t=name.split(":");ln=t[1];ns=t[0];}o.attributes.push({nodeType:_12a4.ATTRIBUTE,nodeName:name,localName:ln,namespace:ns,nodeValue:val});if(ln=="id"){o.id=val;}}}}root._add(o);if(obj){obj.childNodes.push(o);o.parentNode=obj;if(res[2].charAt(res[2].length-1)!="/"){obj=o;}}var text=res[3];if(text.length>0){obj.childNodes.push(_12b2(text));}}}}}}for(var i=0;i<root.childNodes.length;i++){var e=root.childNodes[i];if(e.nodeType==_12a4.ELEMENT){root.documentElement=e;break;}}return root;};})();return dojox.xml.DomParser;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_12bc,dojo,_12bd,_12be,_12bf,dom,_12c0,geom,ready,_12c1){if(!dojo.isAsync){ready(0,function(){var _12c2=["./fx/Toggler"];_12c1(_12c2);});}var _12c3=dojo.fx={};var _12c4={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _12c5=function(_12c6){this._index=-1;this._animations=_12c6||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_12bd.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_12c5.prototype=new _12bc();lang.extend(_12c5,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_12be.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_12be.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(delay,_12c7){if(!this._current){this._current=this._animations[this._index=0];}if(!_12c7&&this._current.status()=="playing"){return this;}var _12c8=_12be.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_12c9=_12be.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_12ca=_12be.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_12c8.remove();_12c9.remove();_12ca.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_12be.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_12be.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_12be.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_12cb,_12cc){this.pause();var _12cd=this.duration*_12cb;this._current=null;_12bd.some(this._animations,function(a){if(a.duration<=_12cd){this._current=a;return true;}_12cd-=a.duration;return false;});if(this._current){this._current.gotoPercent(_12cd/this._current.duration,_12cc);}return this;},stop:function(_12ce){if(this._current){if(_12ce){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_12be.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_12c5,_12c4);_12c3.chain=function(_12cf){return new _12c5(_12cf);};var _12d0=function(_12d1){this._animations=_12d1||[];this._connects=[];this._finished=0;this.duration=0;_12bd.forEach(_12d1,function(a){var _12d2=a.duration;if(a.delay){_12d2+=a.delay;}if(this.duration<_12d2){this.duration=_12d2;}this._connects.push(_12be.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _12bf.Animation({curve:[0,1],duration:this.duration});var self=this;_12bd.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_12be.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_12d0,{_doAction:function(_12d3,args){_12bd.forEach(this._animations,function(a){a[_12d3].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_12d4,args){var t=this._pseudoAnimation;t[_12d4].apply(t,args);},play:function(delay,_12d5){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_12d6,_12d7){var ms=this.duration*_12d6;_12bd.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_12d7);});this._call("gotoPercent",arguments);return this;},stop:function(_12d8){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_12bd.forEach(this._connects,function(_12d9){_12d9.remove();});}});lang.extend(_12d0,_12c4);_12c3.combine=function(_12da){return new _12d0(_12da);};_12c3.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_12bf.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _12db=_12c0.get(node,"height");return Math.max(_12db,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_12be.after(anim,"onStop",fini,true);_12be.after(anim,"onEnd",fini,true);return anim;};_12c3.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_12bf.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_12be.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_12be.after(anim,"onStop",fini,true);_12be.after(anim,"onEnd",fini,true);return anim;};_12c3.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_12c0.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_12bf.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_12be.after(anim,"beforeBegin",init,true);return anim;};return _12c3;});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_12dc,_12dd){_12dc.switchTo(_12dd);return _12dc;});},"ma/widget/trend/theme/Studio":function(){define(["dojo/_base/declare","dojox/charting/Theme"],function(_12de,Theme){return _12de("ma.widget.trend.theme.Studio",Theme,{constructor:function(){var _12df={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};var g=Theme.generateGradient;this.plotarea={stroke:null,fill:"white"};this.chart={stroke:null,fill:"inherited",pageStyle:null};this.series={stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:{dx:1,dy:1,width:2,color:[0,0,0,0.3]},fill:"#ccc",font:"normal normal normal 1em Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}};this.axis={stroke:{color:"#333",width:1},tick:{color:"grey",position:"center",font:"normal normal bold 8pt Tahoma",fontColor:"grey"},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1}};}});});},"dojox/charting/Theme":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","./SimpleTheme","dojox/color/_base","dojox/color/Palette","dojox/gfx/gradutils"],function(lang,_12e0,Color,_12e1,_12e2,_12e3){var Theme=_12e0("dojox.charting.Theme",_12e1,{});lang.mixin(Theme,{defineColors:function(_12e4){_12e4=_12e4||{};var l,c=[],n=_12e4.num||5;if(_12e4.colors){l=_12e4.colors.length;for(var i=0;i<n;i++){c.push(_12e4.colors[i%l]);}return c;}if(_12e4.hue){var s=_12e4.saturation||100,st=_12e4.low||30,end=_12e4.high||90;l=(end+st)/2;return _12e3.generate(_12e2.fromHsv(_12e4.hue,s,l),"monochromatic").colors;}if(_12e4.generator){return _12e2.Palette.generate(_12e4.base,_12e4.generator).colors;}return c;},generateGradient:function(_12e5,_12e6,_12e7){var fill=lang.delegate(_12e5);fill.colors=[{offset:0,color:_12e6},{offset:1,color:_12e7}];return fill;},generateHslColor:function(color,_12e8){color=new Color(color);var hsl=color.toHsl(),_12e9=_12e2.fromHsl(hsl.h,hsl.s,_12e8);_12e9.a=color.a;return _12e9;},generateHslGradient:function(color,_12ea,_12eb,lumTo){color=new Color(color);var hsl=color.toHsl(),_12ec=_12e2.fromHsl(hsl.h,hsl.s,_12eb),_12ed=_12e2.fromHsl(hsl.h,hsl.s,lumTo);_12ec.a=_12ed.a=color.a;return Theme.generateGradient(_12ea,_12ec,_12ed);}});Theme.defaultMarkers=_12e1.defaultMarkers;Theme.defaultColors=_12e1.defaultColors;Theme.defaultTheme=_12e1.defaultTheme;return Theme;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _12ee={};lang.setObject("dojo.data.util.sorter",_12ee);_12ee.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_12ee.createSortFunction=function(_12ef,store){var _12f0=[];function _12f1(attr,dir,comp,s){return function(itemA,itemB){var a=s.getValue(itemA,attr);var b=s.getValue(itemB,attr);return dir*comp(a,b);};};var _12f2;var map=store.comparatorMap;var bc=_12ee.basicComparator;for(var i=0;i<_12ef.length;i++){_12f2=_12ef[i];var attr=_12f2.attribute;if(attr){var dir=(_12f2.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_12f0.push(_12f1(attr,dir,comp,store));}}return function(rowA,rowB){var i=0;while(i<_12f0.length){var ret=_12f0[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _12ee;});},"viewer/misc/gui/OutputWindow":function(){define(["dojo/_base/declare","dojo/parser","dojo/window","dojo/fx","./_base","dojo/text!./outputWindow.html"],function(_12f3,_12f4,win,_12f5,_12f6,_12f7){return _12f3("viewer.misc.gui.OutputWindow",_12f6,{templateString:_12f7,inputEvent:null,onClose:null,_msg:"",startup:function(){this.inherited(arguments);dojo.fadeIn({node:this._dlgContent,duration:100}).play();},close:function(){if(this.onClose){this.onClose();}dojo.destroy(this.id);},_ok:function(){this.close();},_setMessageAttr:function(msg){this._msg=msg;this._dlgMessage.innerHTML=this._msg;dojo.removeClass(this._icoWarning,"viewer-style-common-invisible");}});});},"viewer/animation/Command":function(){define(["dojo/_base/declare","./_base","../misc/enums","dojo/touch","dojo/on","dojo/has","../server/serverEvents","../misc/gesture/_base"],function(_12f8,_12f9,enums,touch,on,has,_12fa,_12fb){return _12f8("viewer.animation.Command",_12f9,{_downClicked:false,_isInside:false,_isHandledByAnimation:false,_isDown:false,_firstChangeTouch:null,_gesture:new _12fb(),_avoid_on_up:false,_touchDownActive:false,_touchDownActiveTimeout:null,_evtDownButton:null,_isUpTriggerByOut:false,constructor:function(_12fc){this.inherited(arguments);_12fc._getComponentAttr().style.pointerEvents="visible";if(_12fc.isCustomWidget===true){_12fc.on(enums.CUSTOM_WIDGET_EVENTS.READY,this._subscribeEvents.bind(this));}else{this._subscribeEvents({commandNode:this._commandNode});}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(this._animProps.idOnRightUp!==undefined||this._animProps.idOnRightDown!==undefined||this._animProps.idOnRightDoubleClick!==undefined){var self=this;on(this._commandNode,"contextmenu",function(evt){self._onContextmenu(evt);});}}else{on(this._commandNode,"contextmenu",this,function(evt){evt.preventDefault();});}dojo.addClass(this._commandNode,"viewer-style-common-handCommand");},destroy:function(){this.inherited(arguments);if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&window._shortcutCommands!==undefined&&window._shortcutCommands!==null){var self=this;var index=window._shortcutCommands.indexOf(this);if(index>-1){window._shortcutCommands.splice(index,1);}if(window._shortcutCommands.length==0){document.removeEventListener("keydown",self._onKeyDown,false);document.removeEventListener("keyup",self._onKeyUp,false);}}},_initFirstChangeTouch:function(evt){this._firstChangeTouch={pageX:evt.pageX,pageY:evt.pageY,screenX:evt.screenX,screenY:evt.screenY,clientX:evt.clientX,clientY:evt.clientY,target:evt.target};},_onDown:function(evt){if(this._widget.declaredClass==="viewer.object.action.Button"){this._widget.Change3DSharpStyle("ondown");}this._isHandledByAnimation=false;this._isDown=true;var _12fd=null;this._avoid_on_up=false;if(this._gesture.generalStatus.isGesturing===true){this._avoid_on_up=true;return;}if(window.sma.inputWithFocus!==null){window.sma.inputWithFocus.forceBlur();}if(evt&&evt.target&&evt.target.nodeName&&evt.target.nodeName.toLowerCase()==="svg"){return false;}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._evtDownButton=evt.button;}if(evt.button){switch(evt.button){case enums.EnumMouseEventButton.RIGHT:_12fd=this._animProps.idOnRightDown;break;case enums.EnumMouseEventButton.LEFT:_12fd=this._animProps.idOnDown;break;case enums.EnumMouseEventButton.MIDDLE:if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){_12fd=this._animProps.idOnCenterDown;}break;default:_12fd=this._animProps.idOnDown;break;}}else{_12fd=this._animProps.idOnDown;}if(this._animProps.release===1){this._downClicked=true;}this._initFirstChangeTouch(evt);this._procAction(_12fd,evt);return false;},_onUp:function(evt){if(this._widget.declaredClass==="viewer.object.action.Button"){this._widget.Change3DSharpStyle("onup");}if(this._widget._isIgnoreMouseReleaseEvent){return;}if(this._isDown&&this._isHandledByAnimation){this._checkPropagation(evt);}else{this._isHandledByAnimation=false;}this._isDown=false;var _12fe=null;if(this._avoid_on_up===true){return;}if(window.sma.inputWithFocus!==null){window.sma.inputWithFocus.forceBlur();}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._isUpTriggerByOut){this._isUpTriggerByOut=false;}else{if(evt&&evt.target&&evt.target.nodeName&&evt.target.nodeName.toLowerCase()==="svg"){return false;}}if(this._isInside===false&&this._animProps.release!==1){return;}if(this._animProps.release===1){if(this._downClicked===false){return;}this._downClicked=false;}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&(this._animProps.idOnDoubleClick!==undefined||this._animProps.idOnRightDoubleClick!==undefined||this._animProps.idOnCenterDoubleClick!==undefined)){if(this._touchDownActive==false){this._touchDownActive=true;var self=this;this.touchDownActiveTimeout=setTimeout(function(){self._touchDownActive=false;},350);}else{this._onDoubleClick(evt);return false;}}if(evt.button){switch(evt.button){case enums.EnumMouseEventButton.RIGHT:_12fe=this._animProps.idOnRightUp;break;case enums.EnumMouseEventButton.LEFT:_12fe=this._animProps.idOnUp;break;case enums.EnumMouseEventButton.MIDDLE:if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){_12fe=this._animProps.idOnCenterUp;}break;default:_12fe=this._animProps.idOnUp;break;}}else{_12fe=this._animProps.idOnUp;}this._procAction(_12fe,evt);return false;},_onOut:function(evt){if(this._animProps.release===1&&this._downClicked===true){if(!this._widget._isIgnoreMouseOutAsRelease){if(has("touch")){on.emit(this._commandNode,"touchend",{target:this._commandNode,bubbles:true,cancelable:true,changedTouches:[this._firstChangeTouch]});}else{if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._evtDownButton!=null){this._isUpTriggerByOut=true;on.emit(this._commandNode,"pointerup",{target:this._commandNode,bubbles:true,cancelable:true,button:this._evtDownButton});}else{on.emit(this._commandNode,"pointerup",{target:this._commandNode,bubbles:true,cancelable:true});}}}}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._animProps.idOnMouseLeave!==undefined){var _12ff=this._animProps.idOnMouseLeave;this._procAction(_12ff,evt);}evt.stopPropagation();this._isInside=false;},_onOver:function(evt){this._isInside=true;if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._animProps.idOnMouseOver!==undefined){var _1300=this._animProps.idOnMouseOver;this._procAction(_1300,evt);}},_onContextmenu:function(evt){if(this._isDown&&evt.button===enums.EnumMouseEventButton.LEFT){var _1301=this._animProps.idOnRightDown;this._procAction(_1301,evt);}evt.preventDefault();},_onDoubleClick:function(evt){var _1302=null;if(evt.button){switch(evt.button){case enums.EnumMouseEventButton.RIGHT:_1302=this._animProps.idOnRightDoubleClick;break;case enums.EnumMouseEventButton.LEFT:_1302=this._animProps.idOnDoubleClick;break;case enums.EnumMouseEventButton.MIDDLE:_1302=this._animProps.idOnCenterDoubleClick;break;default:_1302=this._animProps.idOnDoubleClick;break;}}else{_1302=this._animProps.idOnDoubleClick;}if(this._touchDownActiveTimeout){clearTimeout(this._touchDownActiveTimeout);this._touchDownActiveTimeout=null;}this._touchDownActive=false;this._procAction(_1302,evt);},_hasInputWindow:function(){var _1303=document.getElementsByClassName("misc-gui-inputWindow");if(_1303&&_1303.length>0){return true;}else{return false;}},_onKeyDown:function(evt){if(window._pressingKeyCommand===undefined||window._pressingKeyCommand==""){var _1304=window._shortcutCommands;for(var i=0;i<_1304.length;i++){if(_1304[i]._hasInputWindow()){return;}var _1305=_1304[i]._animProps.key.key;var _1306=_1305.split(",")[0];var _1307=(_1305.indexOf("Control")>-1);var _1308=(_1305.indexOf("Shift")>-1);if(_1307==evt.ctrlKey&&_1308==evt.shiftKey&&_1304[i]._isKeyMatch(evt,_1306)){_1304[i]._onDown(evt);window._pressingKeyCommand=_1305;break;}}}evt.preventDefault();},_onKeyUp:function(evt){if(window._pressingKeyCommand!==undefined&&window._pressingKeyCommand!=""){var _1309=window._shortcutCommands;for(var i=0;i<_1309.length;i++){if(_1309[i]._hasInputWindow()){return;}var _130a=_1309[i]._animProps.key.key;if(window._pressingKeyCommand!=_130a){continue;}var _130b=_130a.split(",")[0];var _130c=(_130a.indexOf("Control")>-1);var _130d=(_130a.indexOf("Shift")>-1);if((_130c&&(evt.key=="Control"))||(_130d&&(evt.shiftKey=="Shift"))||_1309[i]._isKeyMatch(evt,_130b)){_1309[i]._onUp(evt);window._pressingKeyCommand="";break;}}}evt.preventDefault();},_isKeyMatch:function(evt,_130e){if(evt.key.toLowerCase()==_130e.toLowerCase()){return true;}if(evt.code!==undefined){if(evt.code.toLowerCase()==_130e.toLowerCase()){return true;}else{if(evt.code.indexOf("Digit")==0){var code=evt.code.replace("Digit","D");if(code.toLowerCase()==_130e.toLowerCase()){return true;}}else{if(evt.code.indexOf("Arrow")==0){var code=evt.code.replace("Arrow","");if(code.toLowerCase()==_130e.toLowerCase()){return true;}}else{if(evt.code.indexOf("Numpad")==0){var code=evt.code.replace("Numpad","");if(code.toLowerCase()==_130e.toLowerCase()){return true;}}else{if(evt.code=="Backspace"&&_130e=="Back"){return true;}}}}}}else{if(evt.key=="Esc"&&_130e=="Escape"){return true;}else{if(evt.key=="Backspace"&&_130e=="Back"){return true;}else{if(evt.key=="Del"&&_130e=="Delete"){return true;}else{if(evt.key=="Spacebar"&&_130e=="Space"){return true;}else{if(_130e.indexOf("NumPad")==0){var code=_130e.replace("NumPad","");if(code.toLowerCase()==evt.key.toLowerCase()&&evt.keyCode>95&&evt.keyCode<106){return true;}}else{if(_130e.indexOf("D")==0){var code=_130e.replace("D","");if(code.toLowerCase()==evt.key.toLowerCase()&&evt.keyCode>47&&evt.keyCode<58){return true;}}}}}}}}return false;},_procAction:function(_130f,evt){if(parseInt(this._isDisabled,10)!==0||this._securitySystem.isAuthorized(this._animProps.security)===false||isNaN(_130f)===true||_130f===null){return;}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._widget.isDisabled()===true){return;}_12fa.parseResult(services.executeCommand(window.viewId,this._widget.getParentScreen().screenId,parseInt(_130f,10)));if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.intervalQueueRequest(1000);}else{this.intervalCallRequest();}this._checkPropagation(evt);},_checkPropagation:function(evt){if(evt&&(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA||this._isHandledByAnimation)){evt.isHandledByAnimation=true;this._isHandledByAnimation=true;}},_execUpdate:function(){},_getTouchCommandNode:function(){return this._commandNode;},_getIsHandledByAnimation:function(evt){return this._isHandledByAnimation;},_subscribeEvents:function(evt){var self=this;this._commandNode=evt.commandNode;on(this._commandNode,touch.press,function(evt){self._onDown(evt);});on(this._commandNode,touch.leave,function(evt){self._onOut(evt);});on(this._widget._getComponentAttr(),touch.over,function(evt){self._onOver(evt);});if(this._widget.isCustomWidget===true&&dojo.isIos){this._commandNode.addEventListener("touchend",function(evt){self._onUp(evt);},false);}else{on(this._commandNode,touch.release,function(evt){self._onUp(evt);});}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(this._animProps.idOnDoubleClick!==undefined){this._commandNode.addEventListener("dblclick",function(evt){evt.stopPropagation();},false);}if(this._animProps.key!==undefined){if(window._shortcutCommands===undefined||window._shortcutCommands===null){window._shortcutCommands=[];}window._shortcutCommands.push(this);document.addEventListener("keydown",self._onKeyDown,false);document.addEventListener("keyup",self._onKeyUp,false);}}}});});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_1310,dom,geom,style,_1311){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_1310.body(doc),_1312=_1311.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_1311.create("div",{style:{overflow:"hidden",direction:"ltr"}},_1312,"last"),ret=geom.position(div).x!=0;_1312.removeChild(div);body.removeChild(_1312);return ret;});has.add("position-fixed-support",function(win,doc){var body=_1310.body(doc),outer=_1311.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),inner=_1311.create("span",{style:{position:"fixed",left:"0",top:"0"}},outer,"last"),ret=geom.position(inner).x!=geom.position(outer).x;outer.removeChild(inner);body.removeChild(outer);return ret;});var _1313={getBox:function(doc){doc=doc||_1310.doc;var _1314=(doc.compatMode=="BackCompat")?_1310.body(doc):doc.documentElement,_1315=geom.docScroll(doc),w,h;if(has("touch")){var _1316=_1313.get(doc);w=_1316.innerWidth||_1314.clientWidth;h=_1316.innerHeight||_1314.clientHeight;}else{w=_1314.clientWidth;h=_1314.clientHeight;}return {l:_1315.x,t:_1315.y,w:w,h:h};},get:function(doc){if(has("ie")&&_1313!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_1310.doc,body=_1310.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _1317=doc.compatMode=="BackCompat",_1318=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_1319=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_131a=(isWK||_1317)?body:html,_131b=pos||geom.position(node),el=node.parentNode,_131c=function(el){return (isIE<=6||(isIE==7&&_1317))?false:(has("position-fixed-support")&&(style.get(el,"position").toLowerCase()=="fixed"));};if(_131c(node)){return;}while(el){if(el==body){el=_131a;}var elPos=geom.position(el),_131d=_131c(el),rtl=style.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_131a){elPos.w=_1318;elPos.h=_1319;if(_131a==html&&isIE&&rtl){elPos.x+=_131a.offsetWidth-elPos.w;}if(elPos.x<0||!isIE||isIE>=9){elPos.x=0;}if(elPos.y<0||!isIE||isIE>=9){elPos.y=0;}}else{var pb=geom.getPadBorderExtents(el);elPos.w-=pb.w;elPos.h-=pb.h;elPos.x+=pb.l;elPos.y+=pb.t;var _131e=el.clientWidth,_131f=elPos.w-_131e;if(_131e>0&&_131f>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){elPos.x+=_131f;}elPos.w=_131e;}_131e=el.clientHeight;_131f=elPos.h-_131e;if(_131e>0&&_131f>0){elPos.h=_131e;}}if(_131d){if(elPos.y<0){elPos.h+=elPos.y;elPos.y=0;}if(elPos.x<0){elPos.w+=elPos.x;elPos.x=0;}if(elPos.y+elPos.h>_1319){elPos.h=_1319-elPos.y;}if(elPos.x+elPos.w>_1318){elPos.w=_1318-elPos.x;}}var l=_131b.x-elPos.x,t=_131b.y-elPos.y,r=l+_131b.w-elPos.w,bot=t+_131b.h-elPos.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_131a||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_1317)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_131b.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_131a||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_131b.y-=s;}el=(el!=_131a)&&!_131d&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_1313);return _1313;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_1320,win,popup){var _1321=popup._createWrapper;popup._createWrapper=function(_1322){if(!_1322.declaredClass){_1322={_popupWrapper:(_1322.parentNode&&_1320.contains(_1322.parentNode,"dijitPopup"))?_1322.parentNode:null,domNode:_1322,destroy:function(){},ownerDocument:_1322.ownerDocument,ownerDocumentBody:win.body(_1322.ownerDocument)};}return _1321.call(this,_1322);};var _1323=popup.open;popup.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _1323.call(this,args);};return popup;});},"dojox/mobile/lazyLoadUtils":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/window","dojo/_base/Deferred","dojo/ready"],function(dojo,array,_1324,win,_1325,ready){var _1326=function(){this._lazyNodes=[];var _1327=this;if(_1324.parseOnLoad){ready(90,function(){var _1328=array.filter(win.body().getElementsByTagName("*"),function(n){return n.getAttribute("lazy")==="true"||(n.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/);});var i,j,nodes,s,n;for(i=0;i<_1328.length;i++){array.forEach(["dojoType","data-dojo-type"],function(a){nodes=array.filter(_1328[i].getElementsByTagName("*"),function(n){return n.getAttribute(a);});for(j=0;j<nodes.length;j++){n=nodes[j];n.setAttribute("__"+a,n.getAttribute(a));n.removeAttribute(a);_1327._lazyNodes.push(n);}});}});}ready(function(){for(var i=0;i<_1327._lazyNodes.length;i++){var n=_1327._lazyNodes[i];array.forEach(["dojoType","data-dojo-type"],function(a){if(n.getAttribute("__"+a)){n.setAttribute(a,n.getAttribute("__"+a));n.removeAttribute("__"+a);}});}delete _1327._lazyNodes;});this.instantiateLazyWidgets=function(root,_1329,_132a){var d=new _1325();var req=_1329?_1329.split(/,/):[];var nodes=root.getElementsByTagName("*");var len=nodes.length;for(var i=0;i<len;i++){var s=nodes[i].getAttribute("dojoType")||nodes[i].getAttribute("data-dojo-type");if(s){req.push(s);var m=nodes[i].getAttribute("data-dojo-mixins"),_132b=m?m.split(/, */):[];req=req.concat(_132b);}}if(req.length===0){return true;}if(dojo.require){array.forEach(req,function(c){dojo["require"](c);});dojo.parser.parse(root);if(_132a){_132a(root);}return true;}else{req=array.map(req,function(s){return s.replace(/\./g,"/");});require(req,function(){dojo.parser.parse(root);if(_132a){_132a(root);}d.resolve(true);});}return d;};};return new _1326();});},"dojox/charting/plot2d/StackedLines":function(){define(["dojo/_base/declare","./Stacked"],function(_132c,_132d){return _132c("dojox.charting.plot2d.StackedLines",_132d,{constructor:function(){this.opt.lines=true;}});});},"dojox/charting/axis2d/Default":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/sniff","dojo/_base/declare","dojo/_base/connect","dojo/dom-geometry","./Invisible","../scaler/linear","./common","dojox/gfx","dojox/lang/utils","dojox/lang/functional","dojo/has!dojo-bidi?../bidi/axis2d/Default"],function(lang,arr,has,_132e,_132f,_1330,_1331,lin,_1332,g,du,df,_1333){var _1334=45;var _1335=_132e(has("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",_1331,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true,enableCache:false,dropLabels:true,labelSizeChange:false},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(chart,_1336){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_1336);du.updateWithPattern(this.opt,_1336,this.optionalParams);if(this.opt.enableCache){this._textFreePool=[];this._lineFreePool=[];this._textUsePool=[];this._lineUsePool=[];}this._invalidMaxLabelSize=true;},setWindow:function(scale,_1337){if(scale!=this.scale){this._invalidMaxLabelSize=true;}return this.inherited(arguments);},_groupLabelWidth:function(_1338,font,_1339){if(!_1338.length){return 0;}if(_1338.length>50){_1338.length=50;}if(lang.isObject(_1338[0])){_1338=df.map(_1338,function(label){return label.text;});}if(_1339){_1338=df.map(_1338,function(label){return lang.trim(label).length==0?"":label.substring(0,_1339)+this.trailingSymbol;},this);}var s=_1338.join("<br>");return g._base._getTextBox(s,{font:font}).w||0;},_getMaxLabelSize:function(min,max,span,_133a,font,size){if(this._maxLabelSize==null&&arguments.length==6){var o=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var ob=lang.clone(o);delete ob.to;delete ob.from;var sb=lin.buildScaler(min,max,span,ob,o.to-o.from);sb.minMinorStep=0;this._majorStart=sb.major.start;var tb=lin.buildTicks(sb,o);if(size&&tb){var _133b=0,_133c=0;var _133d=function(tick){if(tick.label){this.push(tick.label);}};var _133e=[];if(this.opt.majorLabels){arr.forEach(tb.major,_133d,_133e);_133b=this._groupLabelWidth(_133e,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_133b=Math.min(ob.maxLabelSize,_133b);}}_133e=[];if(this.opt.dropLabels&&this.opt.minorLabels){arr.forEach(tb.minor,_133d,_133e);_133c=this._groupLabelWidth(_133e,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_133c=Math.min(ob.maxLabelSize,_133c);}}this._maxLabelSize={majLabelW:_133b,minLabelW:_133c,majLabelH:size,minLabelH:size};}else{this._maxLabelSize=null;}}return this._maxLabelSize;},calculate:function(min,max,span){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||span!=this._oldSpan)&&(min!=Infinity&&max!=-Infinity)){this._invalidMaxLabelSize=false;if(this.opt.labelSizeChange){this._maxLabelSize=null;}this._oldSpan=span;var o=this.opt;var ta=this.chart.theme.axis,_133f=o.rotation%360,_1340=this.chart.theme.axis.tick.labelGap,font=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=font?g.normalizedLength(g.splitFontString(font).size):0,_1341=this._getMaxLabelSize(min,max,span,_133f,font,size);if(typeof _1340!="number"){_1340=4;}if(_1341&&o.dropLabels){var cosr=Math.abs(Math.cos(_133f*Math.PI/180)),sinr=Math.abs(Math.sin(_133f*Math.PI/180));var _1342,_1343;if(_133f<0){_133f+=360;}switch(_133f){case 0:case 180:if(this.vertical){_1342=_1343=size;}else{_1342=_1341.majLabelW;_1343=_1341.minLabelW;}break;case 90:case 270:if(this.vertical){_1342=_1341.majLabelW;_1343=_1341.minLabelW;}else{_1342=_1343=size;}break;default:_1342=this.vertical?Math.min(_1341.majLabelW,size/cosr):Math.min(_1341.majLabelW,size/sinr);var gap1=Math.sqrt(_1341.minLabelW*_1341.minLabelW+size*size),gap2=this.vertical?size*cosr+_1341.minLabelW*sinr:_1341.minLabelW*cosr+size*sinr;_1343=Math.min(gap1,gap2);break;}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(_1342,_1343)+_1340;var _1344=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale;if(!_1344){this._skipInterval=Math.floor((_1342+_1340)/(this.scaler.major.tick*this.scaler.bounds.scale));}else{this._skipInterval=0;}}else{this._skipInterval=0;}}this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getOffsets:function(){var s=this.scaler,_1345={l:0,r:0,t:0,b:0};if(!s){return _1345;}var o=this.opt,ta=this.chart.theme.axis,_1346=this.chart.theme.axis.tick.labelGap,_1347=o.titleFont||(ta.title&&ta.title.font),_1348=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap),_1349=this.chart.theme.getTick("major",o),_134a=this.chart.theme.getTick("minor",o),tsize=_1347?g.normalizedLength(g.splitFontString(_1347).size):0,_134b=o.rotation%360,_134c=o.leftBottom,cosr=Math.abs(Math.cos(_134b*Math.PI/180)),sinr=Math.abs(Math.sin(_134b*Math.PI/180));this.trailingSymbol=(o.trailingSymbol===undefined||o.trailingSymbol===null)?this.trailingSymbol:o.trailingSymbol;if(typeof _1346!="number"){_1346=4;}if(_134b<0){_134b+=360;}var _134d=this._getMaxLabelSize();if(_134d){var side;var _134e=Math.ceil(Math.max(_134d.majLabelW,_134d.minLabelW))+1,size=Math.ceil(Math.max(_134d.majLabelH,_134d.minLabelH))+1;if(this.vertical){side=_134c?"l":"r";switch(_134b){case 0:case 180:_1345[side]=_134e;_1345.t=_1345.b=size/2;break;case 90:case 270:_1345[side]=size;_1345.t=_1345.b=_134e/2;break;default:if(_134b<=_1334||(180<_134b&&_134b<=(180+_1334))){_1345[side]=size*sinr/2+_134e*cosr;_1345[_134c?"t":"b"]=size*cosr/2+_134e*sinr;_1345[_134c?"b":"t"]=size*cosr/2;}else{if(_134b>(360-_1334)||(180>_134b&&_134b>(180-_1334))){_1345[side]=size*sinr/2+_134e*cosr;_1345[_134c?"b":"t"]=size*cosr/2+_134e*sinr;_1345[_134c?"t":"b"]=size*cosr/2;}else{if(_134b<90||(180<_134b&&_134b<270)){_1345[side]=size*sinr+_134e*cosr;_1345[_134c?"t":"b"]=size*cosr+_134e*sinr;}else{_1345[side]=size*sinr+_134e*cosr;_1345[_134c?"b":"t"]=size*cosr+_134e*sinr;}}}break;}_1345[side]+=_1346+Math.max(_1349.length>0?_1349.length:0,_134a.length>0?_134a.length:0)+(o.title?(tsize+_1348):0);}else{side=_134c?"b":"t";switch(_134b){case 0:case 180:_1345[side]=size;_1345.l=_1345.r=_134e/2;break;case 90:case 270:_1345[side]=_134e;_1345.l=_1345.r=size/2;break;default:if((90-_1334)<=_134b&&_134b<=90||(270-_1334)<=_134b&&_134b<=270){_1345[side]=size*cosr/2+_134e*sinr;_1345[_134c?"r":"l"]=size*sinr/2+_134e*cosr;_1345[_134c?"l":"r"]=size*sinr/2;}else{if(90<=_134b&&_134b<=(90+_1334)||270<=_134b&&_134b<=(270+_1334)){_1345[side]=size*cosr/2+_134e*sinr;_1345[_134c?"l":"r"]=size*sinr/2+_134e*cosr;_1345[_134c?"r":"l"]=size*sinr/2;}else{if(_134b<_1334||(180<_134b&&_134b<(180+_1334))){_1345[side]=size*cosr+_134e*sinr;_1345[_134c?"r":"l"]=size*sinr+_134e*cosr;}else{_1345[side]=size*cosr+_134e*sinr;_1345[_134c?"l":"r"]=size*sinr+_134e*cosr;}}}break;}_1345[side]+=_1346+Math.max(_1349.length>0?_1349.length:0,_134a.length>0?_134a.length:0)+(o.title?(tsize+_1348):0);}}return _1345;},cleanGroup:function(_134f){if(this.opt.enableCache&&this.group){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._textFreePool=this._textFreePool.concat(this._textUsePool);this._textUsePool=[];}this.inherited(arguments);},createText:function(_1350,_1351,x,y,align,_1352,font,_1353,_1354){if(!this.opt.enableCache||_1350=="html"){return _1332.createText[_1350](this.chart,_1351,x,y,align,_1352,font,_1353,_1354);}var text;if(this._textFreePool.length>0){text=this._textFreePool.pop();text.setShape({x:x,y:y,text:_1352,align:align});_1351.add(text);}else{text=_1332.createText[_1350](this.chart,_1351,x,y,align,_1352,font,_1353);}this._textUsePool.push(text);return text;},createLine:function(_1355,_1356){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_1356);_1355.add(line);}else{line=_1355.createLine(_1356);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},render:function(dim,_1357){var isRtl=this._isRtl();if(!this.dirty||!this.scaler){return this;}var o=this.opt,ta=this.chart.theme.axis,_1358=o.leftBottom,_1359=o.rotation%360,start,stop,_135a,_135b=0,_135c,_135d,_135e,_135f,_1360,_1361,_1362=this.chart.theme.axis.tick.labelGap,_1363=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_1364=o.titleFont||(ta.title&&ta.title.font),_1365=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_1366=o.titleFontColor||(ta.title&&ta.title.fontColor)||"black",_1367=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap)||15,_1368=o.titleOrientation||(ta.title&&ta.title.orientation)||"axis",_1369=this.chart.theme.getTick("major",o),_136a=this.chart.theme.getTick("minor",o),_136b=this.chart.theme.getTick("micro",o),_136c="stroke" in o?o.stroke:ta.stroke,size=_1363?g.normalizedLength(g.splitFontString(_1363).size):0,cosr=Math.abs(Math.cos(_1359*Math.PI/180)),sinr=Math.abs(Math.sin(_1359*Math.PI/180)),tsize=_1364?g.normalizedLength(g.splitFontString(_1364).size):0;if(typeof _1362!="number"){_1362=4;}if(_1359<0){_1359+=360;}var _136d=this._getMaxLabelSize();_136d=_136d&&_136d.majLabelW;if(this.vertical){start={y:dim.height-_1357.b};stop={y:_1357.t};_135a={y:(dim.height-_1357.b+_1357.t)/2};_135c=size*sinr+(_136d||0)*cosr+_1362+Math.max(_1369.length>0?_1369.length:0,_136a.length>0?_136a.length:0)+tsize+_1367;_135d={x:0,y:-1};_1360={x:0,y:0};_135e={x:1,y:0};_135f={x:_1362,y:0};switch(_1359){case 0:_1361="end";_1360.y=size*0.4;break;case 90:_1361="middle";_1360.x=-size;break;case 180:_1361="start";_1360.y=-size*0.4;break;case 270:_1361="middle";break;default:if(_1359<_1334){_1361="end";_1360.y=size*0.4;}else{if(_1359<90){_1361="end";_1360.y=size*0.4;}else{if(_1359<(180-_1334)){_1361="start";}else{if(_1359<(180+_1334)){_1361="start";_1360.y=-size*0.4;}else{if(_1359<270){_1361="start";_1360.x=_1358?0:size*0.4;}else{if(_1359<(360-_1334)){_1361="end";_1360.x=_1358?0:size*0.4;}else{_1361="end";_1360.y=size*0.4;}}}}}}}if(_1358){start.x=stop.x=_1357.l;_135b=(_1368&&_1368=="away")?90:270;_135a.x=_1357.l-_135c+(_135b==270?tsize:0);_135e.x=-1;_135f.x=-_135f.x;}else{start.x=stop.x=dim.width-_1357.r;_135b=(_1368&&_1368=="axis")?90:270;_135a.x=dim.width-_1357.r+_135c-(_135b==270?0:tsize);switch(_1361){case "start":_1361="end";break;case "end":_1361="start";break;case "middle":_1360.x+=size;break;}}}else{start={x:_1357.l};stop={x:dim.width-_1357.r};_135a={x:(dim.width-_1357.r+_1357.l)/2};_135c=size*cosr+(_136d||0)*sinr+_1362+Math.max(_1369.length>0?_1369.length:0,_136a.length>0?_136a.length:0)+tsize+_1367;_135d={x:isRtl?-1:1,y:0};_1360={x:0,y:0};_135e={x:0,y:1};_135f={x:0,y:_1362};switch(_1359){case 0:_1361="middle";_1360.y=size;break;case 90:_1361="start";_1360.x=-size*0.4;break;case 180:_1361="middle";break;case 270:_1361="end";_1360.x=size*0.4;break;default:if(_1359<(90-_1334)){_1361="start";_1360.y=_1358?size:0;}else{if(_1359<(90+_1334)){_1361="start";_1360.x=-size*0.4;}else{if(_1359<180){_1361="start";_1360.y=_1358?0:-size;}else{if(_1359<(270-_1334)){_1361="end";_1360.y=_1358?0:-size;}else{if(_1359<(270+_1334)){_1361="end";_1360.y=_1358?size*0.4:0;}else{_1361="end";_1360.y=_1358?size:0;}}}}}}if(_1358){start.y=stop.y=dim.height-_1357.b;_135b=(_1368&&_1368=="axis")?180:0;_135a.y=dim.height-_1357.b+_135c-(_135b?tsize:0);}else{start.y=stop.y=_1357.t;_135b=(_1368&&_1368=="away")?180:0;_135a.y=_1357.t-_135c+(_135b?0:tsize);_135e.y=-1;_135f.y=-_135f.y;switch(_1361){case "start":_1361="end";break;case "end":_1361="start";break;case "middle":_1360.y-=size;break;}}}this.cleanGroup();var s=this.group,c=this.scaler,t=this.ticks,f=lin.getTransformerFromModel(this.scaler),_136e=(!o.title||!_135b)&&!_1359&&this.opt.htmlLabels&&!has("ie")&&!has("opera")?"html":"gfx",dx=_135e.x*_1369.length,dy=_135e.y*_1369.length,skip=this._skipInterval;s.createLine({x1:start.x,y1:start.y,x2:stop.x,y2:stop.y}).setStroke(_136c);if(o.title){var _136f=_1332.createText[_136e](this.chart,s,_135a.x,_135a.y,"middle",o.title,_1364,_1366);if(_136e=="html"){this.htmlElements.push(_136f);}else{_136f.setTransform(g.matrix.rotategAt(_135b,_135a.x,_135a.y));}}if(t==null){this.dirty=false;return this;}var rel=(t.major.length>0)?(t.major[0].value-this._majorStart)/c.major.tick:0;var _1370=this.opt.majorLabels;arr.forEach(t.major,function(tick,i){var _1371=f(tick.value),elem,x=(isRtl?stop.x:start.x)+_135d.x*_1371,y=start.y+_135d.y*_1371;i+=rel;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_1369);if(tick.label&&(!skip||(i-(1+skip))%(1+skip)==0)){var label=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_1363,o.maxLabelCharCount):{text:tick.label,truncated:false};label=o.maxLabelSize?this.getTextWithLimitLength(label.text,_1363,o.maxLabelSize,label.truncated):label;elem=this.createText(_136e,s,x+(_1369.length>0?dx:0)+_135f.x+(_1359?0:_1360.x),y+(_1369.length>0?dy:0)+_135f.y+(_1359?0:_1360.y),_1361,label.text,_1363,_1365);if(label.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_136e);}label.truncated&&this.labelTooltip(elem,this.chart,tick.label,label.text,_1363,_136e);if(_136e=="html"){this.htmlElements.push(elem);}else{if(_1359){elem.setTransform([{dx:_1360.x,dy:_1360.y},g.matrix.rotategAt(_1359,x+(_1369.length>0?dx:0)+_135f.x,y+(_1369.length>0?dy:0)+_135f.y)]);}}}},this);dx=_135e.x*_136a.length;dy=_135e.y*_136a.length;_1370=this.opt.minorLabels&&c.minMinorStep<=c.minor.tick*c.bounds.scale;arr.forEach(t.minor,function(tick){var _1372=f(tick.value),elem,x=(isRtl?stop.x:start.x)+_135d.x*_1372,y=start.y+_135d.y*_1372;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_136a);if(_1370&&tick.label){var label=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_1363,o.maxLabelCharCount):{text:tick.label,truncated:false};label=o.maxLabelSize?this.getTextWithLimitLength(label.text,_1363,o.maxLabelSize,label.truncated):label;elem=this.createText(_136e,s,x+(_136a.length>0?dx:0)+_135f.x+(_1359?0:_1360.x),y+(_136a.length>0?dy:0)+_135f.y+(_1359?0:_1360.y),_1361,label.text,_1363,_1365);if(label.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_136e);}label.truncated&&this.labelTooltip(elem,this.chart,tick.label,label.text,_1363,_136e);if(_136e=="html"){this.htmlElements.push(elem);}else{if(_1359){elem.setTransform([{dx:_1360.x,dy:_1360.y},g.matrix.rotategAt(_1359,x+(_136a.length>0?dx:0)+_135f.x,y+(_136a.length>0?dy:0)+_135f.y)]);}}}},this);dx=_135e.x*_136b.length;dy=_135e.y*_136b.length;arr.forEach(t.micro,function(tick){var _1373=f(tick.value),x=start.x+_135d.x*_1373,y=start.y+_135d.y*_1373;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_136b);},this);this.dirty=false;return this;},labelTooltip:function(elem,chart,label,_1374,font,_1375){var _1376=["dijit/Tooltip"];var _1377={type:"rect"},_1378=["above","below"],_1379=g._base._getTextBox(_1374,{font:font}).w||0,_137a=font?g.normalizedLength(g.splitFontString(font).size):0;if(_1375=="html"){lang.mixin(_1377,_1330.position(elem.firstChild,true));_1377.width=Math.ceil(_1379);_1377.height=Math.ceil(_137a);this._events.push({shape:dojo,handle:_132f.connect(elem.firstChild,"onmouseover",this,function(e){require(_1376,function(_137b){_137b.show(label,_1377,_1378);});})});this._events.push({shape:dojo,handle:_132f.connect(elem.firstChild,"onmouseout",this,function(e){require(_1376,function(_137c){_137c.hide(_1377);});})});}else{var shp=elem.getShape(),lt=chart.getCoords();_1377=lang.mixin(_1377,{x:shp.x-_1379/2,y:shp.y});_1377.x+=lt.x;_1377.y+=lt.y;_1377.x=Math.round(_1377.x);_1377.y=Math.round(_1377.y);_1377.width=Math.ceil(_1379);_1377.height=Math.ceil(_137a);this._events.push({shape:elem,handle:elem.connect("onmouseenter",this,function(e){require(_1376,function(_137d){_137d.show(label,_1377,_1378);});})});this._events.push({shape:elem,handle:elem.connect("onmouseleave",this,function(e){require(_1376,function(_137e){_137e.hide(_1377);});})});}},_isRtl:function(){return false;}});return has("dojo-bidi")?_132e("dojox.charting.axis2d.Default",[_1335,_1333]):_1335;});},"ma/widget/dataGrid/StudioDataGrid":function(){define(["dojo/_base/declare","dojo/touch","dojox/grid/DataGrid"],function(_137f,touch,Grid){return _137f("ma.widget.dataGrid.StudioDataGrid",Grid,{scrollRowPositon:0,lastPosition:0,mouseEventClick:null,constructor:function(){},startup:function(){this.inherited(arguments);dojo.connect(this.viewsNode,touch.press,dojo.hitch(this,this.ProcOnClickDown));dojo.connect(this.viewsNode,touch.release,dojo.hitch(this,this.ProcOnClickUp));dojo.connect(this.viewsNode,touch.cancel,dojo.hitch(this,this.ProcOnClickUp));dojo.connect(this.domNode,touch.move,dojo.hitch(this,this.ScrollData));},ScrollData:function(evt){if(!this.mouseEventClick){return;}if(this.lastPosition<evt.clientY){this.scrollRowPositon--;}else{if(this.lastPosition>evt.clientY){this.scrollRowPositon++;}}if(this.scrollRowPositon<0){this.scrollRowPositon=0;}else{if(this.scrollRowPositon>this.rowCount){this.scrollRowPositon=this.rowCount;}}this.lastPosition=evt.clientY;this.scrollToRow(this.scrollRowPositon);dojo.stopEvent(evt);},ProcOnClickDown:function(evt){this.mouseEventClick=evt;this.lastPosition=this.mouseEventClick.clientY;},ProcOnClickUp:function(evt){this.mouseEventClick=null;},customResize:function(width,_1380){this.resize({l:0,t:0,w:width,h:_1380},null);},doApplyCellEdit:function(_1381,_1382,_1383){if(typeof _1381==="undefined"){return;}return this.inherited(arguments);}});});},"dojox/charting/Chart":function(){define(["../main","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/dom","dojo/dom-geometry","dojo/dom-construct","dojo/_base/Color","dojo/sniff","./Element","./SimpleTheme","./Series","./axis2d/common","dojox/gfx/shape","dojox/gfx","dojo/has!dojo-bidi?./bidi/Chart","dojox/lang/functional","dojox/lang/functional/fold","dojox/lang/functional/reversed"],function(dojox,lang,arr,_1384,_1385,dom,_1386,_1387,Color,has,_1388,_1389,_138a,_138b,shape,g,_138c,func){var dc=lang.getObject("charting",true,dojox),clear=func.lambda("item.clear()"),purge=func.lambda("item.purgeGroup()"),_138d=func.lambda("item.destroy()"),_138e=func.lambda("item.dirty = false"),_138f=func.lambda("item.dirty = true"),_1390=func.lambda("item.name");var Chart=_1384(has("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(node,_1391){if(!_1391){_1391={};}this.margins=_1391.margins?_1391.margins:{l:10,t:10,r:10,b:10};this.stroke=_1391.stroke;this.fill=_1391.fill;this.delayInMs=_1391.delayInMs||200;this.title=_1391.title;this.titleGap=_1391.titleGap;this.titlePos=_1391.titlePos;this.titleFont=_1391.titleFont;this.titleFontColor=_1391.titleFontColor;this.chartTitle=null;this.htmlLabels=true;if("htmlLabels" in _1391){this.htmlLabels=_1391.htmlLabels;}this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.node=dom.byId(node);var box=_1386.getMarginBox(node);this.surface=g.createSurface(this.node,box.w||400,box.h||300);if(this.surface.declaredClass.indexOf("vml")==-1){this._nativeClip=true;}},destroy:function(){arr.forEach(this.series,_138d);arr.forEach(this.stack,_138d);func.forIn(this.axes,_138d);this.surface.destroy();if(this.chartTitle&&this.chartTitle.tagName){_1387.destroy(this.chartTitle);}},getCoords:function(){var node=this.node;var s=_1385.getComputedStyle(node),_1392=_1386.getMarginBox(node,s);var abs=_1386.position(node,true);_1392.x=abs.x;_1392.y=abs.y;return _1392;},setTheme:function(theme){this.theme=theme.clone();this.dirty=true;return this;},addAxis:function(name,_1393){var axis,_1394=_1393&&_1393.type||"Default";if(typeof _1394=="string"){if(!dc.axis2d||!dc.axis2d[_1394]){throw Error("Can't find axis: "+_1394+" - Check "+"require() dependencies.");}axis=new dc.axis2d[_1394](this,_1393);}else{axis=new _1394(this,_1393);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_1395){var plot,_1396=_1395&&_1395.type||"Default";if(typeof _1396=="string"){if(!dc.plot2d||!dc.plot2d[_1396]){throw Error("Can't find plot: "+_1396+" - didn't you forget to dojo"+".require() it?");}plot=new dc.plot2d[_1396](this,_1395);}else{plot=new _1396(this,_1395);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},getPlot:function(name){return this.stack[this.plots[name]];},removePlot:function(name){if(name in this.plots){var index=this.plots[name];delete this.plots[name];this.stack[index].destroy();this.stack.splice(index,1);func.forIn(this.plots,function(idx,name,plots){if(idx>index){plots[name]=idx-1;}});var ns=arr.filter(this.series,function(run){return run.plot!=name;});if(ns.length<this.series.length){arr.forEach(this.series,function(run){if(run.plot==name){run.destroy();}});this.runs={};arr.forEach(ns,function(run,index){this.runs[run.plot]=index;},this);this.series=ns;}this.dirty=true;}return this;},getPlotOrder:function(){return func.map(this.stack,_1390);},setPlotOrder:function(_1397){var names={},order=func.filter(_1397,function(name){if(!(name in this.plots)||(name in names)){return false;}names[name]=1;return true;},this);if(order.length<this.stack.length){func.forEach(this.stack,function(plot){var name=plot.name;if(!(name in names)){order.push(name);}});}var _1398=func.map(order,function(name){return this.stack[this.plots[name]];},this);func.forEach(_1398,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_1398;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var index=this.plots[name];if(index){var _1399=this.getPlotOrder();_1399.splice(index,1);_1399.unshift(name);return this.setPlotOrder(_1399);}}return this;},movePlotToBack:function(name){if(name in this.plots){var index=this.plots[name];if(index<this.stack.length-1){var _139a=this.getPlotOrder();_139a.splice(index,1);_139a.push(name);return this.setPlotOrder(_139a);}}return this;},addSeries:function(name,data,_139b){var run=new _138a(this,data,_139b);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},getSeries:function(name){return this.series[this.runs[name]];},removeSeries:function(name){if(name in this.runs){var index=this.runs[name];delete this.runs[name];this.series[index].destroy();this.series.splice(index,1);func.forIn(this.runs,function(idx,name,runs){if(idx>index){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data,_139c){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);if(_139c){this.dirty=true;}else{this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}}return this;},getSeriesOrder:function(_139d){return func.map(func.filter(this.series,function(run){return run.plot==_139d;}),_1390);},setSeriesOrder:function(_139e){var _139f,names={},order=func.filter(_139e,function(name){if(!(name in this.runs)||(name in names)){return false;}var run=this.series[this.runs[name]];if(_139f){if(run.plot!=_139f){return false;}}else{_139f=run.plot;}names[name]=1;return true;},this);func.forEach(this.series,function(run){var name=run.name;if(!(name in names)&&run.plot==_139f){order.push(name);}});var _13a0=func.map(order,function(name){return this.series[this.runs[name]];},this);this.series=_13a0.concat(func.filter(this.series,function(run){return run.plot!=_139f;}));func.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var index=this.runs[name],_13a1=this.getSeriesOrder(this.series[index].plot);if(name!=_13a1[0]){_13a1.splice(index,1);_13a1.unshift(name);return this.setSeriesOrder(_13a1);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var index=this.runs[name],_13a2=this.getSeriesOrder(this.series[index].plot);if(name!=_13a2[_13a2.length-1]){_13a2.splice(index,1);_13a2.push(name);return this.setSeriesOrder(_13a2);}}return this;},resize:function(width,_13a3){switch(arguments.length){case 1:_1386.setMarginBox(this.node,width);break;case 2:_1386.setMarginBox(this.node,{w:width,h:_13a3});break;}var box=_1386.getMarginBox(this.node);var d=this.surface.getDimensions();if(d.width!=box.w||d.height!=box.h){this.surface.setDimensions(box.w,box.h);this.dirty=true;return this.render();}else{return this;}},getGeometry:function(){var ret={};func.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,scale,_13a4,zoom){var axis=this.axes[name];if(axis){axis.setWindow(scale,_13a4);arr.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}func.forIn(this.axes,function(axis){var scale,_13a5,_13a6=axis.getScaler().bounds,s=_13a6.span/(_13a6.upper-_13a6.lower);if(axis.vertical){scale=sy;_13a5=dy/s/scale;}else{scale=sx;_13a5=dx/s/scale;}axis.setWindow(scale,_13a5);});arr.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,range,_13a7){var axis=this.axes[name];if(axis){var scale,_13a8,_13a9=axis.getScaler().bounds;var lower=Math.min(range[0],range[1]);var upper=Math.max(range[0],range[1]);lower=range[0]<_13a9.lower?_13a9.lower:lower;upper=range[1]>_13a9.upper?_13a9.upper:upper;scale=(_13a9.upper-_13a9.lower)/(upper-lower);_13a8=lower-_13a9.lower;this.setAxisWindow(name,scale,_13a8);if(_13a7){this.delayedRender();}else{this.render();}}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var dirty=arr.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_13aa(dirty,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();arr.forEach(this.stack,clear);if(!this.theme){this.setTheme(new _1389());}arr.forEach(this.series,function(run){if(!(run.plot in this.plots)){if(!dc.plot2d||!dc.plot2d.Default){throw Error("Can't find plot: Default - didn't you forget to dojo"+".require() it?");}var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);arr.forEach(this.stack,function(plot){if(plot.assignAxes){plot.assignAxes(this.axes);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=g.normalizedLength(dim.width);dim.height=g.normalizedLength(dim.height);func.forIn(this.axes,clear);_13aa(this.stack,dim);var _13ab=this.offsets={l:0,r:0,t:0,b:0};var self=this;func.forIn(this.axes,function(axis){if(has("dojo-bidi")){self._resetLeftBottom(axis);}func.forIn(axis.getOffsets(),function(o,i){_13ab[i]=Math.max(o,_13ab[i]);});});if(this.title){this.titleGap=(this.titleGap==0)?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var tsize=g.normalizedLength(g.splitFontString(this.titleFont).size);_13ab[this.titlePos=="top"?"t":"b"]+=(tsize+this.titleGap);}func.forIn(this.margins,function(o,i){_13ab[i]+=o;});this.plotArea={width:dim.width-_13ab.l-_13ab.r,height:dim.height-_13ab.t-_13ab.b};func.forIn(this.axes,clear);_13aa(this.stack,this.plotArea);return this;},render:function(){if(this._delayedRenderHandle){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;}if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();func.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);func.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();return this;},fullRender:function(){this.fullGeometry();var _13ac=this.offsets,dim=this.dim;var w=Math.max(0,dim.width-_13ac.l-_13ac.r),h=Math.max(0,dim.height-_13ac.t-_13ac.b);arr.forEach(this.series,purge);func.forIn(this.axes,purge);arr.forEach(this.stack,purge);var _13ad=this.surface.children;if(shape.dispose){for(var i=0;i<_13ad.length;++i){shape.dispose(_13ad[i]);}}if(this.chartTitle&&this.chartTitle.tagName){_1387.destroy(this.chartTitle);}this.surface.clear();this.chartTitle=null;this._renderChartBackground(dim,_13ac);if(this._nativeClip){this._renderPlotBackground(dim,_13ac,w,h);}else{this._renderPlotBackground(dim,_13ac,w,h);}func.foldr(this.stack,function(z,plot){return plot.render(dim,_13ac),0;},0);if(!this._nativeClip){this._renderChartBackground(dim,_13ac);}if(this.title){var _13ae=(g.renderer=="canvas")&&this.htmlLabels,_13af=_13ae||!has("ie")&&!has("opera")&&this.htmlLabels?"html":"gfx",tsize=g.normalizedLength(g.splitFontString(this.titleFont).size);this.chartTitle=_138b.createText[_13af](this,this.surface,dim.width/2,this.titlePos=="top"?tsize+this.margins.t:dim.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor);}func.forIn(this.axes,function(axis){axis.render(dim,_13ac);});this._makeClean();return this;},_renderChartBackground:function(dim,_13b0){var t=this.theme,rect;var fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);var _13b1=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node;fill=new Color(_1385.get(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new Color(_1385.get(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(this._nativeClip){fill=_1388.prototype._shapeFill(_1388.prototype._plotFill(fill,dim),{x:0,y:0,width:dim.width+1,height:dim.height+1});this.surface.createRect({width:dim.width+1,height:dim.height+1}).setFill(fill);}else{fill=_1388.prototype._plotFill(fill,dim,_13b0);if(_13b0.l){rect={x:0,y:0,width:_13b0.l,height:dim.height+1};this.surface.createRect(rect).setFill(_1388.prototype._shapeFill(fill,rect));}if(_13b0.r){rect={x:dim.width-_13b0.r,y:0,width:_13b0.r+1,height:dim.height+2};this.surface.createRect(rect).setFill(_1388.prototype._shapeFill(fill,rect));}if(_13b0.t){rect={x:0,y:0,width:dim.width+1,height:_13b0.t};this.surface.createRect(rect).setFill(_1388.prototype._shapeFill(fill,rect));}if(_13b0.b){rect={x:0,y:dim.height-_13b0.b,width:dim.width+1,height:_13b0.b+2};this.surface.createRect(rect).setFill(_1388.prototype._shapeFill(fill,rect));}}}if(_13b1){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_13b1);}},_renderPlotBackground:function(dim,_13b2,w,h){var t=this.theme;var fill=t.plotarea&&t.plotarea.fill;var _13b3=t.plotarea&&t.plotarea.stroke;var rect={x:_13b2.l-1,y:_13b2.t-1,width:w+2,height:h+2};if(fill){fill=_1388.prototype._shapeFill(_1388.prototype._plotFill(fill,dim,_13b2),rect);this.surface.createRect(rect).setFill(fill);}if(_13b3){this.surface.createRect({x:_13b2.l,y:_13b2.t,width:w+1,height:h+1}).setStroke(_13b3);}},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(lang.hitch(this,function(){this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_13b4,_13b5){return name in this.plots?this.stack[this.plots[name]].connect(_13b4,_13b5):null;},fireEvent:function(_13b6,_13b7,index){if(_13b6 in this.runs){var _13b8=this.series[this.runs[_13b6]].plot;if(_13b8 in this.plots){var plot=this.stack[this.plots[_13b8]];if(plot){plot.fireEvent(_13b6,_13b7,index);}}}return this;},_makeClean:function(){arr.forEach(this.axes,_138e);arr.forEach(this.stack,_138e);arr.forEach(this.series,_138e);this.dirty=false;},_makeDirty:function(){arr.forEach(this.axes,_138f);arr.forEach(this.stack,_138f);arr.forEach(this.series,_138f);this.dirty=true;},_invalidateDependentPlots:function(_13b9,_13ba){if(_13b9 in this.plots){var plot=this.stack[this.plots[_13b9]],axis,_13bb=_13ba?"vAxis":"hAxis";if(plot[_13bb]){axis=this.axes[plot[_13bb]];if(axis&&axis.dependOnData()){axis.dirty=true;arr.forEach(this.stack,function(p){if(p[_13bb]&&p[_13bb]==plot[_13bb]){p.dirty=true;}});}}else{plot.dirty=true;}}},setDir:function(dir){return this;},_resetLeftBottom:function(axis){},formatTruncatedLabel:function(_13bc,label,_13bd){}});function _13be(stats){return {min:stats.hmin,max:stats.hmax};};function _13bf(stats){return {min:stats.vmin,max:stats.vmax};};function _13c0(stats,h){stats.hmin=h.min;stats.hmax=h.max;};function _13c1(stats,v){stats.vmin=v.min;stats.vmax=v.max;};function _13c2(_13c3,_13c4){if(_13c3&&_13c4){_13c3.min=Math.min(_13c3.min,_13c4.min);_13c3.max=Math.max(_13c3.max,_13c4.max);}return _13c3||_13c4;};function _13aa(stack,_13c5){var plots={},axes={};arr.forEach(stack,function(plot){var stats=plots[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_13c2(axes[plot.hAxis],_13be(stats));}if(plot.vAxis){axes[plot.vAxis]=_13c2(axes[plot.vAxis],_13bf(stats));}});arr.forEach(stack,function(plot){var stats=plots[plot.name];if(plot.hAxis){_13c0(stats,axes[plot.hAxis]);}if(plot.vAxis){_13c1(stats,axes[plot.vAxis]);}plot.initializeScalers(_13c5,stats);});};return has("dojo-bidi")?_1384("dojox.charting.Chart",[Chart,_138c]):Chart;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(array,has,win,dijit){var _13c6={},hash={};var _13c7={length:0,add:function(_13c8){if(hash[_13c8.id]){throw new Error("Tried to register widget with id=="+_13c8.id+" but that id is already registered");}hash[_13c8.id]=_13c8;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_13c9){var id;do{id=_13c9+"_"+(_13c9 in _13c6?++_13c6[_13c9]:_13c6[_13c9]=0);}while(hash[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;},findWidgets:function(root,_13ca){var _13cb=[];function _13cc(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _13cd=node.getAttribute("widgetId");if(_13cd){var _13ce=hash[_13cd];if(_13ce){_13cb.push(_13ce);}}else{if(node!==_13ca){_13cc(node);}}}}};_13cc(root);return _13cb;},_destroyAll:function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];array.forEach(_13c7.findWidgets(win.body()),function(_13cf){if(!_13cf._destroyed){if(_13cf.destroyRecursive){_13cf.destroyRecursive();}else{if(_13cf.destroy){_13cf.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};dijit.registry=_13c7;return _13c7;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(array,dom,lang,topic,win,focus,_13d0,dijit){var _13d1={_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_13d0:new _13d0.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_13d2){var sel=win.global==window?_13d0:new _13d0.SelectionManager(win.global);return sel.moveToBookmark(_13d2);},getFocus:function(menu,_13d3){var node=!focus.curNode||(menu&&dom.isDescendant(focus.curNode,menu.domNode))?dijit._prevFocus:focus.curNode;return {node:node,bookmark:node&&(node==focus.curNode)&&win.withGlobal(_13d3||win.global,dijit.getBookmark),openedForWindow:_13d3};},_activeStack:[],registerIframe:function(_13d4){return focus.registerIframe(_13d4);},unregisterIframe:function(_13d5){_13d5&&_13d5.remove();},registerWin:function(_13d6,_13d7){return focus.registerWin(_13d6,_13d7);},unregisterWin:function(_13d8){_13d8&&_13d8.remove();}};focus.focus=function(_13d9){if(!_13d9){return;}var node="node" in _13d9?_13d9.node:_13d9,_13da=_13d9.bookmark,_13db=_13d9.openedForWindow,_13dc=_13da?_13da.isCollapsed:false;if(node){var _13dd=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_13dd&&_13dd.focus){try{_13dd.focus();}catch(e){}}focus._onFocusNode(node);}if(_13da&&win.withGlobal(_13db||win.global,dijit.isCollapsed)&&!_13dc){if(_13db){_13db.focus();}try{win.withGlobal(_13db||win.global,dijit.moveToBookmark,null,[_13da]);}catch(e2){}}};focus.watch("curNode",function(name,_13de,_13df){dijit._curFocus=_13df;dijit._prevFocus=_13de;if(_13df){topic.publish("focusNode",_13df);}});focus.watch("activeStack",function(name,_13e0,_13e1){dijit._activeStack=_13e1;});focus.on("widget-blur",function(_13e2,by){topic.publish("widgetBlur",_13e2,by);});focus.on("widget-focus",function(_13e3,by){topic.publish("widgetFocus",_13e3,by);});lang.mixin(dijit,_13d1);return dijit;});},"viewer/object/shape/ClosedBezierCurve":function(){define(["dojo/_base/declare","./BezierCurve","dojo/text!./closedBezierCurve.html"],function(_13e4,_13e5,_13e6){return _13e4("viewer.object.shape.ClosedBezierCurve",_13e5,{templateString:_13e6,_proColorName:"fill",closed:true,buildRendering:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);}});});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(array,_13e7,_13e8,lang,on,_13e9){return _13e7("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_13ea){var res=[];array.forEach(_13ea||this.getChildren(),function(child){if("value" in child){res.push(child);}else{res=res.concat(this._getDescendantFormWidgets(child.getChildren()));}},this);return res;},reset:function(){array.forEach(this._getDescendantFormWidgets(),function(_13eb){if(_13eb.reset){_13eb.reset();}});},validate:function(){var _13ec=false;return array.every(array.map(this._getDescendantFormWidgets(),function(_13ed){_13ed._hasBeenBlurred=true;var valid=_13ed.disabled||!_13ed.validate||_13ed.validate();if(!valid&&!_13ec){_13e9.scrollIntoView(_13ed.containerNode||_13ed.domNode);_13ed.focus();_13ec=true;}return valid;}),function(item){return item;});},setValues:function(val){_13e8.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};array.forEach(this._getDescendantFormWidgets(),function(_13ee){if(!_13ee.name){return;}var entry=map[_13ee.name]||(map[_13ee.name]=[]);entry.push(_13ee);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _13ef=map[name],_13f0=lang.getObject(name,false,obj);if(_13f0===undefined){continue;}_13f0=[].concat(_13f0);if(typeof _13ef[0].checked=="boolean"){array.forEach(_13ef,function(w){w.set("value",array.indexOf(_13f0,w._get("value"))!=-1);});}else{if(_13ef[0].multiple){_13ef[0].set("value",_13f0);}else{array.forEach(_13ef,function(w,i){w.set("value",_13f0[i]);});}}}},getValues:function(){_13e8.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};array.forEach(this._getDescendantFormWidgets(),function(_13f1){var name=_13f1.name;if(!name||_13f1.disabled){return;}var value=_13f1.get("value");if(typeof _13f1.checked=="boolean"){if(/Radio/.test(_13f1.declaredClass)){if(value!==false){lang.setObject(name,value,obj);}else{value=lang.getObject(name,false,obj);if(value===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(value!==false){ary.push(value);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(value);}else{lang.setObject(name,[prev,value],obj);}}else{lang.setObject(name,value,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _13f2=array.map(this._descendants,function(w){return w.get("state")||"";});return array.indexOf(_13f2,"Error")>=0?"Error":array.indexOf(_13f2,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_13f3){this._descendants=this._getDescendantFormWidgets();array.forEach(this._descendants,function(child){if(!child._started){child.startup();}});if(!_13f3){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_13f4,_13f5){this.onValidStateChange(_13f5=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_13f6,dijit,_13f7,_13f8,_13f9,lang,on,has){has.add("config-bgIframe",!has("touch"));var _13fa=new function(){var queue=[];this.pop=function(){var _13fb;if(queue.length){_13fb=queue.pop();_13fb.style.display="";}else{if(has("ie")<9){var burl=_13f7["dojoBlankHtmlUrl"]||_13f6.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_13fb=document.createElement(html);}else{_13fb=_13f8.create("iframe");_13fb.src="javascript:\"\"";_13fb.className="dijitBackgroundIframe";_13fb.setAttribute("role","presentation");_13f9.set(_13fb,"opacity",0.1);}_13fb.tabIndex=-1;}return _13fb;};this.push=function(_13fc){_13fc.style.display="none";queue.push(_13fc);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _13fd=(this.iframe=_13fa.pop());node.appendChild(_13fd);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_13f9.set(_13fd,{width:"100%",height:"100%"});}}};lang.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){_13f9.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_13fa.push(this.iframe);delete this.iframe;}}});return dijit.BackgroundIframe;});},"viewer/object/action/SmartMessage":function(){define(["dojo/_base/declare","../_base","dojo/text!./smartMessage.html"],function(_13fe,_13ff,_1400){return _13fe("viewer.object.action.SmartMessage",_13ff,{templateString:_1400,messages:null});});},"viewer/misc/enums":function(){define([],function(){var enums=function(){};enums.EnumComponentType={SVG:"Svg",CANVAS:"Canvas",REGULAR:"Regular"};enums.EnumRuntimeScadaEngine={InduSoft:0,ArchestrA:1,ClearSCADA:2};enums.EnumAlign={TOP_LEFT:"TopLeft",TOP_CENTER:"TopCenter",TOP_RIGHT:"TopRight",CENTER_LEFT:"CenterLeft",CENTER:"Center",CENTER_RIGHT:"CenterRight",BOTTOM_LEFT:"BottomLeft",BOTTOM_CENTER:"BottomCenter",BOTTOM_RIGHT:"BottomRight"};enums.EnumAlignHorizontal={LEFT:"Left",CENTER:"Center",RIGHT:"Right"};enums.EnumLogInfo={ERROR:"Error",WARNING:"Warning",INFO:"Info",TRACE:"Trace"};enums.EnumAlignVertical={BOTTOM:"Bottom",CENTER:"Center",TOP:"Top"};enums.EnumBorderStyle={NO_LINE:"NoLine",SOLIDE_LINE:"SolidLine",DASHED_LINE:"DashedLine",ETCHED:"Etched",RAISED:"Raised",SUNKEN:"Sunken",LONGDASH_LINE:"LongDashLine",SHORTDASH_LINE:"ShortDashLine",DOTS_LINE:"DotsLine",DASHDOTDASH_LINE:"DashDotDashLine",DASHDOTDOTDASH_LINE:"DashDotDotDashLine"};enums.EnumCellTypes={TEXT:"viewer.misc.gui.CellText",COMBO_BOX:"viewer.misc.gui.CellComboBox",BUTTON:"viewer.misc.gui.CellButton",IMAGE:"viewer.misc.gui.CellImage",CHECK_BOX:"viewer.misc.gui.CellCheckBox"};enums.EnumColorExStyle={NONE:"None",SOLID:"Solid",HORIZONTAL:"Horizontal",VERTICAL:"Vertical",DIAGONAL_UP:"DiagonalUp",DIAGONAL_DOWN:"DiagonalDown",FROM_CORNER:"FromCorner",FROM_CENTER:"FromCenter",FROM_CENTER_TO_ELLIPSE:"FromCenterToEllipse",FROM_CENTER_ELLIPSE:"FromCenterEllipse",CONICAL:"Conical",CONICAL_CORNER:"ConicalCorner",COLOR_DIRECTION:{UP:"RightBottomToLeftTop|LeftTopToRightBottom|TopToBottom|LeftToRight",DOWN:"BottomToTop|RightToLeft|RightTopToLeftBottom|LeftBottomToRightTop",CORNER:"TopBottomToCenter|LeftRightToCenter|CornersToCenter",CENTER:"CenterToTopBottom|CenterToLeftRight|CenterToCorners"},STOPS_LINEAR:"StopsLinear",STOPS_RADIAL:"StopsRadial",};enums.EnumLineCapType={FLAT:"Flat",ARROWANCHOR:"ArrowAnchor",DIAMONDANCHOR:"DiamondAnchor",ROUND:"Round",ROUNDANCHOR:"RoundAnchor",SQUARE:"Square",SQUAREANCHOR:"SquareAnchor",TRIANGLE:"Triangle",};enums.EnumEllipseType={ELLIPSE:"Ellipse",CHORD:"Chord",ARC:"Arc",RING:"Ring"};enums.EnumMouseEventButton={LEFT:0,MIDDLE:1,RIGHT:2};enums.EnumMouseEventType={ON_DOWN:"ON_DOWN",ON_UP:"ON_UP"};enums.EnumBlink={NONE:"None",SLOW:"Slow",FAST:"Fast",MEDIUM:"Medium"};enums.EnumEvents={MS_POINTER_DOWN:"MSPointerDown",MS_POINTER_MOVE:"MSPointerMove",MS_POINTER_UP:"MSPointerUp",MS_POINTER_CANCEL:"MSPointerCancel",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_UP:"pointerup",POINTER_CANCEL:"pointercancel",POINTER_OUT:"pointerout",ON_MOUSE_MOVE:"mousemove",ON_MOUSE_UP:"mouseup",ON_MOUSE_DOWN:"mousedown",ON_MOUSE_OUT:"mouseout",ON_TOUCH_MOVE:"dojotouchmove",ON_TOUCH_START:"touchstart",ON_TOUCH_END:"dojotouchend",ON_TOUCH_CANCEL:"touchcancel",ON_KEY_PRESS:"keypress"};enums.CUSTOM_WIDGET_EVENTS={READY:"ready"};enums.EnumLinkedPictureTranparencyColor={NONE:"None",COLOR_CODE:"ColorCode",TRACKER:"Tracker",ArchestrAColorCode:"ArchestrAColorCode"};enums.EnumRotationReference={LEFT_TOP:"LeftTop",LEFT_BOTTOM:"LeftBottom",CENTER:"Center",RIGHT_TOP:"RightTop",RIGHT_BOTTOM:"RightBottom"};enums.EnumBargraphDirection={VERTICAL:"Vertical",HORIZONTAL:"Horizontal"};enums.EnumFillDirection={LEFT:"Left",RIGHT:"Right",TOP:"Top",BOTTOM:"Bottom"};enums.BargraphOrientation={UP:"Up",CENTER:"Center",DOWN:"Down"};enums.EnumAnimations={RESIZE:"resize",COMMAND:"command",POSITION:"position",COLOR:"color",BARGRAPH:"bargraph",HYPERLINK:"hyperlink",TEXT_DATA_LINK:"textDataLink",USERINPUT_ANALOG:"animationAnalogUserInput",USERINPUT_BOOLEAN:"animationBooleanUserInput",USERINPUT_STRING:"animationStringUserInput",USERINPUT_TIME:"animationTimeUserInput",USERINPUT_ELAPSEDTIME:"animationElapsedTimeUserInput",ROTATION:"rotation",LINESTYLE:"LineStyle",FILLSTYLE:"FillStyle",TEXTSTYLE:"TextStyle",ELEMENTSTYLE:"animationElementStyle",ELEMENTSTYLELINE:"animationElementLineStyle",ELEMENTSTYLEFILL:"animationElementFillStyle",ELEMENTSTYLETEXT:"animationElementTextStyle",DISABLE:"disable",TOOLTIP:"animationTooltip",POINT:"animationPoint",BLINK:"animationBlink",FILLPERCENT:"fillPercent"};enums.EnumComboBoxDataSourceType={ARRAY_TAG:"ArrayTag",STATIC_LABEL:"StaticLabels",TEXT_FILE:"TextFile",DATABASE:"Database"};enums.EnumListBoxDataSourceType={ARRAY_TAG:"ArrayTag",STATIC_LABEL:"StaticLabels",TEXT_FILE:"TextFile",DATABASE:"Database"};enums.EnumScreenStatus={NOT_FOUND:-1,CREATED:0,STARTING:1,STARTED:2,ENDING:3,ENDED:4,FAILED_TO_START:5,FAILED_TO_END:6};enums.EnumWebGraphicsAPIRequestStatus={LOADING:"LoadingFile",FAILED_TO_LOAD_FILE:"FailToLoadFile",FILE_LOADED:"FileLoaded",FAILED_TO_LOAD:"FailToLoad",LOADED:"Loaded",};enums.EnumScreenStyle={REPLACE_PARTIAL:"replacepartial",REPLACE_COMPLETE:"replacecomplete",DIALOG:"dialog",POPUP:"popup",OVERLAPPED:"overlapped"};enums.EnumDataType={EMPTY:0,BOOLEAN:1,INT:2,UINT:3,INT64:4,UINT64:5,REAL:6,STRING:7,DATETIME:8,REFERENCE:9,DOUBLE:10,ELAPSEDTIME:11};enums.EnumDateTimeDisplayType={DATEANDTIME:"DateAndTime",DATEONLY:"DateOnly",TIMEONLY:"TimeOnly"};enums.EnumVKTypeText={ALPHANUMERIC:"AlphaNumeric",ENHKEYPAD:"EnhKeypad",KEYPAD:"Keypad"};enums.EnumVKType={ALPHANUMERIC:1,ENHKEYPAD:2,KEYPAD:3};enums.EnumZoomMode={DISABLED:0,AUTO_SCREEN_SCALING:1,CUSTOM_ZOOM:2,SINGLE_SCREEN_SCALING:3};enums.EnumViewPortAlignMode={TOP_LEFT:0,TOP_CENTER:1,CENTER_LEFT:2,CENTER:3};enums.EnumElementStyleType={LINESTYLE:"LineStyle",TEXTSTYLE:"TextStyle",FILLSTYLE:"FillStyle",ELEMENTSTYLE:"ElementStyle",OUTLINESTYLE:"OutlineStyle"};enums.EnumGetElementStyleFlag={ANIMATION_ONLY:"Animation",PROPERTY_ONLY:"Property",QS_ONLY:"QS",ALL:"All"};enums.EnumStyleProperty={COLOR:"Color",WEIGHT:"Weight",PATTERN:"Pattern",FONT:"Font",BLINKCOLOR:"Blink",SPEED:"Speed"};enums.EnumAlarmBorderStyleType={AlarmBorder_Disabled:1,AlarmBorder_Silenced:2,AlarmBorder_Shelved:3,AlarmBorder_Critical_ACK:4,AlarmBorder_High_ACK:5,AlarmBorder_Medium_ACK:6,AlarmBorder_Low_ACK:7,AlarmBorder_Critical_UNACK:8,AlarmBorder_High_UNACK:9,AlarmBorder_Medium_UNACK:10,AlarmBorder_Low_UNACK:11,AlarmBorder_Critical_RTN:12,AlarmBorder_High_RTN:13,AlarmBorder_Medium_RTN:14,AlarmBorder_Low_RTN:15,AlarmBorder_NONE:16};enums.DataRange={INTMIN:-2147483648,INTMAX:2147483647,FLOATMIN:-3.402823e+38,FLOATMAX:3.402823e+38,DOUBLEMIN:-1.79769313486231e+308,DOUBLEMAX:1.79769313486231e+308};return enums;});},"viewer/screens/Popup":function(){define(["dojo/_base/declare","./_base","../misc/enums"],function(_1401,_1402,enums){return _1401("viewer.screens.Popup",_1402,{miniPopupIds:[],startup:function(){this.inherited(arguments);},minimize:function(){if(this.miniPopupIds.indexOf(this.domNode.id)<0){this.miniPopupIds.push(this.domNode.id);}this._resetMiniPopupIdsPosition(this.miniPopupIds.length);},maximize:function(){this.close();this.constructor.superclass.resize.apply(this);this.titleTextContainer.innerHTML=this.screenName.toLocaleUpperCase();dojo.style(this.minimizeButtonContainer,"right","25px");dojo.style(this.minimizeButtonContainer,"display","inline");dojo.style(this.maximizeButtonContainer,"display","none");},close:function(){var self=this;var _1403=-1;this.miniPopupIds.filter(function(item,i){if(item==self.domNode.id){_1403=i;}return item!=self.domNode.id;});if(_1403>=0){this.miniPopupIds.splice(_1403,1);if(this.miniPopupIds.length>0){this._resetMiniPopupIdsPosition(_1403);}}},resize:function(){this.inherited(arguments);if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.titleTextContainer.innerHTML=this.screenName.toLocaleUpperCase();dojo.style(this.titleTextContainer,"textAlign","left");dojo.style(this.minimizeButtonContainer,"display","inline");dojo.style(this.minimizeButtonContainer,"right","25px");if((typeof window.webGraphicsApi)==="object"){if(this.miniPopupIds.length>0){this._resetMiniPopupIdsPosition(this.miniPopupIds.length);}}}},_resetMiniPopupIdsPosition:function(_1404){var self=this,_1405=10,_1406=0,_1407=24,_1408=parseFloat(document.getElementsByClassName("viewer-screens-protectiveLayer")[0].style.height)-_1407;this.miniPopupIds.forEach(function(item,i){var _1409=dijit.byId(item).domNode;dojo.style(_1409,"transform","");dojo.style(_1409,"width",(document.documentElement.clientWidth/_1405)-2+"px");dojo.style(_1409,"height",_1407+"px");if(i<_1404){dojo.style(_1409,"left",_1406+"px");dojo.style(_1409,"top",_1408-_1407*Math.floor(i/_1405)+"px");_1406=Math.floor(i%_1405)==_1405-1?0:_1406+Math.ceil(document.documentElement.clientWidth/_1405);}dijit.byId(item).titleTextContainer.innerHTML=dijit.byId(item).titleTextContainer.innerHTML.substring(0,5).toLocaleUpperCase()+"..";dojo.style(dijit.byId(item).minimizeButtonContainer,"display","none");dojo.style(dijit.byId(item).maximizeButtonContainer,"display","inline");});var _140a=this.miniPopupIds.filter(function(item,i){return i>=_1404;});if(_140a.length>0){var _140b=null,_140c=0;cancelAnimationFrame(timer);var timer=requestAnimationFrame(function fn(){if(_140a.length>0){var _140d=dijit.byId(_140a[0]).domNode;if(parseInt(_140d.style.left)>_1406){for(var i=0;i<_140a.length;i++){var _140e=dijit.byId(_140a[i]).domNode;if(parseInt(_140e.style.left)==0){_140b=_140e;_140c=i+1;break;}dojo.style(_140e,"left",(parseInt(_140e.style.left)-10)+"px");}}else{if(_1404%_1405==_1405-1){dojo.style(_140d,"left",Math.ceil(document.documentElement.clientWidth/_1405)*(_1405-1)+"px");dojo.style(_140d,"top",(parseInt(_140d.style.top)+_1407)+"px");_1406=0;_1404=-1;_140a.splice(0,1);}else{if(_140b){dojo.style(_140b,"left",Math.ceil(document.documentElement.clientWidth/_1405)*(_1405-1)+"px");dojo.style(_140b,"top",(parseInt(_140b.style.top)+_1407)+"px");_1406=0;_140b=null;_140a.splice(0,_140c);}else{_140a.length=0;}}}timer=requestAnimationFrame(fn);}else{cancelAnimationFrame(timer);}});}}});});},"dojox/charting/plot2d/Bars":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/gfx/fx","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/reversed"],function(lang,arr,_140f,has,_1410,_1411,dc,fx,du,df,dfr){var _1412=dfr.lambda("item.purgeGroup()");return _140f("dojox.charting.plot2d.Bars",[_1410,_1411],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(chart,_1413){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_1413);du.updateWithPattern(this.opt,_1413,this.optionalParams);this.animate=this.opt.animate;},getSeriesStats:function(){var stats=dc.collectSimpleStats(this.series),t;stats.hmin-=0.5;stats.hmax+=0.5;t=stats.hmin,stats.hmin=stats.vmin,stats.vmin=t;t=stats.hmax,stats.hmax=stats.vmax,stats.vmax=t;return stats;},createRect:function(run,_1414,_1415){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_1415);_1414.add(rect);}else{rect=_1414.createRect(_1415);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},createLabel:function(group,value,bbox,theme){if(this.opt.labels&&this.opt.labelStyle=="outside"){var y=bbox.y+bbox.height/2;var x=bbox.x+bbox.width+this.opt.labelOffset;this.renderLabel(group,x,y,this._getLabel(isNaN(value.y)?value:value.y),theme,"start");}else{this.inherited(arguments);}},render:function(dim,_1416){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_1416);}this.dirty=this.isDirty();this.resetEvents();var s;if(this.dirty){arr.forEach(this.series,_1412);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_1417=Math.max(0,this._hScaler.bounds.lower),_1418=ht(_1417),_1419=this.events();var bar=this.getBarProperties();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var theme=t.next("bar",[this.opt,run]),_141a=new Array(run.data.length);s=run.group;var _141b=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_141b?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;var max=_141b?Math.min(run.data.length,Math.ceil(this._vScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var value=run.data[j];if(value!=null){var val=this.getValue(value,j,i,_141b),hv=ht(val.y),w=Math.abs(hv-_1418),_141c,_141d;if(this.opt.styleFunc||typeof value!="number"){var _141e=typeof value!="number"?[value]:[];if(this.opt.styleFunc){_141e.push(this.opt.styleFunc(value));}_141c=t.addMixin(theme,"bar",_141e,true);}else{_141c=t.post(theme,"bar");}if(w>=0&&bar.height>=1){var rect={x:_1416.l+(val.y<_1417?hv:_1418),y:dim.height-_1416.b-vt(val.x+1.5)+bar.gap+bar.thickness*(this.series.length-i-1),width:w,height:bar.height};if(_141c.series.shadow){var srect=lang.clone(rect);srect.x+=_141c.series.shadow.dx;srect.y+=_141c.series.shadow.dy;_141d=this.createRect(run,s,srect).setFill(_141c.series.shadow.color).setStroke(_141c.series.shadow);if(this.animate){this._animateBar(_141d,_1416.l+_1418,-w);}}var _141f=this._plotFill(_141c.series.fill,dim,_1416);_141f=this._shapeFill(_141f,rect);var shape=this.createRect(run,s,rect).setFill(_141f).setStroke(_141c.series.stroke);if(shape.setFilter&&_141c.series.filter){shape.setFilter(_141c.series.filter);}run.dyn.fill=shape.getFill();run.dyn.stroke=shape.getStroke();if(_1419){var o={element:"bar",index:j,run:run,shape:shape,shadow:_141d,cx:val.y,cy:val.x+1.5,x:_141b?j:run.data[j].x,y:_141b?run.data[j]:run.data[j].y};this._connectEvents(o);_141a[j]=o;}if(!isNaN(val.py)&&val.py>_1417){rect.x+=ht(val.py);rect.width-=ht(val.py);}this.createLabel(s,value,rect,_141c);if(this.animate){this._animateBar(shape,_1416.l+_1418,-w);}}}}this._eventSeries[run.name]=_141a;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_1416);}return this;},getValue:function(value,j,_1420,_1421){var y,x;if(_1421){if(typeof value=="number"){y=value;}else{y=value.y;}x=j;}else{y=value.y;x=value.x-1;}return {y:y,x:x};},getBarProperties:function(){var f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);return {gap:f.gap,height:f.size,thickness:0};},_animateBar:function(shape,_1422,hsize){if(hsize==0){hsize=1;}fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[_1422-(_1422/hsize),0],end:[0,0]},{name:"scale",start:[1/hsize,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojo/cldr/monetary":function(){define(["../_base/kernel","../_base/lang"],function(dojo,lang){var _1423={};lang.setObject("dojo.cldr.monetary",_1423);_1423.getData=function(code){var _1424={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};var _1425={};var _1426=_1424[code],round=_1425[code];if(typeof _1426=="undefined"){_1426=2;}if(typeof round=="undefined"){round=0;}return {places:_1426,round:round};};return _1423;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,array,keys,_1427,has,_1428){var ret=_1427("dijit._OnDijitClickMixin",null,{connect:function(obj,event,_1429){return this.inherited(arguments,[obj,event=="ondijitclick"?_1428:event,_1429]);}});ret.a11yclick=_1428;return ret;});},"dojox/charting/plot2d/Candlesticks":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_142a,arr,has,_142b,_142c,dc,df,dfr,du,fx){var _142d=dfr.lambda("item.purgeGroup()");return _142a("dojox.charting.plot2d.Candlesticks",[_142b,_142c],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(chart,_142e){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_142e);du.updateWithPattern(this.opt,_142e,this.optionalParams);this.animate=this.opt.animate;},collectStats:function(_142f){var stats=lang.delegate(dc.defaultStats);for(var i=0;i<_142f.length;i++){var run=_142f[i];if(!run.data.length){continue;}var _1430=stats.vmin,_1431=stats.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,val.open,val.close,val.high,val.low);stats.vmax=Math.max(stats.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){stats.vmin=Math.min(_1430,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1431,run.ymax);}}return stats;},getSeriesStats:function(){var stats=this.collectStats(this.series);stats.hmin-=0.5;stats.hmax+=0.5;return stats;},render:function(dim,_1432){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_1432);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_142d);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,width,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_1433=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;width=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();s=run.group;var theme=t.next("candlestick",[this.opt,run]),_1434=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _1435=t.addMixin(theme,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_1432.l+gap,y=dim.height-_1432.b,open=vt(v.open),close=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(width>=1){var _1436=open>close;var line={x1:width/2,x2:width/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,close),width:width,height:Math.max(_1436?open-close:close-open,1)};var shape=s.createGroup();shape.setTransform({dx:x,dy:0});var inner=shape.createGroup();inner.createLine(line).setStroke(_1435.series.stroke);inner.createRect(rect).setStroke(_1435.series.stroke).setFill(_1436?_1435.series.fill:"white");if("mid" in v){inner.createLine({x1:(_1435.series.stroke.width||1),x2:width-(_1435.series.stroke.width||1),y1:y-mid,y2:y-mid}).setStroke(_1436?"white":_1435.series.stroke);}run.dyn.fill=_1435.series.fill;run.dyn.stroke=_1435.series.stroke;if(_1433){var o={element:"candlestick",index:j,run:run,shape:inner,x:x,y:y-Math.max(open,close),cx:width/2,cy:(y-Math.max(open,close))+(Math.max(_1436?open-close:close-open,1)/2),width:width,height:Math.max(_1436?open-close:close-open,1),data:v};this._connectEvents(o);_1434[j]=o;}}if(this.animate){this._animateCandlesticks(shape,y-low,high-low);}}}this._eventSeries[run.name]=_1434;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_1432);}return this;},tooltipFunc:function(o){return "<table cellpadding=\"1\" cellspacing=\"0\" border=\"0\" style=\"font-size:0.9em;\">"+"<tr><td>Open:</td><td align=\"right\"><strong>"+o.data.open+"</strong></td></tr>"+"<tr><td>High:</td><td align=\"right\"><strong>"+o.data.high+"</strong></td></tr>"+"<tr><td>Low:</td><td align=\"right\"><strong>"+o.data.low+"</strong></td></tr>"+"<tr><td>Close:</td><td align=\"right\"><strong>"+o.data.close+"</strong></td></tr>"+(o.data.mid!==undefined?"<tr><td>Mid:</td><td align=\"right\"><strong>"+o.data.mid+"</strong></td></tr>":"")+"</table>";},_animateCandlesticks:function(shape,_1437,vsize){fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,_1437-(_1437/vsize)],end:[0,0]},{name:"scale",start:[1,1/vsize],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"viewer/object/shape/ClosedPolygon":function(){define(["dojo/_base/declare","./Line","dojo/text!./closedPolygon.html"],function(_1438,Line,_1439){return _1438("viewer.object.shape.ClosedPolygon",Line,{templateString:_1439,_proColorName:"fill",buildRendering:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);}});});},"dojox/charting/plot2d/OHLC":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_143a,has,_143b,_143c,dc,df,dfr,du,fx){var _143d=dfr.lambda("item.purgeGroup()");return _143a("dojox.charting.plot2d.OHLC",[_143b,_143c],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(chart,_143e){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_143e);du.updateWithPattern(this.opt,_143e,this.optionalParams);this.animate=this.opt.animate;},collectStats:function(_143f){var stats=lang.delegate(dc.defaultStats);for(var i=0;i<_143f.length;i++){var run=_143f[i];if(!run.data.length){continue;}var _1440=stats.vmin,_1441=stats.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,val.open,val.close,val.high,val.low);stats.vmax=Math.max(stats.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){stats.vmin=Math.min(_1440,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1441,run.ymax);}}return stats;},getSeriesStats:function(){var stats=this.collectStats(this.series);stats.hmin-=0.5;stats.hmax+=0.5;return stats;},render:function(dim,_1442){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_1442);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_143d);this._eventSeries={};this.cleanGroup();var s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,width,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_1443=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;width=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var theme=t.next("candlestick",[this.opt,run]),s=run.group,_1444=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _1445=t.addMixin(theme,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_1442.l+gap,y=dim.height-_1442.b,open=vt(v.open),close=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(width>=1){var hl={x1:width/2,x2:width/2,y1:y-high,y2:y-low},op={x1:0,x2:((width/2)+((_1445.series.stroke.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((width/2)-((_1445.series.stroke.width||1)/2)),x2:width,y1:y-close,y2:y-close};var shape=s.createGroup();shape.setTransform({dx:x,dy:0});var inner=shape.createGroup();inner.createLine(hl).setStroke(_1445.series.stroke);inner.createLine(op).setStroke(_1445.series.stroke);inner.createLine(cl).setStroke(_1445.series.stroke);run.dyn.stroke=_1445.series.stroke;if(_1443){var o={element:"candlestick",index:j,run:run,shape:inner,x:x,y:y-Math.max(open,close),cx:width/2,cy:(y-Math.max(open,close))+(Math.max(open>close?open-close:close-open,1)/2),width:width,height:Math.max(open>close?open-close:close-open,1),data:v};this._connectEvents(o);_1444[j]=o;}}if(this.animate){this._animateOHLC(shape,y-low,high-low);}}}this._eventSeries[run.name]=_1444;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_1442);}return this;},_animateOHLC:function(shape,_1446,vsize){fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,_1446-(_1446/vsize)],end:[0,0]},{name:"scale",start:[1,1/vsize],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"viewer/misc/gui/ErrorWindow":function(){define(["dojo/_base/declare","dojo/parser","dojo/window","dojo/fx","dojox/html/entities","./_base","dojo/text!./errorWindow.html"],function(_1447,_1448,win,_1449,_144a,_144b,_144c){return _1447("viewer.misc.gui.ErrorWindow",_144b,{templateString:_144c,onClose:null,message:null,onOk:null,_btnValues:[1,0,0],startup:function(){var self=this,i,txtW,txtH,size,_144d,_144e,_144f,_1450,title,msg;this.inherited(arguments);size=win.getBox();txtW=dojo.style(this._dlgContent,"width");txtH=dojo.style(this._dlgContent,"height");dojo.style(this.domNode,"width",size.w+"px");dojo.style(this.domNode,"height",size.h+"px");dojo.style(this._dlgContent,"left",(size.w/2-txtW/2)+"px");dojo.style(this._dlgContent,"top",(size.h/2-txtH/2)+"px");dojo.connect(this._btnOk,"click",function(){self._onButton();});msg=_144a.encode(self.message);self._dlgMessage.innerHTML=msg==""?"&nbsp;":msg;dojo.fadeIn({node:this._dlgContent,duration:100}).play();if(!dojo.isAndroid&&(dojo.isChrome||dojo.isIE)){dojo.style(this._F12Message,"display","block");}},_onButton:function(_1451){var self=this;dojo.destroy(this.id);if(self.onOk){self.onOk();}}});});},"viewer/misc/common/elementStyleContainer":function(){define(["dojo/_base/declare","dojox/data/XmlStore","dojox/xml/parser"],function(_1452,_1453,_1454){var _1455={_styles:{},_status:[],_queryObj:{},_stylesByName:{},_goodStatusId:-1,init:function(_1456){if(_1456.elementStyleConfig){this._parseXML(_1456.elementStyleConfig);}},_parseXML:function(data){var _1457=_1454.parse(data);var _1458=_1457.documentElement;var _1459=_1458.getElementsByTagName("ES");for(var i=0;i<_1459.length;i++){var _145a=_1459[i];if(_145a.nodeName=="ES"){if(_145a.hasAttribute("Id")){var _145b=this._parseStyle(_145a);this._styles[_145a.getAttribute("Id")]=_145b;this._stylesByName[_145a.getAttribute("Name")]=_145b;}}}var _145c=_1458.getElementsByTagName("Settings");for(var i=0;i<_145c.length;i++){var _145a=_145c[i];if(_145a.nodeName=="Settings"){if(_145a.hasAttribute("Name")){var _145b=this._parseStyle(_145a);this._status[i]=_145b;_145b.type=_145a.getAttribute("Type");_145b.Status=this._getStatus(_145a);_145b.isStatus=true;if(_145b.type=="Good"){this._goodStatusId=i;}}}}},_parseStyle:function(_145d){var style={};var _145e=_145d.getElementsByTagName("LineStyle");style.LineStyle={};style.LineStyle.status=false;if(_145e&&_145e.length>0){style.LineStyle.status=true;style.LineStyle.lineColor=this._getLineColorStyle(_145e[0]);style.LineStyle.lineColor.typeName="L";var blink=this._getBlinkStyle(_145e[0]);style.LineStyle.blink=blink;style.LineStyle.linePattern=this._getBorderStyle(_145e[0]);style.LineStyle.lineWeight=this._getWeightStyle(_145e[0]);style.LineStyle.blink.typeName="BL";}var _145f=_145d.getElementsByTagName("FillStyle");style.FillStyle={};style.FillStyle.status=false;if(_145f&&_145f.length>0){style.FillStyle.status=true;style.FillStyle.color=this._getFillColorStyle(_145f[0]);style.FillStyle.color.typeName="F";var blink=this._getBlinkStyle(_145f[0]);style.FillStyle.blink=blink;style.FillStyle.blink.typeName="BF";}var _1460=_145d.getElementsByTagName("TextStyle");style.TextStyle={};style.TextStyle.status=false;if(_1460&&_1460.length>0){style.TextStyle.status=true;style.TextStyle.color={};style.TextStyle.font={};style.TextStyle.font=this._getFontStyle(_1460[0]);style.TextStyle.font.fontColor=this._getFontColorStyle(_1460[0]);style.TextStyle.font.typeName="T";var blink=this._getBlinkStyle(_1460[0],true);style.TextStyle.blink=blink;style.TextStyle.blink.typeName="BT";}var _1461=_145d.getElementsByTagName("OutLine");style.Outline={};style.Outline.status=false;if(_1461&&_1461.length>0){style.Outline.status=true;style.Outline.lineColor=this._getLineColorStyle(_1461[0]);style.Outline.lineColor.typeName="OL";var blink=this._getBlinkStyle(_1461[0]);style.Outline.blink=blink;style.Outline.linePattern=this._getBorderStyle(_1461[0]);style.Outline.lineWeight=this._getWeightStyle(_1461[0]);style.Outline.blink.typeName="BOL";}return style;},_deepCopy:function(_1462){var _1463={};for(var key in _1462){_1463[key]=typeof (_1462[key])==="object"?this._deepCopy(_1462[key]):_1462[key];}return _1463;},_getStatus:function(_1464){var _1465=null;var _1466=_1464.getElementsByTagName("Status");if(_1466&&_1466.length>0){var _1467=_1466[0];_1465={};var _1468=_1467.getElementsByTagName("FillColorOverride");if(_1468&&_1468.length>0&&_1468[0].getAttribute("Enabled").toLowerCase()==="true"){_1465.FillStyle={};_1465.FillStyle.color=this._getStyleColor(_1468[0]);_1465.FillStyle.color.typeName="SF";}var _1469=_1467.getElementsByTagName("Line");if(_1469&&_1469.length>0&&_1469[0].getAttribute("Enabled").toLowerCase()==="true"){_1465.LineStyle={};_1465.LineStyle.lineColor=this._getLineColorStyle(_1469[0]);_1465.LineStyle.lineColor.typeName="SL";_1465.LineStyle.linePattern=this._getBorderStyle(_1469[0]);_1465.LineStyle.lineWeight=this._getWeightStyle(_1469[0]);}var _146a=_1467.getElementsByTagName("Image");if(_146a&&_146a.length>0&&_146a[0].getAttribute("Enabled").toLowerCase()==="true"){var img=_146a[0];var _146b={};var _146c=img.getElementsByTagName("ImageData");if(_146c&&_146c.length>0){_146b.imgData=_146c[0].firstChild.nodeValue;}var _146d=img.getElementsByTagName("TransparentColor");if(_146d&&_146d.length>0){_146b.transparentColor=this._getStyleColor(_146d[0],false,1);}var _146e=img.getElementsByTagName("ImageStyle");if(_146e&&_146e.length>0){_146b.style=_146e[0].firstChild.nodeValue;}var _146f=img.getElementsByTagName("ImageAlignment");if(_146f&&_146f.length>0){_146b.align=_146f[0].firstChild.nodeValue;}_1465.ImageStyle=_146b;}}return _1465;},_getStyleColor:function(node,_1470,_1471){var color={};_1471=_1471?_1471:2;var _1472=node;for(var i=0;i<_1471;i++){_1472=_1472.firstElementChild;}var _1473=_1472.nodeName;if(_1470){_1473="SolidColor";}color.styleType=_1473;switch(_1473){case "SolidColor":color.style="Solid";var _1474=node.getElementsByTagName("Color");if(_1474&&_1474.length>0){var R=_1474[0].getAttribute("R");var G=_1474[0].getAttribute("G");var B=_1474[0].getAttribute("B");var A=parseFloat(_1474[0].getAttribute("A"))/255;color.color="rgba"+"("+R+","+G+","+B+","+A+")";}break;case "PatternFill":color.style="Pattern";color.patternStyle=node.getElementsByTagName("PatternStyle")[0].firstChild.nodeValue;color.transparency=parseFloat(node.getElementsByTagName("Transparency")[0].firstChild.nodeValue);var _1475=node.getElementsByTagName("ForeColor")[0].firstElementChild.getElementsByTagName("Color");if(_1475&&_1475.length>0){var R=_1475[0].getAttribute("R");var G=_1475[0].getAttribute("G");var B=_1475[0].getAttribute("B");var A=parseFloat(_1475[0].getAttribute("A"))/255;color.foreColor="rgba"+"("+R+","+G+","+B+","+A+")";}var _1476=node.getElementsByTagName("BackGroundColor")[0].firstElementChild.getElementsByTagName("Color");if(_1476&&_1476.length>0){var R=_1476[0].getAttribute("R");var G=_1476[0].getAttribute("G");var B=_1476[0].getAttribute("B");var A=parseFloat(_1476[0].getAttribute("A"))/255;color.backGroundColor="rgba"+"("+R+","+G+","+B+","+A+")";}break;case "GradientFill":color.angle=parseFloat(node.getElementsByTagName("Angle")[0].firstChild.nodeValue);var _1477=node.getElementsByTagName("GradientDirectionType")[0].firstChild.nodeValue;switch(_1477){case "Radial":color.style="StopsRadial";break;case "Horizontal":case "Vertical":case "Custom":color.style="StopsLinear";break;}color.cX=parseFloat(node.getElementsByTagName("CentralPointX")[0].firstChild.nodeValue);color.cY=parseFloat(node.getElementsByTagName("CentralPointY")[0].firstChild.nodeValue);color.transparency=parseFloat(node.getElementsByTagName("Transparency")[0].firstChild.nodeValue);color.stops=[];var _1478=node.getElementsByTagName("GradientStop");var _1479=false;var _147a=0;for(var i=0;i<_1478.length;i++){var _147b={};_147b.offset=_1478[i].getElementsByTagName("Offset")[0].firstChild.nodeValue;var _147c=_1478[i].getElementsByTagName("SolidColor")[0].firstElementChild;if(_147c){var R=_147c.getAttribute("R");var G=_147c.getAttribute("G");var B=_147c.getAttribute("B");var A=parseFloat(_147c.getAttribute("A"))/255*(1-color.transparency/100);_147b.color="rgba"+"("+R+","+G+","+B+","+A+")";color.stops.push(_147b);}}break;}return color;},_getLineColorStyle:function(_147d){var color={};var lcoEl=_147d.getElementsByTagName("LineColorOverride");if(lcoEl&&lcoEl.length>0){color=this._getStyleColor(lcoEl[0]);}return color;},_getFillColorStyle:function(_147e){var color={};var fcoEl=_147e.getElementsByTagName("FillColorOverride");if(fcoEl&&fcoEl.length>0){color=this._getStyleColor(fcoEl[0]);}return color;},_getBlinkStyle:function(_147f,_1480){var blink={};var _1481=_147f.getElementsByTagName("Blink");if(_1481&&_1481.length>0){var Speed=_1481[0].getAttribute("Speed");blink=this._getStyleColor(_1481[0],_1480);blink.blink=Speed;}else{blink.blink="None";}return blink;},_getBorderStyle:function(_1482){var _1483;var _1484=_1482.getElementsByTagName("LinePattern");if(_1484&&_1484.length>0){var _1485=_1484[0].getAttribute("Pattern");switch(_1485){case "Solid":_1483="SolidLine";break;case "LongDash":_1483="LongDashLine";break;case "ShortDash":_1483="ShortDashLine";break;case "Dots":_1483="DotsLine";break;case "DashDotDash":_1483="DashDotDashLine";break;case "DashDotDotDash":_1483="DashDotDotDashLine";break;default:_1483="SolidLine";break;}}return _1483;},_getWeightStyle:function(_1486){var _1487;var _1488=_1486.getElementsByTagName("LineWeight");if(_1488&&_1488.length>0){var Size=_1488[0].getAttribute("Size");_1487=Size;}return _1487;},_getFontStyle:function(_1489){var font={};var foEl=_1489.getElementsByTagName("FontOverride");if(foEl&&foEl.length>0){var _148a=foEl[0].getElementsByTagName("Font");if(_148a&&_148a.length>0){font.name=_148a[0].getAttribute("Name");font.sizeInPoints=_148a[0].getAttribute("Size");font.underline=_148a[0].getAttribute("Underline");font.style=_148a[0].getAttribute("Italic")=="true"?"Italic":"";font.strikeout=_148a[0].getAttribute("Strikeout");font.fontweight=_148a[0].getAttribute("Bold")=="true"?"Bold":"";}}return font;},_getFontColorStyle:function(_148b){var color={};var fcoEl=_148b.getElementsByTagName("FontColorOverride");if(fcoEl&&fcoEl.length>0){color=this._getStyleColor(fcoEl[0],true);}return color;},getStyleByName:function(_148c){if(this._styles[_148c]){return this._styles[_148c];}if(this._stylesByName[_148c]){return this._stylesByName[_148c];}},getGoodStatusId:function(){return this._goodStatusId;},getStatusById:function(_148d){if(this.checkStatusById(_148d)){var _148e=this._status[_148d];if(_148d==0||_148d==1){var _148f=this.getStatusById(9);if((_148e.LineStyle==null||!_148e.LineStyle.status)&&(_148f.LineStyle!=null&&_148f.LineStyle.status)){_148e.LineStyle=_148f.LineStyle;}if((_148e.FillStyle==null||!_148e.FillStyle.status)&&(_148f.FillStyle!=null&&_148f.FillStyle.status)){_148e.FillStyle=_148f.FillStyle;}if((_148e.TextStyle==null||!_148e.TextStyle.status)&&(_148f.TextStyle!=null&&_148f.TextStyle.status)){_148e.TextStyle=_148f.TextStyle;}if((_148e.Outline==null||!_148e.Outline.status)&&(_148f.Outline!=null&&_148f.Outline.status)){_148e.Outline=_148f.Outline;}}return _148e;}},checkStatusById:function(_1490){return _1490!=null&&_1490>=0&&this._status.length>_1490;}};return _1455;});},"ma/widget/miscellaneous/Loading":function(){define(["dojo/_base/declare","../../_base","dojo/text!../templates/loading.html"],function(_1491,Base,_1492){return _1491("ma.widget.miscellaneous.Loading",Base,{templateString:_1492,animation:null,constructor:function(){},startup:function(){this.inherited(arguments);},play:function(){if(this.animation){this.animation.play();return;}if(this.rotateTransform==null){dojo.forEach(["transform","-webkit-transform","-moz-transform","-o-transform","-ms-transform"],dojo.hitch(this,function(name){if(dojo.style(dojo.body(),name)){this.rotateTransform=name;return;}}));}this.animation=new dojo.Animation({curve:[0,360],onAnimate:dojo.hitch(this,function(v){dojo.style(this.image,this.rotateTransform,"rotate("+v+"deg)");}),duration:1000,repeat:1000});this.animation.play();},stop:function(){if(this.animation){this.animation.stop();}},destroy:function(){this.stop();delete this.animation;this.animation=null;this.inherited(arguments);}});});},"ma/util/CookieManager":function(){define(["dojo/_base/declare","dojo/cookie"],function(_1493,_1494){return _1493("ma.util.CookieManager",null,{cookieList:[],constructor:function(){},AddCookie:function(_1495){var obj=this.GetCookie(_1495);if(obj){return;}obj=_1494(_1495);if(obj){this.cookieList.push(obj);}else{eval("var cookie = {name:"+_1495+"}");this.cookieList.push(_1494);_1494(_1495,dojo.toJson(_1494),{expires:1});}},GetCookie:function(_1496){for(var i=0;i<this.cookieList.length;i++){if(this.cookieList[i].name==_1496){return this.cookieList[i];}}return null;},AddData:function(_1497,_1498,value,ck){var _1499=null;if(ck){_1499=ck;}else{_1499=this.GetCookie(_1497);}if(!_1499){return null;}_1499[_1498]=value;_1499(_1497,dojo.toJson(_1499),{expires:1});}});});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(dojox,lang,Color,_149a){var cx=lang.getObject("color",true,dojox);cx.Color=Color;cx.blend=Color.blendColors;cx.fromRgb=Color.fromRgb;cx.fromHex=Color.fromHex;cx.fromArray=Color.fromArray;cx.fromString=Color.fromString;cx.greyscale=_149a.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_149b,_149c){if(lang.isArray(cyan)){_149b=cyan[1],_149c=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_149b=cyan.m,_149c=cyan.y,cyan=cyan.c;}}cyan/=100,_149b/=100,_149c/=100;var r=1-cyan,g=1-_149b,b=1-_149c;return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_149d,_149e,black){if(lang.isArray(cyan)){_149d=cyan[1],_149e=cyan[2],black=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_149d=cyan.m,_149e=cyan.y,black=cyan.b,cyan=cyan.c;}}cyan/=100,_149d/=100,_149e/=100,black/=100;var r,g,b;r=1-Math.min(1,cyan*(1-black)+black);g=1-Math.min(1,_149d*(1-black)+black);b=1-Math.min(1,_149e*(1-black)+black);return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_149f,_14a0){if(lang.isArray(hue)){_149f=hue[1],_14a0=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_149f=hue.s,_14a0=hue.l,hue=hue.h;}}_149f/=100;_14a0/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_149f*Math.min(r,1)+(1-_149f);g=2*_149f*Math.min(g,1)+(1-_149f);b=2*_149f*Math.min(b,1)+(1-_149f);if(_14a0<0.5){r*=_14a0,g*=_14a0,b*=_14a0;}else{r=(1-_14a0)*r+2*_14a0-1;g=(1-_14a0)*g+2*_14a0-1;b=(1-_14a0)*b+2*_14a0-1;}return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_14a1,value){if(lang.isArray(hue)){_14a1=hue[1],value=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_14a1=hue.s,value=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_14a1/=100;value/=100;var r,g,b;if(_14a1==0){r=value,b=value,g=value;}else{var hTemp=hue/60,i=Math.floor(hTemp),f=hTemp-i;var p=value*(1-_14a1);var q=value*(1-(_14a1*f));var t=value*(1-(_14a1*(1-f)));switch(i){case 0:r=value,g=t,b=p;break;case 1:r=q,g=value,b=p;break;case 2:r=p,g=value,b=t;break;case 3:r=p,g=q,b=value;break;case 4:r=t,g=p,b=value;break;case 5:r=value,g=p,b=q;break;}}return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(Color,{toCmy:function(){var cyan=1-(this.r/255),_14a2=1-(this.g/255),_14a3=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_14a2*100),y:Math.round(_14a3*100)};},toCmyk:function(){var cyan,_14a4,_14a5,black;var r=this.r/255,g=this.g/255,b=this.b/255;black=Math.min(1-r,1-g,1-b);cyan=(1-r-black)/(1-black);_14a4=(1-g-black)/(1-black);_14a5=(1-b-black)/(1-black);return {c:Math.round(cyan*100),m:Math.round(_14a4*100),y:Math.round(_14a5*100),b:Math.round(black*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var delta=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=delta/((l<0.5)?(2*l):(2-2*l));}if(delta>0){if(max==r&&max!=g){h+=(g-b)/delta;}if(max==g&&max!=b){h+=(2+(b-r)/delta);}if(max==b&&max!=r){h+=(4+(r-g)/delta);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var delta=max-min;var h=null,s=(max==0)?0:(delta/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/delta;}else{if(g==max){h=120+60*(b-r)/delta;}else{h=240+60*(r-g)/delta;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojox/charting/plot2d/Base":function(){define(["dojo/_base/declare","dojo/_base/array","dojox/gfx","../Element","./common","../axis2d/common","dojo/has"],function(_14a6,arr,gfx,_14a7,_14a8,ac,has){var Base=_14a6("dojox.charting.plot2d.Base",_14a7,{constructor:function(chart,_14a9){if(_14a9&&_14a9.tooltipFunc){this.tooltipFunc=_14a9.tooltipFunc;}},clear:function(){this.series=[];this.dirty=true;return this;},setAxis:function(axis){return this;},assignAxes:function(axes){arr.forEach(this.axes,function(axis){if(this[axis]){this.setAxis(axes[this[axis]]);}},this);},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return _14a8.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},initializeScalers:function(){return this;},isDataDirty:function(){return arr.some(this.series,function(item){return item.dirty;});},render:function(dim,_14aa){return this;},renderLabel:function(group,x,y,label,theme,block,align){var elem=ac.createText[this.opt.htmlLabels&&gfx.renderer!="vml"?"html":"gfx"](this.chart,group,x,y,align?align:"middle",label,theme.series.font,theme.series.fontColor);if(block){if(this.opt.htmlLabels&&gfx.renderer!="vml"){elem.style.pointerEvents="none";}else{if(elem.rawNode){elem.rawNode.style.pointerEvents="none";}}}if(this.opt.htmlLabels&&gfx.renderer!="vml"){this.htmlElements.push(elem);}return elem;},getRequiredColors:function(){return this.series.length;},_getLabel:function(_14ab){return _14a8.getLabel(_14ab,this.opt.fixed,this.opt.precision);}});if(has("dojo-bidi")){Base.extend({_checkOrientation:function(group,dim,_14ac){this.chart.applyMirroring(this.group,dim,_14ac);}});}return Base;});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_14ad,_14ae,keys,lang,on,has,_14af){return _14ad("dijit.form._FormValueMixin",_14af,{readOnly:false,_setReadOnlyAttr:function(value){_14ae.set(this.focusNode,"readOnly",value);this._set("readOnly",value);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_14b0,_14b1){this._handleOnChange(_14b0,_14b1);},_handleOnChange:function(_14b2,_14b3){this._set("value",_14b2);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(lang,arr,_14b4,df){var empty={};lang.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_14b4.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in empty)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_14b4.global;f=df.lambda(f);var z,i,n;if(lang.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var first=true;for(i in a){if(!(i in empty)){if(first){z=a[i];first=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_14b4.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_14b4.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||_14b4.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});});},"dojox/mobile/scrollable":function(){define(["dojo/_base/kernel","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/touch","./sniff","./_css3","./_maskUtils"],function(dojo,_14b5,event,lang,win,_14b6,_14b7,_14b8,_14b9,touch,has,css3,_14ba){var dm=lang.getObject("dojox.mobile",true);has.add("translate3d",function(){if(has("css3-animations")){var elem=win.doc.createElement("div");elem.style[css3.name("transform")]="translate3d(0px,1px,0px)";win.doc.documentElement.appendChild(elem);var v=win.doc.defaultView.getComputedStyle(elem,"")[css3.name("transform",true)];var _14bb=v&&v.indexOf("matrix")===0;win.doc.documentElement.removeChild(elem);return _14bb;}});var _14bc=function(){};lang.extend(_14bc,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:false,scrollBar:true,scrollDir:"v",weight:0.6,fadeScrollBar:true,disableFlashScrollBar:false,threshold:4,constraint:true,touchNode:null,propagatable:true,dirLock:false,height:"",scrollType:0,_parentPadBorderExtentsBottom:0,init:function(_14bd){if(_14bd){for(var p in _14bd){if(_14bd.hasOwnProperty(p)){this[p]=((p=="domNode"||p=="containerNode")&&typeof _14bd[p]=="string")?win.doc.getElementById(_14bd[p]):_14bd[p];}}}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.touchNode=this.touchNode||this.containerNode;this._v=(this.scrollDir.indexOf("v")!=-1);this._h=(this.scrollDir.indexOf("h")!=-1);this._f=(this.scrollDir=="f");this._ch=[];this._ch.push(_14b5.connect(this.touchNode,touch.press,this,"onTouchStart"));if(has("css3-animations")){this._useTopLeft=this.scrollType?this.scrollType===2:has("android")<3;if(!this._useTopLeft){this._useTransformTransition=this.scrollType?this.scrollType===3:has("ios")>=6;}if(!this._useTopLeft){if(this._useTransformTransition){this._ch.push(_14b5.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_14b5.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}else{this._ch.push(_14b5.connect(this.domNode,css3.name("animationEnd"),this,"onFlickAnimationEnd"));this._ch.push(_14b5.connect(this.domNode,css3.name("animationStart"),this,"onFlickAnimationStart"));for(var i=0;i<3;i++){this.setKeyframes(null,null,i);}}if(has("translate3d")){_14b8.set(this.containerNode,css3.name("transform"),"translate3d(0,0,0)");}}else{this._ch.push(_14b5.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_14b5.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}}this._speed={x:0,y:0};this._appFooterHeight=0;if(this.isTopLevel()&&!this.noResize){this.resize();}var _14be=this;setTimeout(function(){_14be.flashScrollBar();},600);if(win.global.addEventListener){this._onScroll=function(e){if(!_14be.domNode||_14be.domNode.style.display==="none"){return;}var _14bf=_14be.domNode.scrollTop;var _14c0=_14be.domNode.scrollLeft;var pos;if(_14bf>0||_14c0>0){pos=_14be.getPos();_14be.domNode.scrollLeft=0;_14be.domNode.scrollTop=0;_14be.scrollTo({x:pos.x-_14c0,y:pos.y-_14bf});}};win.global.addEventListener("scroll",this._onScroll,true);}if(!this.disableTouchScroll&&this.domNode.addEventListener){this._onFocusScroll=function(e){if(!_14be.domNode||_14be.domNode.style.display==="none"){return;}var node=win.doc.activeElement;var _14c1,_14c2;if(node){_14c1=node.getBoundingClientRect();_14c2=_14be.domNode.getBoundingClientRect();if(_14c1.height<_14be.getDim().d.h){if(_14c1.top<(_14c2.top+_14be.fixedHeaderHeight)){_14be.scrollIntoView(node,true);}else{if((_14c1.top+_14c1.height)>(_14c2.top+_14c2.height-_14be.fixedFooterHeight)){_14be.scrollIntoView(node,false);}}}}};this.domNode.addEventListener("focus",this._onFocusScroll,true);}},isTopLevel:function(){return true;},cleanup:function(){if(this._ch){for(var i=0;i<this._ch.length;i++){_14b5.disconnect(this._ch[i]);}this._ch=null;}if(this._onScroll&&win.global.removeEventListener){win.global.removeEventListener("scroll",this._onScroll,true);this._onScroll=null;}if(this._onFocusScroll&&this.domNode.removeEventListener){this.domNode.removeEventListener("focus",this._onFocusScroll,true);this._onFocusScroll=null;}},findDisp:function(node){if(!node.parentNode){return null;}if(node.nodeType===1&&_14b6.contains(node,"mblSwapView")&&node.style.display!=="none"){return node;}var nodes=node.parentNode.childNodes;for(var i=0;i<nodes.length;i++){var n=nodes[i];if(n.nodeType===1&&_14b6.contains(n,"mblView")&&n.style.display!=="none"){return n;}}return node;},getScreenSize:function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight||win.doc.documentElement.offsetHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth||win.doc.documentElement.offsetWidth};},resize:function(e){this._appFooterHeight=(this._fixedAppFooter)?this._fixedAppFooter.offsetHeight:0;if(this.isLocalHeader){this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";}var top=0;for(var n=this.domNode;n&&n.tagName!="BODY";n=n.offsetParent){n=this.findDisp(n);if(!n){break;}top+=n.offsetTop+_14b9.getBorderExtents(n).h;}var h,_14c3=this.getScreenSize().h,dh=_14c3-top-this._appFooterHeight;if(this.height==="inherit"){if(this.domNode.offsetParent){h=_14b9.getContentBox(this.domNode.offsetParent).h-_14b9.getBorderExtents(this.domNode).h+"px";}}else{if(this.height==="auto"){var _14c4=this.domNode.offsetParent;if(_14c4){this.domNode.style.height="0px";var _14c5=_14c4.getBoundingClientRect(),_14c6=this.domNode.getBoundingClientRect(),_14c7=_14c5.bottom-this._appFooterHeight-this._parentPadBorderExtentsBottom;if(_14c6.bottom>=_14c7){dh=_14c3-(_14c6.top-_14c5.top)-this._appFooterHeight-this._parentPadBorderExtentsBottom;}else{dh=_14c7-_14c6.bottom;}}var _14c8=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);h=(_14c8?Math.min(_14c8,dh):dh)+"px";}else{if(this.height){h=this.height;}}}if(!h){h=dh+"px";}if(h.charAt(0)!=="-"&&h!=="default"){this.domNode.style.height=h;}if(!this._conn){this.onTouchEnd();}},onFlickAnimationStart:function(e){event.stop(e);},onFlickAnimationEnd:function(e){if(has("ios")){this._keepInputCaretInActiveElement();}if(e){var an=e.animationName;if(an&&an.indexOf("scrollableViewScroll2")===-1){if(an.indexOf("scrollableViewScroll0")!==-1){if(this._scrollBarNodeV){_14b6.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");}}else{if(an.indexOf("scrollableViewScroll1")!==-1){if(this._scrollBarNodeH){_14b6.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");}}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}}return;}if(this._useTransformTransition||this._useTopLeft){var n=e.target;if(n===this._scrollBarV||n===this._scrollBarH){var cls="mblScrollableScrollTo"+(n===this._scrollBarV?"0":"1");if(_14b6.contains(n,cls)){_14b6.remove(n,cls);}else{n.className="";}return;}}if(e.srcElement){event.stop(e);}}this.stopAnimation();if(this._bounce){var _14c9=this;var _14ca=_14c9._bounce;setTimeout(function(){_14c9.slideTo(_14ca,0.3,"ease-out");},0);_14c9._bounce=undefined;}else{this.hideScrollBar();this.removeCover();}},isFormElement:function(node){if(node&&node.nodeType!==1){node=node.parentNode;}if(!node||node.nodeType!==1){return false;}var t=node.tagName;return (t==="SELECT"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON");},onTouchStart:function(e){if(this.disableTouchScroll){return;}if(this._conn&&(new Date()).getTime()-this.startTime<500){return;}if(!this._conn){this._conn=[];this._conn.push(_14b5.connect(win.doc,touch.move,this,"onTouchMove"));this._conn.push(_14b5.connect(win.doc,touch.release,this,"onTouchEnd"));}this._aborted=false;if(_14b6.contains(this.containerNode,"mblScrollableScrollTo2")){this.abort();}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this.startTime=(new Date()).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=false;if(!this.isFormElement(e.target)){this.propagatable?e.preventDefault():event.stop(e);}},onTouchMove:function(e){if(this._locked){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;var dx=x-this.touchStartX;var dy=y-this.touchStartY;var to={x:this.startPos.x+dx,y:this.startPos.y+dy};var dim=this._dim;dx=Math.abs(dx);dy=Math.abs(dy);if(this._time.length==1){if(this.dirLock){if(this._v&&!this._h&&dx>=this.threshold&&dx>=dy||(this._h||this._f)&&!this._v&&dy>=this.threshold&&dy>=dx){this._locked=true;return;}}if(this._v&&this._h){if(dy<this.threshold&&dx<this.threshold){return;}}else{if(this._v&&dy<this.threshold||(this._h||this._f)&&dx<this.threshold){return;}}this.addCover();this.showScrollBar();}var _14cb=this.weight;if(this._v&&this.constraint){if(to.y>0){to.y=Math.round(to.y*_14cb);}else{if(to.y<-dim.o.h){if(dim.c.h<dim.d.h){to.y=Math.round(to.y*_14cb);}else{to.y=-dim.o.h-Math.round((-dim.o.h-to.y)*_14cb);}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){to.x=Math.round(to.x*_14cb);}else{if(to.x<-dim.o.w){if(dim.c.w<dim.d.w){to.x=Math.round(to.x*_14cb);}else{to.x=-dim.o.w-Math.round((-dim.o.w-to.x)*_14cb);}}}}this.scrollTo(to);var max=10;var n=this._time.length;if(n>=2){var d0,d1;if(this._v&&!this._h){d0=this._posY[n-1]-this._posY[n-2];d1=y-this._posY[n-1];}else{if(!this._v&&this._h){d0=this._posX[n-1]-this._posX[n-2];d1=x-this._posX[n-1];}}if(d0*d1<0){this._time=[this._time[n-1]];this._posX=[this._posX[n-1]];this._posY=[this._posY[n-1]];n=1;}}if(n==max){this._time.shift();this._posX.shift();this._posY.shift();}this._time.push((new Date()).getTime()-this.startTime);this._posX.push(x);this._posY.push(y);},_keepInputCaretInActiveElement:function(){var _14cc=win.doc.activeElement;var _14cd;if(_14cc&&(_14cc.tagName=="INPUT"||_14cc.tagName=="TEXTAREA")){_14cd=_14cc.value;if(_14cc.type=="number"||_14cc.type=="week"){if(_14cd){_14cc.value=_14cc.value+1;}else{_14cc.value=(_14cc.type=="week")?"2013-W10":1;}_14cc.value=_14cd;}else{_14cc.value=_14cc.value+" ";_14cc.value=_14cd;}}},_fingerMovedSinceTouchStart:function(){var n=this._time.length;if(n<=1||(n==2&&Math.abs(this._posY[1]-this._posY[0])<4&&has("touch"))){return false;}else{return true;}},onTouchEnd:function(e){if(this._locked){return;}var speed=this._speed={x:0,y:0};var dim=this._dim;var pos=this.getPos();var to={};if(e){if(!this._conn){return;}for(var i=0;i<this._conn.length;i++){_14b5.disconnect(this._conn[i]);}this._conn=null;var _14ce=false;if(!this._aborted&&!this._fingerMovedSinceTouchStart()){_14ce=true;}if(_14ce){this.hideScrollBar();this.removeCover();if(has("touch")&&has("clicks-prevented")&&!this.isFormElement(e.target)){var elem=e.target;if(elem.nodeType!=1){elem=elem.parentNode;}setTimeout(function(){dm._sendClick(elem,e);});}return;}speed=this._speed=this.getSpeed();}else{if(pos.x==0&&pos.y==0){return;}dim=this.getDim();}if(this._v){to.y=pos.y+speed.y;}if(this._h||this._f){to.x=pos.x+speed.x;}if(this.adjustDestination(to,pos,dim)===false){return;}if(this.constraint){if(this.scrollDir=="v"&&dim.c.h<dim.d.h){this.slideTo({y:0},0.3,"ease-out");return;}else{if(this.scrollDir=="h"&&dim.c.w<dim.d.w){this.slideTo({x:0},0.3,"ease-out");return;}else{if(this._v&&this._h&&dim.c.h<dim.d.h&&dim.c.w<dim.d.w){this.slideTo({x:0,y:0},0.3,"ease-out");return;}}}}var _14cf,_14d0="ease-out";var _14d1={};if(this._v&&this.constraint){if(to.y>0){if(pos.y>0){_14cf=0.3;to.y=0;}else{to.y=Math.min(to.y,20);_14d0="linear";_14d1.y=0;}}else{if(-speed.y>dim.o.h-(-pos.y)){if(pos.y<-dim.o.h){_14cf=0.3;to.y=dim.c.h<=dim.d.h?0:-dim.o.h;}else{to.y=Math.max(to.y,-dim.o.h-20);_14d0="linear";_14d1.y=-dim.o.h;}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){if(pos.x>0){_14cf=0.3;to.x=0;}else{to.x=Math.min(to.x,20);_14d0="linear";_14d1.x=0;}}else{if(-speed.x>dim.o.w-(-pos.x)){if(pos.x<-dim.o.w){_14cf=0.3;to.x=dim.c.w<=dim.d.w?0:-dim.o.w;}else{to.x=Math.max(to.x,-dim.o.w-20);_14d0="linear";_14d1.x=-dim.o.w;}}}}this._bounce=(_14d1.x!==undefined||_14d1.y!==undefined)?_14d1:undefined;if(_14cf===undefined){var _14d2,_14d3;if(this._v&&this._h){_14d3=Math.sqrt(speed.x*speed.x+speed.y*speed.y);_14d2=Math.sqrt(Math.pow(to.y-pos.y,2)+Math.pow(to.x-pos.x,2));}else{if(this._v){_14d3=speed.y;_14d2=to.y-pos.y;}else{if(this._h){_14d3=speed.x;_14d2=to.x-pos.x;}}}if(_14d2===0&&!e){return;}_14cf=_14d3!==0?Math.abs(_14d2/_14d3):0.01;}this.slideTo(to,_14cf,_14d0);},adjustDestination:function(to,pos,dim){return true;},abort:function(){this._aborted=true;this.scrollTo(this.getPos());this.stopAnimation();},_forceRendering:function(elt){if(has("android")>=4.1){var tmp=elt.style.display;elt.style.display="none";elt.offsetHeight;elt.style.display=tmp;}},stopAnimation:function(){this._forceRendering(this.containerNode);_14b6.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV){this._scrollBarV.className="";this._forceRendering(this._scrollBarV);}if(this._scrollBarH){this._scrollBarH.className="";this._forceRendering(this._scrollBarH);}if(this._useTransformTransition||this._useTopLeft){this.containerNode.style[css3.name("transition")]="";if(this._scrollBarV){this._scrollBarV.style[css3.name("transition")]="";}if(this._scrollBarH){this._scrollBarH.style[css3.name("transition")]="";}}},scrollIntoView:function(node,_14d4,_14d5){if(!this._v){return;}var c=this.containerNode,h=this.getDim().d.h,top=0;for(var n=node;n!==c;n=n.offsetParent){if(!n||n.tagName==="BODY"){return;}top+=n.offsetTop;}var y=_14d4?Math.max(h-c.offsetHeight,-top):Math.min(0,h-top-node.offsetHeight);(_14d5&&typeof _14d5==="number")?this.slideTo({y:y},_14d5,"ease-out"):this.scrollTo({y:y});},getSpeed:function(){var x=0,y=0,n=this._time.length;if(n>=2&&(new Date()).getTime()-this.startTime-this._time[n-1]<500){var dy=this._posY[n-(n>3?2:1)]-this._posY[(n-6)>=0?n-6:0];var dx=this._posX[n-(n>3?2:1)]-this._posX[(n-6)>=0?n-6:0];var dt=this._time[n-(n>3?2:1)]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);x=this.calcSpeed(dx,dt);}return {x:x,y:y};},calcSpeed:function(_14d6,time){return Math.round(_14d6/time*100)*4;},scrollTo:function(to,_14d7,node){var _14d8,_14d9,_14da;var _14db=true;if(!this._aborted&&this._conn){if(!this._dim){this._dim=this.getDim();}_14d9=(to.y>0)?to.y:0;_14da=(this._dim.o.h+to.y<0)?-1*(this._dim.o.h+to.y):0;_14d8={bubbles:false,cancelable:false,x:to.x,y:to.y,beforeTop:_14d9>0,beforeTopHeight:_14d9,afterBottom:_14da>0,afterBottomHeight:_14da};_14db=this.onBeforeScroll(_14d8);}if(_14db){var s=(node||this.containerNode).style;if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){s[css3.name("transition")]="";}s[css3.name("transform")]=this.makeTranslateStr(to);}else{s[css3.name("transition")]="";if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}}else{if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}if(has("ios")){this._keepInputCaretInActiveElement();}if(!_14d7){this.scrollScrollBarTo(this.calcScrollBarPos(to));}if(_14d8){this.onAfterScroll(_14d8);}}},onBeforeScroll:function(e){return true;},onAfterScroll:function(e){},slideTo:function(to,_14dc,_14dd){this._runSlideAnimation(this.getPos(),to,_14dc,_14dd,this.containerNode,2);this.slideScrollBarTo(to,_14dc,_14dd);},makeTranslateStr:function(to){var y=this._v&&typeof to.y=="number"?to.y+"px":"0px";var x=(this._h||this._f)&&typeof to.x=="number"?to.x+"px":"0px";return has("translate3d")?"translate3d("+x+","+y+",0px)":"translate("+x+","+y+")";},getPos:function(){if(has("css3-animations")){var s=win.doc.defaultView.getComputedStyle(this.containerNode,"");if(!this._useTopLeft){var m=s[css3.name("transform")];if(m&&m.indexOf("matrix")===0){var arr=m.split(/[,\s\)]+/);var i=m.indexOf("matrix3d")===0?12:4;return {y:arr[i+1]-0,x:arr[i]-0};}return {x:0,y:0};}else{return {x:parseInt(s.left)||0,y:parseInt(s.top)||0};}}else{var y=parseInt(this.containerNode.style.top)||0;return {y:y,x:this.containerNode.offsetLeft};}},getDim:function(){var d={};d.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};d.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};d.d={h:d.v.h-this.fixedHeaderHeight-this.fixedFooterHeight-this._appFooterHeight,w:d.v.w};d.o={h:d.c.h-d.v.h+this.fixedHeaderHeight+this.fixedFooterHeight+this._appFooterHeight,w:d.c.w-d.v.w};return d;},showScrollBar:function(){if(!this.scrollBar){return;}var dim=this._dim;if(this.scrollDir=="v"&&dim.c.h<=dim.d.h){return;}if(this.scrollDir=="h"&&dim.c.w<=dim.d.w){return;}if(this._v&&this._h&&dim.c.h<=dim.d.h&&dim.c.w<=dim.d.w){return;}var _14de=function(self,dir){var bar=self["_scrollBarNode"+dir];if(!bar){var _14df=_14b7.create("div",null,self.domNode);var props={position:"absolute",overflow:"hidden"};if(dir=="V"){props.right="2px";props.width="5px";}else{props.bottom=(self.isLocalFooter?self.fixedFooterHeight:0)+2+"px";props.height="5px";}_14b8.set(_14df,props);_14df.className="mblScrollBarWrapper";self["_scrollBarWrapper"+dir]=_14df;bar=_14b7.create("div",null,_14df);_14b8.set(bar,css3.add({opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",MozBorderRadius:"2px",zIndex:2147483647},{borderRadius:"2px",transformOrigin:"0 0"}));_14b8.set(bar,dir=="V"?{width:"5px"}:{height:"5px"});self["_scrollBarNode"+dir]=bar;}return bar;};if(this._v&&!this._scrollBarV){this._scrollBarV=_14de(this,"V");}if(this._h&&!this._scrollBarH){this._scrollBarH=_14de(this,"H");}this.resetScrollBar();},hideScrollBar:function(){if(this.fadeScrollBar&&has("css3-animations")){if(!dm._fadeRule){var node=_14b7.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableFadeScrollBar{"+"  "+css3.name("animation-duration",true)+": 1s;"+"  "+css3.name("animation-name",true)+": scrollableViewFadeScrollBar;}"+"@"+css3.name("keyframes",true)+" scrollableViewFadeScrollBar{"+"  from { opacity: 0.6; }"+"  to { opacity: 0; }}";dm._fadeRule=node.sheet.cssRules[1];}}if(!this.scrollBar){return;}var f=function(bar,self){_14b8.set(bar,css3.add({opacity:0},{animationDuration:""}));if(!(self._useTopLeft&&has("android"))){bar.className="mblScrollableFadeScrollBar";}};if(this._scrollBarV){f(this._scrollBarV,this);this._scrollBarV=null;}if(this._scrollBarH){f(this._scrollBarH,this);this._scrollBarH=null;}},calcScrollBarPos:function(to){var pos={};var dim=this._dim;var f=function(_14e0,barH,t,d,c){var y=Math.round((d-barH-8)/(d-c)*t);if(y<-barH+5){y=-barH+5;}if(y>_14e0-5){y=_14e0-5;}return y;};if(typeof to.y=="number"&&this._scrollBarV){pos.y=f(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,to.y,dim.d.h,dim.c.h);}if(typeof to.x=="number"&&this._scrollBarH){pos.x=f(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,to.x,dim.d.w,dim.c.w);}return pos;},scrollScrollBarTo:function(to){if(!this.scrollBar){return;}if(this._v&&this._scrollBarV&&typeof to.y=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarV.style[css3.name("transition")]="";}this._scrollBarV.style[css3.name("transform")]=this.makeTranslateStr({y:to.y});}else{_14b8.set(this._scrollBarV,css3.add({top:to.y+"px"},{transition:""}));}}else{this._scrollBarV.style.top=to.y+"px";}}if(this._h&&this._scrollBarH&&typeof to.x=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarH.style[css3.name("transition")]="";}this._scrollBarH.style[css3.name("transform")]=this.makeTranslateStr({x:to.x});}else{_14b8.set(this._scrollBarH,css3.add({left:to.x+"px"},{transition:""}));}}else{this._scrollBarH.style.left=to.x+"px";}}},slideScrollBarTo:function(to,_14e1,_14e2){if(!this.scrollBar){return;}var _14e3=this.calcScrollBarPos(this.getPos());var toPos=this.calcScrollBarPos(to);if(this._v&&this._scrollBarV){this._runSlideAnimation({y:_14e3.y},{y:toPos.y},_14e1,_14e2,this._scrollBarV,0);}if(this._h&&this._scrollBarH){this._runSlideAnimation({x:_14e3.x},{x:toPos.x},_14e1,_14e2,this._scrollBarH,1);}},_runSlideAnimation:function(from,to,_14e4,_14e5,node,idx){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}if(to.x!==from.x||to.y!==from.y){_14b8.set(node,css3.add({},{transitionProperty:css3.name("transform"),transitionDuration:_14e4+"s",transitionTimingFunction:_14e5}));var t=this.makeTranslateStr(to);setTimeout(function(){_14b8.set(node,css3.add({},{transform:t}));},0);_14b6.add(node,"mblScrollableScrollTo"+idx);}else{this.hideScrollBar();this.removeCover();}}else{this.setKeyframes(from,to,idx);_14b8.set(node,css3.add({},{animationDuration:_14e4+"s",animationTimingFunction:_14e5}));_14b6.add(node,"mblScrollableScrollTo"+idx);if(idx==2){this.scrollTo(to,true,node);}else{this.scrollScrollBarTo(to);}}}else{_14b8.set(node,css3.add({},{transitionProperty:"top, left",transitionDuration:_14e4+"s",transitionTimingFunction:_14e5}));setTimeout(function(){_14b8.set(node,{top:(to.y||0)+"px",left:(to.x||0)+"px"});},0);_14b6.add(node,"mblScrollableScrollTo"+idx);}}else{if(dojo.fx&&dojo.fx.easing&&_14e4){var s=dojo.fx.slideTo({node:node,duration:_14e4*1000,left:to.x,top:to.y,easing:(_14e5=="ease-out")?dojo.fx.easing.quadOut:dojo.fx.easing.linear}).play();if(idx==2){_14b5.connect(s,"onEnd",this,"onFlickAnimationEnd");}}else{if(idx==2){this.scrollTo(to,false,node);this.onFlickAnimationEnd();}else{this.scrollScrollBarTo(to);}}}},resetScrollBar:function(){var f=function(_14e6,bar,d,c,hd,v){if(!bar){return;}var props={};props[v?"top":"left"]=hd+4+"px";var t=(d-8)<=0?1:d-8;props[v?"height":"width"]=t+"px";_14b8.set(_14e6,props);var l=Math.round(d*d/c);l=Math.min(Math.max(l-8,5),t);bar.style[v?"height":"width"]=l+"px";_14b8.set(bar,{"opacity":0.6});};var dim=this.getDim();f(this._scrollBarWrapperV,this._scrollBarV,dim.d.h,dim.c.h,this.fixedHeaderHeight,true);f(this._scrollBarWrapperH,this._scrollBarH,dim.d.w,dim.c.w,0);this.createMask();},createMask:function(){if(!(has("webkit")||has("svg"))){return;}if(this._scrollBarWrapperV){var h=this._scrollBarWrapperV.offsetHeight;_14ba.createRoundMask(this._scrollBarWrapperV,0,0,0,0,5,h,2,2,0.5);}if(this._scrollBarWrapperH){var w=this._scrollBarWrapperH.offsetWidth;_14ba.createRoundMask(this._scrollBarWrapperH,0,0,0,0,w,5,2,2,0.5);}},flashScrollBar:function(){if(this.disableFlashScrollBar||!this.domNode){return;}this._dim=this.getDim();if(this._dim.d.h<=0){return;}this.showScrollBar();var _14e7=this;setTimeout(function(){_14e7.hideScrollBar();},300);},addCover:function(){if(!has("touch")&&!this.noCover){if(!dm._cover){dm._cover=_14b7.create("div",null,win.doc.body);dm._cover.className="mblScrollableCover";_14b8.set(dm._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2147483647});this._ch.push(_14b5.connect(dm._cover,touch.press,this,"onTouchEnd"));}else{dm._cover.style.display="";}this.setSelectable(dm._cover,false);this.setSelectable(this.domNode,false);}},removeCover:function(){if(!has("touch")&&dm._cover){dm._cover.style.display="none";this.setSelectable(dm._cover,true);this.setSelectable(this.domNode,true);}},setKeyframes:function(from,to,idx){if(!dm._rule){dm._rule=[];}if(!dm._rule[idx]){var node=_14b7.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableScrollTo"+idx+"{"+css3.name("animation-name",true)+": scrollableViewScroll"+idx+";}"+"@"+css3.name("keyframes",true)+" scrollableViewScroll"+idx+"{}";dm._rule[idx]=node.sheet.cssRules[1];}var rule=dm._rule[idx];if(rule){if(from){rule.deleteRule(has("webkit")?"from":0);(rule.insertRule||rule.appendRule).call(rule,"from { "+css3.name("transform",true)+": "+this.makeTranslateStr(from)+"; }");}if(to){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}rule.deleteRule(has("webkit")?"to":1);(rule.insertRule||rule.appendRule).call(rule,"to { "+css3.name("transform",true)+": "+this.makeTranslateStr(to)+"; }");}}},setSelectable:function(node,_14e8){node.style.KhtmlUserSelect=_14e8?"auto":"none";node.style.MozUserSelect=_14e8?"":"none";node.onselectstart=_14e8?null:function(){return false;};if(has("ie")){node.unselectable=_14e8?"":"on";var nodes=node.getElementsByTagName("*");for(var i=0;i<nodes.length;i++){nodes[i].unselectable=_14e8?"":"on";}}}});lang.setObject("dojox.mobile.scrollable",_14bc);return _14bc;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,array){var stamp={};lang.setObject("dojo.date.stamp",stamp);stamp.fromISOString=function(_14e9,_14ea){if(!stamp._isoRegExp){stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var match=stamp._isoRegExp.exec(_14e9),_14eb=null;if(match){match.shift();if(match[1]){match[1]--;}if(match[6]){match[6]*=1000;}if(_14ea){_14ea=new Date(_14ea);array.forEach(array.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _14ea["get"+prop]();}),function(value,index){match[index]=match[index]||value;});}_14eb=new Date(match[0]||1970,match[1]||0,match[2]||1,match[3]||0,match[4]||0,match[5]||0,match[6]||0);if(match[0]<100){_14eb.setFullYear(match[0]||1970);}var _14ec=0,_14ed=match[7]&&match[7].charAt(0);if(_14ed!="Z"){_14ec=((match[8]||0)*60)+(Number(match[9])||0);if(_14ed!="-"){_14ec*=-1;}}if(_14ed){_14ec-=_14eb.getTimezoneOffset();}if(_14ec){_14eb.setTime(_14eb.getTime()+_14ec*60000);}}return _14eb;};stamp.toISOString=function(_14ee,_14ef){var _14f0=function(n){return (n<10)?"0"+n:n;};_14ef=_14ef||{};var _14f1=[],_14f2=_14ef.zulu?"getUTC":"get",date="";if(_14ef.selector!="time"){var year=_14ee[_14f2+"FullYear"]();date=["0000".substr((year+"").length)+year,_14f0(_14ee[_14f2+"Month"]()+1),_14f0(_14ee[_14f2+"Date"]())].join("-");}_14f1.push(date);if(_14ef.selector!="date"){var time=[_14f0(_14ee[_14f2+"Hours"]()),_14f0(_14ee[_14f2+"Minutes"]()),_14f0(_14ee[_14f2+"Seconds"]())].join(":");var _14f3=_14ee[_14f2+"Milliseconds"]();if(_14ef.milliseconds){time+="."+(_14f3<100?"0":"")+_14f0(_14f3);}if(_14ef.zulu){time+="Z";}else{if(_14ef.selector!="time"){var _14f4=_14ee.getTimezoneOffset();var _14f5=Math.abs(_14f4);time+=(_14f4>0?"-":"+")+_14f0(Math.floor(_14f5/60))+":"+_14f0(_14f5%60);}}_14f1.push(time);}return _14f1.join("T");};return stamp;});},"dojox/gauges/AnalogGauge":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojox/gfx","./_Gauge","./AnalogLineIndicator","dojo/dom-geometry"],function(dojo,_14f6,arr,lang,html,event,gfx,Gauge,_14f7,_14f8){return _14f6("dojox.gauges.AnalogGauge",Gauge,{startAngle:-90,endAngle:90,cx:0,cy:0,radius:0,orientation:"clockwise",_defaultIndicator:_14f7,startup:function(){if(this.getChildren){arr.forEach(this.getChildren(),function(child){child.startup();});}this.startAngle=Number(this.startAngle);this.endAngle=Number(this.endAngle);this.cx=Number(this.cx);if(!this.cx){this.cx=this.width/2;}this.cy=Number(this.cy);if(!this.cy){this.cy=this.height/2;}this.radius=Number(this.radius);if(!this.radius){this.radius=Math.min(this.cx,this.cy)-25;}this.inherited(arguments);},_getAngle:function(value){var v=Number(value);var angle;if(value==null||isNaN(v)||v<=this.min){angle=this._mod360(this.startAngle);}else{if(v>=this.max){angle=this._mod360(this.endAngle);}else{var _14f9=this._mod360(this.startAngle);var _14fa=(v-this.min);if(this.orientation!="clockwise"){_14fa=-_14fa;}angle=this._mod360(_14f9+this._getAngleRange()*_14fa/Math.abs(this.min-this.max));}}return angle;},_getValueForAngle:function(angle){var _14fb=this._mod360(this.startAngle);var _14fc=this._mod360(this.endAngle);if(!this._angleInRange(angle)){var min1=this._mod360(_14fb-angle);var min2=360-min1;var max1=this._mod360(_14fc-angle);var max2=360-max1;if(Math.min(min1,min2)<Math.min(max1,max2)){return this.min;}else{return this.max;}}else{var range=Math.abs(this.max-this.min);var _14fd=this._mod360(this.orientation=="clockwise"?(angle-_14fb):(-angle+_14fb));return this.min+range*_14fd/this._getAngleRange();}},_getAngleRange:function(){var range;var _14fe=this._mod360(this.startAngle);var _14ff=this._mod360(this.endAngle);if(_14fe==_14ff){return 360;}if(this.orientation=="clockwise"){if(_14ff<_14fe){range=360-(_14fe-_14ff);}else{range=_14ff-_14fe;}}else{if(_14ff<_14fe){range=_14fe-_14ff;}else{range=360-(_14ff-_14fe);}}return range;},_angleInRange:function(value){var _1500=this._mod360(this.startAngle);var _1501=this._mod360(this.endAngle);if(_1500==_1501){return true;}value=this._mod360(value);if(this.orientation=="clockwise"){if(_1500<_1501){return value>=_1500&&value<=_1501;}else{return !(value>_1501&&value<_1500);}}else{if(_1500<_1501){return !(value>_1500&&value<_1501);}else{return value>=_1501&&value<=_1500;}}},_isScaleCircular:function(){return (this._mod360(this.startAngle)==this._mod360(this.endAngle));},_mod360:function(v){while(v>360){v=v-360;}while(v<0){v=v+360;}return v;},_getRadians:function(angle){return angle*Math.PI/180;},_getDegrees:function(_1502){return _1502*180/Math.PI;},drawRange:function(group,range){var path;if(range.shape){range.shape.parent.remove(range.shape);range.shape=null;}var a1,a2;if((range.low==this.min)&&(range.high==this.max)&&((this._mod360(this.endAngle)==this._mod360(this.startAngle)))){path=group.createCircle({cx:this.cx,cy:this.cy,r:this.radius});}else{a1=this._getRadians(this._getAngle(range.low));a2=this._getRadians(this._getAngle(range.high));if(this.orientation=="cclockwise"){var a=a2;a2=a1;a1=a;}var x1=this.cx+this.radius*Math.sin(a1),y1=this.cy-this.radius*Math.cos(a1),x2=this.cx+this.radius*Math.sin(a2),y2=this.cy-this.radius*Math.cos(a2),big=0;var _1503;if(a1<=a2){_1503=a2-a1;}else{_1503=2*Math.PI-a1+a2;}if(_1503>Math.PI){big=1;}path=group.createPath();if(range.size){path.moveTo(this.cx+(this.radius-range.size)*Math.sin(a1),this.cy-(this.radius-range.size)*Math.cos(a1));}else{path.moveTo(this.cx,this.cy);}path.lineTo(x1,y1);path.arcTo(this.radius,this.radius,0,big,1,x2,y2);if(range.size){path.lineTo(this.cx+(this.radius-range.size)*Math.sin(a2),this.cy-(this.radius-range.size)*Math.cos(a2));path.arcTo((this.radius-range.size),(this.radius-range.size),0,big,0,this.cx+(this.radius-range.size)*Math.sin(a1),this.cy-(this.radius-range.size)*Math.cos(a1));}path.closePath();}if(lang.isArray(range.color)||lang.isString(range.color)){path.setStroke({color:range.color});path.setFill(range.color);}else{if(range.color.type){a1=this._getRadians(this._getAngle(range.low));a2=this._getRadians(this._getAngle(range.high));range.color.x1=this.cx+(this.radius*Math.sin(a1))/2;range.color.x2=this.cx+(this.radius*Math.sin(a2))/2;range.color.y1=this.cy-(this.radius*Math.cos(a1))/2;range.color.y2=this.cy-(this.radius*Math.cos(a2))/2;path.setFill(range.color);path.setStroke({color:range.color.colors[0].color});}else{if(gfx.svg){path.setStroke({color:"green"});path.setFill("green");path.getEventSource().setAttribute("class",range.color.style);}}}path.connect("onmouseover",lang.hitch(this,this._handleMouseOverRange,range));path.connect("onmouseout",lang.hitch(this,this._handleMouseOutRange,range));range.shape=path;},getRangeUnderMouse:function(e){var range=null,pos=_14f8.getContentBox(this.gaugeContent),x=e.clientX-pos.x,y=e.clientY-pos.y,r=Math.sqrt((y-this.cy)*(y-this.cy)+(x-this.cx)*(x-this.cx));if(r<this.radius){var angle=this._getDegrees(Math.atan2(y-this.cy,x-this.cx)+Math.PI/2),value=this._getValueForAngle(angle);if(this._rangeData){for(var i=0;(i<this._rangeData.length)&&!range;i++){if((Number(this._rangeData[i].low)<=value)&&(Number(this._rangeData[i].high)>=value)){range=this._rangeData[i];}}}}return range;},_dragIndicator:function(_1504,e){this._dragIndicatorAt(_1504,e.pageX,e.pageY);event.stop(e);},_dragIndicatorAt:function(_1505,x,y){var pos=_14f8.position(_1505.gaugeContent,true),xf=x-pos.x,yf=y-pos.y,angle=_1505._getDegrees(Math.atan2(yf-_1505.cy,xf-_1505.cx)+Math.PI/2);var value=_1505._getValueForAngle(angle);value=Math.min(Math.max(value,_1505.min),_1505.max);_1505._drag.value=_1505._drag.currentValue=value;_1505._drag.onDragMove(_1505._drag);_1505._drag.draw(this._indicatorsGroup,true);_1505._drag.valueChanged();}});});},"viewer/animation/AlarmBorder":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/gui/helpers/image","../misc/enums","../misc/common/alarmGlobalSetting","../misc/common/elementStyleContainer","../misc/common/patternContainer","../misc/common/gradientContainer"],function(_1506,_1507,_1508,_1509,_150a,enums,_150b,_150c,_150d,_150e){return _1506("viewer.animation.AlarmBorder",_1507,{_node:null,_alarmGlobalSettingContainer:null,alarmImg:null,_styleContainer:null,_showStyleNo:null,_curStyle:null,alarmIsNone:false,constructor:function(_150f,_1510){this.inherited(arguments);this._alarmGlobalSettingContainer=_150b;this._styleContainer=_150c;},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},setAlarmIcon:function(_1511){if(!this.alarmImg||this.alarmImg==null){this.alarmImg=document.createElementNS("http://www.w3.org/2000/svg","image");this.alarmImg.setAttributeNS(null,"height","15");this.alarmImg.setAttributeNS(null,"width","15");}if(this.alarmImg&&this.alarmImg!=null){this.alarmImg.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_1511);if(this._showAlarmIndicator){_1509.setAttribute(this.alarmImg,"display","inline");}else{_1509.setAttribute(this.alarmImg,"display","none");}if(this._widget._outlineObj==null||this._widget._outlineObj.svg==null){this._widget._createOutline();}this._updateAlarmRect();if(this._widget._outlineObj&&this._widget._outlineObj.svg){this._widget._outlineObj.svg.appendChild(this.alarmImg);}}},_updateAlarmRect:function(_1512){if(!this.alarmImg||!this._widget._outlineObj||!this._widget._outlineObj.svg||!this._widget._outlineObj.path){return null;}if(_1512==null||_1512){var _1513=this._widget.getParent();_1512=true;if(this._widget._outlineObj.svg.parent==_1513._xComponent){var _1514=this._widget._getRootContainer();if(_1514&&_1514!=_1513){_1514.containerNode.appendChild(this._widget._outlineObj.svg);_1512=false;}}}var _1515=this._widget.updateOutlineRect(this._widget._outlineObj.svg,this._widget._outlineObj.path,_1512);var _1516=_1515[0];var _1517=this._widget._getCurOutlineWeight();_1517=_1517!=null&&_1517>=0?_1517:0;for(var i=4;i<8;i++){if(_1515[i].y-_1516.y<=-1||(Math.abs(_1515[i].y-_1516.y)<1&&_1515[i].x-_1516.x<=-1)){_1516=_1515[i];}}_1509.setAttribute(this.alarmImg,"x",_1516.x-0.5*_1517-10);_1509.setAttribute(this.alarmImg,"y",_1516.y-0.5*_1517-10);if(this.alarmImg&&(this.alarmIsNone||!this._showAlarmIndicator)){_1509.setAttribute(this.alarmImg,"display","none");}else{_1509.setAttribute(this.alarmImg,"display","inline");}return _1515;},_execUpdate:function(){var self=this;var _1518=null;var _1519=this._widget._convertToBool(this._animProps.ackedSource);var _151a=this._widget._convertToBool(this._animProps.inAlarmSource);var _151b=this._animProps.modeSource?this._animProps.modeSource.toString().toUpperCase():null;var _151c=parseFloat(this._animProps.severitySource);var _151d=this._widget._convertToBool(this._animProps.showAlarmIndicator);var _151e=this._widget._convertToBool(this._animProps.shelvedSource);this.alarmIsNone=false;if(isNaN(_151a)){return;}if(_151d){this._showAlarmIndicator=true;}else{this._showAlarmIndicator=false;}var _151f="";if(_151b=="DISABLE"||_151b=="2"){this.getElementStyle(this._alarmGlobalSettingContainer._disabled.style);_151f=this._alarmGlobalSettingContainer._disabled.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Disabled;}else{if(_151b=="SILENCE"||_151b=="3"){this.getElementStyle(this._alarmGlobalSettingContainer._silenced.style);_151f=this._alarmGlobalSettingContainer._silenced.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Silenced;}else{if(_151b=="ENABLE"||_151b=="1"){if(_151e){this.getElementStyle(this._alarmGlobalSettingContainer._shelved.style);_151f=this._alarmGlobalSettingContainer._shelved.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Shelved;}else{if(_151a){if(_1519){switch(_151c){case 1:this.getElementStyle(this._alarmGlobalSettingContainer._critical.ackStyle);_151f=this._alarmGlobalSettingContainer._critical.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Critical_ACK;break;case 2:this.getElementStyle(this._alarmGlobalSettingContainer._high.ackStyle);_151f=this._alarmGlobalSettingContainer._high.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_High_ACK;break;case 3:this.getElementStyle(this._alarmGlobalSettingContainer._medium.ackStyle);_151f=this._alarmGlobalSettingContainer._medium.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Medium_ACK;break;case 4:this.getElementStyle(this._alarmGlobalSettingContainer._low.ackStyle);_151f=this._alarmGlobalSettingContainer._low.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Low_ACK;break;default:_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_NONE;this.alarmIsNone=true;break;}}else{switch(_151c){case 1:this.getElementStyle(this._alarmGlobalSettingContainer._critical.unAckStyle);_151f=this._alarmGlobalSettingContainer._critical.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Critical_UNACK;break;case 2:this.getElementStyle(this._alarmGlobalSettingContainer._high.unAckStyle);_151f=this._alarmGlobalSettingContainer._high.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_High_UNACK;break;case 3:this.getElementStyle(this._alarmGlobalSettingContainer._medium.unAckStyle);_151f=this._alarmGlobalSettingContainer._medium.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Medium_UNACK;break;case 4:this.getElementStyle(this._alarmGlobalSettingContainer._low.unAckStyle);_151f=this._alarmGlobalSettingContainer._low.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Low_UNACK;break;default:_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_NONE;this.alarmIsNone=true;}}}else{if(!_1519){this._showAlarmIndicator=false;switch(_151c){case 1:this.getElementStyle(this._alarmGlobalSettingContainer._critical.rtnStyle);_151f=this._alarmGlobalSettingContainer._critical.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Critical_RTN;break;case 2:this.getElementStyle(this._alarmGlobalSettingContainer._high.rtnStyle);_151f=this._alarmGlobalSettingContainer._high.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_High_RTN;break;case 3:this.getElementStyle(this._alarmGlobalSettingContainer._medium.rtnStyle);_151f=this._alarmGlobalSettingContainer._medium.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Medium_RTN;break;case 4:this.getElementStyle(this._alarmGlobalSettingContainer._low.rtnStyle);_151f=this._alarmGlobalSettingContainer._low.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Low_RTN;break;default:_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_NONE;this.alarmIsNone=true;}}else{_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_NONE;this.alarmIsNone=true;}}}}else{if(_151b=="SHELVED"||_151b=="4"){this.getElementStyle(this._alarmGlobalSettingContainer._shelved.style);_151f=this._alarmGlobalSettingContainer._shelved.imgIcon;_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_Shelved;}else{_1518=enums.EnumAlarmBorderStyleType.AlarmBorder_NONE;this.alarmIsNone=true;}}}}if(_151f&&_151f!=""){this.setAlarmIcon(_151f);}if(this._showStyleNo&&this._showStyleNo==_1518){return;}else{this._showStyleNo=_1518;}if(this._curStyle==null||this.alarmIsNone){var _1520=this._widget._updateStyles();this._widget._executeBlinks(_1520);return;}else{var _1520=this._widget._updateStyles();this._widget._executeBlinks(_1520);}},getElementStyle:function(_1521){this._curStyle=this._styleContainer.getStyleByName(_1521);},onChangeProperty:function(prop){}});});},"viewer/animation/Rotation":function(){define(["dojo/_base/declare","./_base","dojo/touch","dojo/dom-construct","../misc/enums"],function(_1522,_1523,touch,_1524,enums){return _1522("viewer.animation.Rotation",_1523,{_node:null,_wrapperNode:null,constructor:function(_1525,_1526){this.inherited(arguments);this._animProps.end=parseFloat(this._animProps.end);this._animProps.offSetXAxis=parseFloat(this._animProps.offSetXAxis);this._animProps.offSetYAxis=parseFloat(this._animProps.offSetYAxis);this._animProps.rangeMaximum=parseFloat(this._animProps.rangeMaximum);this._animProps.rangeMinimum=parseFloat(this._animProps.rangeMinimum);this._animProps.start=parseFloat(this._animProps.start);},_execUpdate:function(){var _1527,_1528,_1529,oX,oY,_152a,_152b,_152c;if(isNaN(this._animProps.rangeMaximum)||isNaN(this._animProps.rangeMinimum)||isNaN(this._animProps.end)||isNaN(this._animProps.start)){return;}_1527=(this._animProps.rangeMaximum-this._animProps.rangeMinimum);if(_1527===0){return;}var start=this._animProps.start;if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){start*=-1;}if(this._animProps.counterClockwise===0){_1528=(this._animProps.end-start);}else{_1528=(start-this._animProps.end);}_152c=parseFloat(this._animProps.tagExpression);if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&_152c>parseFloat(this._animProps.rangeMaximum)||_152c<parseFloat(this._animProps.rangeMinimum)){_152c=0;}_1529=_152c*(_1528/_1527)+parseFloat(start);switch(this._animProps.reference){case enums.EnumRotationReference.LEFT_TOP:oX=oY=0;break;case enums.EnumRotationReference.LEFT_BOTTOM:oX=0;oY=100;break;case enums.EnumRotationReference.CENTER:oX=50;oY=50;break;case enums.EnumRotationReference.RIGHT_TOP:oX=100;oY=0;break;case enums.EnumRotationReference.RIGHT_BOTTOM:oX=100;oY=100;break;}_152a=this._widget._getSizeAttr();if(this._animProps.offSetXAxis!=0){oX+=parseInt(this._animProps.offSetXAxis*100/_152a.w);}if(this._animProps.offSetYAxis!=0){oY+=parseInt(this._animProps.offSetYAxis*100/_152a.h);}if(this._node===null){this._wrapperNode=this._widget._getWrapperNodeAttr();this._node=_1524.create("div");_1524.place(this._node,this._wrapperNode,"replace");_1524.place(this._wrapperNode,this._node,"only");this._guiHelper.setPosition(this._node,"absolute");this._widget._setWrapperNodeAttr(this._node);}if(this._widget._getWrapperNodeAttr()===this._node){this._guiHelper.setLeft(this._node,this._widget._getLeftAttr()+"px");this._guiHelper.setTop(this._node,this._widget._getTopAttr()+"px");this._guiHelper.setLeft(this._wrapperNode,"0px");this._guiHelper.setTop(this._wrapperNode,"0px");}else{this._guiHelper.setLeft(this._node,"0px");this._guiHelper.setTop(this._node,"0px");}if(this._node){this._guiHelper.setWidth(this._node,_152a.w+"px");this._guiHelper.setHeight(this._node,_152a.h+"px");}if((!isNaN(this._animProps.angleOffSet))&&(!isNaN(parseFloat(this._animProps.angleOffSet)))){_1529=_1529+parseFloat(this._animProps.angleOffSet);}this._guiHelper.applyOrigin(this._node,{"x":oX+"%","y":oY+"%"});this._guiHelper.applyTransform(this._node,{"rotate":"("+_1529+"deg)"});}});});},"dijit/TitlePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager","./a11yclick"],function(array,_152d,dom,_152e,_152f,_1530,_1531,has,_1532,keys,_1533,_1534,_1535,_1536,_1537){var _1538=_152d("dijit.TitlePane",[_1535,_1534,_1533],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:true,toggleable:true,tabIndex:"0",duration:_1537.defaultDuration,baseClass:"dijitTitlePane",templateString:_1536,doLayout:false,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.titleNode,false);},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,this.baseClass+"Title");}var _1539=this.hideNode,_153a=this.wipeNode;this._wipeIn=_1531.wipeIn({node:_153a,duration:this.duration,beforeBegin:function(){_1539.style.display="";}});this._wipeOut=_1531.wipeOut({node:_153a,duration:this.duration,onEnd:function(){_1539.style.display="none";}});},_setOpenAttr:function(open,_153b){array.forEach([this._wipeIn,this._wipeOut],function(_153c){if(_153c&&_153c.status()=="playing"){_153c.stop();}});if(_153b){var anim=this[open?"_wipeIn":"_wipeOut"];anim.play();}else{this.hideNode.style.display=this.wipeNode.style.display=open?"":"none";}if(this._started){if(open){this._onShow();}else{this.onHide();}}this.containerNode.setAttribute("aria-hidden",open?"false":"true");this.focusNode.setAttribute("aria-pressed",open?"true":"false");this._set("open",open);this._setCss();},_setToggleableAttr:function(_153d){this.focusNode.setAttribute("role",_153d?"button":"heading");if(_153d){this.focusNode.setAttribute("aria-controls",this.id+"_pane");this.focusNode.setAttribute("tabIndex",this.tabIndex);this.focusNode.setAttribute("aria-pressed",this.open);}else{_152e.remove(this.focusNode,"aria-controls");_152e.remove(this.focusNode,"tabIndex");_152e.remove(this.focusNode,"aria-pressed");}this._set("toggleable",_153d);this._setCss();},_setContentAttr:function(_153e){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}_1530.setMarginBox(this.wipeNode,{h:_1530.getMarginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function(){this._setOpenAttr(!this.open,true);},_setCss:function(){var node=this.titleBarNode||this.focusNode;var _153f=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");_152f.replace(node,this._titleBarClass,_153f||"");_152f.replace(node,this._titleBarClass.replace("TitlePaneTitle",""),(_153f||"").replace("TitlePaneTitle",""));this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.keyCode==keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}},_onTitleClick:function(){if(this.toggleable){this.toggle();}},setTitle:function(title){_1532.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",title);}});if(has("dojo-bidi")){_1538.extend({_setTitleAttr:function(title){this._set("title",title);this.titleNode.innerHTML=title;this.applyTextDir(this.titleNode);},_setTooltipAttr:function(_1540){this._set("tooltip",_1540);if(this.textDir){_1540=this.enforceTextDirWithUcc(null,_1540);}_152e.set(this.focusNode,"title",_1540);},_setTextDirAttr:function(_1541){if(this._created&&this.textDir!=_1541){this._set("textDir",_1541);this.set("title",this.title);this.set("tooltip",this.tooltip);}}});}return _1538;});},"dojo/dnd/Container":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(array,_1542,_1543,lang,win,dom,_1544,_1545,_1546,has,on,query,touch,dnd){var _1547=_1542("dojo.dnd.Container",_1546,{skipForm:false,allowNested:false,constructor:function(node,_1548){this.node=dom.byId(node);if(!_1548){_1548={};}this.creator=_1548.creator||null;this.skipForm=_1548.skipForm;this.parent=_1548.dropParent&&dom.byId(_1548.dropParent);this.map={};this.current=null;this.containerState="";_1544.add(this.node,"dojoDndContainer");if(!(_1548&&_1548._skipStartup)){this.startup();}this.events=[on(this.node,touch.over,lang.hitch(this,"onMouseOver")),on(this.node,touch.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_1543.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return query((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_1549,_154a){if(!this.parent.firstChild){_154a=null;}else{if(_1549){if(!_154a){_154a=this.parent.firstChild;}}else{if(_154a){_154a=_154a.nextSibling;}}}var i,t;if(_154a){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_154a.parentNode.insertBefore(t.node,_154a);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){array.forEach(this.events,function(_154b){_154b.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_154c,node,Ctor){_154c._skipStartup=true;return new Ctor(node,_154c);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_154d){var _154e="dojoDnd"+type;var state=type.toLowerCase()+"State";_1544.replace(this.node,_154e+_154d,_154e+this[state]);this[state]=_154d;},_addItemClass:function(node,type){_1544.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_1544.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _154f=node.parentNode;_154f;node=_154f,_154f=node.parentNode){if((_154f==this.parent||this.allowNested)&&_1544.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_1544.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _1545.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_1545.create("tr");_1545.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _1545.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var isObj=item&&lang.isObject(item),data,type,n;if(isObj&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(isObj&&item.data)?item.data:item;type=(isObj&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _1547;});},"dojox/gauges/GlossyHorizontalGauge":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/Color","dojox/gfx","./BarGauge","./BarCircleIndicator","./GlossyHorizontalGaugeMarker"],function(_1550,_1551,lang,Color,gfx,_1552,_1553,_1554){return _1550("dojox.gauges.GlossyHorizontalGauge",[_1552],{_defaultIndicator:_1553,color:"black",markerColor:"black",majorTicksInterval:10,_majorTicksLength:10,majorTicksColor:"#c4c4c4",minorTicksInterval:5,_minorTicksLength:6,minorTicksColor:"#c4c4c4",value:0,noChange:false,title:"",font:"normal normal normal 10pt serif",scalePrecision:0,_font:null,_margin:2,_minBorderWidth:2,_maxBorderWidth:6,_tickLabelOffset:5,_designHeight:100,constructor:function(){this.min=0;this.max=100;},startup:function(){this.inherited(arguments);if(this._gaugeStarted){return;}this._gaugeStarted=true;var scale=this.height/this._designHeight;this._minorTicksLength=this._minorTicksLength*scale;this._majorTicksLength=this._majorTicksLength*scale;var font=this._font;this._computeDataRectangle();var th=gfx.normalizedLength(font.size);var _1555=th+this._tickLabelOffset+Math.max(this._majorTicksLength,this._minorTicksLength);var _1556=Math.max(0,(this.height-_1555)/2);this.addRange({low:this.min?this.min:0,high:this.max?this.max:100,color:[0,0,0,0]});this.setMajorTicks({fixedPrecision:true,precision:this.scalePrecision,font:font,labelPlacement:"inside",offset:_1556-this._majorTicksLength/2,interval:this.majorTicksInterval,length:this._majorTicksLength,color:this.majorTicksColor});this.setMinorTicks({labelPlacement:"inside",offset:_1556-this._minorTicksLength/2,interval:this.minorTicksInterval,length:this._minorTicksLength,color:this.minorTicksColor});this._needle=new _1554({hideValue:true,title:this.title,noChange:this.noChange,offset:_1556,color:this.markerColor,value:this.value});this.addIndicator(this._needle);_1551.connect(this._needle,"valueChanged",lang.hitch(this,function(){this.value=this._needle.value;this.onValueChanged();}));},_layoutGauge:function(){if(!this._gaugeStarted){return;}var font=this._font;this._computeDataRectangle();var th=gfx.normalizedLength(font.size);var _1557=th+this._tickLabelOffset+Math.max(this._majorTicksLength,this._minorTicksLength);var _1558=Math.max(0,(this.height-_1557)/2);this._setMajorTicksProperty({fixedPrecision:true,precision:this.scalePrecision,font:font,offset:_1558-this._majorTicksLength/2,interval:this.majorTicksInterval,length:this._majorTicksLength});this._setMinorTicksProperty({offset:_1558-this._minorTicksLength/2,interval:this.minorTicksInterval,length:this._minorTicksLength});this.removeIndicator(this._needle);this._needle.offset=_1558;this.addIndicator(this._needle);},_formatNumber:function(val){var _1559=this._getNumberModule();if(_1559){return _1559.format(val,{places:this.scalePrecision});}else{return val.toFixed(this.scalePrecision);}},_computeDataRectangle:function(){if(!this._gaugeStarted){return;}var font=this._font;var _155a=this._getTextWidth(this._formatNumber(this.min),font)/2;var _155b=this._getTextWidth(this._formatNumber(this.max),font)/2;var _155c=Math.max(_155a,_155b);var _155d=this._getBorderWidth()+Math.max(this._majorTicksLength,this._majorTicksLength)/2+_155c;this.dataHeight=this.height;this.dataY=0;this.dataX=_155d+this._margin;this.dataWidth=Math.max(0,this.width-2*this.dataX);},_getTextWidth:function(s,font){return gfx._base._getTextBox(s,{font:gfx.makeFontString(gfx.makeParameters(gfx.defaultFont,font))}).w||0;},_getBorderWidth:function(){return Math.max(this._minBorderWidth,Math.min(this._maxBorderWidth,this._maxBorderWidth*this.height/this._designHeight));},drawBackground:function(group){if(this._gaugeBackground){return;}var _155e=Color.blendColors(new Color(this.color),new Color("white"),0.4);this._gaugeBackground=group.createGroup();var _155f=this._getBorderWidth();var _1560=this._margin;var w=this.width;var h=this.height;var _1561=Math.min(h/4,23);this._gaugeBackground.createRect({x:_1560,y:_1560,width:Math.max(0,w-2*_1560),height:Math.max(0,h-2*_1560),r:_1561}).setFill(this.color);var left=_1560+_155f;var right=w-_155f-_1560;var top=_1560+_155f;var w2=w-2*_155f-2*_1560;var h2=h-2*_155f-2*_1560;if(w2<=0||h2<=0){return;}_1561=Math.min(_1561,w2/2);_1561=Math.min(_1561,h2/2);this._gaugeBackground.createRect({x:left,y:top,width:w2,height:h2,r:_1561}).setFill({type:"linear",x1:left,y1:0,x2:left,y2:h-_155f-_1560,colors:[{offset:0,color:_155e},{offset:0.2,color:this.color},{offset:0.8,color:this.color},{offset:1,color:_155e}]});var f=4*(Math.sqrt(2)-1)/3*_1561;this._gaugeBackground.createPath({path:"M"+left+" "+(top+_1561)+"C"+left+" "+(top+_1561-f)+" "+(left+_1561-f)+" "+top+" "+(left+_1561)+" "+top+"L"+(right-_1561)+" "+top+"C"+(right-_1561+f)+" "+top+" "+right+" "+(top+_1561-f)+" "+right+" "+(top+_1561)+"L"+right+" "+(top+h/2)+"L"+left+" "+(top+h/3)+"Z"}).setFill({type:"linear",x1:left,y1:top,x2:left,y2:top+this.height/2,colors:[{offset:0,color:_155e},{offset:1,color:Color.blendColors(new Color(this.color),new Color("white"),0.2)}]});},onValueChanged:function(){},_setColorAttr:function(color){this.color=color?color:"black";if(this._gaugeBackground&&this._gaugeBackground.parent){this._gaugeBackground.parent.remove(this._gaugeBackground);}this._gaugeBackground=null;this.draw();},_setMarkerColorAttr:function(color){this.markerColor=color;if(this._needle){this.removeIndicator(this._needle);this._needle.color=color;this._needle.shape=null;this.addIndicator(this._needle);}},_setMajorTicksIntervalAttr:function(_1562){this.majorTicksInterval=_1562;this._setMajorTicksProperty({"interval":this.majorTicksInterval});},setMajorTicksLength:function(_1563){this._majorTicksLength=_1563;this._layoutGauge();return this;},getMajorTicksLength:function(){return this._majorTicksLength;},_setMajorTicksColorAttr:function(color){this.majorTicksColor=color;this._setMajorTicksProperty({"color":this.majorTicksColor});},_setMajorTicksProperty:function(prop){if(this.majorTicks==null){return;}lang.mixin(this.majorTicks,prop);this.setMajorTicks(this.majorTicks);},_setMinorTicksIntervalAttr:function(_1564){this.minorTicksInterval=_1564;this._setMinorTicksProperty({"interval":this.minorTicksInterval});},setMinorTicksLength:function(_1565){this._minorTicksLength=_1565;this._layoutGauge();return this;},getMinorTicksLength:function(){return this._minorTicksLength;},_setMinorTicksColorAttr:function(color){this.minorTicksColor=color;this._setMinorTicksProperty({"color":this.minorTicksColor});},_setMinorTicksProperty:function(prop){if(this.minorTicks==null){return;}lang.mixin(this.minorTicks,prop);this.setMinorTicks(this.minorTicks);},_setMinAttr:function(min){this.min=min;this._computeDataRectangle();if(this.majorTicks!=null){this.setMajorTicks(this.majorTicks);}if(this.minorTicks!=null){this.setMinorTicks(this.minorTicks);}this.draw();},_setMaxAttr:function(max){this.max=max;this._computeDataRectangle();if(this.majorTicks!=null){this.setMajorTicks(this.majorTicks);}if(this.minorTicks!=null){this.setMinorTicks(this.minorTicks);}this.draw();},_setValueAttr:function(value){value=Math.min(this.max,value);value=Math.max(this.min,value);this.value=value;if(this._needle){var _1566=this._needle.noChange;this._needle.noChange=false;this._needle.update(value);this._needle.noChange=_1566;}},_setScalePrecisionAttr:function(value){this.scalePrecision=value;this._layoutGauge();},_setNoChangeAttr:function(value){this.noChange=value;if(this._needle){this._needle.noChange=this.noChange;}},_setTitleAttr:function(value){this.title=value;if(this._needle){this._needle.title=this.title;}},_setFontAttr:function(font){this.font=font;this._font=gfx.splitFontString(font);this._layoutGauge();}});});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(array,_1567,_1568,_1569,win,_156a,dijit){function _156b(node,_156c,_156d,_156e){var view=_156a.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;array.some(_156c,function(_156f){var _1570=_156f.corner;var pos=_156f.pos;var _1571=0;var _1572={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_1570.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_1570.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_156d){var res=_156d(node,_156f.aroundCorner,_1570,_1572,_156e);_1571=typeof res=="undefined"?0:res;}var style=node.style;var _1573=style.display;var _1574=style.visibility;if(style.display=="none"){style.visibility="hidden";style.display="";}var bb=_1567.position(node);style.display=_1573;style.visibility=_1574;var _1575={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_1570.charAt(1)],_1576={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_1570.charAt(0)],_1577=Math.max(view.l,_1575),_1578=Math.max(view.t,_1576),endX=Math.min(view.l+view.w,_1575+bb.w),endY=Math.min(view.t+view.h,_1576+bb.h),width=endX-_1577,_1579=endY-_1578;_1571+=(bb.w-width)+(bb.h-_1579);if(best==null||_1571<best.overflow){best={corner:_1570,aroundCorner:_156f.aroundCorner,x:_1577,y:_1578,w:width,h:_1579,overflow:_1571,spaceAvailable:_1572};}return !_1571;});if(best.overflow&&_156d){_156d(node,best.aroundCorner,best.corner,best.spaceAvailable,_156e);}var l=_1567.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;if(/relative|absolute/.test(_1568.get(win.body(node.ownerDocument),"position"))){top-=_1568.get(win.body(node.ownerDocument),"marginTop");side-=(l?1:-1)*_1568.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");}var s=node.style;s.top=top+"px";s[l?"left":"right"]=side+"px";s[l?"right":"left"]="auto";return best;};var _157a={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var place={at:function(node,pos,_157b,_157c,_157d){var _157e=array.map(_157b,function(_157f){var c={corner:_157f,aroundCorner:_157a[_157f],pos:{x:pos.x,y:pos.y}};if(_157c){c.pos.x+=_157f.charAt(1)=="L"?_157c.x:-_157c.x;c.pos.y+=_157f.charAt(0)=="T"?_157c.y:-_157c.y;}return c;});return _156b(node,_157e,_157d);},around:function(node,_1580,_1581,_1582,_1583){var _1584;if(typeof _1580=="string"||"offsetWidth" in _1580){_1584=_1567.position(_1580,true);if(/^(above|below)/.test(_1581[0])){var _1585=_1567.getBorderExtents(_1580),_1586=_1580.firstChild?_1567.getBorderExtents(_1580.firstChild):{t:0,l:0,b:0,r:0},_1587=_1567.getBorderExtents(node),_1588=node.firstChild?_1567.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_1584.y+=Math.min(_1585.t+_1586.t,_1587.t+_1588.t);_1584.h-=Math.min(_1585.t+_1586.t,_1587.t+_1588.t)+Math.min(_1585.b+_1586.b,_1587.b+_1588.b);}}else{_1584=_1580;}if(_1580.parentNode){var _1589=_1568.getComputedStyle(_1580).position=="absolute";var _158a=_1580.parentNode;while(_158a&&_158a.nodeType==1&&_158a.nodeName!="BODY"){var _158b=_1567.position(_158a,true),pcs=_1568.getComputedStyle(_158a);if(/relative|absolute/.test(pcs.position)){_1589=false;}if(!_1589&&/hidden|auto|scroll/.test(pcs.overflow)){var _158c=Math.min(_1584.y+_1584.h,_158b.y+_158b.h);var _158d=Math.min(_1584.x+_1584.w,_158b.x+_158b.w);_1584.x=Math.max(_1584.x,_158b.x);_1584.y=Math.max(_1584.y,_158b.y);_1584.h=_158c-_1584.y;_1584.w=_158d-_1584.x;}if(pcs.position=="absolute"){_1589=true;}_158a=_158a.parentNode;}}var x=_1584.x,y=_1584.y,width="w" in _1584?_1584.w:(_1584.w=_1584.width),_158e="h" in _1584?_1584.h:(_1569.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_1584.height+", width:"+width+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_1584.height+", w:"+width+" }","","2.0"),_1584.h=_1584.height);var _158f=[];function push(_1590,_1591){_158f.push({aroundCorner:_1590,corner:_1591,pos:{x:{"L":x,"R":x+width,"M":x+(width>>1)}[_1590.charAt(1)],y:{"T":y,"B":y+_158e,"M":y+(_158e>>1)}[_1590.charAt(0)]}});};array.forEach(_1581,function(pos){var ltr=_1582;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _1592=_156b(node,_158f,_1583,{w:width,h:_158e});_1592.aroundNodePos=_1584;return _1592;}};return dijit.place=place;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_1593,_1594,_1595,_1596,_1597,_1598,_1599,_159a){return _1597("dijit.layout._LayoutWidget",[_1593,_1594,_1595],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_1598.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _159b=this.getParent&&this.getParent();if(!(_159b&&_159b.isLayoutContainer)){this.resize();this.own(_1596.on("resize",lang.hitch(this,"resize")));}},resize:function(_159c,_159d){var node=this.domNode;if(_159c){_1599.setMarginBox(node,_159c);}var mb=_159d||{};lang.mixin(mb,_159c||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_1599.getMarginBox(node),mb);}var cs=_159a.getComputedStyle(node);var me=_1599.getMarginExtents(node,cs);var be=_1599.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_1599.getPadExtents(node,cs);this._contentBox={l:_159a.toPixelValue(node,cs.paddingLeft),t:_159a.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(child){var cls=this.baseClass+"-child "+(child.baseClass?this.baseClass+"-"+child.baseClass:"");_1598.add(child.domNode,cls);},addChild:function(child,_159e){this.inherited(arguments);if(this._started){this._setupChild(child);}},removeChild:function(child){var cls=this.baseClass+"-child"+(child.baseClass?" "+this.baseClass+"-"+child.baseClass:"");_1598.remove(child.domNode,cls);this.inherited(arguments);}});});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,Color,_159f){var _15a0={};lang.setObject("dojo.colors",_15a0);var _15a1=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=Color.fromRgb=function(color,obj){var m=color.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_159f.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return Color.fromArray(a,obj);}return Color.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_15a1(m1,m2,H+1/3)*256,_15a1(m1,m2,H)*256,_15a1(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return Color.fromArray(a,obj);}}return null;};var _15a2=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_15a2(t.r,0,255));t.g=Math.round(_15a2(t.g,0,255));t.b=Math.round(_15a2(t.b,0,255));t.a=_15a2(t.a,0,1);return this;};_15a0.makeGrey=Color.makeGrey=function(g,a){return Color.fromArray([g,g,g,a]);};lang.mixin(Color.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return Color;});},"dojox/grid/cells/_base":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_15a3,lang,event,_15a4,array,has,dom,_15a5,_15a6,_15a7,util){var _15a8=_15a3("dojox.grid._DeferredTextWidget",_15a7,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(lang.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});var _15a9=function(_15aa){try{util.fire(_15aa,"focus");util.fire(_15aa,"select");}catch(e){}};var _15ab=function(){setTimeout(lang.hitch.apply(dojo,arguments),0);};var _15ac=_15a3("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_15ad){this._props=_15ad||{};lang.mixin(this,_15ad);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_15ae,_15af){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_15ae!=this.defaultValue&&f)?f.apply(s,_15af):_15ae;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new _15a8({deferred:v},_15a6.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_15b0,_15b1){var f,i=this.grid.edit.info,d=this.get?this.get(_15b0,_15b1):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_15b0&&i.cell==this))){return this.formatEditing(i.value?i.value:d,_15b0);}else{return this._defaultFormat(d,[d,_15b0,this]);}},formatEditing:function(_15b2,_15b3){},getNode:function(_15b4){return this.view.getCellNode(_15b4,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_15b5){return (this.getNode(_15b5)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_15b6,_15b7){if(this.getNode(_15b7)){this.grid.edit.applyCellEdit(_15b6,this,_15b7);}},cancelEdit:function(_15b8){this.grid.doCancelEdit(_15b8);},_onEditBlur:function(_15b9){if(this.grid.edit.isEditCell(_15b9,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_15ba,_15bb){if(this.commitOnBlur){_15a4.connect(_15ba,"onblur",function(e){setTimeout(lang.hitch(this,"_onEditBlur",_15bb),250);});}},needFormatNode:function(_15bc,_15bd){this._formatPending=true;_15ab(this,"_formatNode",_15bc,_15bd);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_15be,_15bf){if(this._formatPending){this._formatPending=false;if(!has("ie")){dom.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_15bf),_15be,_15bf);}},formatNode:function(_15c0,_15c1,_15c2){if(has("ie")){_15ab(this,"focus",_15c2,_15c0);}else{this.focus(_15c2,_15c0);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_15c3){return this.getEditNode(_15c3)[this._valueProp];},setValue:function(_15c4,_15c5){var n=this.getEditNode(_15c4);if(n){n[this._valueProp]=_15c5;}},focus:function(_15c6,_15c7){_15a9(_15c7||this.getEditNode(_15c6));},save:function(_15c8){this.value=this.value||this.getValue(_15c8);},restore:function(_15c9){this.setValue(_15c9,this.value);},_finish:function(_15ca){dom.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_15cb){this.applyEdit(this.getValue(_15cb),_15cb);this._finish(_15cb);},cancel:function(_15cc){this.cancelEdit(_15cc);this._finish(_15cc);}});_15ac.markupFactory=function(node,_15cd){var _15ce=lang.trim(_15a5.get(node,"formatter")||"");if(_15ce){_15cd.formatter=lang.getObject(_15ce)||_15ce;}var get=lang.trim(_15a5.get(node,"get")||"");if(get){_15cd.get=lang.getObject(get);}var _15cf=function(attr,cell,_15d0){var value=lang.trim(_15a5.get(node,attr)||"");if(value){cell[_15d0||attr]=!(value.toLowerCase()=="false");}};_15cf("sortDesc",_15cd);_15cf("editable",_15cd);_15cf("alwaysEditing",_15cd);_15cf("noresize",_15cd);_15cf("draggable",_15cd);var value=lang.trim(_15a5.get(node,"loadingText")||_15a5.get(node,"defaultValue")||"");if(value){_15cd.defaultValue=value;}var _15d1=function(attr,cell,_15d2){var value=lang.trim(_15a5.get(node,attr)||"")||undefined;if(value){cell[_15d2||attr]=value;}};_15d1("styles",_15cd);_15d1("headerStyles",_15cd);_15d1("cellStyles",_15cd);_15d1("classes",_15cd);_15d1("headerClasses",_15cd);_15d1("cellClasses",_15cd);};var Cell=_15ac.Cell=_15a3("dojox.grid.cells.Cell",_15ac,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_15d3,_15d4){this.needFormatNode(_15d3,_15d4);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_15d3+"\">";},formatNode:function(_15d5,_15d6,_15d7){this.inherited(arguments);this.registerOnBlur(_15d5,_15d7);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){event.stop(e);}}},_finish:function(_15d8){this.inherited(arguments);var n=this.getEditNode(_15d8);try{util.fire(n,"blur");}catch(e){}}});Cell.markupFactory=function(node,_15d9){_15ac.markupFactory(node,_15d9);var _15da=lang.trim(_15a5.get(node,"keyFilter")||"");if(_15da){_15d9.keyFilter=new RegExp(_15da);}};var _15db=_15ac.RowIndex=_15a3("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_15dc){return _15dc+1;}});_15db.markupFactory=function(node,_15dd){Cell.markupFactory(node,_15dd);};var _15de=_15ac.Select=_15a3("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_15df){this.values=this.values||this.options;},formatEditing:function(_15e0,_15e1){this.needFormatNode(_15e0,_15e1);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_15e0==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},_defaultFormat:function(_15e2,_15e3){var v=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var i=array.indexOf(this.values,v);if(i>=0){v=this.options[i];}}return v;},getValue:function(_15e4){var n=this.getEditNode(_15e4);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});_15de.markupFactory=function(node,cell){Cell.markupFactory(node,cell);var _15e5=lang.trim(_15a5.get(node,"options")||"");if(_15e5){var o=_15e5.split(",");if(o[0]!=_15e5){cell.options=o;}}var _15e6=lang.trim(_15a5.get(node,"values")||"");if(_15e6){var v=_15e6.split(",");if(v[0]!=_15e6){cell.values=v;}}};var _15e7=_15ac.AlwaysEdit=_15a3("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_15e8,_15e9){this.formatNode(this.getEditNode(_15e9),_15e8,_15e9);},applyStaticValue:function(_15ea){var e=this.grid.edit;e.applyCellEdit(this.getValue(_15ea),this,_15ea);e.start(this,_15ea,true);}});_15e7.markupFactory=function(node,cell){Cell.markupFactory(node,cell);};var Bool=_15ac.Bool=_15a3("dojox.grid.cells.Bool",_15e7,{_valueProp:"checked",formatEditing:function(_15eb,_15ec){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_15eb?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});Bool.markupFactory=function(node,cell){_15e7.markupFactory(node,cell);};return _15ac;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _15ed={};lang.setObject("dojo.cldr.supplemental",_15ed);_15ed.getFirstDayOfWeek=function(_15ee){var _15ef={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _15f0=_15ed._region(_15ee);var dow=_15ef[_15f0];return (dow===undefined)?1:dow;};_15ed._region=function(_15f1){_15f1=i18n.normalizeLocale(_15f1);var tags=_15f1.split("-");var _15f2=tags[1];if(!_15f2){_15f2={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_15f2.length==4){_15f2=tags[2];}}return _15f2;};_15ed.getWeekend=function(_15f3){var _15f4={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_15f5={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_15f6=_15ed._region(_15f3),start=_15f4[_15f6],end=_15f5[_15f6];if(start===undefined){start=6;}if(end===undefined){end=0;}return {start:start,end:end};};return _15ed;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_15f7,_15f8,_15f9){var _15fa={};lang.setObject("dojo.number",_15fa);_15fa.format=function(value,_15fb){_15fb=lang.mixin({},_15fb||{});var _15fc=i18n.normalizeLocale(_15fb.locale),_15fd=i18n.getLocalization("dojo.cldr","number",_15fc);_15fb.customs=_15fd;var _15fe=_15fb.pattern||_15fd[(_15fb.type||"decimal")+"Format"];if(isNaN(value)||Math.abs(value)==Infinity){return null;}return _15fa._applyPattern(value,_15fe,_15fb);};_15fa._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_15fa._applyPattern=function(value,_15ff,_1600){_1600=_1600||{};var group=_1600.customs.group,_1601=_1600.customs.decimal,_1602=_15ff.split(";"),_1603=_1602[0];_15ff=_1602[(value<0)?1:0]||("-"+_1603);if(_15ff.indexOf("%")!=-1){value*=100;}else{if(_15ff.indexOf("‰")!=-1){value*=1000;}else{if(_15ff.indexOf("¤")!=-1){group=_1600.customs.currencyGroup||group;_1601=_1600.customs.currencyDecimal||_1601;_15ff=_15ff.replace(/\u00a4{1,3}/,function(match){var prop=["symbol","currency","displayName"][match.length-1];return _1600[prop]||_1600.currency||"";});}else{if(_15ff.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _1604=_15fa._numberPatternRE;var _1605=_1603.match(_1604);if(!_1605){throw new Error("unable to find a number expression in pattern: "+_15ff);}if(_1600.fractional===false){_1600.places=0;}return _15ff.replace(_1604,_15fa._formatAbsolute(value,_1605[0],{decimal:_1601,group:group,places:_1600.places,round:_1600.round}));};_15fa.round=function(value,_1606,_1607){var _1608=10/(_1607||10);return (_1608*+value).toFixed(_1606)/_1608;};if((0.9).toFixed()==0){var round=_15fa.round;_15fa.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return round(v,p,m)+(v>0?d:-d);};}_15fa._formatAbsolute=function(value,_1609,_160a){_160a=_160a||{};if(_160a.places===true){_160a.places=0;}if(_160a.places===Infinity){_160a.places=6;}var _160b=_1609.split("."),comma=typeof _160a.places=="string"&&_160a.places.indexOf(","),_160c=_160a.places;if(comma){_160c=_160a.places.substring(comma+1);}else{if(!(_160c>=0)){_160c=(_160b[1]||[]).length;}}if(!(_160a.round<0)){value=_15fa.round(value,_160c,_160a.round);}var _160d=String(Math.abs(value)).split("."),_160e=_160d[1]||"";if(_160b[1]||_160a.places){if(comma){_160a.places=_160a.places.substring(0,comma);}var pad=_160a.places!==undefined?_160a.places:(_160b[1]&&_160b[1].lastIndexOf("0")+1);if(pad>_160e.length){_160d[1]=_15f8.pad(_160e,pad,"0",true);}if(_160c<_160e.length){_160d[1]=_160e.substr(0,_160c);}}else{if(_160d[1]){_160d.pop();}}var _160f=_160b[0].replace(",","");pad=_160f.indexOf("0");if(pad!=-1){pad=_160f.length-pad;if(pad>_160d[0].length){_160d[0]=_15f8.pad(_160d[0],pad);}if(_160f.indexOf("#")==-1){_160d[0]=_160d[0].substr(_160d[0].length-pad);}}var index=_160b[0].lastIndexOf(","),_1610,_1611;if(index!=-1){_1610=_160b[0].length-index-1;var _1612=_160b[0].substr(0,index);index=_1612.lastIndexOf(",");if(index!=-1){_1611=_1612.length-index-1;}}var _1613=[];for(var whole=_160d[0];whole;){var off=whole.length-_1610;_1613.push((off>0)?whole.substr(off):whole);whole=(off>0)?whole.slice(0,off):"";if(_1611){_1610=_1611;delete _1611;}}_160d[0]=_1613.reverse().join(_160a.group||",");return _160d.join(_160a.decimal||".");};_15fa.regexp=function(_1614){return _15fa._parseInfo(_1614).regexp;};_15fa._parseInfo=function(_1615){_1615=_1615||{};var _1616=i18n.normalizeLocale(_1615.locale),_1617=i18n.getLocalization("dojo.cldr","number",_1616),_1618=_1615.pattern||_1617[(_1615.type||"decimal")+"Format"],group=_1617.group,_1619=_1617.decimal,_161a=1;if(_1618.indexOf("%")!=-1){_161a/=100;}else{if(_1618.indexOf("‰")!=-1){_161a/=1000;}else{var _161b=_1618.indexOf("¤")!=-1;if(_161b){group=_1617.currencyGroup||group;_1619=_1617.currencyDecimal||_1619;}}}var _161c=_1618.split(";");if(_161c.length==1){_161c.push("-"+_161c[0]);}var re=_15f9.buildGroupRE(_161c,function(_161d){_161d="(?:"+_15f9.escapeString(_161d,".")+")";return _161d.replace(_15fa._numberPatternRE,function(_161e){var flags={signed:false,separator:_1615.strict?group:[group,""],fractional:_1615.fractional,decimal:_1619,exponent:false},parts=_161e.split("."),_161f=_1615.places;if(parts.length==1&&_161a!=1){parts[1]="###";}if(parts.length==1||_161f===0){flags.fractional=false;}else{if(_161f===undefined){_161f=_1615.pattern?parts[1].lastIndexOf("0")+1:Infinity;}if(_161f&&_1615.fractional==undefined){flags.fractional=true;}if(!_1615.places&&(_161f<parts[1].length)){_161f+=","+parts[1].length;}flags.places=_161f;}var _1620=parts[0].split(",");if(_1620.length>1){flags.groupSize=_1620.pop().length;if(_1620.length>1){flags.groupSize2=_1620.pop().length;}}return "("+_15fa._realNumberRegexp(flags)+")";});},true);if(_161b){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(match,_1621,_1622,after){var prop=["symbol","currency","displayName"][_1622.length-1],_1623=_15f9.escapeString(_1615[prop]||_1615.currency||"");_1621=_1621?"[\\s\\xa0]":"";after=after?"[\\s\\xa0]":"";if(!_1615.strict){if(_1621){_1621+="*";}if(after){after+="*";}return "(?:"+_1621+_1623+after+")?";}return _1621+_1623+after;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:group,decimal:_1619,factor:_161a};};_15fa.parse=function(_1624,_1625){var info=_15fa._parseInfo(_1625),_1626=(new RegExp("^"+info.regexp+"$")).exec(_1624);if(!_1626){return NaN;}var _1627=_1626[1];if(!_1626[1]){if(!_1626[2]){return NaN;}_1627=_1626[2];info.factor*=-1;}_1627=_1627.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _1627*info.factor;};_15fa._realNumberRegexp=function(flags){flags=flags||{};if(!("places" in flags)){flags.places=Infinity;}if(typeof flags.decimal!="string"){flags.decimal=".";}if(!("fractional" in flags)||/^0/.test(flags.places)){flags.fractional=[true,false];}if(!("exponent" in flags)){flags.exponent=[true,false];}if(!("eSigned" in flags)){flags.eSigned=[true,false];}var _1628=_15fa._integerRegexp(flags),_1629=_15f9.buildGroupRE(flags.fractional,function(q){var re="";if(q&&(flags.places!==0)){re="\\"+flags.decimal;if(flags.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+flags.places+"}";}}return re;},true);var _162a=_15f9.buildGroupRE(flags.exponent,function(q){if(q){return "([eE]"+_15fa._integerRegexp({signed:flags.eSigned})+")";}return "";});var _162b=_1628+_1629;if(_1629){_162b="(?:(?:"+_162b+")|(?:"+_1629+"))";}return _162b+_162a;};_15fa._integerRegexp=function(flags){flags=flags||{};if(!("signed" in flags)){flags.signed=[true,false];}if(!("separator" in flags)){flags.separator="";}else{if(!("groupSize" in flags)){flags.groupSize=3;}}var _162c=_15f9.buildGroupRE(flags.signed,function(q){return q?"[-+]":"";},true);var _162d=_15f9.buildGroupRE(flags.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_15f9.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=flags.groupSize,grp2=flags.groupSize2;if(grp2){var _162e="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_162e+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_162e;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _162c+_162d;};return _15fa;});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(array,_162f,_1630,_1631,_1632,lang,query,has,_1633,_1634,_1635){return _162f("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _1636=this.getParent();this._childOfLayoutWidget=_1636&&_1636.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_1634.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _1637=[],_1638=false;query("> *",this.containerNode).some(function(node){var _1639=_1633.byNode(node);if(_1639&&_1639.resize){_1637.push(_1639);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_1638=true;}}});this._singleChild=_1637.length==1&&!_1638?_1637[0]:null;_1630.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_163a,_163b){this._resizeCalled=true;this._scheduleLayout(_163a,_163b);},_scheduleLayout:function(_163c,_163d){if(this._isShown()){this._layout(_163c,_163d);}else{this._needLayout=true;this._changeSize=_163c;this._resultSize=_163d;}},_layout:function(_163e,_163f){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_163e){_1631.setMarginBox(this.domNode,_163e);}var cn=this.containerNode;if(cn===this.domNode){var mb=_163f||{};lang.mixin(mb,_163e||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_1631.getMarginBox(cn),mb);}this._contentBox=_1635.marginBox2contentBox(cn,mb);}else{this._contentBox=_1631.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_1631.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _1640=this.getChildren(),_1641,i=0;while(_1641=_1640[i++]){if(_1641.resize){_1641.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_1642=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_1630.contains(node,"dijitHidden")&&_1642&&_1642.style&&(_1642.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"viewer/object/action/ListBox":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","dojo/dom-construct","../../misc/gui/OutputWindow","../../server/serverEvents","../../misc/enums","dojo/text!./listBox.html"],function(_1643,_1644,touch,on,_1645,_1646,_1647,enums,_1648){return _1643("viewer.object.action.ListBox",_1644,{templateString:_1648,_currentSelectedIndex:-1,_fieldId:null,_isFirstDSEnqueue:true,_clickable:true,_lastComboPositionValue:null,_originalHeight:null,buildRendering:function(){var _1649,self;if(!this._attr.colorAdvanced){this._attr.colorAdvanced=this._attr.background.color;}this.inherited(arguments);if(this._attr.dataSourceType!=enums.EnumListBoxDataSourceType.STATIC_LABEL&&this._attr.dataSourceType!=enums.EnumListBoxDataSourceType.DATABASE&&this._attr.dataSourceType!=enums.EnumListBoxDataSourceType.ARRAY_TAG){return;}self=this;on(this._xComponent,touch.press,function(evt){evt.stopPropagation();});on(this._xComponent,"change",function(evt){self._onChangeSelection(evt);});on(this._xComponent,"click",function(evt){self._onClick(evt);});this._populate();this._initial();},startup:function(){this.inherited(arguments);},_populate:function(){var i=0,_164a={};if(!this._attr.itemList){return;}for(i=0;i<this._attr.itemList.length;i++){_164a[this._attr.itemList[i]]=i;}if(this._attr.sort===1){if(this._attr.listSortOrder){switch(this._attr.listSortOrder){case "Descending":this._attr.itemList.sort(function(b,a){return a.localeCompare(b);});this._attr.itemTypeList.sort(function(b,a){return a.captionField.localeCompare(b.captionField);});break;case "Ascending":this._attr.itemList.sort(function(a,b){return a.localeCompare(b);});this._attr.itemTypeList.sort(function(a,b){return a.captionField.localeCompare(b.captionField);});break;}}}var _164b=this._xComponent.selectedIndex;this._xComponent.options.length=0;for(i=0;i<this._attr.itemList.length;i++){option=document.createElement("option");option.text=this._attr.itemList[i];option.value=this._attr.itemTypeList[i].valueField;this._xComponent.add(option);}this._xComponent.selectedIndex=_164b;if(!(this.isDisabled()===true)&&!(this._securitySystem.isAuthorized(this._attr.security)===false)){this._onChangeSelection(null);}},_onChangeSelection:function(evt){var index=0,_164c=null,_164d=null;if(!this.getParentScreen()){setTimeout(function(){this._onChangeSelection(null);}.bind(this),0);return;}if(!this._xComponent||this._xComponent.length===0||this._xComponent.selectedIndex<0){return;}if(this.isDisabled()===true||this._securitySystem.isAuthorized(this._attr.security)===false){if(evt===null){return;}_164c=_1645.create("div");_1645.place(_164c,dojo.body(),"first");_164d=new _1646({"onClose":function(){}},_164c);_164d._setMessageAttr("Your security group does not allow you to change this object value.");_164d.startup();return;}index=this._xComponent.selectedIndex;if(this._attr.label&&this._attr.label.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._xComponent.options[index].text);this.intervalCallRequest();}if(this._attr.comboPosition&&this._attr.comboPosition.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.comboPosition.id,this._xComponent.options[index].value);this.intervalCallRequest();}},_initial:function(){if(!this.getParentScreen()||!this._xComponent.clientHeight){setTimeout(function(){this._initial(null);}.bind(this),0);return;}},_onClick:function(){return;},_setLabelAttr:function(value){this._attr.label.value=value;},_setArrayTagAttr:function(value){if(value){var _164e=value.split("8#4@$");var _164f;if(this._xComponent.selectedIndex>-1){_164f=this._attr.itemTypeList[this._xComponent.selectedIndex].valueField;}if(_164e.length>1){for(i=0;i<_164e.length/2;i++){this._attr.itemList[i]=_164e[i*2];this._attr.itemTypeList[i].captionField=_164e[i*2];this._attr.itemTypeList[i].valueField=_164e[i*2+1];}this._xComponent.selectedIndex=this._getIndexByValue(_164f);this._populate();}}this._setComboPositionAttr(this._lastComboPositionValue);},_setComboPositionAttr:function(value){var i=0,opt=null;this._lastComboPositionValue=value;if(typeof (this._attr.comboPosition)==="undefined"){return;}var _1650=(+value).toString()==="NaN"?value:(+value).toString();var index=this._getIndexByValue(_1650);if(index>-1){this._xComponent.selectedIndex=index;this._attr.comboPosition.value=value;}if(this._attr.label&&this._attr.label.id>=0&&this._xComponent.length>0&&this._xComponent.selectedIndex<this._xComponent.length&&this._xComponent.selectedIndex>-1){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._xComponent.options[this._xComponent.selectedIndex].text);this.intervalCallRequest();}},_setDataAttr:function(ds){var i=0;if(this._attr.itemList){this._attr.itemList.length=0;}else{this._attr.itemList=[];}if(ds&&ds.rows){for(i=0;i<ds.rows.length;i++){if(ds.rows[i].length===1){this._attr.itemList.push(ds.rows[i][0].value);}}}this._populate();this._setComboPositionAttr(this._lastComboPositionValue);},_setArrayTagNumberOfItemsAttr:function(){},_setFieldAttr:function(){},_setReloadAttr:function(){},_setFilenameAttr:function(){},_updateRectSize:function(_1651,_1652){this.inherited(arguments);this._updateScaledSize(_1651,_1652);},_getIndexByValue:function(value){var _1653=-1;var _1654=this._xComponent.selectedIndex;var _1655=_1654>-1?this._attr.itemTypeList[_1654].valueField:"";var _1656=0;if(this._attr.itemTypeList){for(i=0;i<this._attr.itemTypeList.length;i++){if(this._attr.itemTypeList[i].valueField===value){_1656++;_1653=i;}}}return _1656>1&&_1655===this._attr.itemTypeList[_1653].valueField?_1654:_1653;},applyDisable:function(anim,_1657){if(anim!==null){return;}this.inherited(arguments);this._xComponent.disabled=this.isDisabled();if(this._xComponent.disabled){this._guiHelper.setBackgroundColor(this._xComponent,"#F5F5F5");this._xComponent.style.color="#ACA899";}}});});},"dojox/charting/plot2d/Spider":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojo/_base/fx","dojo/fx","dojo/sniff","./Base","./_PlotEvents","./common","../axis2d/common","dojox/gfx","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/utils","dojo/fx/easing"],function(lang,_1658,hub,arr,_1659,_165a,_165b,has,Base,_165c,dc,da,g,m,gfxfx,df,du,_165d){var _165e=0.2;var _165f=_1658("dojox.charting.plot2d.Spider",[Base,_165c],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:-10,labelStyle:"default",htmlLabels:true,startAngle:-90,divisions:3,axisColor:"",axisWidth:0,spiderColor:"",spiderWidth:0,seriesWidth:0,seriesFillAlpha:0.2,spiderOrigin:0.16,markerSize:3,spiderType:"polygon",animationType:_165d.backOut,axisTickFont:"",axisTickFontColor:"",axisFont:"",axisFontColor:""},optionalParams:{radius:0,font:"",fontColor:""},constructor:function(chart,_1660){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_1660);du.updateWithPattern(this.opt,_1660,this.optionalParams);this.dyn=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};},clear:function(){this.inherited(arguments);this.dyn=[];this.axes=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};return this;},setAxis:function(axis){if(axis){if(axis.opt.min!=undefined){this.datas[axis.name].min=axis.opt.min;}if(axis.opt.max!=undefined){this.datas[axis.name].max=axis.opt.max;}}return this;},addSeries:function(run){this.series.push(run);var key;for(key in run.data){var val=run.data[key],data=this.datas[key];if(data){data.vlist.push(val);data.min=Math.min(data.min,val);data.max=Math.max(data.max,val);}else{var _1661="__"+key;this.axes.push(_1661);this[_1661]=key;this.datas[key]={min:val,max:val,vlist:[val]};}}if(this.labelKey.length<=0){for(key in run.data){this.labelKey.push(key);}}return this;},getSeriesStats:function(){return dc.collectSimpleStats(this.series);},render:function(dim,_1662){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,t=this.chart.theme;this.resetEvents();if(!this.series||!this.series.length){return this;}var o=this.opt,ta=t.axis,rx=(dim.width-_1662.l-_1662.r)/2,ry=(dim.height-_1662.t-_1662.b)/2,r=Math.min(rx,ry),_1663=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font)||"normal normal normal 7pt Tahoma",_1664=o.axisFont||(ta.tick&&ta.tick.titleFont)||"normal normal normal 11pt Tahoma",_1665=o.axisTickFontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"silver",_1666=o.axisFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_1667=o.axisColor||(ta.tick&&ta.tick.axisColor)||"silver",_1668=o.spiderColor||(ta.tick&&ta.tick.spiderColor)||"silver",_1669=o.axisWidth||(ta.stroke&&ta.stroke.width)||2,_166a=o.spiderWidth||(ta.stroke&&ta.stroke.width)||2,_166b=o.seriesWidth||(ta.stroke&&ta.stroke.width)||2,asize=g.normalizedLength(g.splitFontString(_1664).size),_166c=m._degToRad(o.startAngle),start=_166c,_166d,shift,_166e,_166f,_1670,_1671,_1672,_1673,ro=o.spiderOrigin,dv=o.divisions>=3?o.divisions:3,ms=o.markerSize,spt=o.spiderType,at=o.animationType,_1674=o.labelOffset<-10?o.labelOffset:-10,_1675=0.2,i,j,point,len,_1676,_1677,_1678,run,data,min,max,_1679;if(o.labels){_166d=arr.map(this.series,function(s){return s.name;},this);shift=df.foldl1(df.map(_166d,function(label){var font=t.series.font;return g._base._getTextBox(label,{font:font}).w;},this),"Math.max(a, b)")/2;r=Math.min(rx-2*shift,ry-asize)+_1674;_166e=r-_1674;}if("radius" in o){r=o.radius;_166e=r-_1674;}r/=(1+_1675);var _167a={cx:_1662.l+rx,cy:_1662.t+ry,r:r};for(i=this.series.length-1;i>=0;i--){_1678=this.series[i];if(!this.dirty&&!_1678.dirty){t.skip();continue;}_1678.cleanGroup();run=_1678.data;if(run!==null){len=this._getObjectLength(run);if(!_166f||_166f.length<=0){_166f=[],_1670=[],_1673=[];this._buildPoints(_166f,len,_167a,r,start,true,dim);this._buildPoints(_1670,len,_167a,r*ro,start,true,dim);this._buildPoints(_1673,len,_167a,_166e,start,false,dim);if(dv>2){_1671=[],_1672=[];for(j=0;j<dv-2;j++){_1671[j]=[];this._buildPoints(_1671[j],len,_167a,r*(ro+(1-ro)*(j+1)/(dv-1)),start,true,dim);_1672[j]=r*(ro+(1-ro)*(j+1)/(dv-1));}}}}}var _167b=s.createGroup(),_167c={color:_1667,width:_1669},_167d={color:_1668,width:_166a};for(j=_166f.length-1;j>=0;--j){point=_166f[j];var st={x:point.x+(point.x-_167a.cx)*_1675,y:point.y+(point.y-_167a.cy)*_1675},nd={x:point.x+(point.x-_167a.cx)*_1675/2,y:point.y+(point.y-_167a.cy)*_1675/2};_167b.createLine({x1:_167a.cx,y1:_167a.cy,x2:st.x,y2:st.y}).setStroke(_167c);this._drawArrow(_167b,st,nd,_167c);}var _167e=s.createGroup();for(j=_1673.length-1;j>=0;--j){point=_1673[j];_1676=g._base._getTextBox(this.labelKey[j],{font:_1664}).w||0;_1677=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx";var elem=da.createText[_1677](this.chart,_167e,(!_1659.isBodyLtr()&&_1677=="html")?(point.x+_1676-dim.width):point.x,point.y,"middle",this.labelKey[j],_1664,_1666);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}var _167f=s.createGroup();if(spt=="polygon"){_167f.createPolyline(_166f).setStroke(_167d);_167f.createPolyline(_1670).setStroke(_167d);if(_1671.length>0){for(j=_1671.length-1;j>=0;--j){_167f.createPolyline(_1671[j]).setStroke(_167d);}}}else{_167f.createCircle({cx:_167a.cx,cy:_167a.cy,r:r}).setStroke(_167d);_167f.createCircle({cx:_167a.cx,cy:_167a.cy,r:r*ro}).setStroke(_167d);if(_1672.length>0){for(j=_1672.length-1;j>=0;--j){_167f.createCircle({cx:_167a.cx,cy:_167a.cy,r:_1672[j]}).setStroke(_167d);}}}len=this._getObjectLength(this.datas);var _1680=s.createGroup(),k=0;for(var key in this.datas){data=this.datas[key];min=data.min;max=data.max;_1679=max-min;end=start+2*Math.PI*k/len;for(i=0;i<dv;i++){var text=min+_1679*i/(dv-1);point=this._getCoordinate(_167a,r*(ro+(1-ro)*i/(dv-1)),end,dim);text=this._getLabel(text);_1676=g._base._getTextBox(text,{font:_1663}).w||0;_1677=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx";if(this.opt.htmlLabels){this.htmlElements.push(da.createText[_1677](this.chart,_1680,(!_1659.isBodyLtr()&&_1677=="html")?(point.x+_1676-dim.width):point.x,point.y,"start",text,_1663,_1665));}}k++;}this.chart.seriesShapes={};for(i=this.series.length-1;i>=0;i--){_1678=this.series[i];run=_1678.data;if(run!==null){var _1681=[],_1682=[];k=0;for(key in run){data=this.datas[key];min=data.min;max=data.max;_1679=max-min;var entry=run[key],end=start+2*Math.PI*k/len;point=this._getCoordinate(_167a,r*(ro+(1-ro)*(entry-min)/_1679),end,dim);_1681.push(point);_1682.push({sname:_1678.name,key:key,data:entry});k++;}_1681[_1681.length]=_1681[0];_1682[_1682.length]=_1682[0];var _1683=this._getBoundary(_1681),theme=t.next("spider",[o,_1678]),ts=_1678.group,f=g.normalizeColor(theme.series.fill),sk={color:theme.series.fill,width:_166b};f.a=o.seriesFillAlpha;_1678.dyn={fill:f,stroke:sk};var osps=this.oldSeriePoints[_1678.name];var cs=this._createSeriesEntry(ts,(osps||_1670),_1681,f,sk,r,ro,ms,at);this.chart.seriesShapes[_1678.name]=cs;this.oldSeriePoints[_1678.name]=_1681;var po={element:"spider_poly",index:i,id:"spider_poly_"+_1678.name,run:_1678,plot:this,shape:cs.poly,parent:ts,brect:_1683,cx:_167a.cx,cy:_167a.cy,cr:r,f:f,s:s};this._connectEvents(po);var so={element:"spider_plot",index:i,id:"spider_plot_"+_1678.name,run:_1678,plot:this,shape:_1678.group};this._connectEvents(so);arr.forEach(cs.circles,function(c,i){var co={element:"spider_circle",index:i,id:"spider_circle_"+_1678.name+i,run:_1678,plot:this,shape:c,parent:ts,tdata:_1682[i],cx:_1681[i].x,cy:_1681[i].y,f:f,s:s};this._connectEvents(co);},this);}}return this;},_createSeriesEntry:function(ts,osps,sps,f,sk,r,ro,ms,at){var spoly=ts.createPolyline(osps).setFill(f).setStroke(sk),_1684=[];for(var j=0;j<osps.length;j++){var point=osps[j],cr=ms;var _1685=ts.createCircle({cx:point.x,cy:point.y,r:cr}).setFill(f).setStroke(sk);_1684.push(_1685);}var anims=arr.map(sps,function(np,j){var sp=osps[j],anim=new _165a.Animation({duration:1000,easing:at,curve:[sp.y,np.y]});var spl=spoly,sc=_1684[j];hub.connect(anim,"onAnimate",function(y){var _1686=spl.getShape();_1686.points[j].y=y;spl.setShape(_1686);var _1687=sc.getShape();_1687.cy=y;sc.setShape(_1687);});return anim;});var _1688=arr.map(sps,function(np,j){var sp=osps[j],anim=new _165a.Animation({duration:1000,easing:at,curve:[sp.x,np.x]});var spl=spoly,sc=_1684[j];hub.connect(anim,"onAnimate",function(x){var _1689=spl.getShape();_1689.points[j].x=x;spl.setShape(_1689);var _168a=sc.getShape();_168a.cx=x;sc.setShape(_168a);});return anim;});var _168b=_165b.combine(anims.concat(_1688));_168b.play();return {group:ts,poly:spoly,circles:_1684};},plotEvent:function(o){if(o.element=="spider_plot"){if(o.type=="onmouseover"&&!has("ie")){o.shape.moveToFront();}}},tooltipFunc:function(o){if(o.element=="spider_circle"){return o.tdata.sname+"<br/>"+o.tdata.key+"<br/>"+o.tdata.data;}else{return null;}},_getBoundary:function(_168c){var xmax=_168c[0].x,xmin=_168c[0].x,ymax=_168c[0].y,ymin=_168c[0].y;for(var i=0;i<_168c.length;i++){var point=_168c[i];xmax=Math.max(point.x,xmax);ymax=Math.max(point.y,ymax);xmin=Math.min(point.x,xmin);ymin=Math.min(point.y,ymin);}return {x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin};},_drawArrow:function(s,start,end,_168d){var len=Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2)),sin=(end.y-start.y)/len,cos=(end.x-start.x)/len,_168e={x:end.x+(len/3)*(-sin),y:end.y+(len/3)*cos},_168f={x:end.x+(len/3)*sin,y:end.y+(len/3)*(-cos)};s.createPolyline([start,_168e,_168f]).setFill(_168d.color).setStroke(_168d);},_buildPoints:function(_1690,count,_1691,_1692,angle,_1693,dim){for(var i=0;i<count;i++){var end=angle+2*Math.PI*i/count;_1690.push(this._getCoordinate(_1691,_1692,end,dim));}if(_1693){_1690.push(this._getCoordinate(_1691,_1692,angle+2*Math.PI,dim));}},_getCoordinate:function(_1694,_1695,angle,dim){var x=_1694.cx+_1695*Math.cos(angle);if(has("dojo-bidi")&&this.chart.isRightToLeft()&&dim){x=dim.width-x;}return {x:x,y:_1694.cy+_1695*Math.sin(angle)};},_getObjectLength:function(obj){var count=0;if(lang.isObject(obj)){for(var key in obj){count++;}}return count;},_getLabel:function(_1696){return dc.getLabel(_1696,this.opt.fixed,this.opt.precision);}});return _165f;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_1697,dom,has,_1698){var _1699=_1697("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}cancelled=e.defaultPrevented;if(!cancelled&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _169a=_1698.byNode(node);if(_169a&&typeof _169a._onSubmit=="function"){_169a._onSubmit(e);e.preventDefault();cancelled=true;break;}}}return !cancelled;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_169b){this._set("label",_169b);var _169c=this.containerNode||this.focusNode;_169c.innerHTML=_169b;}});if(has("dojo-bidi")){_1699=_1697("dijit.form._ButtonMixin",_1699,{_setLabelAttr:function(){this.inherited(arguments);var _169d=this.containerNode||this.focusNode;this.applyTextDir(_169d);}});}return _1699;});},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,lang,_169e,_169f,_16a0){var Path=_169e("dojox.gfx.path.Path",_16a0.Shape,{constructor:function(_16a1){this.shape=lang.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_16a1;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_169f=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_169f);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_169f.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_16a2,_16a3){var n=_16a2.args,l=n.length,i;switch(_16a2.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_16a3);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_16a3);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_16a3);}this.last.y=n[l-1];this.absolute=true;break;case "m":var start=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_16a3);start=2;}for(i=start;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_16a3);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_16a3);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_16a3);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_16a3);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_16a3);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_16a3);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_16a3);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_16a3);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_16a3);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_16a3);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_16a3);}this.absolute=false;break;}var path=[_16a2.action];for(i=0;i<l;++i){path.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{Array.prototype.push.apply(this.shape.path,path);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_16a4,args){this.tbbox=null;var group=this._validSegments[_16a4.toLowerCase()],_16a5;if(typeof group=="number"){if(group){if(args.length>=group){_16a5={action:_16a4,args:args.slice(0,args.length-args.length%group)};this.segments.push(_16a5);this._updateWithSegment(_16a5);}}else{_16a5={action:_16a4,args:[]};this.segments.push(_16a5);this._updateWithSegment(_16a5);}}},_collectArgs:function(array,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){array.push(t?1:0);}else{if(typeof t=="number"){array.push(t);}else{if(t instanceof Array){this._collectArgs(array,t);}else{if("x" in t&&"y" in t){array.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=lang.isArray(path)?path:path.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _16a6="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_16a6){this._pushSegment(_16a6,args);}args=[];_16a6=t;}else{args.push(x);}}this._pushSegment(_16a6,args);},setShape:function(_16a7){this.inherited(arguments,[typeof _16a7=="string"?{path:_16a7}:_16a7]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _16a8=_169e("dojox.gfx.path.TextPath",Path,{constructor:function(_16a9){if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_16aa){this.text=g.makeParameters(this.text,typeof _16aa=="string"?{text:_16aa}:_16aa);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_16ab){this.fontStyle=typeof _16ab=="string"?g.splitFontString(_16ab):g.makeParameters(g.defaultFont,_16ab);this._setFont();return this;}});return g.path={Path:Path,TextPath:_16a8};});},"viewer/object/data/Trend":function(){define(["dojo/_base/declare","../_base","dojo/text!./trend.html"],function(_16ac,_16ad,_16ae){return _16ac("viewer.object.data.Trend",_16ad,{templateString:_16ae});});},"viewer/server/Expression":function(){define(["dojo/_base/declare"],function(_16af){return _16af("viewer.server.Expression",null,{id:null,_value:null,_dataType:null,_quality:null,_prop:"",constructor:function(id,prop){this.id=id;this._prop=prop;},setValue:function(v,_16b0,_16b1){this._value=v;this._dataType=_16b0;this._quality=window.sma.showError?_16b1:192;this.onChange();},getValue:function(){return this._value;},onChange:function(){return {propName:this._prop,value:this._value,id:this.id,dataType:this._dataType,quality:this._quality};}});});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_16b2,_16b3){if(_16b3["mblCSS3Transition"]){var _16b4=new _16b2();require([_16b3["mblCSS3Transition"]],function(_16b5){_16b4.resolve(_16b5);});return _16b4;}return null;});},"viewer/object/libraries/LinkedPicture":function(){define(["dojo/_base/declare","../_base","../../misc/enums","../../misc/gui/helpers/image","dojo/text!./linkedPicture.html"],function(_16b6,_16b7,enums,_16b8,_16b9){return _16b6("viewer.object.libraries.LinkedPicture",_16b7,{templateString:_16b9,_componentType:enums.EnumComponentType.CANVAS,_baseImg:null,_canvasContext:null,_transparency:null,_imageMap:[],_transparencyAdjust:null,_hasTransparentColor:null,settings:null,picturePath:null,transparentColor:null,colorCodeTagExpression:null,transparentColorTrackerPoint:null,buildRendering:function(){var self;self=this;this.inherited(arguments);this._transparency={r:0,g:0,b:0};this._canvasContext=this._xComponent.getContext("2d");this._baseImg=new Image();this._baseImg.onload=function(){self._draw();};this._transparencyAdjust={t:this._attr.position.top,l:this._attr.position.left};this._hasTransparentColor=(typeof this._attr.hasTransparentColor!="undefined")?this._attr.hasTransparentColor:false;if(this._attr.rotateActionList!=null&&this._attr.rotateActionList.split!=null){var _16ba=this._attr.rotateActionList.split(",");var _16bb="";for(var i=0;i<_16ba.length;i++){switch(_16ba[i]){case "1":_16bb+="rotate(90deg) ";break;case "2":_16bb+="scaleX(-1) ";break;case "4":_16bb+="scaleY(-1) ";break;default:break;}}this._guiHelper.setTransform(this.domNode,_16bb);}},_draw:function(){var data;data=null;if(!this._baseImg||!this._baseImg.src){return;}switch(this._attr.transparentColor){case enums.EnumLinkedPictureTranparencyColor.COLOR_CODE:case enums.EnumLinkedPictureTranparencyColor.ArchestrAColorCode:if(typeof this.colorCodeTagExpression!="string"){return;}data=this.colorCodeTagExpression;break;case enums.EnumLinkedPictureTranparencyColor.TRACKER:data={"x":0,"y":0};data.x=parseInt(this._attr.transparentColorTrackerPoint.x)-parseInt(this._transparencyAdjust.l);data.y=parseInt(this._attr.transparentColorTrackerPoint.y)-parseInt(this._transparencyAdjust.t);if(this._attr.tranparentColorNum){var rgb=this._attr.transparentColorNum;data.colorNum={"r":0,"g":0,"b":0};rgb=rgb.replace(/[^\d,]/g,"").split(",");data.colorNum.r=rgb[0];data.colorNum.g=rgb[1];data.colorNum.b=rgb[2];}break;}var _16bc;var hr;var vr;var max=100;var _16bd;var _16be;var _16bf;var _16c0;if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){_16bf=this._attr.border.borderType;}if(this._attr.background){_16bc=this._attr.background.color;}if(typeof (this._attr._animations)!=="undefined"&&hr!==null){if(typeof (this._attr._animations.fillPercent)!=="undefined"&&typeof (this._attr._animations.fillPercent._animProps)!=="undefined"){hr=this._attr._animations.fillPercent._animProps.tagExpressionH;vr=this._attr._animations.fillPercent._animProps.tagExpressionV;_16be=this._attr._animations.fillPercent._animProps.directionH;_16bd=this._attr._animations.fillPercent._animProps.directionV;_16c0=this._attr._animations.fillPercent._animProps.unFillPercentColor.color;}}else{hr=max;vr=max;this._canvasContext.fillStyle=_16bc;}this.settings={"cContext":this._canvasContext,"img":this._baseImg,"size":this._attr.size,"transparencyType":this._attr.transparentColor,"data":data,"path":this.picturePath,"fillColor":_16bc,"style":this._attr.imageStyle,"imgwidth":this._baseImg.width,"imgheight":this._baseImg.height,"align":this._attr.imageAlignment,"hr":hr,"vr":vr,"dirvertical":_16bd,"dirhorizantal":_16be,"bordertype":_16bf,"unfillcolor":_16c0,"engine":this._attr.engine};if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(_16bf==="SolidLine"){this._canvasContext.setLineDash([]);}if(_16bf==="DotsLine"){this._canvasContext.setLineDash([5,5]);}if(_16bf==="LongDashLine"){this._canvasContext.setLineDash([20,5]);}if(_16bf==="ShortDashLine"){this._canvasContext.setLineDash([10,10]);}if(_16bf==="DashDotDashLine"){this._canvasContext.setLineDash([15,3,3,3]);}if(_16bf==="DashDotDotDashLine"){this._canvasContext.setLineDash([20,10,5,5,5,10]);}this._canvasContext.fillStyle=_16bc;this._canvasContext.globalCompositeOperation="destination-over";this._canvasContext.canvas.style.backgroundColor=_16c0;}else{this._canvasContext.canvas.style.backgroundColor=_16bc;}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._canvasContext.lineWidth=this._attr.border.width;this._canvasContext.strokeStyle=this._attr.border.color;}_16b8.draw(this.settings);if(this._attr.rotateActionList!=undefined&&this._attr.rotateActionList!=null&&this._attr.rotateActionList.split!=null){var _16c1=this._attr.rotateActionList.split(",");var _16c2="";for(var i=0;i<_16c1.length;i++){switch(_16c1[i]){case "1":_16c2+="rotate(90deg) ";break;case "2":_16c2+="scaleY(-1) ";break;case "4":_16c2+="scaleX(-1) ";break;case "255":_16c2+="rotate(270deg) ";default:break;}}this._guiHelper.setTransform(this.domNode,_16c2);}},_updateStyles:function(_16c3,_16c4,_16c5){this.inherited(arguments);if(this._hasTransparentColor){var _16c6=!this._attr.background?null:this._attr.background.color;this.settings.transparencyType=enums.EnumLinkedPictureTranparencyColor.ArchestrAColorCode;this.settings.fillColor=this._getCurFillColor().color;if(this.settings.fillColor!=_16c6){_16b8.draw(this.settings);}}},_setProHasTransparentColorAttr:function(v){if(v!=null&&v!=""){var _16c7=this._convertToBool(v);if(_16c7!=this._hasTransparentColor){this._hasTransparentColor=_16c7;if(this._hasTransparentColor){var _16c8=this._getCurFillColor();this.settings.transparencyType=enums.EnumLinkedPictureTranparencyColor.ArchestrAColorCode;this.settings.fillColor=(_16c8&&_16c8.color)?_16c8.color:this._attr.background.color;this.settings.data=this.colorCodeTagExpression;}else{this.settings.transparencyType=enums.EnumLinkedPictureTranparencyColor.NONE;this.settings.data=this.colorCodeTagExpression;}_16b8.draw(this.settings);}}},_setcolorcodetagexpressionAttr:function(v){this.colorCodeTagExpression=v;this._draw();},_setTransparentColorCodeAttr:function(v){this.colorCodeTagExpression=v;this._draw();},_setPicturePathAttr:function(v){this.picturePath=v;if(this.isExpressionId(this.picturePath)===false){this._baseImg.src=_16b8.load(this.picturePath);}},_setTopAttr:function(v){this.inherited(arguments);this._draw();},_setLeftAttr:function(v){this.inherited(arguments);this._draw();},_set_attrAttr:function(value){this.inherited(arguments);if(this._attr.transparentColorCode){this._setTransparentColorCodeAttr(this._attr.transparentColorCode);}}});});},"viewer/animation/Resize":function(){define(["dojo/_base/declare","./_base","../misc/enums"],function(_16c9,_16ca,enums){return _16c9("viewer.animation.Resize",_16ca,{_updateH:true,_updateV:true,_scaleX:1,_scaleY:1,_originX:50,_originY:50,constructor:function(_16cb,_16cc){this.inherited(arguments);},_horExpProc:function(){if(!this._updateH){return;}var _16cd,min,max,start,end;_16cd=parseFloat(this._animProps.horizontalTagExpression);min=parseFloat(this._animProps.horizontalValueRangeFrom);max=parseFloat(this._animProps.horizontalValueRangeTo);start=parseFloat(this._animProps.horizontalFrom);end=parseFloat(this._animProps.horizontalTo);this._scaleX=100;if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&(min>max)){if(_16cd>min){_16cd=min;}else{if(_16cd<max){_16cd=max;}}}else{if(_16cd>max){_16cd=max;}else{if(_16cd<min){_16cd=min;}}}if(min!=max){this._scaleX=((end-start)*(_16cd-min)/(max-min));}this._scaleX+=start;this._scaleX=this._scaleX/100;switch(this._animProps.horizontalReference){case enums.EnumAlignHorizontal.LEFT:this._originX=0;break;case enums.EnumAlignHorizontal.CENTER:this._originX=50;break;case enums.EnumAlignHorizontal.RIGHT:this._originX=100;break;}this._applyTransforms();this._updateH=false;},_verExpProc:function(){if(!this._updateV){return;}var _16ce,min,max,start,end;_16ce=parseFloat(this._animProps.verticalTagExpression);min=parseFloat(this._animProps.verticalValueRangeFrom);max=parseFloat(this._animProps.verticalValueRangeTo);start=parseFloat(this._animProps.verticalFrom);end=parseFloat(this._animProps.verticalTo);this._scaleY=100;if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&(min>max)){if(_16ce>min){_16ce=min;}else{if(_16ce<max){_16ce=max;}}}else{if(_16ce>max){_16ce=max;}else{if(_16ce<min){_16ce=min;}}}if(min!=max){this._scaleY=((end-start)*(_16ce-min)/(max-min));}this._scaleY+=start;this._scaleY=this._scaleY/100;switch(this._animProps.verticalReference){case enums.EnumAlignVertical.TOP:this._originY=0;break;case enums.EnumAlignVertical.CENTER:this._originY=50;break;case enums.EnumAlignVertical.BOTTOM:this._originY=100;break;}this._applyTransforms();this._updateV=false;},_applyTransforms:function(){var _16cf;if(isNaN(this._scaleX)){this._scaleX=1;}if(isNaN(this._scaleY)){this._scaleY=1;}_16cf=this._widget.getGUIHelper();_16cf.applyOrigin(this._widget.domNode,{"x":this._originX+"%","y":this._originY+"%"});var _16d0={"scale":"("+this._scaleX+","+this._scaleY+")"};_16cf.applyTransform(this._widget.domNode,_16d0);},_updateExpressions:function(ret){this.inherited(arguments);if(ret.propName.indexOf("horizontal")===0){this._updateH=true;}else{if(ret.propName.indexOf("vertical")===0){this._updateV=true;}}},_execUpdate:function(){this._horExpProc();this._verExpProc();}});});},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(dojo){dojo.getObject("xml.parser",true,dojox);dojox.xml.parser.parse=function(str,_16d1){var _16d2=dojo.doc;var doc;_16d1=_16d1||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _16d3=new DOMParser();doc=_16d3.parseFromString(str,_16d1);var de=doc.documentElement;var _16d4="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_16d4){var _16d5=de.getElementsByTagNameNS(_16d4,"sourcetext")[0];if(_16d5){_16d5=_16d5.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_16d5);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_16d2.implementation&&_16d2.implementation.createDocument){if(str&&dojo.trim(str)&&_16d2.createElement){var tmp=_16d2.createElement("xml");tmp.innerHTML=str;var _16d6=_16d2.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(child){_16d6.importNode(child,true);});return _16d6;}else{return _16d2.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _16d7=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_16d7.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _16d8="";if(node){dojo.forEach(node.childNodes,function(child){switch(child.nodeType){case 1:case 5:_16d8+=dojox.xml.parser.textContent(child);break;case 3:case 2:case 4:_16d8+=child.nodeValue;}});}return _16d8;}};dojox.xml.parser.replaceChildren=function(node,_16d9){var nodes=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(child){nodes.push(child);});}dojox.xml.parser.removeChildren(node);dojo.forEach(nodes,dojo.destroy);if(!dojo.isArray(_16d9)){node.appendChild(_16d9);}else{dojo.forEach(_16d9,function(child){node.appendChild(child);});}};dojox.xml.parser.removeChildren=function(node){var count=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return count;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};return dojox.xml.parser;});},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","./common"],function(lang,_16da){var _16db=lang.getObject("dojox.charting.plot2d.commonStacked",true);return lang.mixin(_16db,{collectStats:function(_16dc){var stats=lang.delegate(_16da.defaultStats);for(var i=0;i<_16dc.length;++i){var run=_16dc[i];for(var j=0;j<run.data.length;j++){var x,y;if(run.data[j]!==null){if(typeof run.data[j]=="number"||!run.data[j].hasOwnProperty("x")){y=_16db.getIndexValue(_16dc,i,j)[0];x=j+1;}else{x=run.data[j].x;if(x!==null){y=_16db.getValue(_16dc,i,x)[0];y=y!=null&&y.y?y.y:null;}}stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,y);stats.vmax=Math.max(stats.vmax,y);}}}return stats;},getIndexValue:function(_16dd,i,index){var value=0,v,j,_16de;for(j=0;j<=i;++j){_16de=value;v=_16dd[j].data[index];if(v!=null){if(isNaN(v)){v=v.y||0;}value+=v;}}return [value,_16de];},getValue:function(_16df,i,x){var value=null,j,z,v,_16e0;for(j=0;j<=i;++j){for(z=0;z<_16df[j].data.length;z++){_16e0=value;v=_16df[j].data[z];if(v!==null){if(v.x==x){if(!value){value={x:x};}if(v.y!=null){if(value.y==null){value.y=0;}value.y+=v.y;}break;}else{if(v.x>x){break;}}}}}return [value,_16e0];}});});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_16e1,_16e2){var _16e3=_16e2.prototype.onMove;return _16e1("dojo.dnd.TimedMoveable",_16e2,{timeout:40,constructor:function(node,_16e4){if(!_16e4){_16e4={};}if(_16e4.timeout&&typeof _16e4.timeout=="number"&&_16e4.timeout>=0){this.timeout=_16e4.timeout;}},onMoveStop:function(mover){if(mover._timer){clearTimeout(mover._timer);_16e3.call(this,mover,mover._leftTop);}_16e2.prototype.onMoveStop.apply(this,arguments);},onMove:function(mover,_16e5){mover._leftTop=_16e5;if(!mover._timer){var _16e6=this;mover._timer=setTimeout(function(){mover._timer=null;_16e3.call(_16e6,mover,mover._leftTop);},this.timeout);}}});});},"viewer/misc/gui/InputWindow":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputWindow.html","./helpers/css"],function(_16e7,_16e8,_16e9,_16ea){return _16e7("viewer.misc.gui.InputWindow",_16e8,{templateString:_16e9,inputEvent:null,onWrite:null,onCancel:null,mask:null,_passwordType:false,_msg:"Obeject Hint",_textComponent:null,currentValue:null,range:null,startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;if((this.multiLine&&!this.range)||(this.multiLine&&this.range&&!this.range.isNumeric)){this._textComponent=this._txtAreaField;this._txtField.parentNode.removeChild(this._txtField);}else{this._textComponent=this._txtField;this._txtAreaField.parentNode.removeChild(this._txtAreaField);dojo.connect(this._textComponent,"keyup",this._validateInput.bind(this));}this.inherited(arguments);if(this._passwordType){this._textComponent.setAttribute("type","password");if(this._minField.value){this.range=null;}}dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});if(this.mask){_16ea.setAttr(this._textComponent,"maxlength",this.mask.length);}if(this.currentValue){this._textComponent.value=this.currentValue;}this._textComponent.focus();if(dojo.isIos){setTimeout(function(){var _16eb=this._textComponent.type;this._textComponent.type="text";this._textComponent.selectionStart=0;this._textComponent.selectionEnd=this._textComponent.value.length;this._textComponent.type=_16eb;}.bind(this),300);}else{this._textComponent.select();}dojo.fadeIn({node:this._dlgContent,duration:100}).play();if(!this._msg){this._dlgContent.removeChild(this._dlgMessage.parentNode);}if(!this.range){this._minFieldContainer.parentNode.removeChild(this._minFieldContainer);this._maxFieldContainer.parentNode.removeChild(this._maxFieldContainer);}this._reset();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.multiLine||this._validateInput()){this._reset();if(this.onWrite){this.onWrite(this._textComponent.value);}}},_onKeyPress:function(evt){switch(evt.keyCode){case 13:break;case 27:this.close();break;}},_setMessageAttr:function(msg){this._msg=msg;},_setMessageErrorAttr:function(msg){this._dlgMessage.innerHTML=msg;dojo.removeClass(this._icoWarning,"viewer-style-common-invisible");},_reset:function(){this._dlgMessage.innerHTML=this._msg;dojo.addClass(this._icoWarning,"viewer-style-common-invisible");},_setPasswordTypeAttr:function(_16ec){this._passwordType=_16ec;},setRequired:function(_16ed){if(_16ed){_16ea.setAttr(this._txtField,"required","true");}},setTypeAndRangeAttr:function(opts){this.range={};if(opts&&opts.isNumeric){this.range.isNumeric=true;_16ea.setAttr(this._txtField,"type","number");_16ea.setAttr(this._txtField,"step","any");this.setRequired(true);if((!(opts.min===null)&&!(opts.max===null))&&(!(isNaN(opts.min))&&!(isNaN(opts.max)))){this._minField.value=opts.min;this._maxField.value=opts.max;_16ea.setAttr(this._txtField,"min",opts.min);_16ea.setAttr(this._txtField,"max",opts.max);return;}}this._minFieldContainer.parentNode.removeChild(this._minFieldContainer);this._maxFieldContainer.parentNode.removeChild(this._maxFieldContainer);},_validateInput:function(evt){var _16ee;if((!this.multiLine||this.range.isNumeric)&&evt&&evt.keyCode===13){this._ok();}if(!this._txtField.validity.valid){dojo.style(this._txtField,"border","2px solid red");_16ea.setAttr(this._okBtn,"disabled",true);_16ee=false;}else{this._okBtn.disabled=false;dojo.style(this._txtField,"border","");_16ee=true;}return _16ee;}});});},"ma/util/UserActivityMonitor":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","viewer/server/serverEvents"],function(_16ef,on,touch,_16f0){return _16ef("ma.util.UserActivityMonitor",null,{_body:null,_isIdle:true,_clickHandle:null,_mousemoveHandle:null,_keypressHandle:null,_touchPressHandle:null,_touchMoveHandle:null,_touchReleaseHandle:null,_touchCancelHandle:null,_interval:null,_onUserAction:function(evt){},constructor:function(body){var self=this;self._body=body;self._onUserAction=function(evt){self._isIdle=false;};},startMonitoring:function(){var self=this;if(this._body){if(!this._clickHandle){this._clickHandle=on(this._body,"click",self._onUserAction);}if(!this._mousemoveHandle){this._mousemoveHandle=on(this._body,"keypress",self._onUserAction);}if(!this._keypressHandle){this._keypressHandle=on(this._body,"mousemove",self._onUserAction);}if(!this._keypressHandle){this._keypressHandle=on(this._body,"mousemove",self._onUserAction);}if(!this._touchPressHandle){this._touchPressHandle=on(this._body,touch.press,self._onUserAction);}if(!this._touchMoveHandle){this._touchMoveHandle=on(this._body,touch.move,self._onUserAction);}if(!this._touchReleaseHandle){this._touchReleaseHandle=on(this._body,touch.release,self._onUserAction);}if(!this._touchCancelHandle){this._touchCancelHandle=on(this._body,touch.cancel,self._onUserAction);}if(this._interval===null){this._interval=setInterval(function(){var _16f1=null;if(services){_16f1=services.checkIdle(self._isIdle);_16f0.parseResult(_16f1);}self._isIdle=true;},20000);}}},stopMonitoring:function(){if(this._interval!=null){clearInterval(this._interval);this._interval=null;}if(this._clickHandle){this._clickHandle.remove();this._clickHandle=null;}if(this._mousemoveHandle){this._mousemoveHandle.remove();this._mousemoveHandle=null;}if(this._keypressHandle){this._keypressHandle.remove();this._keypressHandle=null;}if(this._touchPressHandle){this._touchPressHandle.remove();this._touchPressHandle=null;}if(this._touchMoveHandle){this._touchMoveHandle.remove();this._touchMoveHandle=null;}if(this._touchReleaseHandle){this._touchReleaseHandle.remove();this._touchReleaseHandle=null;}if(this._touchCancelHandle){this._touchCancelHandle.remove();this._touchCancelHandle=null;}}});});},"ma/view/Menu":function(){define(["dojo/_base/declare","dojo/parser","dojo/touch","./_base","./Tags","./Alarm","./Trend","./ScreenBrowser","./AlarmConf","./TrendConf","dojo/text!./templates/menu.html","dojox/mobile/ToolBarButton"],function(_16f2,_16f3,touch,Base,Tags,Alarm,Trend,_16f4,_16f5,_16f6,_16f7){return _16f2("ma.view.Menu",Base,{templateString:_16f7,maTrend:null,maAlarm:null,maScreenBrowser:null,maTags:null,maAlarmConf:null,maTrendConf:null,dijitViewButton:null,dijitComment:null,onReturnClicked:null,ackAllMode:false,viewState:null,viewArea:null,toogleLegend:null,settingsButton:null,toogleCursor:null,ackSelection:null,ackAll:null,writeTagOk:null,writeTagCancel:null,constructor:function(){},startup:function(){this.inherited(arguments);_16f3.parse(this.containerMenu);var tmp=dijit.byId("_x_tabView_menu_view");dojo.connect(tmp,"onAfterTransitionIn",this,this.onShowView);tmp=dijit.byId("_x_tabView_menu_conf");dojo.connect(tmp,"onAfterTransitionIn",this,this.onShowConf);tmp=dijit.byId("_x_tabView_menu_colapse_trend_legend");dojo.connect(tmp,"onClick",this,this.ToggleTrendView);this.toogleLegend=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_colapse_trend_cursor");dojo.connect(tmp,"onClick",this,this.ToggleTrendCursor);this.toogleCursor=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_back_button");dojo.connect(tmp,"onClick",this,this.ReturnClicked);tmp=dijit.byId("_x_tabView_menu_ack_confirm_button");dojo.connect(tmp,"onClick",this,this.ConfirmAckClicked);tmp=dijit.byId("_x_tabView_menu_settings");this.settingsButton=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_ackSel");dojo.connect(tmp,"onClick",this,this.AckSelClicked);this.ackSelection=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_ackAll");dojo.connect(tmp,"onClick",this,this.AckAllClicked);this.ackAll=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_write_tag_ok");dojo.connect(tmp,"onClick",this,this.WriteTagOkClicked);this.writeTagOk=tmp.domNode;tmp=dijit.byId("_x_tabView_menu_write_tag_cancel");dojo.connect(tmp,"onClick",this,this.WriteTagCancelClicked);this.writeTagCancel=tmp.domNode;var img=dojo.query("img",dojo.byId("_x_tabView_menu_back_button"));dojo.attr(img[0],"width","24");dojo.attr(img[0],"height","24");this.dijitComment=dojo.byId("_x_tabView_menu_ack_comment");var _16f8=dojo.byId("_x_tabView_menu_loading_box");if(_16f8){dojo.connect(_16f8,touch.press,dojo.hitch(this,this.LoadProcEvent));dojo.connect(_16f8,touch.release,dojo.hitch(this,this.LoadProcEvent));dojo.connect(_16f8,touch.cancel,dojo.hitch(this,this.LoadProcEvent));dojo.connect(_16f8,touch.move,dojo.hitch(this,this.LoadProcEvent));}},MakeLayout:function(){this.inherited(arguments);var _16f9=this.getHeight();var width=this.getWidth();if(_16f9<0||width<0){return;}if(this.containerMenu!=null){dojo.style(this.containerMenu,"height","200px");dojo.style(this.containerMenu,"width",width+"px");}if(this.maAlarm!=null){dojo.style(this.maAlarm.domNode,"height",_16f9+"px");dojo.style(this.maAlarm.domNode,"width",width+"px");}if(this.maTrend!=null&&this.maTrend.domNode!=null){dojo.style(this.maTrend.domNode,"height",_16f9+"px");dojo.style(this.maTrend.domNode,"width",width+"px");}if(this.maScreenBrowser!=null&&this.maScreenBrowser.domNode!=null){dojo.style(this.maScreenBrowser.domNode,"height",_16f9+"px");dojo.style(this.maScreenBrowser.domNode,"width",width+"px");}if(this.maAlarmConf!=null&&this.maAlarmConf.domNode!=null){dojo.style(this.maAlarmConf.domNode,"height",_16f9+"px");dojo.style(this.maAlarmConf.domNode,"width",width+"px");}if(this.maTrendConf!=null&&this.maTrendConf.domNode!=null){dojo.style(this.maTrendConf.domNode,"height",_16f9+"px");dojo.style(this.maTrendConf.domNode,"width",width+"px");}if(this.maTags!=null&&this.maTags.domNode!=null){dojo.style(this.maTags.domNode,"height",_16f9+"px");dojo.style(this.maTags.domNode,"width",width+"px");}if(this.dijitComment){dojo.style(this.dijitComment,"height",(_16f9*0.95)+"px");dojo.style(this.dijitComment,"width",(width*0.99)+"px");dojo.style(this.dijitComment,"top",(_16f9*0.025)+"px");dojo.style(this.dijitComment,"left",(width*0.005)+"px");}if(this.maTrend!=null){this.maTrend.Resize();}if(this.maScreenBrowser!=null){this.maScreenBrowser.Resize();}if(this.maTags!=null){this.maTags.Resize();}},ReturnClicked:function(){this.HideViews();if(this.onReturnClicked!=null){this.onReturnClicked.call();}},AckAllClicked:function(){this.ackAllMode=true;dojo.attr("_x_tabView_menu_ack_comment","value","");},AckSelClicked:function(){this.ackAllMode=false;dojo.attr("_x_tabView_menu_ack_comment","value","");},ConfirmAckClicked:function(){var _16fa=dojo.attr("_x_tabView_menu_ack_comment","value");this.maAlarm.PerformAck(this.ackAllMode,_16fa);},WriteTagOkClicked:function(){this.maTags.SetValue();},WriteTagCancelClicked:function(){this.maTags.CancelSetValue();},ToggleTrendView:function(){this.maTrend.ToggleView();},ToggleTrendCursor:function(){this.maTrend.ToggleCursor();},SetViewType:function(eType,area){dojo.style(this.ackSelection,"display","none");dojo.style(this.ackAll,"display","none");dojo.style(this.writeTagOk,"display","none");dojo.style(this.writeTagCancel,"display","none");dojo.style(this.toogleLegend,"display","none");dojo.style(this.toogleCursor,"display","none");dojo.style(this.settingsButton,"display","none");while(this.viewContainer.firstChild){this.viewContainer.removeChild(this.viewContainer.firstChild);}this.HideViews();dojo.style(dojo.body(),"-ms-touch-action","none");this.viewState=eType;this.viewArea=area;switch(this.viewState){case EnumMosaicType.TREND:if(!this.maTrend){div=document.createElement("div");this.maTrend=new Trend({},div);dojo.connect(this.maTrend,"onChangePlay",this,function(play){if(play){dojo.style(this.toogleCursor,"display","none");}else{dojo.style(this.toogleCursor,"display","block");}});this.maTrend.startup();}dojo.style(this.settingsButton,"display","block");dojo.style(this.toogleLegend,"display","block");dojo.style(this.toogleCursor,"display","block");this.viewContainer.appendChild(this.maTrend.domNode);this.maTrend.Show(this.viewArea);break;case EnumMosaicType.ALARM:if(!this.maAlarm){div=document.createElement("div");this.maAlarm=new Alarm({},div);this.maAlarm.startup();}dojo.style(this.settingsButton,"display","block");dojo.style(this.ackSelection,"display","block");dojo.style(this.ackAll,"display","block");this.viewContainer.appendChild(this.maAlarm.domNode);this.maAlarm.Show(this.viewArea);break;case EnumMosaicType.SCREEN:dojo.style(this.toogleLegend,"display","none");dojo.style(this.toogleCursor,"display","none");dojo.style(this.settingsButton,"display","none");if(!this.maScreenBrowser){div=document.createElement("div");this.maScreenBrowser=new _16f4({},div);this.maScreenBrowser.startup();}this.viewContainer.appendChild(this.maScreenBrowser.domNode);this.maScreenBrowser.Show(this.viewArea);break;case EnumMosaicType.TAGS:dojo.style(this.toogleLegend,"display","none");dojo.style(this.toogleCursor,"display","none");dojo.style(this.settingsButton,"display","none");if(!this.maTags){div=document.createElement("div");this.maTags=new Tags({},div);this.maTags.startup();}this.viewContainer.appendChild(this.maTags.domNode);this.maTags.Show(this.viewArea);break;}},onShow:function(){this.inherited(arguments);},onShowView:function(){switch(this.viewState){case EnumMosaicType.TREND:dojo.style(this.settingsButton,"display","block");this.maTrend.FinishTransition();break;case EnumMosaicType.ALARM:dojo.style(this.settingsButton,"display","block");this.maAlarm.FinishTransition();break;case EnumMosaicType.SCREEN:dojo.style(this.settingsButton,"display","none");break;case EnumMosaicType.TAGS:break;}},onShowConf:function(){switch(this.viewState){case EnumMosaicType.TREND:if(!this.maTrendConf){this.maTrendConf=new _16f6({},this.trendConfContainer);this.maTrendConf.startup();}this.maTrendConf.Show(this.viewArea);break;case EnumMosaicType.ALARM:if(!this.maAlarmConf){this.maAlarmConf=new _16f5({columns:this.maAlarm.columns},this.alarmConfContainer);this.maAlarmConf.startup();}this.maAlarmConf.Show(this.viewArea);break;case EnumMosaicType.SCREEN:break;case EnumMosaicType.TAGS:break;}},HideViews:function(){dojo.style(dojo.body(),"-ms-touch-action","auto");if(this.maTrend){this.maTrend.Hide();}if(this.maScreenBrowser){this.maScreenBrowser.Hide();}if(this.maAlarm){this.maAlarm.Hide();}if(this.maTags){this.maTags.Hide();}if(this.maAlarmConf){this.maAlarmConf.Hide();}if(this.maTrendConf){this.maTrendConf.Hide();}},LoadProcEvent:function(evt){dojo.stopEvent(evt);}});});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,mouse,on,touch){function _16fb(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _16fc;on(document,"keydown",function(e){if(_16fb(e)){_16fc=e.target;e.preventDefault();}else{_16fc=null;}});on(document,"keyup",function(e){if(_16fb(e)&&e.target==_16fc){_16fc=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var click=function(node,_16fd){node.dojoClick=true;return on(node,"click",_16fd);};click.click=click;click.press=function(node,_16fe){var _16ff=on(node,touch.press,function(evt){if(evt.type=="mousedown"&&!mouse.isLeft(evt)){return;}_16fe(evt);}),_1700=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_16fe(evt);}});return {remove:function(){_16ff.remove();_1700.remove();}};};click.release=function(node,_1701){var _1702=on(node,touch.release,function(evt){if(evt.type=="mouseup"&&!mouse.isLeft(evt)){return;}_1701(evt);}),_1703=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_1701(evt);}});return {remove:function(){_1702.remove();_1703.remove();}};};click.move=touch.move;return click;});},"dojox/gauges/GlossyCircularGauge":function(){define(["dojo/_base/declare","dojo/_base/Color","./GlossyCircularGaugeBase"],function(_1704,Color,_1705){return _1704("dojox.gauges.GlossyCircularGauge",[_1705],{_designWidth:376.25,_designHeight:382.5,_designCx:187.19173,_designCy:187.81589,_designTextIndicatorX:187.19173,_designTextIndicatorY:267.81589,constructor:function(){this.startAngle=-135;this.endAngle=135;this.min=0;this.max=100;},drawBackground:function(group){var scale=Math.min((this.width/this._designWidth),(this.height/this._designHeight));var _1706={xx:scale,xy:0,yx:0,yy:scale,dx:(-161)*scale+(this.width-scale*this._designWidth)/2,dy:(-263.5)*scale+(this.height-scale*this._designHeight)/2};var _1707=Color.blendColors(new Color(this.color),new Color("white"),0.4);var _1708=Color.blendColors(new Color(this.color),new Color("white"),0.8);if(this._gaugeBackground){this._gaugeBackground.setTransform(_1706);return;}this._gaugeBackground=group.createGroup();this._gaugeBackground.setTransform(_1706);this._gaugeBackground.createPath({path:"M0 0 C0.028 -82.393 -66.741 -149.207 -149.134 -149.235 C-231.526 -149.264 -298.341 -82.494 -298.369 -0.101 L-298.369 0 C-298.397 82.393 -231.627 149.207 -149.235 149.235 C-66.843 149.264 -0.028 82.494 0 0.102 L0 0 Z"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:535.09494,dy:452.53442}).setFill(this.color);this._gaugeBackground.createPath({path:"M451.354 450.434 C451.382 374.317 389.698 312.593 313.581 312.566 C237.464 312.54 175.739 374.224 175.713 450.341 L175.713 450.434 C175.688 526.551 237.372 588.275 313.487 588.302 C389.604 588.327 451.329 526.644 451.354 450.527 L451.354 450.434 Z"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-43.30358,dy:1015.57642}).setFill({type:"linear",x1:175.688,y1:312.54001,x2:175.688,y2:422.85482,colors:[{offset:0,color:_1707},{offset:1,color:this.color}]});this._gaugeBackground.createPath({path:"M451.321 453.375 C449.778 528.175 388.655 588.327 313.491 588.302 C238.359 588.276 177.295 528.135 175.753 453.377 C217.829 442.046 266.246 464.646 315.36 464.646 C364.489 464.646 409.364 442.041 451.321 453.375"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-43.30358,dy:1015.57642}).setFill({type:"linear",x1:175.75301,y1:442.04099,x2:175.75301,y2:588.32703,colors:[{offset:0,color:this.color},{offset:1,color:_1708}]});this._gaugeBackground.createPath({path:"M0 0 C-1.543 74.8 -62.666 134.952 -137.83 134.927 C-212.962 134.901 -274.026 74.76 -275.568 0.002 C-233.492 -11.329 -185.075 11.271 -135.961 11.271 C-86.832 11.271 -41.957 -11.334 0 0"}).setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:520.84441,dy:448.85767}).setFill([255,255,255,0.12157]);},drawForeground:function(group){var scale=Math.min((this.width/this._designWidth),(this.height/this._designHeight));var _1709={xx:scale,xy:0,yx:0,yy:scale,dx:(-160)*scale+(this.width-scale*this._designWidth)/2,dy:(-263.5)*scale+(this.height-scale*this._designHeight)/2};var _170a=Color.blendColors(new Color(this.color),new Color("white"),0.4);var _170b=Color.blendColors(new Color(this.color),new Color("white"),0.8);if(this._foreground){this._foreground.setTransform(_1709);return;}this._foreground=group.createGroup();this._foreground.setTransform(_1709);var _170c=this._foreground.createGroup();_170c.setTransform({xx:1.25,xy:0,yx:0,yy:-1.25,dx:-43.30358,dy:1015.57642});_170c.createPath({path:"M0 0 C0.004 -12.579 -10.189 -22.779 -22.768 -22.784 C-35.349 -22.788 -45.549 -12.594 -45.553 -0.016 L-45.553 0 C-45.558 12.579 -35.363 22.779 -22.783 22.784 C-10.205 22.788 -0.004 12.594 0 0.015 L0 0 Z"}).setTransform({xx:1,xy:0,yx:0,yy:1,dx:336.31049,dy:451.43359}).setFill(this.color);_170c.createPath({path:"M333.443 451.434 C333.446 440.438 324.537 431.523 313.541 431.519 C302.546 431.515 293.63 440.425 293.626 451.42 L293.626 451.434 C293.622 462.429 302.532 471.345 313.527 471.349 C324.523 471.353 333.439 462.442 333.443 451.447 L333.443 451.434 Z"}).setFill({type:"linear",x1:293.62201,y1:431.51501,x2:293.62201,y2:451.43401,colors:[{offset:0,color:_170a},{offset:1,color:this.color}]});_170c.createPath({path:"M333.438 451.858 C333.215 462.663 324.386 471.353 313.528 471.349 C302.675 471.345 293.854 462.658 293.632 451.858 C299.709 450.222 306.702 453.486 313.799 453.486 C320.895 453.486 327.377 450.221 333.438 451.858"}).setFill({type:"linear",x1:293.63199,y1:450.22101,x2:293.63199,y2:471.353,colors:[{offset:0,color:this.color},{offset:1,color:_170b}]});_170c.createPath({path:"M0 0 C-0.223 10.805 -9.052 19.494 -19.909 19.49 C-30.763 19.486 -39.583 10.799 -39.806 0 C-33.729 -1.636 -26.735 1.628 -19.639 1.628 C-12.543 1.628 -6.061 -1.638 0 0"}).setTransform({xx:1,xy:0,yx:0,yy:1,dx:333.4375,dy:451.8584}).setFill([255,255,255,0.12157]);}});});},"dojox/mobile/ProgressIndicator":function(){define(["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3"],function(_170d,_170e,lang,_170f,_1710,_1711,_1712,has,_1713,_1714,css3){var cls=_170e("dojox.mobile.ProgressIndicator",[_1714,_1713],{interval:100,size:40,removeOnStop:true,startSpinning:false,center:true,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[];},buildRendering:function(){this.inherited(arguments);if(this.center){_170f.add(this.domNode,"mblProgressIndicatorCenter");}this.containerNode=_1710.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=_1710.create("div",null,this.containerNode);for(var i=0;i<12;i++){var div=_1710.create("div",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}this.scale(this.size);if(this.startSpinning){this.start();}},scale:function(size){var scale=size/40;_1712.set(this.containerNode,css3.add({},{transform:"scale("+scale+")",transformOrigin:"0 0"}));_1711.setMarginBox(this.domNode,{w:size,h:size});_1711.setMarginBox(this.containerNode,{w:size/scale,h:size/scale});},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.containerNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.containerNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _1715=this;var n=12;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_1715.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;if(c[idx]){_1715._bars[i].style.backgroundColor=c[idx];}else{_170f.replace(_1715._bars[i],"mblProg"+idx+"Color","mblProg"+(idx===n-1?0:idx+1)+"Color");}}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.removeOnStop&&this.domNode&&this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_1710.create("img",{src:file},this.containerNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.containerNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}},destroy:function(){this.inherited(arguments);if(this===cls._instance){cls._instance=null;}}});cls._instance=null;cls.getInstance=function(props){if(!cls._instance){cls._instance=new cls(props);}return cls._instance;};return cls;});},"viewer/object/shape/StatusElement":function(){define(["dojo/_base/declare","../libraries/LinkedPicture","../../misc/enums","../../misc/gui/helpers/image","dojo/text!./statusElement.html"],function(_1716,_1717,enums,_1718,_1719){return _1716("viewer.object.shape.StatusElement",_1717,{templateString:_1719,_componentType:enums.EnumComponentType.CANVAS,_imgReady:false,_imgSource:null,_imgAlign:"Centers",_imgStyle:"Normal",buildRendering:function(){var self;self=this;this.inherited(arguments);this._transparency={r:0,g:0,b:0};this._canvasContext=this._xComponent.getContext("2d");this._baseImg=new Image();this._baseImg.onload=function(){self._imgReady=true;self._draw();};this._transparencyAdjust={t:this._attr.position.top,l:this._attr.position.left};},_draw:function(){var data,_171a;data=_171a=null;if(!this._imgReady){return;}if(!this._baseImg||!this._imgSource){return;}this._imgReady=true;data="0x01"+this._transparency.b.toString(16)+this._transparency.g.toString(16)+this._transparency.r.toString(16);var _171b;if(this._attr.background){_171b=this._attr.background.color;}_171a={"cContext":this._canvasContext,"img":this._baseImg,"size":this._attr.size,"transparencyType":enums.EnumLinkedPictureTranparencyColor.COLOR_CODE,"data":data,"path":this.picturePath,"fillColor":_171b,"style":this._imgStyle,"align":this._imgAlign};_1718.draw(_171a);},_updateStyleId:function(id){},_getCurOutlineColor:function(){},_getCurOutlineWeight:function(){},_getCurOutlinePattern:function(){},_getCurOutlineBlinkColor:function(){},_getCurOutlineBlinkSpeed:function(){},_updateStatusId:function(id){this.inherited(arguments);var style=this._getQualityStatusProperty();if(style&&style.Status&&style.Status.ImageStyle&&style.Status.ImageStyle.imgData){this._imgSource="data:image/png;base64,"+style.Status.ImageStyle.imgData;this._imgAlign=style.Status.ImageStyle.align;this._imgStyle=style.Status.ImageStyle.style;if(style.Status.ImageStyle.transparentColor){var _171c=style.Status.ImageStyle.transparentColor.color?style.Status.ImageStyle.transparentColor.color:style.Status.ImageStyle.transparentColor;var index=_171c.indexOf("(");if(index>0){_171c=_171c.substring(index+1,_171c.length-1);}var _171d=_171c.split(",");if(_171d.length>=3){this._transparency={r:parseInt(_171d[0]),g:parseInt(_171d[1]),b:parseInt(_171d[2])};}}this._xComponent.style.display="inline";this._baseImg.src=this._imgSource;this._draw();}else{this._xComponent.style.display="none";this._imgSource=null;}}});});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _171e={};m._degToRad=function(_171f){return _171e[_171f]||(_171e[_171f]=(Math.PI*_171f/180));};m._radToDeg=function(_1720){return _1720/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _1721=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_1721,r=m.normalize(arg[i]);_1721=new m.Matrix2D();_1721.xx=l.xx*r.xx+l.xy*r.yx;_1721.xy=l.xx*r.xy+l.xy*r.yy;_1721.yx=l.yx*r.xx+l.yy*r.yx;_1721.yy=l.yx*r.xy+l.yy*r.yy;_1721.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_1721.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_1721);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(angle){var c=Math.cos(angle);var s=Math.sin(angle);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_1722){return m.rotate(m._degToRad(_1722));},skewX:function(angle){return new m.Matrix2D({xy:Math.tan(angle)});},skewXg:function(_1723){return m.skewX(m._degToRad(_1723));},skewY:function(angle){return new m.Matrix2D({yx:Math.tan(angle)});},skewYg:function(_1724){return m.skewY(m._degToRad(_1724));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_1725){return (_1725 instanceof m.Matrix2D)?_1725:new m.Matrix2D(_1725);},isIdentity:function(_1726){return _1726.xx==1&&_1726.xy==0&&_1726.yx==0&&_1726.yy==1&&_1726.dx==0&&_1726.dy==0;},clone:function(_1727){var obj=new m.Matrix2D();for(var i in _1727){if(typeof (_1727[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_1727[i]){obj[i]=_1727[i];}}return obj;},invert:function(_1728){var M=m.normalize(_1728),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_1729,x,y){return {x:_1729.xx*x+_1729.xy*y+_1729.dx,y:_1729.yx*x+_1729.yy*y+_1729.dy};},multiplyPoint:function(_172a,a,b){var M=m.normalize(_172a);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_172b,rect){var M=m.normalize(_172b);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_172c){var M=m.normalize(_172c);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_172d,x,y){return m.multiply(m.translate(x,y),_172d,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.rotate(angle),a,b);}return m._sandwich(m.rotate(angle),a.x,a.y);},rotategAt:function(_172e,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_172e),a,b);}return m._sandwich(m.rotateg(_172e),a.x,a.y);},skewXAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.skewX(angle),a,b);}return m._sandwich(m.skewX(angle),a.x,a.y);},skewXgAt:function(_172f,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_172f),a,b);}return m._sandwich(m.skewXg(_172f),a.x,a.y);},skewYAt:function(angle,a,b){if(arguments.length>2){return m._sandwich(m.skewY(angle),a,b);}return m._sandwich(m.skewY(angle),a.x,a.y);},skewYgAt:function(_1730,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_1730),a,b);}return m._sandwich(m.skewYg(_1730),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(dojo,lang,win,has){var html=win.doc.documentElement;html.className=lang.trim(html.className+" "+[has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("ios")?"dj_ios":"",has("ios")>=6?"dj_ios6":"",has("ios")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":"",has("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return dojo;});},"ma/util/LogonManager":function(){define(["dojo/_base/declare","ma/maEnums"],function(_1731,_1732){return _1731("ma.util.LogonManager",null,{constructor:function(){},gotoLogon:function(_1733){var _1734,_1735,_1736,_1737,_1738,i,key;var _1739=[];_1734=window.location.href;_1736=_1734.indexOf("?")>0?_1734.substring(_1734.indexOf("?")+1,_1734.length):"";var _1738=dojo.queryToObject(_1736);for(key in _1738){if(_1738.hasOwnProperty(key)&&key!=key.toLowerCase()){_1739.push(key);}}for(i=0;i<_1739.length;i++){_1738[_1739[i].toLowerCase()]=_1738[_1739[i]];delete _1738[_1739[i]];}if(typeof _1733=="undefined"){_1733=_1732.LogonType.NORMAL;}if(_1733==_1732.LogonType.APP_RESET||_1733==_1732.LogonType.AUTO_LOGOFF){_1738.flg=_1733;}else{if(typeof (_1738.flg)!="undefined"){delete _1738.flg;}}if(_1733==_1732.LogonType.AUTO_LOGOFF||_1733==_1732.LogonType.NORMAL){if(typeof (_1738.guestuser)!="undefined"){delete _1738.guestuser;}if(typeof (_1738.user)!="undefined"){delete _1738.user;}if(typeof (_1738.password)!="undefined"){delete _1738.password;}}_1737=dojo.objectToQuery(_1738);if(_1737.length>0){_1737="?"+_1737;}_1735=_1734.substring(0,_1734.length-(_1736.length==0?0:_1736.length+1))+_1737;if(_1735==_1734){window.location.reload();}else{window.location.href=_1735;}}});});},"dojox/mobile/Button":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_ButtonMixin","dijit/form/_FormWidgetMixin","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Button"],function(array,_173a,_173b,_173c,_173d,_173e,_173f,has,_1740){var _1741=_173a(has("dojo-bidi")?"dojox.mobile.NonBidiButton":"dojox.mobile.Button",[_173d,_173f,_173e],{baseClass:"mblButton",_setTypeAttr:null,duration:1000,_onClick:function(e){var ret=this.inherited(arguments);if(ret&&this.duration>=0){var _1742=this.focusNode||this.domNode;var _1743=(this.baseClass+" "+this["class"]).split(" ");_1743=array.map(_1743,function(c){return c+"Selected";});_173b.add(_1742,_1743);this.defer(function(){_173b.remove(_1742,_1743);},this.duration);}return ret;},isFocusable:function(){return false;},buildRendering:function(){if(!this.srcNodeRef){this.srcNodeRef=_173c.create("button",{"type":this.type});}else{if(this._cv){var n=this.srcNodeRef.firstChild;if(n&&n.nodeType===3){n.nodeValue=this._cv(n.nodeValue);}}}this.inherited(arguments);this.focusNode=this.domNode;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick");},_setLabelAttr:function(_1744){this.inherited(arguments,[this._cv?this._cv(_1744):_1744]);}});return has("dojo-bidi")?_173a("dojox.mobile.Button",[_1741,_1740]):_1741;});},"viewer/object/action/ComboBox":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","dojo/dom-construct","../../misc/gui/OutputWindow","../../server/serverEvents","../../misc/enums","dojo/text!./comboBox.html"],function(_1745,_1746,touch,on,_1747,_1748,_1749,enums,_174a){return _1745("viewer.object.action.ComboBox",_1746,{templateString:_174a,_currentSelectedIndex:-1,_fieldId:null,_isFirstDSEnqueue:true,_clickable:true,_lastComboPositionValue:null,_originalHeight:null,_maxOptionShowNumber:15,buildRendering:function(){var _174b,self;if(!this._attr.colorAdvanced){this._attr.colorAdvanced=this._attr.background.color;}this.inherited(arguments);if(this._attr.dataSourceType!=enums.EnumComboBoxDataSourceType.STATIC_LABEL&&this._attr.dataSourceType!=enums.EnumComboBoxDataSourceType.DATABASE&&this._attr.dataSourceType!=enums.EnumComboBoxDataSourceType.ARRAY_TAG){return;}self=this;on(this._xComponent,touch.press,function(evt){evt.stopPropagation();});on(this._xComponent,"change",function(evt){self._onChangeSelection(evt);});if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){on(this._xComponent,"click",function(evt){self._onClick(evt);});on(this._xComponent,"blur",function(evt){self._onBlur(evt);});this._xComponent.style.overflow="auto";this._initial();}this._populate();},startup:function(){this.inherited(arguments);},_populate:function(){var i=0,_174c={};if(!this._attr.itemList){return;}for(i=0;i<this._attr.itemList.length;i++){_174c[this._attr.itemList[i]]=i;}if(this._attr.sort===1){this._attr.itemList.sort(function(a,b){return a.localeCompare(b);});if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._attr.itemTypeList.sort(function(a,b){return a.captionField.localeCompare(b.captionField);});}}var _174d=-1;if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){_174d=this._xComponent.selectedIndex;}this._xComponent.options.length=0;for(i=0;i<this._attr.itemList.length;i++){option=document.createElement("option");option.text=this._attr.itemList[i];if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){option.value=this._attr.itemTypeList[i].valueField;}else{option.value=_174c[option.text];}this._xComponent.add(option);}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._xComponent.selectedIndex=_174d;}if(!(this.isDisabled()===true)&&!(this._securitySystem.isAuthorized(this._attr.security)===false)){this._onChangeSelection(null);}},_onChangeSelection:function(evt){var index=0,_174e=null,_174f=null;if(!this.getParentScreen()){setTimeout(function(){this._onChangeSelection(null);}.bind(this),0);return;}if(!this._xComponent||this._xComponent.length===0||this._xComponent.selectedIndex<0){return;}if(this.isDisabled()===true||this._securitySystem.isAuthorized(this._attr.security)===false){if(evt===null){return;}_174e=_1747.create("div");_1747.place(_174e,dojo.body(),"first");_174f=new _1748({"onClose":function(){}},_174e);_174f._setMessageAttr("Your security group does not allow you to change this object value.");_174f.startup();return;}index=this._xComponent.selectedIndex;if(this._attr.engine!==enums.EnumRuntimeScadaEngine.ArchestrA){if(typeof (this._attr.comboPosition)!="undefined"){this._xComponent.selectedIndex=this._attr.comboPosition.value;}}if(this._attr.label&&this._attr.label.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._xComponent.options[index].text);this.intervalCallRequest();}if(this._attr.comboPosition&&this._attr.comboPosition.id>=0){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.comboPosition.id,this._xComponent.options[index].value);this.intervalCallRequest();}},_initial:function(){if(!this.getParentScreen()||!this._xComponent.clientHeight){setTimeout(function(){this._initial(null);}.bind(this),0);return;}this._originalHeight=this._xComponent.style.height;},_onClick:function(){if(this._xComponent.options.length>0){var _1750=this._xComponent.options.length>this._maxOptionShowNumber?this._maxOptionShowNumber:this._xComponent.options.length;_1750=_1750==1?2:_1750;if(this._xComponent.style.height===this._originalHeight){this._xComponent.setAttribute("size",_1750);this._xComponent.parentElement.style.zIndex=1;var _1751=this._xComponent.options[0].clientHeight+1;var _1752=_1751*_1750;this._xComponent.style.height=_1752+"px";if(_1752+this._xComponent.parentElement.offsetTop>this.getParentScreen()._getHeightAttr()){this._xComponent.style.marginTop=-(_1752-this._attr.size.h)+"px";}}else{var _1753=this._xComponent.selectedIndex;this._xComponent.removeAttribute("size");this._xComponent.parentElement.style.zIndex=0;this._xComponent.style.height=this._originalHeight;this._xComponent.style.marginTop="0px";this._xComponent.selectedIndex=_1753;}}},_onBlur:function(){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){var _1754=this._xComponent.selectedIndex;this._xComponent.removeAttribute("size");this._xComponent.parentElement.style.zIndex=0;this._xComponent.style.height=this._originalHeight;this._xComponent.style.marginTop="0px";this._xComponent.selectedIndex=_1754;}},_setLabelAttr:function(value){this._attr.label.value=value;},_setArrayTagAttr:function(value){if(value){if(this._attr.engine!==enums.EnumRuntimeScadaEngine.ArchestrA){this._attr.itemList=value.split(",");this._populate();}else{var _1755;if(this._xComponent.selectedIndex>-1){_1755=this._attr.itemTypeList[this._xComponent.selectedIndex].valueField;}var _1756=value.split("8#4@$");if(_1756.length>1){for(i=0;i<_1756.length/2;i++){this._attr.itemList[i]=_1756[i*2];this._attr.itemTypeList[i].captionField=_1756[i*2];this._attr.itemTypeList[i].valueField=_1756[i*2+1];}this._xComponent.selectedIndex=this._getIndexByValue(_1755);this._populate();}}}this._setComboPositionAttr(this._lastComboPositionValue);},_setComboPositionAttr:function(value){var i=0,opt=null;this._lastComboPositionValue=value;if(this._attr.engine!==enums.EnumRuntimeScadaEngine.ArchestrA){for(i=0;i<this._xComponent.length;i++){opt=this._xComponent[i];if(opt.getAttribute("value")==value){value=i;break;}}}if(typeof (this._attr.comboPosition)==="undefined"){return;}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){var _1757=(+value).toString()==="NaN"?value:(+value).toString();var index=this._getIndexByValue(_1757);if(index>-1){this._xComponent.selectedIndex=index;this._attr.comboPosition.value=value;}}else{this._attr.comboPosition.value=parseInt(value);}if(this._attr.label&&this._attr.label.id>=0&&this._xComponent.length>0&&this._xComponent.selectedIndex<this._xComponent.length&&this._xComponent.selectedIndex>-1){services.setActionValue(window.viewId,this.getParentScreen().screenId,this._attr.label.id,this._xComponent.options[this._xComponent.selectedIndex].text);this.intervalCallRequest();}},_setDataAttr:function(ds){var i=0;if(this._attr.itemList){this._attr.itemList.length=0;}else{this._attr.itemList=[];}if(ds&&ds.rows){for(i=0;i<ds.rows.length;i++){if(ds.rows[i].length===1){this._attr.itemList.push(ds.rows[i][0].value);}}}this._populate();this._setComboPositionAttr(this._lastComboPositionValue);},_setArrayTagNumberOfItemsAttr:function(){},_setFieldAttr:function(){},_setReloadAttr:function(){},_setFilenameAttr:function(){},_updateRectSize:function(_1758,_1759){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.inherited(arguments);this._updateScaledSize(_1758,_1759);}},_getIndexByValue:function(value){if(this._attr.itemTypeList){for(i=0;i<this._attr.itemTypeList.length;i++){if(this._attr.itemTypeList[i].valueField===value){return i;}}}return -1;},applyDisable:function(anim,_175a){if(anim!==null){return;}this.inherited(arguments);this._xComponent.disabled=this.isDisabled();if(this._xComponent.disabled){this._guiHelper.setBackgroundColor(this._xComponent,"#F5F5F5");this._xComponent.style.color="#ACA899";}}});});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_175b,has,_175c,win){_175c(function(){if(has("highcontrast")){_175b.add(win.body(),"dijit_a11y");}});return has;});},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_175d,array,lang,_175e){return _175d("dojox.grid.Selection",null,{constructor:function(_175f){this.grid=_175f;this.selected=[];this.setMode(_175f.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_1760){return this.grid.onCanSelect(_1760);},onCanDeselect:function(_1761){return this.grid.onCanDeselect(_1761);},onSelected:function(_1762){},onDeselected:function(_1763){},onChanging:function(){},onChanged:function(){},isSelected:function(_1764){if(this.mode=="none"){return false;}return this.selected[_1764];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_1765){if(this.mode=="none"){return -1;}for(var i=_1765+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _1766=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_1766.push(i);}}return _1766;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_1767){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_1767);this.addToSelection(_1767);}else{this.toggleSelect(_1767);}},addToSelection:function(_1768){if(this.mode=="none"){return;}if(lang.isArray(_1768)){array.forEach(_1768,this.addToSelection,this);return;}_1768=Number(_1768);if(this.selected[_1768]){this.selectedIndex=_1768;}else{if(this.onCanSelect(_1768)!==false){this.selectedIndex=_1768;var _1769=this.grid.getRowNode(_1768);if(_1769){_175e.set(_1769,"aria-selected","true");}this._beginUpdate();this.selected[_1768]=true;this.onSelected(_1768);this._endUpdate();}}},deselect:function(_176a){if(this.mode=="none"){return;}if(lang.isArray(_176a)){array.forEach(_176a,this.deselect,this);return;}_176a=Number(_176a);if(this.selectedIndex==_176a){this.selectedIndex=-1;}if(this.selected[_176a]){if(this.onCanDeselect(_176a)===false){return;}var _176b=this.grid.getRowNode(_176a);if(_176b){_175e.set(_176b,"aria-selected","false");}this._beginUpdate();delete this.selected[_176a];this.onDeselected(_176a);this._endUpdate();}},setSelected:function(_176c,_176d){this[(_176d?"addToSelection":"deselect")](_176c);},toggleSelect:function(_176e){if(lang.isArray(_176e)){array.forEach(_176e,this.toggleSelect,this);return;}this.setSelected(_176e,!this.selected[_176e]);},_range:function(_176f,inTo,func){var s=(_176f>=0?_176f:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_1770,inTo){this._range(_1770,inTo,lang.hitch(this,"addToSelection"));},deselectRange:function(_1771,inTo){this._range(_1771,inTo,lang.hitch(this,"deselect"));},insert:function(_1772){this.selected.splice(_1772,0,false);if(this.selectedIndex>=_1772){this.selectedIndex++;}},remove:function(_1773){this.selected.splice(_1773,1);if(this.selectedIndex>=_1773){this.selectedIndex--;}},deselectAll:function(_1774){for(var i in this.selected){if((i!=_1774)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_1775,_1776,_1777){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_1775);}else{if(!_1777||this.rangeStartIndex<0){this.rangeStartIndex=_1775;}if(!_1776){this.deselectAll(_1775);}if(_1777){this.selectRange(this.rangeStartIndex,_1775);}else{if(_1776){this.toggleSelect(_1775);}else{this.addToSelection(_1775);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});});},"viewer/screens/behaviourManager":function(){define(["dojo/on","../misc/gui/helpers/css","dojo/touch","../misc/enums"],function(on,_1778,touch,enums){var bm=function(){};bm._screen_to_close=null;bm._z_index=0;bm._onOpenListener=[];bm._onCloseListener=[];bm.subscribOnOpenScreen=function(_1779){this._onOpenListener.push(_1779);};bm._notifyOnOpenScreen=function(){var i=0;for(var i=0;i<this._onOpenListener.length;i++){this._onOpenListener[i]("open");}};bm.subscribOnCloseScreen=function(_177a){this._onCloseListener.push(_177a);};bm._notifyOnCloseScreen=function(){var i=0;for(var i=0;i<this._onCloseListener.length;i++){this._onCloseListener[i]("close");}};bm._getZIndex=function(){var z=this._z_index;this._z_index++;return z;};bm.Init=function(_177b){var self=this;this._viewer=_177b;this._protectiveLayer=document.createElement("div");dojo.addClass(this._protectiveLayer,"viewer-screens-protectiveLayer");_177b.containerNode.appendChild(this._protectiveLayer);this._orderProtectiveLayer();on(this._protectiveLayer,touch.press,function(evt){self._keyboardEvent(evt);});on(this._protectiveLayer,"click",function(evt){self._keyboardEvent(evt);self._setFocus();});};bm._keyboardEvent=function(evt){if(evt.keyCode>=112&&evt.keyCode<=126){return;}evt.preventDefault();};bm.setWidth=function(v){if(this._protectiveLayer){_1778.setWidth(this._protectiveLayer,v+"px");}};bm.setHeight=function(v){if(this._protectiveLayer){_1778.setHeight(this._protectiveLayer,v+"px");}};bm.notifyOpen=function(_177c){if(_177c.domNode){_177c.domNode.style.zIndex=this._getZIndex();switch(_177c.getStyle()){case enums.EnumScreenStyle.DIALOG:_177c.domNode.style.zIndex=this._getZIndex();this._protectiveLayer.style.zIndex=parseInt(_177c.domNode.style.zIndex,10);this._treatOpenDialog(_177c);break;case enums.EnumScreenStyle.POPUP:this._treatOpenPopup(_177c);break;case enums.EnumScreenStyle.REPLACE_COMPLETE:this._treatOpenReplaceComplete(_177c);break;case enums.EnumScreenStyle.REPLACE_PARTIAL:this._treatOpenReplacePartial(_177c);break;case enums.EnumScreenStyle.OVERLAPPED:this._treatOpenOverlapped(_177c);break;}this._setFocus(_177c);this._notifyOnOpenScreen();}return true;};bm.notifyClose=function(_177d){this._screen_to_close=_177d;switch(_177d.getStyle()){case enums.EnumScreenStyle.DIALOG:this._treatCloseDialog(_177d);break;case enums.EnumScreenStyle.POPUP:this._treatClosePopup(_177d);break;case enums.EnumScreenStyle.REPLACE_COMPLETE:this._treatCloseReplaceComplete(_177d);break;case enums.EnumScreenStyle.REPLACE_PARTIAL:this._treatCloseReplacePartial(_177d);break;case enums.EnumScreenStyle.OVERLAPPED:this._treatCloseOverlapped(_177d);break;}this._orderProtectiveLayer();this._screen_to_close=null;this._notifyOnCloseScreen();};bm.notifyScreenSelection=function(_177e){var _177f=this._screenStack();if(!_177f||_177f.length<=0){return;}switch(_177e.getStyle()){case enums.EnumScreenStyle.DIALOG:this._treatSelectionDialog(_177e);break;case enums.EnumScreenStyle.POPUP:this._treatSelectionPopup(_177e);break;case enums.EnumScreenStyle.REPLACE_COMPLETE:this._treatSelectionReplaceComplete(_177e);break;case enums.EnumScreenStyle.REPLACE_PARTIAL:this._treatSelectionReplacePartial(_177e);break;case enums.EnumScreenStyle.OVERLAPPED:this._treatSelectionOverlapped(_177e);break;}this._setFocus(_177e);};bm._treatOpenDialog=function(_1780){this._treatSelectionDialog(_1780);};bm._treatOpenPopup=function(_1781){this._treatSelectionPopup(_1781);};bm._treatOpenReplacePartial=function(_1782){var vp1=_1782.viewPosition(),vp2=null,_1783=this._reducedScreenStack(_1782),_1784=[],i=null;if(typeof (window.webGraphicsApi)==="object"){for(i=0;i<_1783.length;i++){_1784.push(_1783[i].screenName);}}else{for(i=0;i<_1783.length;i++){if(_1783[i]===_1782||_1783[i].getStyle()===enums.EnumScreenStyle.OVERLAPPED||_1782===_1783[i]){continue;}vp2=_1783[i].viewPosition();if((vp1.l<vp2.l+vp2.w)&&(vp1.l+vp1.w>vp2.l)&&(vp1.t<vp2.t+vp2.h)&&(vp1.t+vp1.h>vp2.t)){_1784.push(_1783[i].screenName);}}}for(i=0;i<_1784.length;i++){this._viewer.CloseScreen(_1784[i]);}this._treatSelectionReplacePartial(_1782);};bm._treatOpenReplaceComplete=function(_1785){var vp1=_1785.viewPosition(),vp2=null,_1786=this._reducedScreenStack(_1785),_1787=[],i=null;for(i=0;i<_1786.length;i++){if(_1786[i]===_1785||_1786[i].getStyle()===enums.EnumScreenStyle.OVERLAPPED||_1785===_1786[i]){continue;}vp2=_1786[i].viewPosition();if((vp2.l>vp1.l&&vp2.l+vp2.w<vp1.l+vp1.w)&&(vp2.t>vp1.t&&vp2.t+vp2.h<vp1.t+vp1.h)){_1787.push(_1786[i].screenName);}}for(i=0;i<_1787.length;i++){this._viewer.CloseScreen(_1787[i]);}this._treatSelectionReplaceComplete(_1785);};bm._treatOpenOverlapped=function(_1788){this._treatSelectionOverlapped(_1788);};bm._treatCloseDialog=function(){};bm._treatClosePopup=function(){};bm._treatCloseReplacePartial=function(){};bm._treatCloseReplaceComplete=function(){};bm._treatCloseOverlapped=function(){};bm._treatSelectionDialog=function(){};bm._treatSelectionPopup=function(){};bm._treatSelectionReplacePartial=function(_1789){this._orderNoTopScreens(_1789);};bm._treatSelectionReplaceComplete=function(_178a){this._orderNoTopScreens(_178a);};bm._treatSelectionOverlapped=function(_178b){this._orderNoTopScreens(_178b);};bm._screenStack=function(){return this._viewer.getChildren();};bm._reducedScreenStack=function(_178c){var _178d=[],_178e,_178f;if(!_178c||!_178c.domNode){return _178d;}_178e=_178c.domNode.previousSibling;while(_178e!==null){if(!_178e.getAttribute||!_178e.getAttribute("widgetId")){_178e=_178e.previousSibling;continue;}_178f=dijit.byNode(_178e);if(_178f){_178d.push(_178f);}_178e=_178e.previousSibling;}_178e=_178c.domNode.nextSibling;while(_178e!==null){if(!_178e.getAttribute||!_178e.getAttribute("widgetId")){_178e=_178e.nextSibling;continue;}_178f=dijit.byNode(_178e);if(_178f){_178d.push(_178f);}_178e=_178e.nextSibling;}return _178d;};bm._orderNoTopScreens=function(_1790){var _1791=this._screenStack(),_1792=this._getZIndex(),_1793=null,i=null;if(!_1790.domNode){return;}this._protectiveLayer.style.zIndex=0;for(i=0;i<_1791.length;i++){_1793=_1791[i];if(_1793.getStyle()===enums.EnumScreenStyle.POPUP||_1793.getStyle()===enums.EnumScreenStyle.DIALOG){this._z_index=_1793.domNode.style.zIndex=parseInt(_1793.domNode.style.zIndex,10)+_1792;if(_1793.getStyle()===enums.EnumScreenStyle.DIALOG&&this._protectiveLayer.style.zIndex<parseInt(_1793.domNode.style.zIndex,10)-1){this._protectiveLayer.style.zIndex=parseInt(_1793.domNode.style.zIndex,10)-1;}}}_1790.domNode.style.zIndex=_1792;};bm._orderProtectiveLayer=function(){var _1794=this._screenStack(),i=null,_1795=null;if(!_1794||_1794.length<=0){return;}this._protectiveLayer.style.zIndex=0;for(i=0;i<_1794.length;i++){_1795=_1794[i];if(_1795.getStyle()===enums.EnumScreenStyle.DIALOG&&_1795!==this._screen_to_close){if(this._protectiveLayer.style.zIndex<parseInt(_1795.domNode.style.zIndex,10)-1){this._protectiveLayer.style.zIndex=parseInt(_1795.domNode.style.zIndex,10)-1;}}}};bm._setFocus=function(_1796){var _1797=this._screenStack(),i=null;if(!_1797){return;}for(i=0;i<_1797.length;i++){_1797[i].unfocus();}if(_1796){_1796.focus();}};return bm;});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_1798,_1799,_179a){return _1798("dojo.fx.Toggler",null,{node:null,showFunc:_1799.fadeIn,hideFunc:_1799.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _179b=this;lang.mixin(_179b,args);_179b.node=args.node;_179b._showArgs=lang.mixin({},args);_179b._showArgs.node=_179b.node;_179b._showArgs.duration=_179b.showDuration;_179b.showAnim=_179b.showFunc(_179b._showArgs);_179b._hideArgs=lang.mixin({},args);_179b._hideArgs.node=_179b.node;_179b._hideArgs.duration=_179b.hideDuration;_179b.hideAnim=_179b.hideFunc(_179b._hideArgs);_179a.after(_179b.showAnim,"beforeBegin",lang.hitch(_179b.hideAnim,"stop",true),true);_179a.after(_179b.hideAnim,"beforeBegin",lang.hitch(_179b.showAnim,"stop",true),true);},show:function(delay){return this.showAnim.play(delay||0);},hide:function(delay){return this.hideAnim.play(delay||0);}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(array,_179c,_179d,dom,_179e,_179f,_17a0,_17a1,has,keys,lang,on,place,_17a2,_17a3,dijit){function _17a4(){if(this._popupWrapper){_179f.destroy(this._popupWrapper);delete this._popupWrapper;}};var _17a5=_179d(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _17a6=this._firstAroundPosition,_17a7=_17a0.position(this._firstAroundNode,true),dx=_17a7.x-_17a6.x,dy=_17a7.y-_17a6.y;if(dx||dy){this._firstAroundPosition=_17a7;for(var i=0;i<this._stack.length;i++){var style=this._stack[i].wrapper.style;style.top=(parseInt(style.top,10)+dy)+"px";if(style.right=="auto"){style.left=(parseInt(style.left,10)+dx)+"px";}else{style.right=(parseInt(style.right,10)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_17a8){var _17a9=_17a8._popupWrapper,node=_17a8.domNode;if(!_17a9){_17a9=_179f.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_17a8["aria-label"]||_17a8.label||_17a8.name||_17a8.id},_17a8.ownerDocumentBody);_17a9.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_17a8._popupWrapper=_17a9;_179c.after(_17a8,"destroy",_17a4,true);}return _17a9;},moveOffScreen:function(_17aa){var _17ab=this._createWrapper(_17aa);var ltr=_17a0.isBodyLtr(_17aa.ownerDocument),style={visibility:"hidden",top:"-9999px",display:""};style[ltr?"left":"right"]="-9999px";style[ltr?"right":"left"]="auto";_17a1.set(_17ab,style);return _17ab;},hide:function(_17ac){var _17ad=this._createWrapper(_17ac);_17a1.set(_17ad,{display:"none",height:"auto",overflow:"visible",border:""});var node=_17ac.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var stack=this._stack;for(var pi=stack.length-1;pi>0&&stack[pi].parent===stack[pi-1].widget;pi--){}return stack[pi];},open:function(args){var stack=this._stack,_17ae=args.popup,node=_17ae.domNode,_17af=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_17a0.isBodyLtr(_17ae.ownerDocument),_17b0=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(stack.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,stack[stack.length-1].widget.domNode))){this.close(stack[stack.length-1].widget);}var _17b1=this.moveOffScreen(_17ae);if(_17ae.startup&&!_17ae._started){_17ae.startup();}var _17b2,_17b3=_17a0.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_17b2=args.maxHeight||Infinity;}else{var _17b4=_17a3.getEffectiveBox(this.ownerDocument),_17b5=_17b0?_17a0.position(_17b0,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_17b2=Math.floor(Math.max(_17b5.y,_17b4.h-(_17b5.y+_17b5.h)));}if(_17b3.h>_17b2){var cs=_17a1.getComputedStyle(node),_17b6=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_17a1.set(_17b1,{overflowY:"scroll",height:_17b2+"px",border:_17b6});node._originalStyle=node.style.cssText;node.style.border="none";}_179e.set(_17b1,{id:id,style:{zIndex:this._beginZIndex+stack.length},"class":"dijitPopup "+(_17ae.baseClass||_17ae["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(stack.length==0&&_17b0){this._firstAroundNode=_17b0;this._firstAroundPosition=_17a0.position(_17b0,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_17ae.bgIframe){_17ae.bgIframe=new _17a2(_17b1);}var _17b7=_17ae.orient?lang.hitch(_17ae,"orient"):null,best=_17b0?place.around(_17b1,_17b0,_17af,ltr,_17b7):place.at(_17b1,args,_17af=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_17b7);_17b1.style.visibility="visible";node.style.visibility="visible";var _17b8=[];_17b8.push(on(_17b1,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _17b9=this.getTopPopup();if(_17b9&&_17b9.onCancel){_17b9.onCancel();}}}})));if(_17ae.onCancel&&args.onCancel){_17b8.push(_17ae.on("cancel",args.onCancel));}_17b8.push(_17ae.on(_17ae.onExecute?"execute":"change",lang.hitch(this,function(){var _17ba=this.getTopPopup();if(_17ba&&_17ba.onExecute){_17ba.onExecute();}})));stack.push({widget:_17ae,wrapper:_17b1,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_17b8});if(_17ae.onOpen){_17ae.onOpen(best);}return best;},close:function(popup){var stack=this._stack;while((popup&&array.some(stack,function(elem){return elem.widget==popup;}))||(!popup&&stack.length)){var top=stack.pop(),_17bb=top.widget,_17bc=top.onClose;if(_17bb.onClose){_17bb.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_17bb&&_17bb.domNode){this.hide(_17bb);}if(_17bc){_17bc();}}if(stack.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (dijit.popup=new _17a5());});},"viewer/server/serverEvents":function(){define(["dojo/topic","dojox/xml/parser","dojo/dom-construct","../misc/gui/OutputWindow","../misc/gui/helpers/trace","./Expression","ma/util/LogonManager","ma/maEnums","./ScriptProperty"],function(topic,_17bd,_17be,_17bf,_17c0,_17c1,_17c2,_17c3,_17c4){var _17c5=function(){};_17c5.events={};_17c5.propertyevents={};_17c5.subscribedTags={};_17c5.subscribedScreenTaskSyncWidgets=[];_17c5._checkScreenTaskSyncInterval=null;_17c5._screenId=null;_17c5.setCurrentScreenId=function(_17c6){this._screenId=_17c6;};_17c5.createEventListener=function(_17c7,prop){if(this._screenId==null){return;}window.expUpdateCount.addExp(this._screenId,_17c7);if(!this.events[this._screenId]){this.events[this._screenId]={};}this.events[this._screenId][_17c7]=new _17c1(_17c7,prop);return this.events[this._screenId][_17c7];};_17c5.createEventListenerForScriptProperty=function(_17c8,prop){if(this._screenId==null){return;}window.expUpdateCount.addExp(this._screenId,_17c8);if(!this.propertyevents[this._screenId]){this.propertyevents[this._screenId]={};}this.propertyevents[this._screenId][_17c8]=new _17c4(_17c8,prop);return this.propertyevents[this._screenId][_17c8];};_17c5.setValue=function(_17c9,_17ca,v,_17cb,_17cc){if(!this.events[_17c9]){this.events[_17c9]={};}if(this.events[_17c9][_17ca]){this.events[_17c9][_17ca].setValue(v,_17cb,_17cc);}};_17c5.setPropertyValue=function(_17cd,_17ce,v,_17cf){if(!this.propertyevents[_17cd]){this.propertyevents[_17cd]={};}if(this.propertyevents[_17cd][_17ce]){this.propertyevents[_17cd][_17ce].setValue(v,_17cf);}};_17c5.subscribeTag=function(_17d0,_17d1,_17d2){window.expUpdateCount.addExp(_17d0,_17d1);if(!this.events[_17d0]){this.events[_17d0]={};}if(this.subscribedTags[_17d0][_17d1]){this.subscribedTags[_17d0][_17d1].push(topic.subscribe(_17d1,_17d2));}else{this.subscribedTags[_17d0][_17d1]=[topic.subscribe(_17d1,_17d2)];}};_17c5.remove=function(_17d3,_17d4){if(_17d4){if(this.events[_17d3][_17d4]){delete this.events[_17d3][_17d4];}if(this.subscribedTags[_17d3][_17d4]){for(var i=0;i<this.subscribedTags[_17d3][_17d4].length;i++){this.subscribedTags[_17d3][_17d4][i].remove();}delete this.subscribedTags[_17d3][_17d4];}delete this.subscribedTags[_17d3];}else{if(this.events[_17d3]){delete this.events[_17d3];}if(this.subscribedTags[_17d3]){for(var _17d4 in this.subscribedTags[_17d3]){for(var i=0;i<this.subscribedTags[_17d3][_17d4].length;i++){this.subscribedTags[_17d3][_17d4][i].remove();}delete this.subscribedTags[_17d3][_17d4];}delete this.subscribedTags[_17d3];}}};_17c5.removeAll=function(){for(var _17d5 in this.events){for(var evt in this.events[_17d5]){delete this.events[_17d5][evt];}}for(var _17d5 in this.subscribedTags){for(var tp in this.subscribedTags[_17d5]){for(var i=0;i<this.subscribedTags[_17d5][tp].length;i++){this.subscribedTags[_17d5][tp][i].remove();}delete this.subscribedTags[_17d5][tp];}}};_17c5.parseResult=function(_17d6){var _17d7;if(_17d6){if(_17d6.resultCode==0){if(_17d6.message.length!=0){_17c0.warn(_17d6.message);}return _17d6.data;}else{if(_17d6.resultCode==-1){_17d7=new _17c2();_17d7.gotoLogon(_17d6.data);return null;}else{var _17d8=_17d6.data;_17d6=(new LogonServices()).isLogged();if(!_17d6||_17d6.resultCode!=0||_17d6.data.isLogged===false){_17d7=new _17c2();_17d7.gotoLogon(_17d8);}else{if(_17d6&&_17d6.message&&_17d6.message.length!=0){_17c0.warn(_17d6.message);}}return null;}}}else{return null;}};_17c5.assyncResult=function(_17d9){if(_17d9&&typeof _17d9.id!=="undefined"&&typeof _17d9.result!=="undefined"){return _17d9.result;}return _17d9;};_17c5.parseResultChekingCode=function(_17da,_17db){var dom,self;self=this;if(_17da.resultCode!==0){if((typeof window.webGraphicsApi)==="object"){return null;}var div=_17be.create("div");_17be.place(div,dojo.body(),"first");if(_17da.resultCode===48){if(_17da.message){_17c0.warn(_17da.message);}var _17dc=new _17bf({"onClose":function(){self.OnCloseOutputWindow();}},div);_17dc._setMessageAttr("The Screen Group "+this._getURLParameter("screen")+" could not be opened. Check console messages for more information.");_17dc.startup();}else{if(_17da.message){_17c0.warn(_17da.message);}var _17dc=new _17bf({"onClose":function(){self.OnCloseOutputWindow();}},div);_17dc._setMessageAttr(((_17da&&_17da.message&&_17da.resultCode!==30)?_17da.message:_17db));_17dc.startup();}return null;}return this.parseResult(_17da);};_17c5.OnCloseOutputWindow=function(){};_17c5.callFunction=function(func,_17dd){if(window.userInterfaceFunction){window.userInterfaceFunction.exec(func,_17dd);}else{_17c0.error("User interface callback not defined.");}};_17c5.subscribeScreenTaskSync=function(_17de){var self=this;this.subscribedScreenTaskSyncWidgets.push(_17de);if(this._checkScreenTaskSyncInterval===null){this._checkScreenTaskSyncInterval=setInterval(function(){self._checkScreenTaskSync();},100);}};_17c5._checkScreenTaskSync=function(_17df){var _17e0=this.parseResult(services.isScreenTaskSyncronized());if(_17e0===true){if(this._checkScreenTaskSyncInterval){clearInterval(this._checkScreenTaskSyncInterval);this._checkScreenTaskSyncInterval=null;}while(this.subscribedScreenTaskSyncWidgets.length){this.subscribedScreenTaskSyncWidgets.pop().onScreenTaskSync();}}};_17c5._getURLParameter=function(name){return decodeURIComponent((new RegExp("[?|&]"+name+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null;};return _17c5;});},"dojo/data/ItemFileWriteStore":function(){define(["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(lang,_17e1,_17e2,_17e3,_17e4,_17e5,_17e6){return _17e1("dojo.data.ItemFileWriteStore",_17e5,{constructor:function(_17e7){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return _17e6.toISOString(obj,{zulu:true});};}if(_17e7&&(_17e7.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_17e8){if(!_17e8){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"];},newItem:function(_17e9,_17ea){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _17e9!="object"&&typeof _17e9!="undefined"){throw new Error("newItem() was passed something other than an object");}var _17eb=null;var _17ec=this._getIdentifierAttribute();if(_17ec===Number){_17eb=this._arrayOfAllItems.length;}else{_17eb=_17e9[_17ec];if(typeof _17eb==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(lang.isArray(_17eb)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_17eb]==="undefined");}this._assert(typeof this._pending._newItems[_17eb]==="undefined");this._assert(typeof this._pending._deletedItems[_17eb]==="undefined");var _17ed={};_17ed[this._storeRefPropName]=this;_17ed[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_17eb]=_17ed;_17ed[_17ec]=[_17eb];}this._arrayOfAllItems.push(_17ed);var pInfo=null;if(_17ea&&_17ea.parent&&_17ea.attribute){pInfo={item:_17ea.parent,attribute:_17ea.attribute,oldValue:undefined};var _17ee=this.getValues(_17ea.parent,_17ea.attribute);if(_17ee&&_17ee.length>0){var _17ef=_17ee.slice(0,_17ee.length);if(_17ee.length===1){pInfo.oldValue=_17ee[0];}else{pInfo.oldValue=_17ee.slice(0,_17ee.length);}_17ef.push(_17ed);this._setValueOrValues(_17ea.parent,_17ea.attribute,_17ef,false);pInfo.newValue=this.getValues(_17ea.parent,_17ea.attribute);}else{this._setValueOrValues(_17ea.parent,_17ea.attribute,_17ed,false);pInfo.newValue=_17ed;}}else{_17ed[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_17ed);}this._pending._newItems[_17eb]=_17ed;for(var key in _17e9){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var value=_17e9[key];if(!lang.isArray(value)){value=[value];}_17ed[key]=value;if(this.referenceIntegrity){for(var i=0;i<value.length;i++){var val=value[i];if(this.isItem(val)){this._addReferenceToMap(val,_17ed,key);}}}}this.onNew(_17ed,pInfo);return _17ed;},_removeArrayElement:function(array,_17f0){var index=_17e2.indexOf(array,_17f0);if(index!=-1){array.splice(index,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _17f1=item[this._itemNumPropName];var _17f2=this.getIdentity(item);if(this.referenceIntegrity){var _17f3=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=lang.clone(item[this._reverseRefMap]);}_17e2.forEach(_17f3,function(_17f4){_17e2.forEach(this.getValues(item,_17f4),function(value){if(this.isItem(value)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(value),attr:_17f4});this._removeReferenceFromMap(value,item,_17f4);}},this);},this);var _17f5=item[this._reverseRefMap];if(_17f5){for(var _17f6 in _17f5){var _17f7=null;if(this._itemsByIdentity){_17f7=this._itemsByIdentity[_17f6];}else{_17f7=this._arrayOfAllItems[_17f6];}if(_17f7){for(var _17f8 in _17f5[_17f6]){var _17f9=this.getValues(_17f7,_17f8)||[];var _17fa=_17e2.filter(_17f9,function(_17fb){return !(this.isItem(_17fb)&&this.getIdentity(_17fb)==_17f2);},this);this._removeReferenceFromMap(item,_17f7,_17f8);if(_17fa.length<_17f9.length){this._setValueOrValues(_17f7,_17f8,_17fa,true);}}}}}}this._arrayOfAllItems[_17f1]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_17f2];}this._pending._deletedItems[_17f2]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_17fc,value){return this._setValueOrValues(item,_17fc,value,true);},setValues:function(item,_17fd,_17fe){return this._setValueOrValues(item,_17fd,_17fe,true);},unsetAttribute:function(item,_17ff){return this._setValueOrValues(item,_17ff,[],true);},_setValueOrValues:function(item,_1800,_1801,_1802){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(lang.isString(_1800));this._assert(typeof _1801!=="undefined");var _1803=this._getIdentifierAttribute();if(_1800==_1803){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _1804=this._getValueOrValues(item,_1800);var _1805=this.getIdentity(item);if(!this._pending._modifiedItems[_1805]){var _1806={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_1806[key]=item[key];}else{if(key===this._reverseRefMap){_1806[key]=lang.clone(item[key]);}else{_1806[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_1805]=_1806;}var _1807=false;if(lang.isArray(_1801)&&_1801.length===0){_1807=delete item[_1800];_1801=undefined;if(this.referenceIntegrity&&_1804){var _1808=_1804;if(!lang.isArray(_1808)){_1808=[_1808];}for(var i=0;i<_1808.length;i++){var value=_1808[i];if(this.isItem(value)){this._removeReferenceFromMap(value,item,_1800);}}}}else{var _1809;if(lang.isArray(_1801)){_1809=_1801.slice(0,_1801.length);}else{_1809=[_1801];}if(this.referenceIntegrity){if(_1804){var _1808=_1804;if(!lang.isArray(_1808)){_1808=[_1808];}var map={};_17e2.forEach(_1808,function(_180a){if(this.isItem(_180a)){var id=this.getIdentity(_180a);map[id.toString()]=true;}},this);_17e2.forEach(_1809,function(_180b){if(this.isItem(_180b)){var id=this.getIdentity(_180b);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_180b,item,_1800);}}},this);for(var rId in map){var _180c;if(this._itemsByIdentity){_180c=this._itemsByIdentity[rId];}else{_180c=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_180c,item,_1800);}}else{for(var i=0;i<_1809.length;i++){var value=_1809[i];if(this.isItem(value)){this._addReferenceToMap(value,item,_1800);}}}}item[_1800]=_1809;_1807=true;}if(_1802){this.onSet(item,_1800,_1804,_1801);}return _1807;},_addReferenceToMap:function(_180d,_180e,_180f){var _1810=this.getIdentity(_180e);var _1811=_180d[this._reverseRefMap];if(!_1811){_1811=_180d[this._reverseRefMap]={};}var _1812=_1811[_1810];if(!_1812){_1812=_1811[_1810]={};}_1812[_180f]=true;},_removeReferenceFromMap:function(_1813,_1814,_1815){var _1816=this.getIdentity(_1814);var _1817=_1813[this._reverseRefMap];var _1818;if(_1817){for(_1818 in _1817){if(_1818==_1816){delete _1817[_1818][_1815];if(this._isEmpty(_1817[_1818])){delete _1817[_1818];}}}if(this._isEmpty(_1817)){delete _1813[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){}}},_getValueOrValues:function(item,_1819){var _181a=undefined;if(this.hasAttribute(item,_1819)){var _181b=this.getValues(item,_1819);if(_181b.length==1){_181a=_181b[0];}else{_181a=_181b;}}return _181a;},_flatten:function(value){if(this.isItem(value)){return {_reference:this.getIdentity(value)};}else{if(typeof value==="object"){for(var type in this._datatypeMap){var _181c=this._datatypeMap[type];if(lang.isObject(_181c)&&!lang.isFunction(_181c)){if(value instanceof _181c.type){if(!_181c.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_181c.serialize(value)};}}else{if(value instanceof _181c){return {_type:type,_value:value.toString()};}}}}return value;}},_getNewFileContentString:function(){var _181d={};var _181e=this._getIdentifierAttribute();if(_181e!==Number){_181d.identifier=_181e;}if(this._labelAttr){_181d.label=this._labelAttr;}_181d.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _181f={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _1820=this.getValues(item,key);if(_1820.length==1){_181f[key]=this._flatten(_1820[0]);}else{var _1821=[];for(var j=0;j<_1820.length;++j){_1821.push(this._flatten(_1820[j]));_181f[key]=_1821;}}}}_181d.items.push(_181f);}}var _1822=true;return _17e3.toJson(_181d,_1822);},_isEmpty:function(_1823){var empty=true;if(lang.isObject(_1823)){var i;for(i in _1823){empty=false;break;}}else{if(lang.isArray(_1823)){if(_1823.length>0){empty=false;}}}return empty;},save:function(_1824){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _1825=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_1824&&_1824.onComplete){var scope=_1824.scope||_17e4.global;_1824.onComplete.call(scope);}};var _1826=function(err){self._saveInProgress=false;if(_1824&&_1824.onError){var scope=_1824.scope||_17e4.global;_1824.onError.call(scope,err);}};if(this._saveEverything){var _1827=this._getNewFileContentString();this._saveEverything(_1825,_1826,_1827);}if(this._saveCustom){this._saveCustom(_1825,_1826);}if(!this._saveEverything&&!this._saveCustom){_1825();}},revert:function(){this._assert(!this._saveInProgress);var _1828;for(_1828 in this._pending._modifiedItems){var _1829=this._pending._modifiedItems[_1828];var _182a=null;if(this._itemsByIdentity){_182a=this._itemsByIdentity[_1828];}else{_182a=this._arrayOfAllItems[_1828];}_1829[this._storeRefPropName]=this;for(var key in _182a){delete _182a[key];}lang.mixin(_182a,_1829);}var _182b;for(_1828 in this._pending._deletedItems){_182b=this._pending._deletedItems[_1828];_182b[this._storeRefPropName]=this;var index=_182b[this._itemNumPropName];if(_182b["backup_"+this._reverseRefMap]){_182b[this._reverseRefMap]=_182b["backup_"+this._reverseRefMap];delete _182b["backup_"+this._reverseRefMap];}this._arrayOfAllItems[index]=_182b;if(this._itemsByIdentity){this._itemsByIdentity[_1828]=_182b;}if(_182b[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_182b);}}for(_1828 in this._pending._deletedItems){_182b=this._pending._deletedItems[_1828];if(_182b["backupRefs_"+this._reverseRefMap]){_17e2.forEach(_182b["backupRefs_"+this._reverseRefMap],function(_182c){var _182d;if(this._itemsByIdentity){_182d=this._itemsByIdentity[_182c.id];}else{_182d=this._arrayOfAllItems[_182c.id];}this._addReferenceToMap(_182d,_182b,_182c.attr);},this);delete _182b["backupRefs_"+this._reverseRefMap];}}for(_1828 in this._pending._newItems){var _182e=this._pending._newItems[_1828];_182e[this._storeRefPropName]=null;this._arrayOfAllItems[_182e[this._itemNumPropName]]=null;if(_182e[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_182e);}if(this._itemsByIdentity){delete this._itemsByIdentity[_1828];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _182f=this.getIdentity(item);return new Boolean(this._pending._newItems[_182f]||this._pending._modifiedItems[_182f]||this._pending._deletedItems[_182f]).valueOf();}else{return !this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems);}},onSet:function(item,_1830,_1831,_1832){},onNew:function(_1833,_1834){},onDelete:function(_1835){},close:function(_1836){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(dijit){return dijit._base;});},"viewer/misc/gesture/_base":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","../enums","../gui/helpers/css"],function(_1837,on,touch,enums,_1838){return _1837("viewer.misc.gesture._base",null,{_viewerGesture:{lastDist:{x:null,y:null},scale:1},_test:0,_xLastDist:null,_yLastDist:null,_scalableNode:null,_panableNode:null,_connections:null,_bodyConnections:null,_scale:1,_minScale:-10,_maxScale:10,_inertiaTime:200,_scaleBeforeZoomInOut:1,_lastDelta:null,_lastPan:null,_lastFinger1:null,_startFinger1:null,_startFinger2:null,_lastStartTS:0,_started:false,_disableAxesXPan:false,_disableAxesYPan:false,_isInPan:false,_startTouchInNode:null,_msPointerId1:null,_msPointerId2:null,_f1:null,_f2:null,_switchedPanNode:null,_panDist:null,generalStatus:{isGesturing:false},lastDeltaX:0,lastDeltaY:0,gestureEnable:0,gestureDisable:0,security:0,transform:{onStart:function(owner){if(this._isTransforming){return;}this._isTransforming=true;this._owner=owner;},onEnd:function(owner){if(owner!==this._owner){return;}this._isTransforming=false;this._owner=null;},isZoomEnabled:function(owner){return ((!this._isTransforming)||(this._isTransforming&&owner===this._owner));},_isTransforming:false,_owner:null},constructor:function(){this._connections=[];this._bodyConnections=[];this._lastPan={"x":0,"y":0};this._panDist={"x":0,"y":0};this._lastFinger1={"x":0,"y":0};this._transformOrigin={"x":"50%","y":"50%"};this._startTouchInNode={"x":"0","y":"0"};},_eventParser:function(evt){switch(evt.type){case enums.EnumEvents.MS_POINTER_DOWN:this._onTouchStart(evt);this._subscribBodyEvents(true);return;case enums.EnumEvents.MS_POINTER_MOVE:this._onTouchMove(evt);return;case enums.EnumEvents.MS_POINTER_UP:this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.MS_POINTER_CANCEL:this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.POINTER_DOWN:this._onTouchStart(evt);this._subscribBodyEvents(true);return;case enums.EnumEvents.POINTER_MOVE:this._onTouchMove(evt);return;case enums.EnumEvents.POINTER_UP:this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.POINTER_CANCEL:this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.POINTER_OUT:if(evt.relatedTarget!=null&&evt.relatedTarget!==document.documentElement){return;}this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.ON_MOUSE_MOVE:if(this._started===false){return;}evt.touches=[evt];this._onTouchMove(evt);return;case enums.EnumEvents.ON_MOUSE_UP:this._started=false;evt.touches=[evt];this._onTouchEnd(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.ON_MOUSE_DOWN:this._started=true;evt.touches=[evt];this._onTouchStart(evt);this._subscribBodyEvents(true);return;case enums.EnumEvents.ON_MOUSE_OUT:if(evt.target!==dojo.body()){return;}this._started=false;evt.touches=[evt];this._onTouchEnd(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.ON_TOUCH_MOVE:this._onTouchMove(evt);return;case enums.EnumEvents.ON_TOUCH_START:this._onTouchStart(evt);this._subscribBodyEvents(true);return;case enums.EnumEvents.ON_TOUCH_END:this._onTouchEnd(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.ON_TOUCH_CANCEL:this._onTouchCancel(evt);this._subscribBodyEvents(false);return;case enums.EnumEvents.ON_KEY_PRESS:return;}},_onTouchStart:function(evt){if(this._scalableNode){this._scalableNode.focus();}if(this._panableNode){this._isInPan=true;}this.generalStatus.isGesturing=true;if(!evt.touches){this._lastFinger1.x=evt.clientX.toString();this._lastFinger1.y=evt.clientY.toString();if(this._msPointerId1===null||this._msPointerId1===evt.pointerId){this._msPointerId1=evt.pointerId;this._startFinger1=evt;}else{if(this._msPointerId2===null||this._msPointerId2===evt.pointerId){this._msPointerId2=evt.pointerId;this._startFinger2=evt;}}}else{this._lastFinger1.x=evt.touches[0].clientX.toString();this._lastFinger1.y=evt.touches[0].clientY.toString();this._startFinger1=evt.touches[0];if(evt.touches.length>1){this._startFinger2=evt.touches[1];}}this._zoomInOut(evt);if(this._startFinger1&&this._startFinger2){this._xLastDist=Math.abs(this._startFinger2.clientX-this._startFinger1.clientX);this._yLastDist=Math.abs(this._startFinger2.clientY-this._startFinger1.clientY);this._xLastDist=this._xLastDist===0?0.001:this._xLastDist;this._yLastDist=this._yLastDist===0?0.001:this._yLastDist;if(this._scalableNode!==null&&this._scalableNode.id==="_x_viewer_Viewer"){this._viewerGesture.lastDist.x=this._xLastDist;this._viewerGesture.lastDist.y=this._yLastDist;}}},_onTouchMove:function(evt){if(this instanceof viewer.misc.gesture._base&&this._panableNode.parentNode&&viewer.screens.Popup.prototype.miniPopupIds.indexOf(this._panableNode.parentNode.id)>=0){return;}this._procScale(evt);this._procPan(evt);},_onTouchEnd:function(){this._startFinger1=null;this._startFinger2=null;this._f1=null;this._f2=null;this.generalStatus.isGesturing=false;if(this._panableNode){this._isInPan=false;this.onEndPan();}this._msPointerId1=null;this._msPointerId2=null;this._xLastDist=null;this._yLastDist=null;if(this._viewerGesture.lastDist){this._viewerGesture.lastDist.x=null;this._viewerGesture.lastDist.y=null;}},_onTouchCancel:function(){this._startFinger1=null;this._startFinger2=null;this._f1=null;this._f2=null;this.generalStatus.isGesturing=false;if(this._panableNode){this._isInPan=false;this.onEndPan();}this._msPointerId1=null;this._msPointerId2=null;this._xLastDist=null;this._yLastDist=null;},onEndPan:function(){},_procScale:function(evt){var xDist,yDist,delta,_1839;if(!this._scalableNode){return;}if(!evt.touches){if(this._startFinger1&&this._startFinger2){if(evt.pointerId===this._msPointerId1){this._f1=evt;}else{if(evt.pointerId===this._msPointerId2){this._f2=evt;}}}}else{if(evt.touches.length<2){return;}this._f1=evt.touches[0];this._f2=evt.touches[1];}if(this._f1&&this._f2){if(this._f1.target!==this._f2.target&&this._scalableNode!==null&&this._scalableNode.id!=="_x_viewer_Viewer"){this._xLastDist=this._viewerGesture.lastDist.x;this._yLastDist=this._viewerGesture.lastDist.y;}}if(this._xLastDist===null||this._yLastDist===null){return;}if(this._f1&&this._f2){xDist=Math.abs(this._f2.clientX-this._f1.clientX);yDist=Math.abs(this._f2.clientY-this._f1.clientY);delta={"x":(Math.abs(this._xLastDist)-Math.abs(xDist)),"y":(Math.abs(this._yLastDist)-Math.abs(yDist))};_1839=delta.y+delta.x;if(_1839.toString().charAt(0)==="-"){this.setScale(this.getScale()+(Math.abs(_1839)*0.01),true);}else{this.setScale(this.getScale()-(Math.abs(_1839)*0.01),true);}this._lastDelta=delta;this._xLastDist=xDist;this._yLastDist=yDist;if(this._scalableNode!==null&&this._scalableNode.id==="_x_viewer_Viewer"){this._viewerGesture.lastDist.x=this._xLastDist;this._viewerGesture.lastDist.y=this._yLastDist;}this._applyTransform(evt);}evt.stopPropagation();evt.preventDefault();},_onStartProcPan:null,onEndProcPan:null,switchPanNode:function(n){this._switchedPanNode=this._panableNode;this._panableNode=n;},restorePanNode:function(){this._panableNode=this._switchedPanNode;},_procPan:function(evt){var f1,s;if(!this._panableNode||(evt.touches&&evt.touches.length>1)||this._msPointerId2!==null){return;}if(this._onStartProcPan){this._onStartProcPan();}if(!evt.touches){f1=evt;}else{f1=evt.touches[0];}s=this.getScale();if(this._disableAxesXPan===false){this.lastDeltaX=(((parseFloat(f1.clientX))-(parseFloat(this._lastFinger1.x))));this._lastPan.x+=(this.lastDeltaX/s)/this._viewerGesture.scale;}if(this._disableAxesYPan===false){this.lastDeltaY=(((parseFloat(f1.clientY))-(parseFloat(this._lastFinger1.y))));this._lastPan.y+=(this.lastDeltaY/s)/this._viewerGesture.scale;}this._applyTransform(evt);this._lastFinger1.x=f1.clientX.toString();this._lastFinger1.y=f1.clientY.toString();if(this.onEndProcPan){this.onEndProcPan();}evt.preventDefault();evt.stopPropagation();evt.stopImmediatePropagation();},_zoomInOut:function(evt){if(this._scalableNode&&this.isOneFingerGesture()){if(this.isDoubleTap(evt.timeStamp)){var _183a=1;if(this.getScale()!==1){this._scaleBeforeZoomInOut=this.getScale();_183a=1;}else{_183a=this._scaleBeforeZoomInOut;if(_183a===1){this._scaleBeforeZoomInOut=_183a=2;}}this.setScale(_183a,true);this._applyTransform(evt);this._applyOrigin(evt);}this._lastStartTS=evt.timeStamp;}},_applyTransform:function(){var o={};this.setScale(Math.max(this.getScale(),this._minScale),true);this.setScale(Math.min(this.getScale(),this._maxScale),true);if(this._scalableNode){o.scale="("+this.getScale()+","+this.getScale()+")";_1838.applyTransform(this._scalableNode||this._panableNode,o,this._inertiaTime);}if(this._panableNode){if(o.scale==null){var scale=this.getScale();if(isFinite(scale)&&scale!=1){o.scale="("+this.getScale()+","+this.getScale()+")";}}o.translate="("+this._lastPan.x+"px,"+this._lastPan.y+"px)";_1838.applyTransform(this._panableNode,o,this._inertiaTime);}},_applyOrigin:function(){_1838.applyOrigin(this._scalableNode,this._transformOrigin);},_subscribEvents:function(_183b,n){var self=this,_183c=[],i,ii;if(!n){return;}if(_183b===true&&this._connections.length===0){this._connections.push({"handle":on(n,touch.press,function(evt){self._eventParser(evt);}),"n":n});}else{if(_183b===false&&this._connections.length>0){for(i=0;i<this._connections.length;i++){if(this._connections[i].n===n){this._connections[i].handle.remove();_183c.push(this._connections[i]);}}for(i=0;i<_183c.length;i++){for(ii=0;ii<this._connections.length;ii++){if(this._connections[ii].n===_183c[i].n){this._connections.splice(ii,1);break;}}}}}},_subscribBodyEvents:function(_183d){var self=this,i;if(_183d===true&&this._bodyConnections.length===0){this._bodyConnections.push({"handle":on(dojo.body(),touch.move,function(evt){self._eventParser(evt);})});this._bodyConnections.push({"handle":on(dojo.body(),touch.release,function(evt){self._eventParser(evt);})});this._bodyConnections.push({"handle":on(dojo.body(),touch.out,function(evt){self._eventParser(evt);})});this._bodyConnections.push({"handle":on(dojo.body(),touch.cancel,function(evt){self._eventParser(evt);})});this._bodyConnections.push({"handle":on(dojo.body(),"keypress",function(evt){self._eventParser(evt);})});}else{if(_183d===false&&this._bodyConnections.length>0){for(i=0;i<this._bodyConnections.length;i++){this._bodyConnections[i].handle.remove();}this._bodyConnections.length=0;}}},setScale:function(value,_183e){this._scale=value;if(this._scalableNode!==null&&this._scalableNode.id==="_x_viewer_Viewer"){this._viewerGesture.scale=this.getScale();}if(!_183e){this._applyTransform();}},getScale:function(){return this._scale;},activateScaling:function(n){if(!n){return;}this._scalableNode=n;this._subscribEvents(true,this._scalableNode);this._applyOrigin(null);if(this._scalableNode.onwheel!==undefined){this._scalableNode.addEventListener("wheel",this._scaleByWhell.bind(this),false);}},deactivateScaling:function(){this._subscribEvents(false,this._scalableNode);this._scalableNode=null;if(!this._scalableNode.onwheel){this._scalableNode.addEventListener("wheel",this._scaleByWhell.bind(this),false);}},activatePanning:function(n,_183f,_1840){this._panableNode=n;this._subscribEvents(false,this._panableNode);this._disableAxesXPan=_183f===true;this._disableAxesYPan=_1840===true;if(this._disableAxesXPan===false||this._disableAxesYPan===false){this._subscribEvents(true,this._panableNode);}},deactivatePanning:function(){this._subscribEvents(false,this._panableNode);},setMinScale:function(value){this._minScale=parseFloat(value);},isDoubleTap:function(_1841){return this.isOneFingerGesture()&&(_1841-this._lastStartTS)<200;},isOneFingerGesture:function(){if(this._startFinger1!==null&&this._startFinger2===null){return true;}return false;},isTwoFingersGesture:function(){if(this._startFinger1!==null&&this._startFinger2!==null){return true;}return false;},_scaleByWhell:function(evt){}});});},"dojox/mobile/ListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_WidgetBase","./iconUtils","./_ItemBase","./ProgressIndicator","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem"],function(array,_1842,lang,_1843,_1844,_1845,_1846,_1847,_1848,_1849,_184a,_184b,has,_184c){var _184d=_1842(has("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",_184a,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:false,noArrow:false,checked:false,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",header:false,tag:"li",busy:false,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:true,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||_1844.create(this.tag);}this.inherited(arguments);if(this.selected){_1843.add(this.domNode,this._selClass);}if(this.header){_1843.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);}if(!this._templated){this.labelNode=_1844.create("div",{className:"mblListItemLabel"});var ref=this.srcNodeRef;if(ref&&ref.childNodes.length===1&&ref.firstChild.nodeType===3){this.labelNode.appendChild(ref.firstChild);}this.domNode.appendChild(this.labelNode);}this._layoutChildren=[];},startup:function(){if(this._started){return;}var _184e=this.getParent();var opts=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel){this.labelNode.style.display="inline";this.labelNode.style.cursor="pointer";this.connect(this.labelNode,"onclick","_onClick");this.onTouchStart=function(e){return (e.target!==this.labelNode);};}if(opts.moveTo||opts.href||opts.url||this.clickable||(_184e&&_184e.select)){this.connect(this.domNode,"onkeydown","_onClick");}else{this._handleClick=false;}this.inherited(arguments);if(_1843.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_1843.add(this.domNode,"mblVariableHeight");this.defer("layoutVariableHeight");}if(!this._isOnLine){this._isOnLine=true;this.set({icon:this._pending_icon!==undefined?this._pending_icon:this.icon,deleteIcon:this._pending_deleteIcon!==undefined?this._pending_deleteIcon:this.deleteIcon,rightIcon:this._pending_rightIcon!==undefined?this._pending_rightIcon:this.rightIcon,rightIcon2:this._pending_rightIcon2!==undefined?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:this._pending_uncheckIcon!==undefined?this._pending_uncheckIcon:this.uncheckIcon});delete this._pending_icon;delete this._pending_deleteIcon;delete this._pending_rightIcon;delete this._pending_rightIcon2;delete this._pending_uncheckIcon;}if(_184e&&_184e.select){this.set("checked",this._pendingChecked!==undefined?this._pendingChecked:this.checked);_1846.set(this.domNode,"role","option");if(this._pendingChecked||this.checked){_1846.set(this.domNode,"aria-selected","true");}delete this._pendingChecked;}this.setArrow();this.layoutChildren();},_updateHandles:function(){var _184f=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable||(_184f&&_184f.select)){if(!this._keydownHandle){this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");}this._handleClick=true;}else{if(this._keydownHandle){this.disconnect(this._keydownHandle);this._keydownHandle=null;}this._handleClick=false;}this.inherited(arguments);},layoutChildren:function(){var _1850;array.forEach(this.domNode.childNodes,function(n){if(n.nodeType!==1){return;}var _1851=n.getAttribute("layout")||n.getAttribute("data-mobile-layout")||(_1847.byNode(n)||{}).layout;if(_1851){_1843.add(n,"mblListItemLayout"+_1851.charAt(0).toUpperCase()+_1851.substring(1));this._layoutChildren.push(n);if(_1851==="center"){_1850=n;}}},this);if(_1850){this.domNode.insertBefore(_1850,this.domNode.firstChild);}},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}if(!this._templated||this.labelNode){this.labelNode.style.display=this.labelNode.firstChild?"block":"inline";}},_onTouchStart:function(e){if(e.target.getAttribute("preventTouch")||e.target.getAttribute("data-mobile-prevent-touch")||(_1847.getEnclosingWidget(e.target)||{}).preventTouch){return;}this.inherited(arguments);},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}var n=this.labelNode;if((this._templated||n)&&this.anchorLabel&&e.currentTarget===n){_1843.add(n,"mblListItemLabelSelected");this.defer(function(){_1843.remove(n,"mblListItemLabelSelected");},this._duration);this.onAnchorLabelClicked(e);return;}var _1852=this.getParent();if(_1852.select){if(_1852.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_1852.select==="multiple"){this.set("checked",!this.checked);}}}this.defaultClickAction(e);},onClick:function(){},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.domNode.offsetHeight;if(h===this.domNodeHeight){return;}this.domNodeHeight=h;array.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(n){if(n){var _1853=this.domNode;var f=function(){var t=Math.round((_1853.offsetHeight-n.offsetHeight)/2)-_1845.get(_1853,"paddingTop");n.style.marginTop=t+"px";};if(n.offsetHeight===0&&n.tagName==="IMG"){n.onload=f;}else{f();}}},this);},setArrow:function(){if(this.checked){return;}var c="";var _1854=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable){if(!this.noArrow&&!(_1854&&_1854.selectOne)){c=this.arrowClass||"mblDomButtonArrow";_1846.set(this.domNode,"role","button");}}if(c){this._setRightIconAttr(c);}},_findRef:function(type){var i,node,list=["deleteIcon","icon","rightIcon","uncheckIcon","rightIcon2","rightText"];for(i=array.indexOf(list,type)+1;i<list.length;i++){node=this[list[i]+"Node"];if(node){return node;}}for(i=list.length-1;i>=0;i--){node=this[list[i]+"Node"];if(node){return node.nextSibling;}}return this.domNode.firstChild;},_setIcon:function(icon,type){if(!this._isOnLine){this["_pending_"+type]=icon;return;}this._set(type,icon);this[type+"Node"]=_1849.setIcon(icon,this[type+"Pos"],this[type+"Node"],this[type+"Title"]||this.alt,this.domNode,this._findRef(type),"before");if(this[type+"Node"]){var cap=type.charAt(0).toUpperCase()+type.substring(1);_1843.add(this[type+"Node"],"mblListItem"+cap);}var role=this[type+"Role"];if(role){this[type+"Node"].setAttribute("role",role);}},_setDeleteIconAttr:function(icon){this._setIcon(icon,"deleteIcon");},_setIconAttr:function(icon){this._setIcon(icon,"icon");},_setRightTextAttr:function(text){if(!this._templated&&!this.rightTextNode){this.rightTextNode=_1844.create("div",{className:"mblListItemRightText"},this.labelNode,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){this._setIcon(icon,"rightIcon");},_setUncheckIconAttr:function(icon){this._setIcon(icon,"uncheckIcon");},_setRightIcon2Attr:function(icon){this._setIcon(icon,"rightIcon2");},_setCheckedAttr:function(_1855){if(!this._isOnLine){this._pendingChecked=_1855;return;}var _1856=this.getParent();if(_1856&&_1856.select==="single"&&_1855){array.forEach(_1856.getChildren(),function(child){child!==this&&child.checked&&child.set("checked",false)&&_1846.set(child.domNode,"aria-selected","false");},this);}this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);_1843.toggle(this.domNode,"mblListItemChecked",_1855);_1843.toggle(this.domNode,"mblListItemUnchecked",!_1855);_1843.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=(this.uncheckIconNode&&!_1855)?"absolute":"";if(_1856&&this.checked!==_1855){_1856.onCheckStateChanged(this,_1855);}this._set("checked",_1855);_1846.set(this.domNode,"aria-selected",_1855?"true":"false");},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!this._progNode){this._progNode=_1844.create("div",{className:"mblListItemIcon"});prog=this._prog=new _184b({size:25,center:false,removeOnStop:false});_1843.add(prog.domNode,this.progStyle);this._progNode.appendChild(prog.domNode);}if(this.iconNode){this.domNode.replaceChild(this._progNode,this.iconNode);}else{_1844.place(this._progNode,this._findRef("icon"),"before");}prog.start();}else{if(this._progNode){if(this.iconNode){this.domNode.replaceChild(this.iconNode,this._progNode);}else{this.domNode.removeChild(this._progNode);}prog.stop();}}this._set("busy",busy);},_setSelectedAttr:function(_1857){this.inherited(arguments);_1843.toggle(this.domNode,this._selClass,_1857);},_setClickableAttr:function(_1858){this._set("clickable",_1858);this._updateHandles();},_setMoveToAttr:function(_1859){this._set("moveTo",_1859);this._updateHandles();},_setHrefAttr:function(href){this._set("href",href);this._updateHandles();},_setUrlAttr:function(url){this._set("url",url);this._updateHandles();}});_184d.ChildWidgetProperties={layout:"",preventTouch:false};lang.extend(_1848,_184d.ChildWidgetProperties);return has("dojo-bidi")?_1842("dojox.mobile.ListItem",[_184d,_184c]):_184d;});},"viewer/server/ScriptProperty":function(){define(["dojo/_base/declare"],function(_185a){return _185a("viewer.server.Expression",null,{name:null,_value:null,_dataType:null,_prop:"",constructor:function(name,prop){this.name=name;this._prop=prop;},setValue:function(v,_185b){this._value=v;this._dataType=_185b;this.onChange();},getValue:function(){return this._value;},onChange:function(){return {propName:this._prop,value:this._value,name:this.name,dataType:this._dataType};}});});},"dojox/mobile/ScrollableView":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dijit/registry","./View","./_ScrollableMixin"],function(array,_185c,_185d,_185e,_185f,View,_1860){return _185c("dojox.mobile.ScrollableView",[View,_1860],{scrollableParams:null,keepScrollPos:false,constructor:function(){this.scrollableParams={noResize:true};},buildRendering:function(){this.inherited(arguments);_185d.add(this.domNode,"mblScrollableView");this.domNode.style.overflow="hidden";this.domNode.style.top="0px";this.containerNode=_185e.create("div",{className:"mblScrollableViewContainer"},this.domNode);this.containerNode.style.position="absolute";this.containerNode.style.top="0px";if(this.scrollDir==="v"){this.containerNode.style.width="100%";}},startup:function(){if(this._started){return;}if(this.fixedFooter&&!this.isLocalFooter){this._fixedAppFooter=this.fixedFooter;this.fixedFooter="";}this.reparent();this.inherited(arguments);},resize:function(){this.inherited(arguments);array.forEach(this.getChildren(),function(child){if(child.resize){child.resize();}});this._dim=this.getDim();if(this._conn){this.resetScrollBar();}},isTopLevel:function(e){var _1861=this.getParent&&this.getParent();return (!_1861||!_1861.resize);},addFixedBar:function(_1862){var c=_1862.domNode;var fixed=this.checkFixedBar(c,true);if(!fixed){return;}this.domNode.appendChild(c);if(fixed==="top"){this.fixedHeaderHeight=c.offsetHeight;this.isLocalHeader=true;}else{if(fixed==="bottom"){this.fixedFooterHeight=c.offsetHeight;this.isLocalFooter=true;c.style.bottom="0px";}}this.resize();},reparent:function(){var i,idx,len,c;for(i=0,idx=0,len=this.domNode.childNodes.length;i<len;i++){c=this.domNode.childNodes[idx];if(c===this.containerNode||this.checkFixedBar(c,true)){idx++;continue;}this.containerNode.appendChild(this.domNode.removeChild(c));}},onAfterTransitionIn:function(_1863,dir,_1864,_1865,_1866){this.flashScrollBar();},getChildren:function(){var _1867=this.inherited(arguments);var _1868;if(this.fixedHeader&&this.fixedHeader.parentNode===this.domNode){_1868=_185f.byNode(this.fixedHeader);if(_1868){_1867.push(_1868);}}if(this.fixedFooter&&this.fixedFooter.parentNode===this.domNode){_1868=_185f.byNode(this.fixedFooter);if(_1868){_1867.push(_1868);}}return _1867;},_addTransitionPaddingTop:function(value){this.domNode.style.paddingTop=value+"px";this.containerNode.style.paddingTop=value+"px";},_removeTransitionPaddingTop:function(){this.domNode.style.paddingTop="";this.containerNode.style.paddingTop="";}});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1869,has,_186a,_186b){return _1869("dijit.form._FormValueWidget",[_186a,_186b],{_layoutHackIE7:function(){if(has("ie")==7){var _186c=this.domNode;var _186d=_186c.parentNode;var _186e=_186c.firstChild||_186c;var _186f=_186e.style.filter;var _1870=this;while(_186d&&_186d.clientHeight==0){(function ping(){var _1871=_1870.connect(_186d,"onscroll",function(){_1870.disconnect(_1871);_186e.style.filter=(new Date()).getMilliseconds();_1870.defer(function(){_186e.style.filter=_186f;});});})();_186d=_186d.parentNode;}}}});});},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(lang,arr,dxc){dxc.Palette=function(base){this.colors=[];if(base instanceof dxc.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dxc.Color){this.colors=[null,null,base,null,null];}else{if(lang.isArray(base)){this.colors=arr.map(base.slice(0),function(item){if(lang.isString(item)){return new dxc.Color(item);}return item;});}else{if(lang.isString(base)){this.colors=[null,null,new dxc.Color(base),null,null];}}}}};function tRGBA(p,param,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var r=(param=="dr")?item.r+val:item.r,g=(param=="dg")?item.g+val:item.g,b=(param=="db")?item.b+val:item.b,a=(param=="da")?item.a+val:item.a;ret.colors.push(new dxc.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function tCMY(p,param,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmy(),c=(param=="dc")?o.c+val:o.c,m=(param=="dm")?o.m+val:o.m,y=(param=="dy")?o.y+val:o.y;ret.colors.push(dxc.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function tCMYK(p,param,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmyk(),c=(param=="dc")?o.c+val:o.c,m=(param=="dm")?o.m+val:o.m,y=(param=="dy")?o.y+val:o.y,k=(param=="dk")?o.b+val:o.b;ret.colors.push(dxc.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,param,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsl(),h=(param=="dh")?o.h+val:o.h,s=(param=="ds")?o.s+val:o.s,l=(param=="dl")?o.l+val:o.l;ret.colors.push(dxc.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,param,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsv(),h=(param=="dh")?o.h+val:o.h,s=(param=="ds")?o.s+val:o.s,v=(param=="dv")?o.v+val:o.v;ret.colors.push(dxc.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _1872(val,low,high){return high-((high-val)*((high-low)/high));};lang.extend(dxc.Palette,{transform:function(_1873){var fn=tRGBA;if(_1873.use){var use=_1873.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=tCMYK;}else{fn=tCMY;}}}}else{if("dc" in _1873||"dm" in _1873||"dy" in _1873){if("dk" in _1873){fn=tCMYK;}else{fn=tCMY;}}else{if("dh" in _1873||"ds" in _1873){if("dv" in _1873){fn=tHSV;}else{fn=tHSL;}}}}var _1874=this;for(var p in _1873){if(p=="use"){continue;}_1874=fn(_1874,p,_1873[p]);}return _1874;},clone:function(){return new dxc.Palette(this);}});lang.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(arr.map(h,function(hue,i){return dxc.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_1872(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v3),base,dxc.fromHsv(hsv.h,s1,v3),dxc.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,hsv.v),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h2,s2,v1),dxc.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_1872(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h1,s3,v2),dxc.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,_1875=args.da||30,hsv=base.toHsv();var baseh=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(baseh-_1875+360)%360,h2=(baseh+_1875)%360,s1=Math.max(hsv.s-10,0),s2=_1872(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v2),dxc.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v3),dxc.fromHsv(h3,s2,v2)]);},shades:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dxc.fromHsv(hsv.h,s,v1),new dxc.fromHsv(hsv.h,s,v2),base,new dxc.fromHsv(hsv.h,s,v3),new dxc.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(lang.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});return dxc.Palette;});},"viewer/object/shape/Arc":function(){define(["dojo/_base/declare","./Path","dojo/text!./arc.html"],function(_1876,Path,_1877){return _1876("viewer.object.shape.Arc",Path,{templateString:_1877,_radiusX:0,_radiusY:0,_centerX:0,_centerY:0,_centerRelativeX:0,_centerRelativeY:100,_startAngle:0,_sweepAngle:0,buildRendering:function(){if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}this._getRadiusPoint();this._getCenterPoint();this._attr.path[0].startAngle=0;this.inherited(arguments);},setFillColor:function(){},_setProStartAngleAttr:function(v){if(v==null){return;}var _1878=v.toString().split(",");if(_1878.length>1){this._sweepAngle=parseFloat(_1878[1]);v=_1878[0];}var _1879=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._startAngle=parseFloat(v);var tempD=this._describeArc(parseFloat(this._centerX)+_1879,parseFloat(this._centerY)+_1879,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",tempD);},_setProSweepAngleAttr:function(v){if(v==null){return;}var _187a=v.toString().split(",");if(_187a.length>1){this._startAngle=parseFloat(_187a[1]);v=_187a[0];}var _187b=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._sweepAngle=parseFloat(v);var tempD=this._describeArc(parseFloat(this._centerX)+_187b,parseFloat(this._centerY)+_187b,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",tempD);},_getRadiusPoint:function(){if(this._attr.path[0].instruction=="A"){this._radiusX=((this._attr.path[0].geometryWidth)/2)?((this._attr.path[0].geometryWidth)/2):0;this._radiusY=((this._attr.path[0].geometryHeight)/2)?((this._attr.path[0].geometryHeight)/2):0;}},_getCenterPoint:function(){if(this._attr.path[0].instruction=="A"){var _187c=this._attr.path[0].points[0];var _187d=(this._attr.path[0].startAngle-90)*Math.PI/180;this._centerX=_187c.x-this._radiusX*Math.cos(_187d)-this._attr.position.left;this._centerY=_187c.y-this._radiusY*Math.sin(_187d)-this._attr.position.top;var w=parseFloat(this._attr.position.right)-parseFloat(this._attr.position.left);var h=parseFloat(this._attr.position.bottom)-parseFloat(this._attr.position.top);if(w>0){this._centerRelativeX=this._centerX/w*100;}if(h>0){this._centerRelativeY=this._centerY/h*100;}}},_polarToCartesian:function(_187e,_187f,_1880,_1881,_1882){var _1883=(_1882-90)*Math.PI/180;return {x:_187e+(_1880*Math.cos(_1883)),y:_187f+(_1881*Math.sin(_1883))};},_describeArc:function(_1884,_1885,_1886,_1887,_1888,_1889){var end=this._polarToCartesian(_1884,_1885,_1886,_1887,_1889+_1888);var start=this._polarToCartesian(_1884,_1885,_1886,_1887,_1888);var _188a=Math.abs(_1889)>180?"1":"0";var _188b=_1889>0?"1":"0";var d=["M",start.x,start.y,"A",_1886,_1887,0,_188a,_188b,end.x,end.y].join(" ");return d;}});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_188c,_188d,dom,_188e,_188f,_1890,lang,on,_1891,has,_1892,win,_1893,a11y,_1894,dijit){var _1895;var _1896=_188d([_1892,_1890],{curNode:null,activeStack:[],constructor:function(){var check=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_188c.before(_188f,"empty",check);_188c.before(_188f,"destroy",check);},registerIframe:function(_1897){return this.registerWin(_1897.contentWindow,_1897);},registerWin:function(_1898,_1899){var _189a=this,body=_1898.document&&_1898.document.body;if(body){var mdh=on(_1898.document,"mousedown, touchstart",function(evt){_189a._justMouseDowned=true;setTimeout(function(){_189a._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_189a._onTouchNode(_1899||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_1895=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.target)){_189a._onFocusNode(_1899||evt.target);}else{_189a._onTouchNode(_1899||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_1895+100){return;}_189a._onBlurNode(_1899||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _189b=[];try{while(node){var _189c=_188e.get(node,"dijitPopupParent");if(_189c){node=_1894.byId(_189c).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_1893.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_189d=id&&_1894.byId(id);if(_189d&&!(by=="mouse"&&_189d.get("disabled"))){_189b.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_189b,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_189e,by){var _189f=this.activeStack,_18a0=_189f.length-1,_18a1=_189e.length-1;if(_189e[_18a1]==_189f[_18a0]){return;}this.set("activeStack",_189e);var _18a2,i;for(i=_18a0;i>=0&&_189f[i]!=_189e[i];i--){_18a2=_1894.byId(_189f[i]);if(_18a2){_18a2._hasBeenBlurred=true;_18a2.set("focused",false);if(_18a2._focusManager==this){_18a2._onBlur(by);}this.emit("widget-blur",_18a2,by);}}for(i++;i<=_18a1;i++){_18a2=_1894.byId(_189e[i]);if(_18a2){_18a2.set("focused",true);if(_18a2._focusManager==this){_18a2._onFocus(by);}this.emit("widget-focus",_18a2,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _18a3=new _1896();_1891(function(){var _18a4=_18a3.registerWin(_1893.get(document));if(has("ie")){on(window,"unload",function(){if(_18a4){_18a4.remove();_18a4=null;}});}});dijit.focus=function(node){_18a3.focus(node);};for(var attr in _18a3){if(!/^_/.test(attr)){dijit.focus[attr]=typeof _18a3[attr]=="function"?lang.hitch(_18a3,attr):_18a3[attr];}}_18a3.watch(function(attr,_18a5,_18a6){dijit.focus[attr]=_18a6;});return _18a3;});},"dojox/charting/plot2d/Grid":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/sniff","./CartesianBase","./common","dojox/lang/utils","dojox/gfx/fx"],function(lang,_18a7,arr,has,_18a8,dc,du,fx){var _18a9=function(a,b){return a.value-b.value;};return _18a7("dojox.charting.plot2d.Grid",_18a8,{defaultParams:{hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:false,vStripes:false,animate:null,enableCache:false,renderOnAxis:true},optionalParams:{majorHLine:{},minorHLine:{},majorVLine:{},minorVLine:{},hFill:{},vFill:{},hAlternateFill:{},vAlternateFill:{}},constructor:function(chart,_18aa){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_18aa);du.updateWithPattern(this.opt,_18aa,this.optionalParams);this.animate=this.opt.animate;if(this.opt.enableCache){this._lineFreePool=[];this._lineUsePool=[];this._rectFreePool=[];this._rectUsePool=[];}},addSeries:function(run){return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},cleanGroup:function(){this.inherited(arguments);if(this.opt.enableCache){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._rectFreePool=this._rectFreePool.concat(this._rectUsePool);this._rectUsePool=[];}},createLine:function(_18ab,_18ac){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_18ac);_18ab.add(line);}else{line=_18ab.createLine(_18ac);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},createRect:function(_18ad,_18ae){var rect;if(this.opt.enableCache&&this._rectFreePool.length>0){rect=this._rectFreePool.pop();rect.setShape(_18ae);_18ad.add(rect);}else{rect=_18ad.createRect(_18ae);}if(this.opt.enableCache){this._rectUsePool.push(rect);}return rect;},render:function(dim,_18af){if(this.zoom){return this.performZoom(dim,_18af);}this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.getGroup(),ta=this.chart.theme,_18b0,ticks;if((has("ios")&&has("ios")<6)||has("android")||(has("safari")&&!has("ios"))){var w=Math.max(0,dim.width-_18af.l-_18af.r),h=Math.max(0,dim.height-_18af.t-_18af.b);s.createRect({x:_18af.l,y:_18af.t,width:w,height:h});}if(this._vAxis){ticks=this._vAxis.getTicks();var _18b1=this._vAxis.getScaler();if(ticks!=null&&_18b1!=null){var vt=_18b1.scaler.getTransformerFromModel(_18b1);if(this.opt.hStripes){this._renderHRect(ticks,ta.grid,dim,_18af,_18b1,vt);}if(this.opt.hMinorLines){_18b0=this.opt.minorHLine||(ta.grid&&ta.grid.minorLine)||ta.axis.minorTick;this._renderHLines(ticks.minor,_18b0,dim,_18af,_18b1,vt);}if(this.opt.hMajorLines){_18b0=this.opt.majorHLine||(ta.grid&&ta.grid.majorLine)||ta.axis.majorTick;this._renderHLines(ticks.major,_18b0,dim,_18af,_18b1,vt);}}}if(this._hAxis){ticks=this._hAxis.getTicks();var _18b2=this._hAxis.getScaler();if(ticks!=null&&_18b2!=null){var ht=_18b2.scaler.getTransformerFromModel(_18b2);if(this.opt.vStripes){this._renderVRect(ticks,ta.grid,dim,_18af,_18b2,ht);}if(ticks&&this.opt.vMinorLines){_18b0=this.opt.minorVLine||(ta.grid&&ta.grid.minorLine)||ta.axis.minorTick;this._renderVLines(ticks.minor,_18b0,dim,_18af,_18b2,ht);}if(ticks&&this.opt.vMajorLines){_18b0=this.opt.majorVLine||(ta.grid&&ta.grid.majorLine)||ta.axis.majorTick;this._renderVLines(ticks.major,_18b0,dim,_18af,_18b2,ht);}}}this.dirty=false;return this;},_renderHLines:function(ticks,_18b3,dim,_18b4,_18b5,vt){var s=this.getGroup();arr.forEach(ticks,function(tick){if(!this.opt.renderOnAxis&&tick.value==(this._vAxis.opt.leftBottom?_18b5.bounds.from:_18b5.bounds.to)){return;}var y=dim.height-_18b4.b-vt(tick.value);var hLine=this.createLine(s,{x1:_18b4.l,y1:y,x2:dim.width-_18b4.r,y2:y}).setStroke(_18b3);if(this.animate){this._animateGrid(hLine,"h",_18b4.l,_18b4.r+_18b4.l-dim.width);}},this);},_renderVLines:function(ticks,_18b6,dim,_18b7,_18b8,ht){var s=this.getGroup();arr.forEach(ticks,function(tick){if(!this.opt.renderOnAxis&&tick.value==(this._hAxis.opt.leftBottom?_18b8.bounds.from:_18b8.bounds.to)){return;}var x=_18b7.l+ht(tick.value);var vLine=this.createLine(s,{x1:x,y1:_18b7.t,x2:x,y2:dim.height-_18b7.b}).setStroke(_18b6);if(this.animate){this._animateGrid(vLine,"v",dim.height-_18b7.b,dim.height-_18b7.b-_18b7.t);}},this);},_renderHRect:function(ticks,theme,dim,_18b9,_18ba,vt){var fill,tick,y,y2,_18bb;var _18bc=ticks.major.concat(ticks.minor);_18bc.sort(_18a9);if(_18bc[0].value>_18ba.bounds.from){_18bc.splice(0,0,{value:_18ba.bounds.from});}if(_18bc[_18bc.length-1].value<_18ba.bounds.to){_18bc.push({value:_18ba.bounds.to});}var s=this.getGroup();for(var j=0;j<_18bc.length-1;j++){tick=_18bc[j];y=dim.height-_18b9.b-vt(tick.value);y2=dim.height-_18b9.b-vt(_18bc[j+1].value);fill=(j%2==0)?(this.opt.hAlternateFill||(theme&&theme.alternateFill)):(this.opt.hFill||(theme&&theme.fill));if(fill){_18bb=this.createRect(s,{x:_18b9.l,y:y,width:dim.width-_18b9.r,height:y-y2}).setFill(fill);if(this.animate){this._animateGrid(_18bb,"h",_18b9.l,_18b9.r+_18b9.l-dim.width);}}}},_renderVRect:function(ticks,theme,dim,_18bd,_18be,ht){var fill,tick,x,x2,_18bf;var _18c0=ticks.major.concat(ticks.minor);_18c0.sort(_18a9);if(_18c0[0].value>_18be.bounds.from){_18c0.splice(0,0,{value:_18be.bounds.from});}if(_18c0[_18c0.length-1].value<_18be.bounds.to){_18c0.push({value:_18be.bounds.to});}var s=this.getGroup();for(var j=0;j<_18c0.length-1;j++){tick=_18c0[j];x=_18bd.l+ht(tick.value);x2=_18bd.l+ht(_18c0[j+1].value);fill=(j%2==0)?(this.opt.vAlternateFill||(theme&&theme.alternateFill)):(this.opt.vFill||(theme&&theme.fill));if(fill){_18bf=this.createRect(s,{x:x,y:_18bd.t,width:x2-x,height:dim.width-_18bd.r}).setFill(fill);if(this.animate){this._animateGrid(_18bf,"v",dim.height-_18bd.b,dim.height-_18bd.b-_18bd.t);}}}},_animateGrid:function(shape,type,_18c1,size){var _18c2=type=="h"?[_18c1,0]:[0,_18c1];var _18c3=type=="h"?[1/size,1]:[1,1/size];fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:_18c2,end:[0,0]},{name:"scale",start:_18c3,end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_18c4,has,_18c5){var _18c6;if(1){_18c6=function(url,sync,load){_18c5(url,{sync:!!sync}).then(load);};}else{if(_18c4.getText){_18c6=_18c4.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _18c7={},strip=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _18c8=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_18c8){text=_18c8[1];}}else{text="";}return text;},_18c9={},_18ca={};dojo.cache=function(_18cb,url,value){var key;if(typeof _18cb=="string"){if(/\//.test(_18cb)){key=_18cb;value=url;}else{key=_18c4.toUrl(_18cb.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_18cb+"";value=url;}var val=(value!=undefined&&typeof value!="string")?value.value:value,_18cc=value&&value.sanitize;if(typeof val=="string"){_18c7[key]=val;return _18cc?strip(val):val;}else{if(val===null){delete _18c7[key];return null;}else{if(!(key in _18c7)){_18c6(key,true,function(text){_18c7[key]=text;});}return _18cc?strip(_18c7[key]):_18c7[key];}}};return {dynamic:true,normalize:function(id,_18cd){var parts=id.split("!"),url=parts[0];return (/^\./.test(url)?_18cd(url):url)+(parts[1]?"!"+parts[1]:"");},load:function(id,_18ce,load){var parts=id.split("!"),_18cf=parts.length>1,_18d0=parts[0],url=_18ce.toUrl(parts[0]),_18d1="url:"+url,text=_18c9,_18d2=function(text){load(_18cf?strip(text):text);};if(_18d0 in _18c7){text=_18c7[_18d0];}else{if(_18ce.cache&&_18d1 in _18ce.cache){text=_18ce.cache[_18d1];}else{if(url in _18c7){text=_18c7[url];}}}if(text===_18c9){if(_18ca[url]){_18ca[url].push(_18d2);}else{var _18d3=_18ca[url]=[_18d2];_18c6(url,!_18ce.async,function(text){_18c7[_18d0]=_18c7[url]=text;for(var i=0;i<_18d3.length;){_18d3[i++](text);}delete _18ca[url];});}}else{_18d2(text);}}};});},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(dojox,lang){var du=lang.getObject("lang.utils",true,dojox);var empty={},opts=Object.prototype.toString;var clone=function(o){if(o){switch(opts.call(o)){case "[object Array]":return o.slice(0);case "[object Object]":return lang.delegate(o);}}return o;};lang.mixin(du,{coerceType:function(_18d4,_18d5){switch(typeof _18d4){case "number":return Number(eval("("+_18d5+")"));case "string":return String(_18d5);case "boolean":return Boolean(eval("("+_18d5+")"));}return eval("("+_18d5+")");},updateWithObject:function(_18d6,_18d7,conv){if(!_18d7){return _18d6;}for(var x in _18d6){if(x in _18d7&&!(x in empty)){var t=_18d6[x];if(t&&typeof t=="object"){du.updateWithObject(t,_18d7[x],conv);}else{_18d6[x]=conv?du.coerceType(t,_18d7[x]):clone(_18d7[x]);}}}return _18d6;},updateWithPattern:function(_18d8,_18d9,_18da,conv){if(!_18d9||!_18da){return _18d8;}for(var x in _18da){if(x in _18d9&&!(x in empty)){_18d8[x]=conv?du.coerceType(_18da[x],_18d9[x]):clone(_18d9[x]);}}return _18d8;},merge:function(_18db,mixin){if(mixin){var otype=opts.call(_18db),mtype=opts.call(mixin),t,i,l,m;switch(mtype){case "[object Array]":if(mtype==otype){t=new Array(Math.max(_18db.length,mixin.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_18db[i],mixin[i]);}return t;}return mixin.slice(0);case "[object Object]":if(mtype==otype&&_18db){t=lang.delegate(_18db);for(i in mixin){if(i in _18db){l=_18db[i];m=mixin[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=lang.clone(mixin[i]);}}return t;}return lang.clone(mixin);}}return mixin;}});return du;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_18dc,has,array,_18dd,lang,xhr,json,_18de){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _18df=dojo.i18n={},nlsRe=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_18e0=function(root,_18e1,_18e2,_18e3){for(var _18e4=[_18e2+_18e3],_18e5=_18e1.split("-"),_18e6="",i=0;i<_18e5.length;i++){_18e6+=(_18e6?"-":"")+_18e5[i];if(!root||root[_18e6]){_18e4.push(_18e2+_18e6+"/"+_18e3);_18e4.specificity=_18e6;}}return _18e4;},cache={},_18e7=function(_18e8,_18e9,_18ea){_18ea=_18ea?_18ea.toLowerCase():dojo.locale;_18e8=_18e8.replace(/\./g,"/");_18e9=_18e9.replace(/\./g,"/");return (/root/i.test(_18ea))?(_18e8+"/nls/"+_18e9):(_18e8+"/nls/"+_18ea+"/"+_18e9);},_18eb=dojo.getL10nName=function(_18ec,_18ed,_18ee){return _18ec=_18de.id+"!"+_18e7(_18ec,_18ed,_18ee);},_18ef=function(_18f0,_18f1,_18f2,_18f3,_18f4,load){_18f0([_18f1],function(root){var _18f5=lang.clone(root.root),_18f6=_18e0(!root._v1x&&root,_18f4,_18f2,_18f3);_18f0(_18f6,function(){for(var i=1;i<_18f6.length;i++){_18f5=lang.mixin(lang.clone(_18f5),arguments[i]);}var _18f7=_18f1+"/"+_18f4;cache[_18f7]=_18f5;_18f5.$locale=_18f6.specificity;load();});});},_18f8=function(id,_18f9){return /^\./.test(id)?_18f9(id):id;},_18fa=function(_18fb){var list=_18dd.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_18fb);return list;},load=function(id,_18fc,load){if(has("dojo-preload-i18n-Api")){var split=id.split("*"),_18fd=split[1]=="preload";if(_18fd){if(!cache[id]){cache[id]=1;_18fe(split[2],json.parse(split[3]),1,_18fc);}load(1);}if(_18fd||_18ff(id,_18fc,load)){return;}}var match=nlsRe.exec(id),_1900=match[1]+"/",_1901=match[5]||match[4],_1902=_1900+_1901,_1903=(match[5]&&match[4]),_1904=_1903||dojo.locale||"",_1905=_1902+"/"+_1904,_1906=_1903?[_1904]:_18fa(_1904),_1907=_1906.length,_1908=function(){if(!--_1907){load(lang.delegate(cache[_1905]));}};array.forEach(_1906,function(_1909){var _190a=_1902+"/"+_1909;if(has("dojo-preload-i18n-Api")){_190b(_190a);}if(!cache[_190a]){_18ef(_18fc,_1902,_1900,_1901,_1909,_1908);}else{_1908();}});};if(has("dojo-unit-tests")){var _190c=_18df.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _190d=_18df.normalizeLocale=function(_190e){var _190f=_190e?_190e.toLowerCase():dojo.locale;return _190f=="root"?"ROOT":_190f;},isXd=function(mid,_1910){return (1&&1)?_1910.isXdUrl(_18dc.toUrl(mid+".js")):true;},_1911=0,_1912=[],_18fe=_18df._preloadLocalizations=function(_1913,_1914,_1915,_1916){_1916=_1916||_18dc;function _1917(mid,_1918){if(isXd(mid,_1916)||_1915){_1916([mid],_1918);}else{_1921([mid],_1918,_1916);}};function _1919(_191a,func){var parts=_191a.split("-");while(parts.length){if(func(parts.join("-"))){return;}parts.pop();}func("ROOT");};function _191b(_191c){_191c=_190d(_191c);_1919(_191c,function(loc){if(array.indexOf(_1914,loc)>=0){var mid=_1913.replace(/\./g,"/")+"_"+loc;_1911++;_1917(mid,function(_191d){for(var p in _191d){cache[_18dc.toAbsMid(p)+"/"+loc]=_191d[p];}--_1911;while(!_1911&&_1912.length){load.apply(null,_1912.shift());}});return true;}return false;});};_191b();array.forEach(dojo.config.extraLocale,_191b);},_18ff=function(id,_191e,load){if(_1911){_1912.push([id,_191e,load]);}return _1911;},_190b=function(){};}if(1){var _191f={},_1920=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_1921=function(deps,_1922,_1923){var _1924=[];array.forEach(deps,function(mid){var url=_1923.toUrl(mid+".js");function load(text){var _1925=_1920(text,_190b,mid,_191f);if(_1925===_191f){_1924.push(cache[url]=_191f.result);}else{if(_1925 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_1925);_1925={};}_1924.push(cache[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_1925:{root:_1925,_v1x:1}));}};if(cache[url]){_1924.push(cache[url]);}else{var _1926=_1923.syncLoadNls(mid);if(_1926){_1924.push(_1926);}else{if(!xhr){try{_1923.getText(url,true,load);}catch(e){_1924.push(cache[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_1924.push(cache[url]={});}});}}}});_1922&&_1922.apply(null,_1924);};_190b=function(_1927){for(var _1928,names=_1927.split("/"),_1929=dojo.global[names[0]],i=1;_1929&&i<names.length-1;_1929=_1929[names[i++]]){}if(_1929){_1928=_1929[names[i]];if(!_1928){_1928=_1929[names[i].replace(/-/g,"_")];}if(_1928){cache[_1927]=_1928;}}return _1928;};_18df.getLocalization=function(_192a,_192b,_192c){var _192d,_192e=_18e7(_192a,_192b,_192c);load(_192e,(!isXd(_192e,_18dc)?function(deps,_192f){_1921(deps,_192f,_18dc);}:_18dc),function(_1930){_192d=_1930;});return _192d;};if(has("dojo-unit-tests")){_190c.push(function(doh){doh.register("tests.i18n.unit",function(t){var check;check=_1920("{prop:1}",_190b,"nonsense",_191f);t.is({prop:1},check);t.is(undefined,check[1]);check=_1920("({prop:1})",_190b,"nonsense",_191f);t.is({prop:1},check);t.is(undefined,check[1]);check=_1920("{'prop-x':1}",_190b,"nonsense",_191f);t.is({"prop-x":1},check);t.is(undefined,check[1]);check=_1920("({'prop-x':1})",_190b,"nonsense",_191f);t.is({"prop-x":1},check);t.is(undefined,check[1]);check=_1920("define({'prop-x':1})",_190b,"nonsense",_191f);t.is(_191f,check);t.is({"prop-x":1},_191f.result);check=_1920("define('some/module', {'prop-x':1})",_190b,"nonsense",_191f);t.is(_191f,check);t.is({"prop-x":1},_191f.result);check=_1920("this is total nonsense and should throw an error",_190b,"nonsense",_191f);t.is(check instanceof Error,true);});});}}return lang.mixin(_18df,{dynamic:true,normalize:_18f8,load:load,cache:cache,getL10nName:_18eb});});},"viewer/misc/gui/helpers/css":function(){define(["../../enums","./common"],function(enums,_1931){var _1932=function(){};_1932.setVisibility=_1931.setVisibility;_1932.getVisibility=_1931.getVisibility;_1932.setBackground=_1931.setBackground;_1932.getBackground=_1931.getBackground;_1932.setBackgroundColor=_1931.setBackgroundColor;_1932.getBackgroundColor=_1931.getBackgroundColor;_1932.setBackgroundImage=_1931.setBackgroundImage;_1932.getBackgroundImage=_1931.getBackgroundImage;_1932.setBorder=_1931.setBorder;_1932.getBorder=_1931.getBorder;_1932.setWidth=_1931.setWidth;_1932.getWidth=_1931.getWidth;_1932.setHeight=_1931.setHeight;_1932.getHeight=_1931.getHeight;_1932.setLeft=_1931.setLeft;_1932.getLeft=_1931.getLeft;_1932.setRight=_1931.setRight;_1932.getRight=_1931.getRight;_1932.setTop=_1931.setTop;_1932.getTop=_1931.getTop;_1932.setBottom=_1931.setBottom;_1932.getBottom=_1931.getBottom;_1932.setClip=_1931.setClip;_1932.getClip=_1931.getClip;_1932.setAlignToVertical=_1931.setAlignToVertical;_1932.setAlignToText=_1931.setAlignToText;_1932.setMultieLineAndWrap=_1931.setMultieLineAndWrap;_1932.setAlignToPosition=_1931.setAlignToPosition;_1932.setPosition=_1931.setPosition;_1932.getPosition=_1931.getPosition;_1932.getOpacity=_1931.getOpacity;_1932.setOverflow=_1931.setOverflow;_1932.getOverflow=_1931.getOverflow;_1932.setWordWrap=_1931.setWordWrap;_1932.setWhiteSpace=_1931.setWhiteSpace;_1932.getWhiteSpace=_1931.getWhiteSpace;_1932.setTextAlign=_1931.setTextAlign;_1932.getTextAlign=_1931.getTextAlign;_1932.setVerticalAlign=_1931.setVerticalAlign;_1932.getVerticalAlign=_1931.getVerticalAlign;_1932.setFontFamily=_1931.setFontFamily;_1932.getFontFamily=_1931.getFontFamily;_1932.setFontSize=_1931.setFontSize;_1932.getFontSize=_1931.getFontSize;_1932.setFontWeight=_1931.setFontWeight;_1932.getFontWeight=_1931.getFontWeight;_1932.setCssColor=_1931.setColor;_1932.getColor=_1931.getColor;_1932.setMargin=_1931.setMargin;_1932.getMargin=_1931.getMargin;_1932.setPadding=_1931.setPadding;_1932.getPadding=_1931.getPadding;_1932.setBorderTop=_1931.setBorderTop;_1932.setBorderLeft=_1931.setBorderLeft;_1932.setBorderStyle=_1931.setBorderStyle;_1932.getBorderStyle=_1931.getBorderStyle;_1932.setBorderWidth=_1931.setBorderWidth;_1932.getBorderWidth=_1931.getBorderWidth;_1932.setBorderColor=_1931.setBorderColor;_1932.getBorderColor=_1931.getBorderColor;_1932.setStroke=_1931.setStroke;_1932.getStroke=_1931.getStroke;_1932.setStrokeWidth=_1931.setStrokeWidth;_1932.getStrokeWidth=_1931.getStrokeWidth;_1932.setStrokeDasharray=_1931.setStrokeDasharray;_1932.getStrokeDasharray=_1931.getStrokeDasharray;_1932.setDisplay=_1931.setDisplay;_1932.getDisplay=_1931.getDisplay;_1932.setDirection=_1931.setDirection;_1932.getDirection=_1931.getDirection;_1932.setTransform=_1931.setTransform;_1932.getTransform=_1931.getTransform;_1932.setTransformOrigin=_1931.setTransformOrigin;_1932.getTransformOrigin=_1931.getTransformOrigin;_1932.applyTransform=_1931.applyTransform;_1932.applyOrigin=_1931.applyOrigin;_1932.addClass=_1931.addClass;_1932.removeClass=_1931.removeClass;_1932.setOpacity=_1931.setOpacity;_1932.setCssOpacity=_1931.setCssOpacity;_1932.setText=_1931.setText;_1932.getTransformMatrix=_1931.getTransformMatrix;_1932.getTransformTranslateX=_1931.getTransformTranslateX;_1932.getTransformTranslateY=_1931.getTransformTranslateY;_1932.getTransformScaleX=_1931.getTransformScaleX;_1932.getTransformScaleY=_1931.getTransformScaleY;_1932.setColor=function(n,c,_1933){var func;func=_1933==="color"?this.setCssColor:this.setBackgroundColor;if(c.style!=enums.EnumColorExStyle.NONE){func(n,c.color);}else{func(n,"transparent");}};_1932.parseBorderStyle=function(props){var _1934=_1931.parseBorderStyle(props);if(_1934.style==="0"){_1934.style="solid";}return _1934;};_1932.setAttr=function(n,a,v){n.setAttribute(a,v);};return _1932;});},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(_1935,_1936){return _1935("dojox.charting.plot2d.Markers",_1936,{constructor:function(){this.opt.markers=true;}});});},"dojox/charting/plot2d/Columns":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_1937,has,_1938,_1939,dc,df,dfr,du,fx){var _193a=dfr.lambda("item.purgeGroup()");return _1937("dojox.charting.plot2d.Columns",[_1938,_1939],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(chart,_193b){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_193b);du.updateWithPattern(this.opt,_193b,this.optionalParams);this.animate=this.opt.animate;},getSeriesStats:function(){var stats=dc.collectSimpleStats(this.series);stats.hmin-=0.5;stats.hmax+=0.5;return stats;},createRect:function(run,_193c,_193d){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_193d);_193c.add(rect);}else{rect=_193c.createRect(_193d);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},render:function(dim,_193e){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_193e);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_193a);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_193f=Math.max(0,this._vScaler.bounds.lower),_1940=vt(_193f),_1941=this.events();var bar=this.getBarProperties();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var theme=t.next("column",[this.opt,run]),_1942=new Array(run.data.length);s=run.group;var _1943=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_1943?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0;var max=_1943?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var value=run.data[j];if(value!=null){var val=this.getValue(value,j,i,_1943),vv=vt(val.y),h=Math.abs(vv-_1940),_1944,_1945;if(this.opt.styleFunc||typeof value!="number"){var _1946=typeof value!="number"?[value]:[];if(this.opt.styleFunc){_1946.push(this.opt.styleFunc(value));}_1944=t.addMixin(theme,"column",_1946,true);}else{_1944=t.post(theme,"column");}if(bar.width>=1&&h>=0){var rect={x:_193e.l+ht(val.x+0.5)+bar.gap+bar.thickness*i,y:dim.height-_193e.b-(val.y>_193f?vv:_1940),width:bar.width,height:h};if(_1944.series.shadow){var srect=lang.clone(rect);srect.x+=_1944.series.shadow.dx;srect.y+=_1944.series.shadow.dy;_1945=this.createRect(run,s,srect).setFill(_1944.series.shadow.color).setStroke(_1944.series.shadow);if(this.animate){this._animateColumn(_1945,dim.height-_193e.b+_1940,h);}}var _1947=this._plotFill(_1944.series.fill,dim,_193e);_1947=this._shapeFill(_1947,rect);var shape=this.createRect(run,s,rect).setFill(_1947).setStroke(_1944.series.stroke);if(shape.setFilter&&_1944.series.filter){shape.setFilter(_1944.series.filter);}run.dyn.fill=shape.getFill();run.dyn.stroke=shape.getStroke();if(_1941){var o={element:"column",index:j,run:run,shape:shape,shadow:_1945,cx:val.x+0.5,cy:val.y,x:_1943?j:run.data[j].x,y:_1943?run.data[j]:run.data[j].y};this._connectEvents(o);_1942[j]=o;}if(!isNaN(val.py)&&val.py>_193f){rect.height=vv-vt(val.py);}this.createLabel(s,value,rect,_1944);if(this.animate){this._animateColumn(shape,dim.height-_193e.b-_1940,h);}}}}this._eventSeries[run.name]=_1942;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_193e);}return this;},getValue:function(value,j,_1948,_1949){var y,x;if(_1949){if(typeof value=="number"){y=value;}else{y=value.y;}x=j;}else{y=value.y;x=value.x-1;}return {x:x,y:y};},getBarProperties:function(){var f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);return {gap:f.gap,width:f.size,thickness:0};},_animateColumn:function(shape,_194a,vsize){if(vsize==0){vsize=1;}fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,_194a-(_194a/vsize)],end:[0,0]},{name:"scale",start:[1,1/vsize],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_194b,_194c){var _194d={};lang.setObject("dojo.data.util.simpleFetch",_194d);_194d.errorHandler=function(_194e,_194f){if(_194f.onError){var scope=_194f.scope||_194b.global;_194f.onError.call(scope,_194e,_194f);}};_194d.fetchHandler=function(items,_1950){var _1951=_1950.abort||null,_1952=false,_1953=_1950.start?_1950.start:0,_1954=(_1950.count&&(_1950.count!==Infinity))?(_1953+_1950.count):items.length;_1950.abort=function(){_1952=true;if(_1951){_1951.call(_1950);}};var scope=_1950.scope||_194b.global;if(!_1950.store){_1950.store=this;}if(_1950.onBegin){_1950.onBegin.call(scope,items.length,_1950);}if(_1950.sort){items.sort(_194c.createSortFunction(_1950.sort,this));}if(_1950.onItem){for(var i=_1953;(i<items.length)&&(i<_1954);++i){var item=items[i];if(!_1952){_1950.onItem.call(scope,item,_1950);}}}if(_1950.onComplete&&!_1952){var _1955=null;if(!_1950.onItem){_1955=items.slice(_1953,_1954);}_1950.onComplete.call(scope,_1955,_1950);}};_194d.fetch=function(_1956){_1956=_1956||{};if(!_1956.store){_1956.store=this;}this._fetchItems(_1956,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));return _1956;};return _194d;});},"viewer/object/shape/RoundedRectangle":function(){define(["dojo/_base/declare","../_base","../../misc/enums","dojo/text!./roundedRectangle.html"],function(_1957,_1958,enums,_1959){return _1957("viewer.object.shape.RoundedRectangle",_1958,{templateString:_1959,roundness:null,buildRendering:function(){this._attr.roundness.x=this._attr.roundness.x/2;this._attr.roundness.y=this._attr.roundness.y/2;this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);},_setWidthAttr:function(v){this._setGeometryValue(null,null,v,null);this._inflate();},_setHeightAttr:function(v){this._setGeometryValue(null,null,null,v);this._inflate();},_inflate:function(){if(!this._attr.border){return;}this.parseInflate();this._guiHelper.setTop(this.domNode,this._inflatedPosition.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left+"px");this._setMatrixOrigin(this._inflatedPosition.left,this._inflatedPosition.top);var width=Math.abs((this._inflatedPosition.right-this._inflatedPosition.left))+"px";var _195a=Math.abs((this._inflatedPosition.bottom-this._inflatedPosition.top))+"px";this._guiHelper.setWidth(this.domNode,width);this._guiHelper.setHeight(this.domNode,_195a);this._guiHelper.setAttribute(this.domNode,"width",width);this._guiHelper.setAttribute(this.domNode,"height",_195a);this._guiHelper.setAttribute(this._xComponent,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this._xComponent,"height",this._attr.size.h+"px");this._guiHelper.setAttribute(this._xComponent,"x",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xComponent,"y",this._inflatedPosition.factor+"px");}});});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(array,_195b,dom,_195c,has,lang,on,_195d,touch,win,_195e,_195f){var _1960=_195b("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);array.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(event){if(!this.disabled){switch(event.type){case "mouseover":case "MSPointerOver":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _1961=this.baseClass.split(" ");function _1962(_1963){_1961=_1961.concat(array.map(_1961,function(c){return c+_1963;}),"dijit"+_1963);};if(!this.isLeftToRight()){_1962("Rtl");}var _1964=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_1962(_1964);}if(this.state){_1962(this.state);}if(this.selected){_1962("Selected");}if(this._opened){_1962("Opened");}if(this.disabled){_1962("Disabled");}else{if(this.readOnly){_1962("ReadOnly");}else{if(this.active){_1962("Active");}else{if(this.hovering){_1962("Hover");}}}}if(this.focused){_1962("Focused");}var tn=this.stateNode||this.domNode,_1965={};array.forEach(tn.className.split(" "),function(c){_1965[c]=true;});if("_stateClasses" in this){array.forEach(this._stateClasses,function(c){delete _1965[c];});}array.forEach(_1961,function(c){_1965[c]=true;});var _1966=[];for(var c in _1965){_1966.push(c);}tn.className=_1966.join(" ");this._stateClasses=_1961;},_subnodeCssMouseEvent:function(node,clazz,evt){if(this.disabled||this.readOnly){return;}function hover(_1967){_195c.toggle(node,clazz+"Hover",_1967);};function _1968(_1969){_195c.toggle(node,clazz+"Active",_1969);};function _196a(_196b){_195c.toggle(node,clazz+"Focused",_196b);};switch(evt.type){case "mouseover":case "MSPointerOver":hover(true);break;case "mouseout":case "MSPointerOut":hover(false);_1968(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":_1968(true);break;case "mouseup":case "MSPointerUp":case "dojotouchend":case "keyup":_1968(false);break;case "focus":case "focusin":_196a(true);break;case "blur":case "focusout":_196a(false);break;}},_trackMouseState:function(node,clazz){node._cssState=clazz;}});_195d(function(){function _196c(evt,_196d,_196e){if(_196e&&dom.isDescendant(_196e,_196d)){return;}for(var node=_196d;node&&node!=_196e;node=node.parentNode){if(node._cssState){var _196f=_195f.getEnclosingWidget(node);if(_196f){if(node==_196f.domNode){_196f._cssMouseEvent(evt);}else{_196f._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_1970;on(body,touch.over,function(evt){_196c(evt,evt.target,evt.relatedTarget);});on(body,touch.out,function(evt){_196c(evt,evt.target,evt.relatedTarget);});on(body,_195e.press,function(evt){_1970=evt.target;_196c(evt,_1970);});on(body,_195e.release,function(evt){_196c(evt,_1970);_1970=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _1971=_195f.getEnclosingWidget(node);if(_1971){_1971._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _1960;});},"viewer/object/action/Text":function(){define(["dojo/_base/declare","dojo/_base/lang","../_base","../../misc/enums","../../misc/common/textMetrics","dojo/text!./text.html","dojo/dom-construct"],function(_1972,lang,_1973,enums,_1974,_1975,_1976){return _1972("viewer.object.action.Text",_1973,{templateString:_1975,_proColorName:"color",_componentType:enums.EnumComponentType.REGULAR,_mask:null,_isTextSizeCalculated:false,caption:null,_compoundFont:null,_resizeSampleText:"",_lastScaleMatrix:null,_lastScaleOrigin:null,_scaleX:null,_scaleY:null,_scaleOffsetX:null,_scaleOffsetY:null,_scaleOriginX:null,_scaleOriginY:null,_started:null,buildRendering:function(){this._attr.align=this._attr.align.toLowerCase().replace(/'/g,"");this._attr.alignVertical=this._attr.alignVertical.toLowerCase().replace(/'/g,"");if(!this._attr.font.sizeInPoints){this._attr.font.sizeInPoints=this._attr.font.height||10;}this.inherited(arguments);},startup:function(){this.inherited(arguments);if((dojo.isIE||dojo.isMoz)&&this._attr.background&&this._attr.background.style===enums.EnumColorExStyle.NONE){this._attr.background.style=enums.EnumColorExStyle.SOLID;this._attr.background.color="rgba(255,255,255,0.01)";}this._proColorName="background-color";if(this._attr.background){this.setColor(this._attr.background);}this._proColorName="color";this._compoundFont=this._xComponent.style.fontWeight+" "+this._xComponent.style.fontSize+" "+this._xComponent.style.fontFamily;},updateDOM:function(){this.inherited(arguments);this._started=true;if(this._lastScaleMatrix!=null||this._lastScaleOrigin!=null){var mtx=this._lastScaleMatrix;var _1977=this._lastScaleOrigin;this._lastScaleMatrix=null;this._lastScaleOrigin=null;this._updateScaledMatrix(mtx,_1977);}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(this._attr.size.w==0||this._attr.size.h==0){dojo.style(this._xComponent,"display","none");}else{dojo.style(this._xComponent,"display","");}}},resetAttrFromCache:function(){var _1978=this._xComponent.style.left;var _1979=this._xComponent.style.top;var _197a=this._xComponent.style.width;var _197b=this._xComponent.style.height;this.inherited(arguments);this._xComponent.style.left=_1978;this._xComponent.style.top=_1979;this._xComponent.style.width=_197a;this._xComponent.style.height=_197b;},_ChangeText:function(value){if(this._attr._animations&&this._attr._animations.textDataLink&&this._attr._animations.textDataLink._animProps.inputEnabled&&this._attr._animations.textDataLink._widgetMask&&this._attr._animations.textDataLink._mask){var _197c=this._attr._animations.textDataLink._widgetMask.replace(this._attr._animations.textDataLink._mask,"");return _197c.trim()+this._attr._animations.textDataLink._animProps.tagExpression.substring(0,this._attr._animations.textDataLink._mask.length);}return value;},_setCaptionAttr:function(value){if(this._mask===""||this._mask===null){this._mask=value;}this._attr.caption=this._ChangeText(value);this._xComponent.textContent=this._attr.caption;this._guiHelper.setWhiteSpace(this._xComponent,"pre");this._isTextSizeCalculated=false;this._parseBoxSize();if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(this._attr.caption.indexOf("\r\n")>-1||this._attr.caption.indexOf("\n\n")>-1){this._guiHelper.setTextAlign(this._xComponent,"left");}else{this._guiHelper.setTextAlign(this._xComponent,this._attr.align);}}},_getCaptionAttr:function(v){return this._attr.caption;},_getMaskAttr:function(v){return this._mask;},_getComponent:function(){return this._xComponent;},_getAbsBoundBaseRect:function(){if(this._xComponent.style.width!=null&&this._xComponent.style.width!=""&&this._xComponent.style.height!=null&&this._xComponent.style.height!=""){var x=parseFloat(this._originalGeometry.x);var y=parseFloat(this._originalGeometry.y);var w=parseFloat(this._xComponent.style.width);var h=parseFloat(this._xComponent.style.height);if(enums.EnumAlignHorizontal.RIGHT.toLowerCase()===this._attr.align){x=x+this._originalGeometry.w-w;}else{if(enums.EnumAlignHorizontal.CENTER.toLowerCase()===this._attr.align){x=x+0.5*(this._originalGeometry.w-w);}}if(enums.EnumAlignVertical.BOTTOM.toLowerCase()===this._attr.alignVertical){y=y+this._originalGeometry.h-h;}else{if(enums.EnumAlignVertical.CENTER.toLowerCase()===this._attr.alignVertical){y=y+0.5*(this._originalGeometry.h-h);}}return {"x":x,"y":y,"w":w,"h":h};}else{return this._originalGeometry;}},_setResizeCharAttr:function(v){this._resizeChar=v;this._isTextSizeCalculated=false;this._parseBoxSize();},_parseBoxSize:function(){if(this._isTextSizeCalculated===true||this._attr.caption.isExp===true){return;}if(this._mask===""||this._mask===null){return;}var _197d=this._getWrapperNodeAttr();var _197e="";if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){_197e=this._attr.caption.replace(/ /g,"B");}else{_197e=this._attr.caption.replace(/#/g,"B");}var _197f=this._attr.position.left,_1980=this._attr.position.top,_1981=_1974.textSize(_197e,this._compoundFont);var _1982=Math.ceil(_1981.w);var _1983=Math.ceil(_1981.h);if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(this._attr.size.w==0){_1982=0;}if(this._attr.size.h==0){_1983=0;}}var _1984=_1981.lineCounts;if(dojo.isIE||dojo.isMoz){_1982+=2;}var _1985=false;if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(_197d===this.domNode){var _1986=0;var _1987=0;if(enums.EnumAlignHorizontal.CENTER.toLowerCase()===this._attr.align){_1986=(((_1982-this._attr.size.w)/2)+((_1982-this._attr.size.w)%2));}else{if(enums.EnumAlignHorizontal.RIGHT.toLowerCase()===this._attr.align){_1986=_1982-this._attr.size.w;}}if(enums.EnumAlignVertical.CENTER.toLowerCase()===this._attr.alignVertical){_1987=(((_1983-this._attr.size.h)/2)+((_1983-this._attr.size.h)%2));}else{if(enums.EnumAlignVertical.BOTTOM.toLowerCase()===this._attr.alignVertical){_1987=_1983-this._attr.size.h;}}if(this._matrix!=null&&this._matrix!=""){var mtx=this._matrix.split(",");if(mtx.length>=6){var _1988=parseFloat(mtx[0])*_1986+parseFloat(mtx[2])*_1987;var _1989=parseFloat(mtx[1])*_1986+parseFloat(mtx[3])*_1987;_1986=_1988;_1987=_1989;}}this._xComponent.style.left=(_197f-_1986)+"px";this._xComponent.style.top=(_1980-_1987)+"px";_1985=true;}else{if(this._started&&this._lastScaleOrigin!=null){var newH=_1983;var newW=_1982;if(this._scaleX!=null&&this._scaleX!=0){newW/=Math.abs(this._scaleX);}if(this._scaleY!=null&&this._scaleY!=0){newH/=Math.abs(this._scaleY);}_197f=this._scaleOriginX*(this._attr.size.w-_1982);_1980=this._scaleOriginY*(this._attr.size.h-_1983);this._xComponent.style.left=_197f+"px";this._xComponent.style.top=_1980+"px";_1985=true;}}this._xComponent.style.width=_1982+"px";this._xComponent.style.height=_1983+"px";if(this._xComponent.style.lineHeight!=null){this._xComponent.style.lineHeight=(_1983/_1984)+"px";}}else{if(_1982>this._attr.size.w){this._xComponent.style.width=_1982+"px";if(enums.EnumAlignHorizontal.CENTER.toLowerCase()===this._attr.align){_197f-=(((_1982-this._attr.size.w)/2)+((_1982-this._attr.size.w)%2));}else{if(enums.EnumAlignHorizontal.RIGHT.toLowerCase()===this._attr.align){_197f+=Math.abs(this._attr.size.w-_1982);}}this._xComponent.style.left=_197f+"px";_1985=true;}else{this._xComponent.style.left=this._attr.position.left+"px";}}this._isTextSizeCalculated=true;this.updateInflateValue(_1982,_1983);if(!_1985){this.updateRotation();}},getAlign:function(){return this._attr.align;},getAlignVertical:function(){return this._attr.alignVertical;},getTextWidth:function(){return _1974.textWidth(this._attr.caption,this._compoundFont);},updateInflateValue:function(_198a,_198b){this._inflatedPosition={};var _198c=0;var _198d=0;if(enums.EnumAlignHorizontal.CENTER.toLowerCase()===this._attr.align){_198c=(((_198a-this._attr.size.w)/2)+((_198a-this._attr.size.w)%2));}else{if(enums.EnumAlignHorizontal.RIGHT.toLowerCase()===this._attr.align){_198c=_198a-this._attr.size.w;}}if(enums.EnumAlignVertical.CENTER.toLowerCase()===this._attr.alignVertical){_198d=(((_198b-this._attr.size.h)/2)+((_198b-this._attr.size.h)%2));}else{if(enums.EnumAlignVertical.BOTTOM.toLowerCase()===this._attr.alignVertical){_198d=_198b-this._attr.size.h;}}this._inflatedPosition.left=parseFloat(this._attr.position.left)-_198c;this._inflatedPosition.top=parseFloat(this._attr.position.top)-_198d;this._inflatedPosition.right=this._inflatedPosition.left+_198a;this._inflatedPosition.bottom=this._inflatedPosition.top+_198b;},_checkOrCreateWrapper:function(_198e){if(!_198e&&(this._matrix==null||this._matrix==="")){return false;}if(!this._started){return false;}if(this._wrapperNode===null){this._wrapperNode=_1976.create("div");_1976.place(this._wrapperNode,this.domNode,"replace");_1976.place(this.domNode,this._wrapperNode,"only");this._guiHelper.setPosition(this._wrapperNode,"absolute");this._guiHelper.setLeft(this._wrapperNode,this.domNode.style.left);this._guiHelper.setTop(this._wrapperNode,this.domNode.style.top);this._guiHelper.setWidth(this._wrapperNode,this.domNode.style.width);this._guiHelper.setHeight(this._wrapperNode,this.domNode.style.height);this._guiHelper.setLeft(this.domNode,0+"px");this._guiHelper.setTop(this.domNode,0+"px");this._guiHelper.setTransform(this.domNode,null);this._guiHelper.applyOrigin(this.domNode,{"x":"0%","y":"0%"});this._setMatrix(this._matrix);return true;}return false;},_updateScaledMatrix:function(_198f,_1990){this.inherited(arguments);if(!_198f&&!_1990){return;}this._checkOrCreateWrapper(true);this._applyScaledMatrix(_198f,_1990);},_updateRectScale:function(_1991,_1992){this.inherited(arguments);if(!_1991&&!_1992){return;}this._checkOrCreateWrapper(true);this._applyScaledMatrix(_1991,_1992);},_updateRectSize:function(_1993,_1994){this.inherited(arguments);this._isTextSizeCalculated=false;this._applyScaledMatrix(this._lastScaleMatrix);this._parseBoxSize();},_applyScaledMatrix:function(_1995,_1996){if(!this._started){this._lastScaleMatrix=_1995;this._lastScaleOrigin=_1996;return;}if(_1996!=null&&_1996!=this._lastScaleOrigin){origins=_1996.split(",");if(origins.length>=2){this._lastScaleOrigin=_1996;this._scaleOriginX=parseFloat(origins[0]);this._scaleOriginY=parseFloat(origins[1]);this._guiHelper.applyOrigin(this.domNode,{"x":(this._scaleOriginX*100)+"%","y":(this._scaleOriginY*100)+"%"});}}if(_1995!=null&&_1995!=this._lastScaleMatrix){this._lastScaleMatrix=_1995;this._isTextSizeCalculated=false;this._parseBoxSize();var _1997=this._getWrapperNodeAttr();var mtx=_1995.split(",");this._scaleX=parseFloat(mtx[0]);this._scaleY=parseFloat(mtx[3]);this._scaleOffsetX=mtx[4];this._scaleOffsetY=mtx[5];this._guiHelper.applyTransform(this.domNode,{"matrix":"("+this._scaleX+","+mtx[1]+","+mtx[2]+","+this._scaleY+","+mtx[4]+","+mtx[5]+")"});}},_updateLineWeightAndStyle:function(style){},setLineColor:function(color){},setFillColor:function(color){}});});},"dojox/gauges/BarCircleIndicator":function(){define(["dojo/_base/declare","dojox/gfx","./BarLineIndicator"],function(_1998,gfx,_1999){return _1998("dojox.gauges.BarCircleIndicator",[_1999],{_getShapes:function(group){var color=this.color?this.color:"black";var _199a=this.strokeColor?this.strokeColor:color;var _199b={color:_199a,width:1};if(this.color.type&&!this.strokeColor){_199b.color=this.color.colors[0].color;}var y=this._gauge.dataY+this.offset+this.length/2;var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var pos=this._gauge._getPosition(v);var _199c=[group.createCircle({cx:0,cy:y,r:this.length/2}).setFill(color).setStroke(_199b)];_199c[0].setTransform(gfx.matrix.translate(pos,0));return _199c;}});});},"ma/view/TrendConf":function(){define(["dojo/_base/declare","./_base","../widget/date/DateTime","dojo/text!./templates/trendConf.html","dojox/mobile/ScrollableView","dojox/mobile/EdgeToEdgeList","dojox/mobile/ListItem","dojox/mobile/Heading","dojox/mobile/Switch","dojox/mobile/TextBox","dojox/mobile/EdgeToEdgeCategory","../widget/SwitchEx"],function(_199d,Base,_199e,_199f){return _199d("ma.view.TrendConf",Base,{templateString:_199f,dijitPlay:null,dijitScales:null,dijitFill:null,dijitPercentageMode:null,maDateTime:null,isFirstShow:true,config:null,constructor:function(){},startup:function(){this.inherited(arguments);dojox.mobile.parser.parse(this.containerTrendConf);},MakeLayout:function(){},Resize:function(){this.MakeLayout();},onShow:function(){this.config=dojo.fromJson(dojo.cookie("_x_config"));this.ProcView();this.dijitPlay.set("value",this.config.trend.play);this.dijitFill.set("value",this.config.trend.fill);this.dijitPercentageMode.set("value",this.config.trend.percentageMode);if(this.config.trend.percentageMode=="on"){dojo.fadeOut({node:dojo.byId("_x_categoryScale"),duration:10}).play();}dojo.byId("_x_txtScaleMin").value=this.config.trend.scaleMin;dojo.byId("_x_txtScaleMax").value=this.config.trend.scaleMax;dojo.byId("_x_trendDuration").value=this.config.trendDuration;this.PlayChange();this.HideLoading();},onHide:function(){},FillChange:function(){this.config.trend.fill=this.dijitFill.get("value");this.SaveConfig();},PlayChange:function(){this.config.trend.play=this.dijitPlay.get("value");dojo.style("_x_trendDuration_li","display",this.config.trend.play=="on"?"block":"none");dojo.style("_x_trendPeriod_li","display",this.config.trend.play!="on"?"block":"none");this.SaveConfig();},PercentageModeChange:function(){this.config.trend.percentageMode=this.dijitPercentageMode.get("value");if(this.config.trend.percentageMode=="off"){dojo.fadeIn({node:dojo.byId("_x_categoryScale"),duration:1000}).play();}else{dojo.fadeOut({node:dojo.byId("_x_categoryScale"),duration:1000}).play();}this.SaveConfig();},ChangeFinishDateTime:function(date){},ChangeStartDateTime:function(date){},ChangeStateScales:function(){},SaveConfig:function(){dojo.cookie("_x_config",dojo.toJson(this.config),{expires:30});},TrendPeriodIn:function(){if(this.maDateTime==null){this.maDateTime=new _199e({title:""},"_x_trendConfDateTime");this.maDateTime.startup();}dojo.style(dijit.byId("_x_trendToolBarSettings").domNode,"display","none");dojo.style(dijit.byId("_x_trendToolBarPeriod").domNode,"display","block");this.maDateTime.setStartDateTime(new Date(this.config.trend.startDateTime));this.maDateTime.setFinishDateTime(new Date(this.config.trend.finishDateTime));this.maDateTime.EnableUpdateTimer();},TrendPeriodOut:function(){dojo.style(dijit.byId("_x_trendToolBarSettings").domNode,"display","block");dojo.style(dijit.byId("_x_trendToolBarPeriod").domNode,"display","none");this.maDateTime.DisableUpdateTimer();this.config.trend.startDateTime=this.maDateTime.getStartDateTime().getTime();this.config.trend.finishDateTime=this.maDateTime.getFinishDateTime().getTime();if(this.config.trend.startDateTime>this.config.trend.finishDateTime){this.config.trend.startDateTime=this.config.trend.finishDateTime-this.config.trendDuration*1000;}this.SaveConfig();},TrendScaleChange:function(){if(isFinite(parseFloat(dojo.byId("_x_txtScaleMin").value))){this.config.trend.scaleMin=parseFloat(dojo.byId("_x_txtScaleMin").value);}if(isFinite(parseFloat(dojo.byId("_x_txtScaleMax").value))){this.config.trend.scaleMax=parseFloat(dojo.byId("_x_txtScaleMax").value);}this.SaveConfig();},TrendDurationChange:function(){if(isFinite(parseInt(dojo.byId("_x_trendDuration").value))){this.config.trendDuration=parseInt(dojo.byId("_x_trendDuration").value);}this.SaveConfig();},ProcView:function(){if(this.isFirstShow==false){return;}this.dijitPlay=dijit.byId("_x_switchPlay");this.dijitPlay.onStateChanged=dojo.hitch(this,this.PlayChange);this.dijitFill=dijit.byId("_x_switchFill");this.dijitFill.onStateChanged=dojo.hitch(this,this.FillChange);this.dijitPercentageMode=dijit.byId("_x_switchPercentageMode");this.dijitPercentageMode.onStateChanged=dojo.hitch(this,this.PercentageModeChange);dojo.style(this.dijitPlay.domNode,"position","absolute");dojo.style(this.dijitFill.domNode,"position","absolute");dojo.style(this.dijitPercentageMode.domNode,"position","absolute");dijit.byId("_x_trendPeriod").onAfterTransitionIn=dojo.hitch(this,this.TrendPeriodIn);dijit.byId("_x_trendPeriod").onAfterTransitionOut=dojo.hitch(this,this.TrendPeriodOut);dojo.style(dijit.byId("_x_trendToolBarSettings").domNode,"display","block");dojo.style(dijit.byId("_x_trendToolBarPeriod").domNode,"display","none");this.isFirstShow=false;}});});},"dojo/dnd/Source":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(array,_19a0,_19a1,lang,_19a2,_19a3,mouse,ready,topic,dnd,_19a4,_19a5){if(!_19a1.isAsync){ready(0,function(){var _19a6=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_19a6);});}var _19a7=_19a0("dojo.dnd.Source",_19a4,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_19a8){lang.mixin(this,lang.mixin({},_19a8));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_19a2.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_19a2.add(this.node,"dojoDndTarget");}if(this.horizontal){_19a2.add(this.node,"dojoDndHorizontal");}this.topics=[topic.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),topic.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),topic.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),topic.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_19a9,nodes){if(this==_19a9){return !this.copyOnly||this.selfAccept;}for(var i=0;i<nodes.length;++i){var type=_19a9.getItem(nodes[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_19aa,self){if(_19aa){return true;}if(arguments.length<2){self=this==_19a5.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_19a7.superclass.destroy.call(this);array.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_19a7.superclass.onMouseMove.call(this,e);var m=_19a5.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var nodes=this.getSelectedNodes();if(nodes.length){m.startDrag(this,nodes,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _19ab=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_19a3.position(this.current,true);}if(this.horizontal){_19ab=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_19a3.isBodyLtr(this.current.ownerDocument);}else{_19ab=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_19ab!=this.before){this._markTargetAnchor(_19ab);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_19a7.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_19a7.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_19ac){if(this!==_19ac){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_19a5.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_19ad,nodes,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_19ad?(copy?"Copied":"Moved"):"");}var _19ae=this.accept&&this.checkAcceptance(_19ad,nodes);this._changeState("Target",_19ae?"":"Disabled");if(this==_19ad){_19a5.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_19af,nodes,copy,_19b0){if(this==_19b0){this.onDrop(_19af,nodes,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_19b1,nodes,copy){if(this!=_19b1){this.onDropExternal(_19b1,nodes,copy);}else{this.onDropInternal(nodes,copy);}},onDropExternal:function(_19b2,nodes,copy){var _19b3=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _19b3.call(this,_19b2.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_19b2.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_19b2.getItem(node.id);_19b2.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_19b2.selectNone();}this.insertNodes(true,nodes,this.before,this.current);if(!copy&&this.creator){_19b2.deleteSelectedNodes();}this._normalizedCreator=_19b3;},onDropInternal:function(nodes,copy){var _19b4=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _19b4.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,nodes,this.before,this.current);this._normalizedCreator=_19b4;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_19a7.superclass.onOverEvent.call(this);_19a5.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_19a7.superclass.onOutEvent.call(this);_19a5.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_19b5){if(this.current==this.targetAnchor&&this.before==_19b5){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_19b5;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!mouse.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_19a2.contains(node,"dojoDndHandle")){return true;}if(_19a2.contains(node,"dojoDndItem")||_19a2.contains(node,"dojoDndIgnore")){break;}}return false;}});return _19a7;});},"ma/widget/Gauge":function(){define(["dojo/_base/declare","../_base","./myCanvas/Point","./myCanvas/BezierCurve","dojo/text!./templates/gauge.html"],function(_19b6,Base,_19b7,_19b8,_19b9){return _19b6("ma.widget.Gauge",Base,{templateString:_19b9,gaugeTitle:"Tag",min:0,max:100,minAngle:Math.PI*0.8,maxAngle:2.2*Math.PI,currentValue:0,radius:0,centerX:0,centerY:0,innerCircleFromColor:"#ADADAD",innerCircleToColor:"#302C15",outterCircleFromColor:"#FFFF00",outterCircleToColor:"#FF0000",markerColor:"rgb(240, 240, 240)",textColor:"rgb(255, 255, 255)",indicatorColor:"rgba(255, 0, 0, 0.5)",indicatorCircleColor:"rgba(0, 0, 255, 0.7)",constructor:function(){},CheckNaN:function(n){return !(n>=0||n<0);},startup:function(){this.inherited(arguments);this.resize();},drawCircle:function(ctx,_19ba,fill){ctx.beginPath();ctx.fillStyle=fill;ctx.arc(0,0,_19ba,0,Math.PI*2,true);ctx.closePath();ctx.fill();},CheckNaN:function(n){return !(n>=0||n<0);},drawStatic:function(){this.staticCanvas.width=this.staticCanvas.width;var width=this.staticCanvas.width;var _19bb=this.staticCanvas.height;this.centerX=(width/2);this.centerY=(_19bb/2);this.radius=Math.min(width,_19bb)/2;dojo.style(this.staticCanvas,"position","absolute");dojo.style(this.dynamicCanvas,"position","absolute");var ctx=this.staticCanvas.getContext("2d");var ctx=this.staticCanvas.getContext("2d");ctx.translate(this.centerX,this.centerY);var _19bc=ctx.createRadialGradient(0,0,this.radius*0.8,0,0,this.radius);_19bc.addColorStop(0,this.outterCircleFromColor);_19bc.addColorStop(1,this.outterCircleToColor);this.drawCircle(ctx,this.radius,_19bc);_19bc=ctx.createRadialGradient(0,0,0,0,0,this.radius*0.8);_19bc.addColorStop(0,this.innerCircleFromColor);_19bc.addColorStop(1,this.innerCircleToColor);this.drawCircle(ctx,this.radius*0.8,_19bc);ctx.fillStyle=this.textColor;ctx.textAlign="center";ctx.fillText(this.gaugeTitle.substring(0,10),0,-this.centerY*0.3,this.centerY*0.7);ctx.strokeStyle=this.markerColor;ctx.beginPath();var inc=(this.maxAngle-this.minAngle)/20;ctx.rotate(this.minAngle);for(var i=0;i<=20;++i){ctx.moveTo(((i%5)==0?0.7:0.75)*this.radius,0);ctx.lineTo(0.8*this.radius,0);ctx.rotate(inc);}ctx.closePath();ctx.stroke();},drawDynamic:function(){this.dynamicCanvas.width=this.dynamicCanvas.width;var _19bd=(this.currentValue-this.min)/(this.max-this.min);var angle=(this.maxAngle-this.minAngle)*_19bd+this.minAngle;var _19be=this.currentValue.toString();var ctx=this.dynamicCanvas.getContext("2d");ctx.translate(this.centerX,this.centerY);ctx.fillStyle=this.textColor;ctx.textAlign="center";ctx.fillText(_19be.substring(0,4),0,this.centerY*0.5,this.centerY*0.7);ctx.fillStyle=this.indicatorColor;ctx.rotate(angle);ctx.beginPath();var size=this.radius;var m=new _19b7({x:-size*0.18,y:0});var c1=new _19b7({x:m.x+size*0.05,y:m.y-size*0.04});var c2=new _19b7({x:m.x+size*0.1,y:m.y-size*0.1});var pos=new _19b7({x:m.x+size,y:m.y});var b=new _19b8({c1:c1,c2:c2,pos:pos});m.lineTo(ctx);b.bezierCurveTo(ctx);c1=new _19b7({x:m.x+size*0.1,y:m.y+size*0.04});c2=new _19b7({x:m.x+size*0.05,y:m.y+size*0.1});pos=new _19b7({x:m.x,y:m.y});b=new _19b8({c1:c1,c2:c2,pos:pos});b.bezierCurveTo(ctx);ctx.closePath();ctx.fill();this.drawCircle(ctx,this.radius*0.05,this.indicatorCircleColor);},resize:function(){this.drawStatic();this.drawDynamic();},setValue:function(value){this.currentValue=value;this.drawDynamic();}});});},"viewer/object/action/TextBox":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","../../misc/enums","../../misc/gui/helpers/css","dojo/dom-construct","../../misc/gui/OutputWindow","dojo/text!./textBox.html"],function(_19bf,_19c0,touch,on,enums,_19c1,_19c2,_19c3,_19c4){return _19bf("viewer.object.action.TextBox",_19c0,{templateString:_19c4,_firingEvent:false,_readType:"",_animations:null,_tagId:null,_tagTp:null,_isUpdating:false,_clickable:true,_xComponent:null,_componentType:enums.EnumComponentType.REGULAR,buildRendering:function(){var self=this;if(!this._attr._animations){this._attr._animations={};}this._attr._animations.textDataLink={"tagExpression":"","format":"","inputEnabled":"","password":"","autoSize":"","eSign":"","requireConfirmation":"","virtualKeyboard":"","security":""};this.inherited(arguments);this._setDisableAttr((this._attr.inputEnabled===1&&this._securitySystem.isAuthorized(this._attr.security)===true)?0:1);this._attr._animations.textDataLink._animProps.inputEnabled=(this._attr.inputEnabled===1?1:0);if(this._securitySystem.isAuthorized(this._attr.security)===false){this._guiHelper.setBackgroundColor(this._xComponent,"rgb(225, 225, 225)");}on(this._xComponent,touch.press,function(evt){self._onClick(evt);});if(parseInt(this._attr.multiline,10)===1){this._guiHelper.setVisibility(this.domNode,"hidden");return;}if(this.isDisabled()){_19c1.setAttr(this._xComponent,"readonly","readonly");}if(this._attr.maskCount){_19c1.setAttr(this._xComponent,"maxlength",this._attr.maskCount.length);}this._setMultiLineWrap();},startup:function(){this.inherited(arguments);var self=this;on(this._xComponent,"keypress",function(evt){self._onKeyPress(evt);});on(this._xComponent,"blur",function(){self._updateTags();});on(this._xComponent,"focus",function(){self._onFocus();});},_setMultiLineWrap:function(){var _19c5=this._attr.multiLine||0;var _19c6=this._attr.wordWrap||0;if(_19c5){if(_19c6){this._guiHelper.setWhiteSpace(this._xComponent,"normal");}else{this._guiHelper.setWhiteSpace(this._xComponent,"pre");}}else{this._guiHelper.setWhiteSpace(this._xComponent,"nowrap");}},_onClick:function(evt){var anim=this._attr._animations.textDataLink,_19c7=null;_19c7={"onWrite":function(value){if(this._updateTags(value)===undefined){this._xComponent.value=this.tag;}}.bind(this)};if(this.isDisabled()===false&&anim&&anim.showVK(this._tagId,evt,_19c7)){evt.preventDefault();}evt.stopPropagation();},_onFocus:function(){if(window.sma){window.sma.inputWithFocus=this;}if(this.isDisabled()===true||this._securitySystem.isAuthorized(this._attr.security)===false){dojo.attr(this._xComponent,"readonly","readonly");}else{dojo.removeAttr(this._xComponent,"readonly");}},_onKeyPress:function(evt){if(evt.keyCode===13){this._updateTags();evt.preventDefault();return;}},_updateTags:function(value){var _19c8,_19c9,_19ca;if(!this._xComponent){if(window.sma){window.sma.inputWithFocus=null;}return;}if(this._isUpdating===true){return;}value=value||this._xComponent.value;this._xComponent.value=this.tag;this._isUpdating=true;if(this._tagId!==null&&this.isDisabled()===false&&this._securitySystem.isAuthorized(this._attr.security)===true){if(isNaN(this._tagTp)||this._tagTp<0||(this._tagTp!==enums.EnumDataType.BOOLEAN&&this._tagTp!==enums.EnumDataType.INT&&this._tagTp!==enums.EnumDataType.REAL)){this._tagTp=enums.EnumDataType.STRING;}if(this._tagTp!==enums.EnumDataType.STRING&&isNaN(value)===true){_19c9=_19c2.create("div");_19c2.place(_19c9,dojo.body(),"first");_19ca=new _19c3({"onClose":function(){}},_19c9);_19ca._setMessageAttr("Invalid entry. Please enter a valid numeric value.");_19ca.startup();}else{_19c8=services.setActionValue(window.viewId,this.getParentScreen().screenId,this._tagId,value);if(_19c8===this._serverEvents.parseResult(_19c8)){this._xComponent.value=this.tag;}this.intervalCallRequest();}}this._xComponent.blur();if(window.sma){window.sma.inputWithFocus=null;}this._isUpdating=false;return true;},_getMaskAttr:function(){var mask=this._attr.maskCount;if(mask===null||mask===undefined){mask="";}return mask;},_setCaptionAttr:function(value){this._xComponent.value=value;var _19cb=this._attr.multiLine||0;if(!_19cb){this._xComponent.value=" "+value.replace(/\r|\n/ig,"");this._guiHelper.setOverflow(this._xComponent,"hidden");}},_setTagAttr:function(value,req){this.tag=value;this._attr._animations.textDataLink._animProps.tagExpression=value;this._attr._animations.textDataLink._animProps.tagExpressionQuality=req.quality;},_setTagTpAttr:function(value){this._tagTp=value;this._attr._animations.textDataLink._animProps._tagExpressionTp=value;},_setFormatAttr:function(value){this.format=value;this._attr._animations.textDataLink._animProps.format=value;},_setInputEnabledAttr:function(value){this.inputenabled=value;this._attr._animations.textDataLink._animProps.inputEnabled=value;},_setPasswordAttr:function(value){this.password=value;this._attr._animations.textDataLink._animProps.password=value;},_setAutoSizeAttr:function(value){this.autoSize=value;this._attr._animations.textDataLink._animProps.autoSize=value;},_setESignAttr:function(value){this._attr.eSign=value;this._attr._animations.textDataLink._animProps.eSign=value;},_setRequireConfirmationAttr:function(value){this._attr.requireConfirmation=value;this._attr._animations.textDataLink._animProps.requireConfirmation=value;},_setVirtualKeyboardAttr:function(value){this._attr.virtualKeyboard=value;this._attr._animations.textDataLink._animProps.virtualKeyboard=value;},_setSecurityAttr:function(value){this.security=value;this._attr._animations.textDataLink._animProps.virtualKeyboard=value;},_setMinAttr:function(value){this.min=value;this._attr._animations.textDataLink._animProps.min=value;},_setMaxAttr:function(value){this.max=value;this._attr._animations.textDataLink._animProps.max=value;},applyDisable:function(anim){if(anim!==null){return;}this.inherited(arguments);if(this.isDisabled()===true){dojo.attr(this._xComponent,"readonly","readonly");this._guiHelper.setBackgroundColor(this._xComponent,"rgb(240, 240, 240)");this._guiHelper.setBorderStyle(this._xComponent,"solid");this._guiHelper.setBorderWidth(this._xComponent,"0.5px");this._guiHelper.setBorderColor(this._xComponent,"rgb(169, 169, 169)");this._guiHelper.setCssColor(this._xComponent,"rgb(0, 0, 0)");}else{dojo.removeAttr(this._xComponent,"readonly");}},_setWidthAttr:function(v){var w=parseFloat(v);if(!isNaN(w)){if(this._attr.password){this._guiHelper.setWidth(this._xComponent,w+"px");}else{this._guiHelper.setWidth(this._xComponent,(w-6)+"px");}}this.inherited(arguments);},_setHeightAttr:function(v){var h=parseFloat(v);if(!isNaN(h)){if(this._attr.password){this._guiHelper.setHeight(this._xComponent,(h+2)+"px");}else{this._guiHelper.setHeight(this._xComponent,(h-5)+"px");}}this.inherited(arguments);},getAlign:function(){return this._attr.align;},forceBlur:function(){this._updateTags();},getMultiLineAttr:function(){return this._attr.multiLine;}});});},"viewer/animation/Color":function(){define(["dojo/_base/declare","./_base","../misc/enums"],function(_19cc,_19cd,enums){return _19cc("viewer.animation.Color",_19cd,{_color:null,_blinkInterval:null,_blinkState:0,_component:null,constructor:function(_19ce,_19cf){this.inherited(arguments);},destroy:function(){if(this._blinkInterval){clearInterval(this._blinkInterval);}this.inherited(arguments);},startup:function(){this.inherited(arguments);this._component=this._getComponent();},_handleCheckRadioBase:function(){return this._widget.declaredClass==="viewer.object.action.CheckBox"||this._widget.declaredClass==="viewer.object.action.RadioButton";},_getComponent:function(){if(this._handleCheckRadioBase()){return this._widget;}else{return this._widget.getAnimation(enums.EnumAnimations.BARGRAPH)||this._widget;}},_execUpdate:function(){var opt=null,self=this;if(!this._component){return;}if(!this._animProps.colors){var r,g,b;r=this._animProps.limitExpr&255;g=(this._animProps.limitExpr>>8)&255;b=(this._animProps.limitExpr>>16)&255;this._component.setColor({style:enums.EnumColorExStyle.SOLID,color:"rgb("+r+","+g+","+b+")"});return;}else{if(!this._animProps.limitExpr){if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._component.setColor({style:enums.EnumColorExStyle.SOLID,color:"rgb(0, 0, 0)"});}return;}}for(var i=0;i<this._animProps.colors.length;i++){if(parseFloat(this._animProps.limitExpr)>=parseFloat(this._animProps.colors[i].value)){opt=this._animProps.colors[i];this._color=null;}}if(this._color===opt){return;}if(!opt){this._clearBlink();this._component.resetColor();return;}this._color=opt;switch(this._color.blink){case enums.EnumBlink.SLOW:if(this._blinkInterval===null){this._blinkInterval=setInterval(function(){self._updateColor();},600);}break;case enums.EnumBlink.FAST:if(this._blinkInterval===null){this._blinkInterval=setInterval(function(){self._updateColor();},200);}break;default:this._clearBlink();this._component.setColor(this._color.color);}},_updateColor:function(){if(this._blinkState===0){this._component.setColor(this._color.color);}else{this._component.resetColor();}this._blinkState=this._blinkState===0?1:0;},_clearBlink:function(){this._blinkState=0;if(this._blinkInterval){clearInterval(this._blinkInterval);}this._blinkInterval=null;},onChangeProperty:function(prop){if(prop.propName!=="changeLimit"){return;}for(var i=0;i<this._animProps.colors.length;i++){if(this._animProps.colors[i].changeLimit.id===prop.id){this._animProps.colors[i].value=prop.value;break;}}this._animProps.colors.sort(function(a,b){return a.value-b.value;});}});});},"viewer/object/shape/OpenPolygon":function(){define(["dojo/_base/declare","./Line","dojo/text!./openPolygon.html"],function(_19d0,Line,_19d1){return _19d0("viewer.object.shape.OpenPolygon",Line,{templateString:_19d1,_proColorName:"fill",buildRendering:function(){this.inherited(arguments);},setFillColor:function(){}});});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_19d2,array,_19d3,_19d4,_19d5,_19d6,dom,_19d7,_19d8,_19d9,_19da,_19db,has,_19dc,lang,on,ready,_19dd,topic,win,_19de,_19df,_19e0){has.add("dijit-legacy-requires",!_19dc.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){ready(0,function(){var _19e1=["dijit/_base/manager"];_19d2(_19e1);});}var _19e2={};function _19e3(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _19e4(attr){return function(val){_19d7[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};var _19e5=_19d6("dijit._WidgetBase",[_19dd,_19de],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_19e4("lang"),dir:"",_setDirAttr:_19e4("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_19d4.blankGif||_19d2.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var proto=ctor.prototype,attrs=ctor._setterAttrs=[],onMap=(ctor._onMap={});for(var name in proto.attributeMap){attrs.push(name);}for(name in proto){if(/^on/.test(name)){onMap[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!proto.attributeMap||!(name in proto.attributeMap)){attrs.push(name);}}}}},postscript:function(_19e6,_19e7){this.create(_19e6,_19e7);},create:function(_19e8,_19e9){this._introspect();this.srcNodeRef=dom.byId(_19e9);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_19e8){this.params=_19e8;lang.mixin(this,_19e8);}this.postMixInProperties();if(!this.id){this.id=_19e0.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_19e0.add(this);this.buildRendering();var _19ea;if(this.domNode){this._applyAttributes();var _19eb=this.srcNodeRef;if(_19eb&&_19eb.parentNode&&this.domNode!==_19eb){_19eb.parentNode.replaceChild(this.domNode,_19eb);_19ea=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_19ea){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _19ec={};for(var key in this.params||{}){_19ec[key]=this._get(key);}array.forEach(this.constructor._setterAttrs,function(key){if(!(key in _19ec)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _19ec){this.set(key,_19ec[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _19ed=this.baseClass.split(" ");if(!this.isLeftToRight()){_19ed=_19ed.concat(array.map(_19ed,function(name){return name+"Rtl";}));}_19d8.add(this.domNode,_19ed);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_19ee){this._beingDestroyed=true;this.destroyDescendants(_19ee);this.destroy(_19ee);},destroy:function(_19ef){this._beingDestroyed=true;this.uninitialize();function _19f0(w){if(w.destroyRecursive){w.destroyRecursive(_19ef);}else{if(w.destroy){w.destroy(_19ef);}}};array.forEach(this._connects,lang.hitch(this,"disconnect"));array.forEach(this._supportingWidgets,_19f0);if(this.domNode){array.forEach(_19e0.findWidgets(this.domNode,this.containerNode),_19f0);}this.destroyRendering(_19ef);_19e0.remove(this.id);this._destroyed=true;},destroyRendering:function(_19f1){if(this.bgIframe){this.bgIframe.destroy(_19f1);delete this.bgIframe;}if(this.domNode){if(_19f1){_19d7.remove(this.domNode,"widgetId");}else{_19d9.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_19f1){_19d9.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_19f2){array.forEach(this.getChildren(),function(_19f3){if(_19f3.destroyRecursive){_19f3.destroyRecursive(_19f2);}});},uninitialize:function(){return false;},_setStyleAttr:function(value){var _19f4=this.domNode;if(lang.isObject(value)){_19db.set(_19f4,value);}else{if(_19f4.style.cssText){_19f4.style.cssText+="; "+value;}else{_19f4.style.cssText=value;}}this._set("style",value);},_attrToDom:function(attr,value,_19f5){_19f5=arguments.length>=3?_19f5:this.attributeMap[attr];array.forEach(lang.isArray(_19f5)?_19f5:[_19f5],function(_19f6){var _19f7=this[_19f6.node||_19f6||"domNode"];var type=_19f6.type||"attribute";switch(type){case "attribute":if(lang.isFunction(value)){value=lang.hitch(this,value);}var _19f8=_19f6.attribute?_19f6.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_19f7.tagName){_19d7.set(_19f7,_19f8,value);}else{_19f7.set(_19f8,value);}break;case "innerText":_19f7.innerHTML="";_19f7.appendChild(this.ownerDocument.createTextNode(value));break;case "innerHTML":_19f7.innerHTML=value;break;case "class":_19d8.replace(_19f7,value,this[attr]);break;}},this);},get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this._get(name);},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name),_19f9=this[names.s];if(lang.isFunction(_19f9)){var _19fa=_19f9.apply(this,Array.prototype.slice.call(arguments,1));}else{var _19fb=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_19fb]&&this[_19fb].tagName,_19fc=tag&&(_19e2[tag]||(_19e2[tag]=_19e3(this[_19fb]))),map=name in this.attributeMap?this.attributeMap[name]:names.s in this?this[names.s]:((_19fc&&names.l in _19fc&&typeof value!="function")||/^aria-|^data-|^role$/.test(name))?_19fb:null;if(map!=null){this._attrToDom(name,value,map);}this._set(name,value);}return _19fa||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,value){var _19fd=this[name];this[name]=value;if(this._created&&value!==_19fd){if(this._watchCallbacks){this._watchCallbacks(name,_19fd,value);}this.emit("attrmodified-"+name,{detail:{prevValue:_19fd,newValue:value}});}},_get:function(name){return this[name];},emit:function(type,_19fe,_19ff){_19fe=_19fe||{};if(_19fe.bubbles===undefined){_19fe.bubbles=true;}if(_19fe.cancelable===undefined){_19fe.cancelable=true;}if(!_19fe.detail){_19fe.detail={};}_19fe.detail.widget=this;var ret,_1a00=this["on"+type];if(_1a00){ret=_1a00.apply(this,_19ff?_19ff:[_19fe]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_19fe);}return ret;},on:function(type,func){var _1a01=this._onMap(type);if(_1a01){return _19d3.after(this,_1a01,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_19e0.findWidgets(this.containerNode):[];},getParent:function(){return _19e0.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,event,_1a02){return this.own(_19d5.connect(obj,event,this,_1a02))[0];},disconnect:function(_1a03){_1a03.remove();},subscribe:function(t,_1a04){return this.own(topic.subscribe(t,lang.hitch(this,_1a04)))[0];},unsubscribe:function(_1a05){_1a05.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_19da.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_19db.get(this.domNode,"display")!="none");},placeAt:function(_1a06,_1a07){var _1a08=!_1a06.tagName&&_19e0.byId(_1a06);if(_1a08&&_1a08.addChild&&(!_1a07||typeof _1a07==="number")){_1a08.addChild(this,_1a07);}else{var ref=_1a08?(_1a08.containerNode&&!/after|before|replace/.test(_1a07||"")?_1a08.containerNode:_1a08.domNode):dom.byId(_1a06,this.ownerDocument);_19d9.place(this.domNode,ref,_1a07);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,delay){var timer=setTimeout(lang.hitch(this,function(){if(!timer){return;}timer=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),delay||0);return {remove:function(){if(timer){clearTimeout(timer);timer=null;}return null;}};}});if(has("dojo-bidi")){_19e5.extend(_19df);}return _19e5;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_1a09){dojo.cookie=function(name,value,props){var c=document.cookie,ret;if(arguments.length==1){var _1a0a=c.match(new RegExp("(?:^|; )"+_1a09.escapeString(name)+"=([^;]*)"));ret=_1a0a?decodeURIComponent(_1a0a[1]):undefined;}else{props=props||{};var exp=props.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=props.expires=d;}if(exp&&exp.toUTCString){props.expires=exp.toUTCString();}value=encodeURIComponent(value);var _1a0b=name+"="+value,_1a0c;for(_1a0c in props){_1a0b+="; "+_1a0c;var _1a0d=props[_1a0c];if(_1a0d!==true){_1a0b+="="+_1a0d;}}document.cookie=_1a0b;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"ma/util/NamespaceLoader":function(){define(["dojo/_base/declare"],function(_1a0e){return _1a0e("ma.util.NamespaceLoader",null,{objectList:[],key:null,CreateObject:function(key){if(key==null||key==undefined){return null;}var kv=null;for(var i=0;i<this.objectList.length;i++){if(this.objectList[i].key===key){kv=this.objectList[i];break;}}if(kv==null){return null;}else{return new kv.value();}},Load:function(key,_1a0f){if(key==""||_1a0f==""){return;}this.key=key;try{for(var i=0;i<this.objectList.length;i++){if(this.objectList[i].key==this.key){return;}}if(_1a0f!=undefined&&_1a0f!=null){require([_1a0f],dojo.hitch(this,function(obj){if(obj!=undefined&&obj!=null){this.objectList.push({"key":this.key,"value":obj});}}));}}catch(ex){}}});});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_1a10,lang,_1a11,has,_1a12){var html=_1a12.doc.documentElement,ie=has("ie"),opera=has("opera"),maj=Math.floor,ff=has("ff"),_1a13=_1a10.boxModel.replace(/-/,""),_1a14={"dj_quirks":has("quirks"),"dj_opera":opera,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_1a14["dj_ie"]=true;_1a14["dj_ie"+maj(ie)]=true;_1a14["dj_iequirks"]=has("quirks");}if(ff){_1a14["dj_ff"+maj(ff)]=true;}_1a14["dj_"+_1a13]=true;var _1a15="";for(var clz in _1a14){if(_1a14[clz]){_1a15+=clz+" ";}}html.className=lang.trim(html.className+" "+_1a15);_1a11(function(){if(!_1a10.isBodyLtr()){var _1a16="dj_rtl dijitRtl "+_1a15.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_1a16+"dj_rtl dijitRtl "+_1a15.replace(/ /g,"-rtl "));}});return has;});},"viewer/object/shape/ClosedCurve":function(){define(["dojo/_base/declare","./Path","dojo/text!./closedCurve.html"],function(_1a17,Path,_1a18){return _1a17("viewer.object.shape.closedCurve",Path,{templateString:_1a18,buildRendering:function(){if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}if(this._attr.path.length>0){this.points=this._attr.path[0].points;}this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);}});});},"viewer/screens/ChangeManager":function(){define([],function(){var _1a19={_subscriptionMap:{},_mo:null,_unsubscribeTimer:null,dispatchCallback:function(_1a1a){var _1a1b={};var _1a1c=null;for(var i=0;i<_1a1a.length;i++){_1a1c=_1a1a[i].target.id;if(_1a1b[_1a1c]==null){_1a1b[_1a1c]=[];}_1a1b[_1a1c].push(_1a1a[i]);}for(mgProperty in _1a1b){if(_1a1b.hasOwnProperty(mgProperty)&&this._subscriptionMap[mgProperty]){this._subscriptionMap[mgProperty].callback(_1a1b[mgProperty]);}}},resubscribe:function(){var _1a1d=null;this._mo.disconnect();for(subscriptionKey in this._subscriptionMap){if(this._subscriptionMap.hasOwnProperty(subscriptionKey)){_1a1d=this._subscriptionMap[subscriptionKey];this._mo.observe(_1a1d.element,_1a1d.options);}}},subscribe:function(_1a1e,_1a1f,_1a20){var _1a21=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var _1a22={attributes:true,subtree:_1a20};if(this._mo==null){this._mo=new _1a21(this.dispatchCallback.bind(this));}this._mo.observe(_1a1e,_1a22);this._subscriptionMap[_1a1e.id]={element:_1a1e,options:_1a22,callback:_1a1f};return this._mo;},unsubscribe:function(_1a23){if(!this._subscriptionMap[_1a23.id]){return;}delete this._subscriptionMap[_1a23.id];if(this._unsubscribeTimer!=null){clearTimeout(this._unsubscribeTimer);}this._unsubscribeTimer=setTimeout(this.resubscribe.bind(this),100);}};return _1a19;});},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(lang){var _1a24=lang.getObject("dojox.charting.scaler.primitive",true);return lang.mixin(_1a24,{buildScaler:function(min,max,span,_1a25){if(min==max){min-=0.5;max+=0.5;}return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:_1a24};},buildTicks:function(_1a26,_1a27){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_1a28){var _1a29=_1a28.bounds.from,scale=_1a28.bounds.scale;return function(x){return (x-_1a29)*scale;};},getTransformerFromPlot:function(_1a2a){var _1a2b=_1a2a.bounds.from,scale=_1a2a.bounds.scale;return function(x){return x/scale+_1a2b;};}});});},"dojox/gauges/Range":function(){define(["dojo/_base/declare","dijit/_Widget"],function(_1a2c,_1a2d){return _1a2c("dojox.gauges.Range",[_1a2d],{low:0,high:0,hover:"",color:null,size:0,startup:function(){this.color=this.color?(this.color.color||this.color):"black";}});});},"dojox/mobile/SpinWheelDatePicker":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","./_DatePickerMixin","./SpinWheel","./SpinWheelSlot"],function(array,_1a2e,_1a2f,_1a30,_1a31,_1a32){return _1a2e("dojox.mobile.SpinWheelDatePicker",[_1a31,_1a30],{slotClasses:[_1a32,_1a32,_1a32],slotProps:[{labelFrom:1970,labelTo:2038},{},{}],buildRendering:function(){this.initSlots();this.inherited(arguments);_1a2f.add(this.domNode,"mblSpinWheelDatePicker");this._conn=[this.connect(this.slots[0],"onFlickAnimationEnd","_onYearSet"),this.connect(this.slots[1],"onFlickAnimationEnd","_onMonthSet"),this.connect(this.slots[2],"onFlickAnimationEnd","_onDaySet")];},disableValues:function(_1a33){array.forEach(this.slots[2].panelNodes,function(panel){for(var i=27;i<31;i++){_1a2f.toggle(panel.childNodes[i],"mblSpinWheelSlotLabelGray",i>=_1a33);}});}});});},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(lang,_1a34,df){lang.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1a34.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1a34.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1a34.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1a34.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1a34.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});return df;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_1a35,has,_1a36,ready,_1a37,_1a38,_1a39,_1a3a){if(has("dijit-legacy-requires")){ready(0,function(){var _1a3b=["dijit/form/_FormValueWidget"];require(_1a3b);});}return _1a35("dijit.form._FormWidget",[_1a37,_1a39,_1a38,_1a3a],{setDisabled:function(_1a3c){_1a36.deprecated("setDisabled("+_1a3c+") is deprecated. Use set('disabled',"+_1a3c+") instead.","","2.0");this.set("disabled",_1a3c);},setValue:function(value){_1a36.deprecated("dijit.form._FormWidget:setValue("+value+") is deprecated.  Use set('value',"+value+") instead.","","2.0");this.set("value",value);},getValue:function(){_1a36.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"viewer/object/action/CheckRadioBase":function(){define(["dojo/_base/declare","dojo/touch","dojo/on","../_base","../../misc/enums","../../misc/common/textMetrics","dojo/dom-attr"],function(_1a3d,touch,on,_1a3e,enums,_1a3f,_1a40){return _1a3d("viewer.object.action.CheckBox",_1a3e,{caption:null,tri_StateValue:null,feedback:null,fillColor:null,security:null,trueValue:null,tag:null,isPushLike:false,_clickable:true,_tagId:null,_checkedOn:null,_checkedOff:null,_checked3State:null,_componentType:enums.EnumComponentType.REGULAR,_animationColor:null,buildRendering:function(){this.inherited(arguments);this._subscribTagMessage("tag","_setTagAttr");this.isPushLike=typeof (this._attr.pushLike)!="undefined"&&this._attr.pushLike===1;},startup:function(){this.inherited(arguments);var self;self=this;if(this.pushlike&&parseInt(this.pushlike)===1){this._guiHelper.addClass(this.domNode,"viewer-style-common-invisible");}else{if(this.isPushLike){this._guiHelper.addClass(this._xButtonComponent,"unchecked-pushLike");if(this.isDisabled()===false&&((this.tag||this._tagId)||this._attr.enableFocus===1)){var self=this;this._guiHelper.addClass(this.domNode,"viewer-style-common-handCommand");dojo.connect(this.domNode,"onBlur",function(evt){self._onBlur(evt);});on(this.domNode,touch.release,function(evt){self._onClick(evt);});if(this._attr.enableFocus===1){dojo.connect(this._xDiv,"keyup",function(evt){self._onKeyDown(evt);});if(dojo.isSafari){dojo.connect(this._xDiv,"onkeydown",dojo.hitch(this,function(){this._onKeyDown(event);}));}}}}else{on(this.domNode,touch.release,function(evt){self._onClick(evt);});if(this.isDisabled()===false){if(this._attr.enableFocus===1&&this._attr.engine===enums.EnumRuntimeScadaEngine.InduSoft){dojo.connect(this._xLabelCell,"onkeydown",dojo.hitch(this,function(){this._onKeyDown(event);}));}if(this._clickable){this._xLabelCell.style.pointerEvents="visible";}}}}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._svgGuiHelper.setBackground(this.domNode,this._attr.background.color);}else{if(this.isPushLike){this._svgGuiHelper.setBackground(this._xButtonComponent,this._attr.background.color);}}},_onKeyDown:function(evt){evt=(evt)?evt:((window.event)?window.event:"");if(evt){if(evt.keyCode===13||evt.which===13){this._onClick(evt);}if(this.isPushLike&&this.isDisabled()===false){if((dojo.isSafari&&evt.keyCode===0)||evt.keyCode===9){if(this.isCheckedRadioButton()){this.enableFocusPushLikeWithChecked();}else{this.enableFocusPushLike();}}}}},_setCaptionAttr:function(v,ret){if(!this._xLabel){return;}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._xLabel.innerHTML=v;this._attr.caption=v;this._guiHelper.setWhiteSpace(this._xLabel,"normal");this._guiHelper.setTextAlign(this._xLabel,"left");this._guiHelper.setOverflow(this.domNode,"");var _1a41=this._attr.size.h;var _1a42=this._guiHelper.getHeight(this._xLabel);var _1a43=this._attr.size.w-16-3;var width=this._guiHelper.getWidth(this._xLabel);if(_1a42>_1a41){this._guiHelper.setPosition(this._xLabel,"absolute");this._guiHelper.setPosition(this._xLabelCell,"absolute");var _1a44="rect(0px "+_1a43+"px "+_1a41+"px 0px)";this._guiHelper.setClip(this._xLabel,_1a44);}}else{if(!isNaN(parseFloat(v))&&!isNaN(v)){v=parseFloat(v).toString();}if(typeof (ret)!="undefined"&&typeof (ret.quality)!="undefined"&&(ret.quality&255)<192){this._attr.caption="";this._xLabel.innerHTML="";for(var i=0;i<v.length;i++){this._attr.caption+="?";this._xLabel.innerHTML+="?";}}else{if(this.isPushLike){this._xSpan.innerText=v;this._guiHelper.setWidth(this._xDiv,parseInt(this._attr.size.w)-6+"px");this._guiHelper.setHeight(this._xDiv,parseInt(this._attr.size.h)-6+"px");if((parseInt(this._xSpan.offsetHeight)+(3+1)*2)>parseInt(this._attr.size.h)){this._guiHelper.addClass(this._xSpan,"spanOverHeight");this._guiHelper.setWidth(this._xSpan,parseInt(this._attr.size.w)-6+"px");this._guiHelper.setHeight(this._xSpan,parseInt(this._attr.size.h)-6+"px");}}else{this._xLabel.innerHTML=v;this._attr.caption=v;if(this.isDisabled()===false&&this._attr.enableFocus===1&&this._attr.engine===enums.EnumRuntimeScadaEngine.InduSoft){this._guiHelper.setOverflow(this.domNode,"");var _1a41=this._attr.size.h;var _1a42=this._guiHelper.getHeight(this._xLabel);var _1a43=this._attr.size.w-16-3;var width=this._guiHelper.getWidth(this._xLabel);if(_1a42>_1a41){this._guiHelper.setPosition(this._xLabel,"absolute");this._guiHelper.setPosition(this._xLabelCell,"absolute");var _1a44="rect(0px "+_1a43+"px "+_1a41+"px 0px)";this._guiHelper.setClip(this._xLabel,_1a44);_1a40.set(this._xLabelCell,"tabindex","0");this._guiHelper.setWidth(this._xLabel,_1a43+"px");}else{this._compoundFont=this._xLabel.style.fontWeight+" "+this._xLabel.style.fontSize+" "+this._xLabel.style.fontFamily;width=_1a3f.textWidth(v,this._compoundFont);if(width<_1a43){_1a40.set(this._xLabel,"tabindex","0");}else{_1a40.set(this._xLabelCell,"tabindex","0");this._guiHelper.setHeight(this._xLabelCell,"");}}}}}}},isCheckedRadioButton:function(){if(!isNaN(parseFloat(this.trueValue))&&!isNaN(this.trueValue)){this.trueValue=parseFloat(this.trueValue).toString();}if(!isNaN(parseFloat(this.tag))&&!isNaN(this.tag)){this.tag=parseFloat(this.tag).toString();}if((this.tag===this.trueValue)||(this.tag===null&&this.trueValue==="0")){return true;}else{return false;}},disablePushLike:function(){if(this.isDisabled()===true){this._guiHelper.removeClass(this.domNode,"viewer-style-common-handCommand");this._guiHelper.setColor(this._xSpan,{color:"rgb(160, 160, 160)"},"color");this._guiHelper.addClass(this._xSpan,"disabled-pushLikeContent");}else{this._guiHelper.setColor(this._xSpan,{color:this._attr.font.fontColor},"color");this._guiHelper.removeClass(this._xSpan,"disabled-pushLikeContent");}},initialPushLike:function(){this._guiHelper.setWidth(this.domNode,parseInt(this._attr.size.w)+"px");this._guiHelper.setHeight(this.domNode,parseInt(this._attr.size.h)+"px");this._guiHelper.setWidth(this._xButtonComponent,parseInt(this._attr.size.w)+"px");this._guiHelper.setHeight(this._xButtonComponent,parseInt(this._attr.size.h)+"px");this._guiHelper.setBorder(this.domNode,"");this._guiHelper.setBorderTop(this.domNode,"");this._guiHelper.setBorderLeft(this.domNode,"");this._guiHelper.setBorderWidth(this._xButtonComponent,"");this._guiHelper.setBorderStyle(this._xButtonComponent,"");this._guiHelper.setBorderColor(this._xButtonComponent,"");this._guiHelper.setWidth(this._xDiv,"");this._guiHelper.setHeight(this._xDiv,"");this._guiHelper.setBorder(this._xDiv,"");this._guiHelper.setTop(this._xSpan,"");if(this.declaredClass==="viewer.object.action.CheckBox"){_1a40.remove(this._xButtonComponent,"isChecked");}},CheckedPushLike:function(_1a45){if(this.declaredClass==="viewer.object.action.CheckBox"&&dojo.hasClass(this._xButtonComponent,"isChecked")){_1a40.remove(this._xButtonComponent,"isChecked");}if(this.isCheckedRadioButton()){if(dojo.hasClass(this._xButtonComponent,"unchecked-pushLike")){this._guiHelper.removeClass(this._xButtonComponent,"unchecked-pushLike");}this._guiHelper.setBorderColor(this._xButtonComponent,"");this._guiHelper.addClass(this._xButtonComponent,"checked-pushLike");if(this.declaredClass==="viewer.object.action.CheckBox"){_1a40.set(this._xButtonComponent,"isChecked","1");}}else{if(dojo.hasClass(this._xButtonComponent,"checked-pushLike")){this._guiHelper.removeClass(this._xButtonComponent,"checked-pushLike");}this._guiHelper.addClass(this._xButtonComponent,"unchecked-pushLike");if(this.tag!==null){this._guiHelper.setBackgroundColor(this._xButtonComponent,this._attr.background.color);}if(this._isSetAnimationColor){if(_1a45&&_1a45!=="onBlur"){this._guiHelper.setBackgroundColor(this._xButtonComponent,this._attr.background.color);}}}this._xButtonComponent.className=this._xButtonComponent.className.replace(/\s/g," ").trim();},_enableFocusPushLike:function(){this._guiHelper.setWidth(this.domNode,parseInt(this._attr.size.w)-3+"px");this._guiHelper.setHeight(this.domNode,parseInt(this._attr.size.h)-3+"px");this._guiHelper.setWidth(this._xButtonComponent,parseInt(this._attr.size.w)-3+"px");this._guiHelper.setHeight(this._xButtonComponent,parseInt(this._attr.size.h)-3+"px");this._guiHelper.setBorder(this.domNode,"1px black solid");if(dojo.hasClass(this._xSpan,"spanOverHeight")){this._guiHelper.setTop(this._xSpan,"-2px");}this._guiHelper.setWidth(this._xDiv,parseInt(this._attr.size.w)-7+"px");this._guiHelper.setHeight(this._xDiv,parseInt(this._attr.size.h)-7+"px");var _1a46="rgb(0,0,0)";if(!this._isSetAnimationColor&&this._attr.background.color!=="rgb(225,225,225)"){_1a46="rgb(255, 130, 255)";}this._guiHelper.setBorder(this._xDiv,"1px "+_1a46+" dotted");if(dojo.isSafari&&dojo.hasClass(this._xSpan,"spanOverHeight")){}else{this._xDiv.focus();}},enableFocusPushLikeWithChecked:function(){this._enableFocusPushLike();this._guiHelper.setBorderTop(this.domNode,"2px black solid");this._guiHelper.setBorderLeft(this.domNode,"2px black solid");this._guiHelper.setBorderWidth(this._xButtonComponent,"2px");this._guiHelper.setBorderStyle(this._xButtonComponent,"solid");if(this._animationColor){this._guiHelper.setBorderColor(this._xButtonComponent,this._animationColor);}else{this._guiHelper.setBorderColor(this._xButtonComponent,this._attr.background.color);}if(this.declaredClass==="viewer.object.action.CheckBox"){_1a40.set(this._xButtonComponent,"isChecked","1");}},enableFocusPushLike:function(){this._enableFocusPushLike();this._guiHelper.setBorderStyle(this._xButtonComponent,"outset");this._guiHelper.setBorderWidth(this._xButtonComponent,"2px");},enableFocusRadioButton:function(){var _1a47=_1a40.get(this._xLabelCell,"tabindex");var _1a48=_1a40.get(this._xLabel,"tabindex");if(parseInt(_1a47)===0){this._xLabelCell.focus();}if(parseInt(_1a48)===0){this._xLabel.focus();}},hiddenCheckRadio:function(){if(this.isPushLike){this.domNode.removeChild(this._xComponent);this.domNode.removeChild(this._xLabelCell);}else{this.domNode.removeChild(this._xButtonComponent);}},setColor:function(color){if(this.isPushLike){this._animationColor=color.color;this._guiHelper.setBackgroundColor(this._xButtonComponent,color.color);if(this._xButtonComponent.style.borderWidth!==""){this._guiHelper.setBorderColor(this._xButtonComponent,color.color);}}else{this._guiHelper.setColor(this._xLabel,{color:color.color},"color");}},setTextColor:function(col){var color={color:col.fontColor};if(this.isPushLike){this._guiHelper.setColor(this._xSpan,{color:color.color},"color");}else{this.setColor(color);}},setText:function(font){if(font){this._svgGuiHelper.setAnimationText(this._xLabel,this._attr.caption,font,this._attr.size.w,this._attr.size.h);}},setFillColor:function(color){this._svgGuiHelper.setBackground(this.domNode,color.fillColor.color);},_setTagAttr:function(v){if(!isNaN(parseFloat(v))&&!isNaN(v)){v=parseFloat(v).toString();}this.tag=v;if(this.isPushLike){this._updateComponentWithPushLike();if(this.declaredClass==="viewer.object.action.CheckBox"){var _1a49=_1a40.get(this._xButtonComponent,"isClicked");var _1a4a=_1a40.get(this._xButtonComponent,"isChecked");if(!_1a4a&&_1a49&&parseInt(_1a49)===1){this.enableFocusPushLike();_1a40.remove(this._xButtonComponent,"isClicked");}}}else{this._updateComponent();}},_setTrueValueAttr:function(v){if(!isNaN(parseFloat(v))&&!isNaN(v)){v=parseFloat(v).toString();}this.trueValue=v;if(this.isPushLike){this._updateComponentWithPushLike();}else{this._updateComponent();}},_updateRectSize:function(_1a4b,_1a4c){this.inherited(arguments);this._updateScaledSize(_1a4b,_1a4c);},_onClick:function(){},_updateComponentWithPushLike:function(){if(this._xDiv.style.borderStyle==="dotted"&&this._xButtonComponent.style.borderStyle==="outset"){this.enableFocusPushLikeWithChecked();return;}if(this.isDisabled()===true){_1a40.set(this._xDiv,"tabindex","");}this.initialPushLike();this.CheckedPushLike();this.disablePushLike();},_updateComponent:function(){var _1a4d,_1a4e=this._securitySystem.isAuthorized(this._attr.security);if(this.isDisabled()===true&&this._attr.engine===enums.EnumRuntimeScadaEngine.InduSoft){_1a40.set(this._xLabel,"tabindex","");_1a40.set(this._xLabelCell,"tabindex","");}this._guiHelper.removeClass(this._xComponent,this._checkedOff);this._guiHelper.removeClass(this._xComponent,this._checked3State);this._guiHelper.removeClass(this._xComponent,this._checkedOn);this._guiHelper.removeClass(this._xComponent,this._checkedOff+"disabled");this._guiHelper.removeClass(this._xComponent,this._checked3State+"disabled");this._guiHelper.removeClass(this._xComponent,this._checkedOn+"disabled");this._xComponent.className=this._xComponent.className.replace(/\s/g," ").trim();if(!isNaN(parseFloat(this.trueValue))&&!isNaN(this.trueValue)){this.trueValue=parseFloat(this.trueValue).toString();}if(!isNaN(parseFloat(this.tag))&&!isNaN(this.tag)){this.tag=parseFloat(this.tag).toString();}if(this.tag===this.trueValue){_1a4d=this._checkedOn+(this.isDisabled()===false&&_1a4e===true?"":"disabled");}else{_1a4d=this._checkedOff+(this.isDisabled()===false&&_1a4e===true?"":"disabled");}if(this.isDisabled()===false&&_1a4e===true){if(this._attr.engine!=enums.EnumRuntimeScadaEngine.ArchestrA){this._guiHelper.setColor(this._xLabel,{color:this._attr.font.fontColor},"color");}}else{this._guiHelper.setColor(this._xLabel,{color:"rgb(212, 208, 200)"},"color");}dojo.addClass(this._xComponent,_1a4d);},applyDisable:function(anim,_1a4f){if(anim!==null){return;}this.inherited(arguments);if(this.isPushLike){this._updateComponentWithPushLike();}else{this._updateComponent();}}});});},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],function(win,arr,has){var _1a50=[],_1a51=[];var style=win.doc.createElement("div").style;var _1a52=["webkit"];has.add("css3-animations",function(_1a53,_1a54,_1a55){var style=_1a55.style;return (style["animation"]!==undefined&&style["transition"]!==undefined)||arr.some(_1a52,function(p){return style[p+"Animation"]!==undefined&&style[p+"Transition"]!==undefined;});});var css3={name:function(p,_1a56){var n=(_1a56?_1a51:_1a50)[p];if(!n){if(/End|Start/.test(p)){var idx=p.length-(p.match(/End/)?3:5);var s=p.substr(0,idx);var pp=this.name(s);if(pp==s){n=p.toLowerCase();}else{n=pp+p.substr(idx);}}else{if(p=="keyframes"){var pk=this.name("animation",_1a56);if(pk=="animation"){n=p;}else{if(_1a56){n=pk.replace(/animation/,"keyframes");}else{n=pk.replace(/Animation/,"Keyframes");}}}else{var cn=_1a56?p.replace(/-(.)/g,function(match,p1){return p1.toUpperCase();}):p;if(style[cn]!==undefined){n=p;}else{cn=cn.charAt(0).toUpperCase()+cn.slice(1);arr.some(_1a52,function(_1a57){if(style[_1a57+cn]!==undefined){if(_1a56){n="-"+_1a57+"-"+p;}else{n=_1a57+cn;}}});}}}if(!n){n=p;}(_1a56?_1a51:_1a50)[p]=n;}return n;},add:function(_1a58,_1a59){for(var p in _1a59){if(_1a59.hasOwnProperty(p)){_1a58[css3.name(p)]=_1a59[p];}}return _1a58;}};return css3;});},"sma/app":function(){define([],1);},"viewer/misc/gui/warningWindow":function(){define(["dojo/_base/declare","./_base","dojo/text!./warningWindow.html","./helpers/css","dojo/touch"],function(_1a5a,_1a5b,_1a5c,_1a5d,touch){return _1a5a("viewer.misc.gui.InputWindow",_1a5b,{templateString:_1a5c,inputEvent:null,onWrite:null,onCancel:null,mask:null,currentValue:null,range:null,warningMsg:"",warningTitle:"",startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this.inherited(arguments);dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._dlgContent.parentNode,touch.press,function(evt){self.close();});dojo.connect(this._dlgContent,touch.press,function(evt){event.stopPropagation();});this._dlgTitle.innerHTML=this.warningTitle;this._dlgMessage.innerHTML=this.warningMsg;dojo.fadeIn({node:this._dlgContent,duration:100}).play();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_onKeyPress:function(evt){switch(evt.keyCode){case 13:this.close();break;case 27:this.close();break;}},});});},"viewer/screens/_base":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","dojo/query","dojo/_base/fx","dijit/Dialog","dojo/dom-style","../misc/gesture/_base","../misc/enums","../misc/gui/helpers/image","viewer/misc/common/customParser","../misc/gui/helpers/css","../misc/gui/helpers/svg","dojo/dom-construct","../server/securitySystem","../server/serverEvents","dijit/focus","../misc/gui/helpers/trace","./behaviourManager","../misc/common/_PrepareTag","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./_base.html","../screens/ChangeManager"],function(_1a5e,on,touch,query,fx,_1a5f,_1a60,_1a61,enums,_1a62,_1a63,_1a64,_1a65,_1a66,_1a67,_1a68,_1a69,_1a6a,_1a6b,_1a6c,_1a6d,_1a6e,_1a6f,_1a70){return _1a5e("viewer.screens._base",[_1a6d,_1a6e,_1a61,_1a6c],{templateString:_1a6f,_attr:null,_minScale:0,_opened:true,_transformation:null,_isResizing:false,_frameScale:1,_titlebarHeight:24,_screenContainer:null,_windowPan:null,_viewerObj:null,_gesture:new _1a61(),_isApiPanZoom:false,_apiZoomLevel:1,_apiPanScrollStartPoint:null,_apiPanScrollSizeRatio:1,_lastWindowPixelRatio:1,_lastWindowSize:null,_lastScrollPoint:null,_lastScrollBarSizeRatio:null,_allExpressionsLoaded:false,_lastExtendedSize:null,scaleContainer:null,disableRepositioning:false,originalLeft:null,originalTop:null,screenName:null,screenId:null,events:null,wasDestroyed:false,screenStatus:null,warningDialog:null,extendedSizeArr:[],buildRendering:function(){this._prepareOwnTag();this.inherited(arguments);},startup:function(){var self=this;if((typeof window.webGraphicsApi)==="object"){this._lastWindowSize={width:window.innerWidth,height:window.innerHeight};this._lastWindowPixelRatio=window.devicePixelRatio;var _1a71=dijit.byId("_x_viewer_Viewer");var _1a72=_1a71._apiContainer;this._viewerObj=_1a71;if(_1a72){this._attr.locationLeft=0;this._attr.locationTop=0;}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.scaleContainer=this.apiScaleContainer;dojo.removeClass(this.scaleContainer,"viewer-screens-base-scrContainer");dojo.addClass(this.scaleContainer,"viewer-screens-base-scrContainer-api");dojo.addClass(this.scaleContainer,"noSelectable");this.scaleContainer.style.display="inline";if(!this.isPopupScreen()){this.domNode.style.background="transparent";}_1a66.place(this.scaleContainer,this.containerNode,"replace");_1a66.place(this.containerNode,this.scaleContainer,"only");}dojo.removeClass(this.domNode,"viewer-screens-base");dojo.addClass(this.domNode,"viewer-screens-base-api");dojo.removeClass(this.containerNode,"viewer-screens-base-scrContainer");dojo.addClass(this.containerNode,"viewer-screens-base-scrContainer-api");if(this.isPopupScreen()){dojo.removeClass(this.titleTextContainer,"viewer-screens-base-container-titleText");dojo.addClass(this.titleTextContainer,"viewer-screens-base-container-titleText-showSymbol");if(this.titleBarContainer!=null){this.titleBarContainer.addEventListener("touchstart",function(evt){evt.stopPropagation();evt.preventDefault();},false);this.titleBarContainer.addEventListener("touchmove",function(evt){evt.stopPropagation();evt.preventDefault();},false);this.titleBarContainer.addEventListener("touchend",function(evt){evt.stopPropagation();evt.preventDefault();},false);}}}dojo.addClass(this.domNode,"noSelectable");dojo.addClass(this.containerNode,"noSelectable");_1a64.setBackgroundColor(this.containerNode,this._attr.background.color);this.events=[];_1a64.setLeft(this.domNode,this._attr.locationLeft+"px");_1a64.setTop(this.domNode,this._attr.locationTop+"px");this.originalLeft=this._attr.locationLeft;this.originalTop=this._attr.locationTop;if(window.sma.zoomMode===enums.EnumZoomMode.AUTO_SCREEN_SCALING||window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING){this.activateScaling(this.containerNode);}if((window.sma.zoomMode===enums.EnumZoomMode.AUTO_SCREEN_SCALING||window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING)&&(!this._attr.multiTouchSettings||parseInt(this._attr.multiTouchSettings.mode,10)===1)){this.activatePanning(this.containerNode);}if((window.sma.zoomMode===enums.EnumZoomMode.AUTO_SCREEN_SCALING||window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING)&&(!this._attr.multiTouchSettings||parseInt(this._attr.multiTouchSettings.mode,10)!==1)){this._disableAxesXPan=true;this._disableAxesYPan=true;}this.updateDOM();this._parseBGImage();this._parseScreenAttributes();this.events.push(on(this.closeButtonContainer,touch.press,function(){if(typeof self.close=="function"){self.close();}self.destroyRecursive();}));this.events.push(on(this.minimizeButtonContainer,touch.press,function(){if(typeof self.minimize=="function"){self.minimize();}}));this.events.push(on(this.maximizeButtonContainer,touch.press,function(){if(typeof self.maximize=="function"){self.maximize();}}));this.iconWarining.style.display="none";this.wariningContainer.style.display="none";var _1a73=window.location&&window.location.hostname&&window.location.hostname.toLocaleLowerCase()=="localhost";if(this.limitations&&this.limitations.length>0&&_1a73){this.iconWarining.style.display="inline";this.events.push(on(this.iconWarining,touch.press,function(){self._showWarining();}));}else{this.iconWarining.style.display="none";}if((typeof window.webGraphicsApi)!=="object"){this.events.push(on(this.domNode,touch.press,function(evt){_1a6b.notifyScreenSelection(self);if(window.sma.zoomMode===enums.EnumZoomMode.AUTO_SCREEN_SCALING&&(((self._attr.multiTouchSettings&&parseInt(self._attr.multiTouchSettings.mode,10)===1)&&!(evt&&self.isDoubleTap(evt.timeStamp))&&(self.domNode&&self.transform.isZoomEnabled(self.domNode.id)))||(evt&&self._isPanningOverTitlebar(evt)))){evt.stopPropagation();}evt.preventDefault();}));}this._parseStyle();if((typeof window.webGraphicsApi)==="object"&&(typeof window.panAndZoomSupport)==="object"&&!this.isPopupScreen()){this.checkApiPanZoomContainer(true,1.00001);this.checkApiPanZoomContainer(false,1);}},_showWarining:function(){if(this.limitations&&this.limitations.length>0){var rows="";for(var i=0;i<this.limitations.length;i++){var _1a74=this.limitationContent.insertRow(i+1);_1a74.className="viewer-screens-base-container-limitationContent-tr";var _1a75=_1a74.insertCell(0);_1a75.className="viewer-screens-base-container-limitationContent-td-element";var _1a76=_1a74.insertCell(1);_1a76.className="viewer-screens-base-container-limitationContent-td";var _1a77=_1a74.insertCell(2);_1a77.className="viewer-screens-base-container-limitationContent-td";var _1a78=_1a74.insertCell(3);_1a78.className="viewer-screens-base-container-limitationContent-td-content";_1a75.innerHTML=this.limitations[i].graphicalElement;_1a76.innerHTML=this.limitations[i].elementType;_1a77.innerHTML=this.limitations[i].animationOrProperty;_1a78.innerHTML=this.limitations[i].message;}this.limitations=null;}var self=this;if(this.warningDialog==null){this.warningDialog=new _1a5f({title:"The following features are not yet supported"});_1a60.set(this.warningDialog.titleBar,{backgroundImage:"none",backgroundColor:"#FFFFFF",color:"#FFFFFF",fontFamily:"Roboto, sans-serif"});_1a60.set(this.warningDialog.domNode,{border:"none"});_1a60.set(this.warningDialog.containerNode,{borderTop:"none"});this.warningDialog.closeButtonNode.title="Close";_1a60.set(this.warningDialog.closeText,{color:"black",display:"block",fontFamily:"Roboto, sans-serif"});_1a60.set(this.warningDialog.closeButtonNode,{background:"none",outline:"none"});this.wariningContainer.style.display="inline";this.warningDialog.set("Content",this.limitationContent);_1a69.focus(this.limitationContent);}this.warningDialog.show();},_parseScreenAttributes:function(){var self=this;if(this._attr.enableTitleBar===1&&this._attr.borderScreen.toLowerCase()!=="none"){this._windowPan=new _1a61();this._windowPan.activatePanning(this.titleBarContainer);this._windowPan._onStartProcPan=function(){self._onStartWidnowPan();};this._windowPan.onEndProcPan=function(){self._onEndWidnowPan();};this._attr.sizeHeightWithTitleBar=this._attr.sizeHeight+_1a64.getHeight(this.titleBarContainer);dojo.addClass(this.domNode,"popup-border-titlebar");if(this._attr.systemMenu!==1){dojo.style(this.iconContainer,"display","none");dojo.style(this.closeButtonContainer,"display","none");}}else{_1a64.setDisplay(this.titleBarContainer,"none");this._attr.sizeHeightWithTitleBar=this._attr.sizeHeight;}},_parseStyle:function(){if((typeof window.webGraphicsApi)==="object"){dojo.addClass(this.domNode,"viewer-screens-base-api");}else{dojo.addClass(this.domNode,"viewer-screens-base");}if(this._attr.borderScreen.toLowerCase()!=="none"&&(this._attr.borderScreen.toLowerCase()==="resizing"||this._attr.enableTitleBar===1)){dojo.addClass(this.domNode,"viewer-screens-border-resizing");}else{if(this._attr.borderScreen.toLowerCase()!=="none"&&(this._attr.borderScreen.toLowerCase()==="thin"&&this._attr.enableTitleBar!==1)){dojo.addClass(this.domNode,"viewer-screens-border-thin");}}if(this._attr.enableTitleBar===1&&this._attr.borderScreen.toLowerCase()!=="none"){dojo.addClass(this.titleBarContainer,"viewer-screens-base-titleContainer");}},isPopupScreen:function(){return this.constructor.prototype.declaredClass=="viewer.screens.Dialog"||this.constructor.prototype.declaredClass=="viewer.screens.Popup";},focus:function(){dojo.addClass(this.domNode,"viewer-screens-base-focus");if(this._attr.enableTitleBar===1&&this._attr.borderScreen.toLowerCase()!=="none"){dojo.addClass(this.titleBarContainer,"viewer-screens-base-title-focus");}},unfocus:function(){dojo.removeClass(this.domNode,"viewer-screens-base-focus");if(this._attr.enableTitleBar===1&&this._attr.borderScreen.toLowerCase()!=="none"){dojo.removeClass(this.titleBarContainer,"viewer-screens-base-title-focus");}},updateDOM:function(){},updatePrimitive:function(){if(this.childNodes[0].attributes[0].nodeValue==="viewer.object.shape.Rectangle"){this._setWidthAttr(this.domNode.parentNode.clientWidth);this._setHeightAttr(this.domNode.parentNode.clientHeight);this._attr.sizeHeightWithTitleBar=this.domNode.parentNode.clientHeight;this.childNodes[0].attributes[1].nodeValue=this.childNodes[0].attributes[1].nodeValue.replace(/'right(.*)\'/g,"'right':"+"'"+this.domNode.parentNode.clientWidth+"',"+"'bottom':"+"'"+this.domNode.parentNode.clientHeight+"'");}else{if(this.childNodes[0].attributes[0].nodeValue==="viewer.object.shape.Ellipse"){this._setWidthAttr(this.domNode.parentNode.clientWidth);this._setHeightAttr(this.domNode.parentNode.clientHeight);this._attr.sizeHeightWithTitleBar=this.domNode.parentNode.clientHeight;this.childNodes[0].attributes[1].nodeValue=this.childNodes[0].attributes[1].nodeValue.replace(/'right(.*)\'/g,"'right':"+"'"+(this.domNode.parentNode.clientWidth-10)+"',"+"'bottom':"+"'"+(this.domNode.parentNode.clientHeight-10)+"'");}else{if(this.childNodes[0].attributes[0].nodeValue==="viewer.object.shape.Line"){this._setWidthAttr(this.domNode.parentNode.clientWidth);this._setHeightAttr(this.domNode.parentNode.clientHeight);this._attr.sizeHeightWithTitleBar=this.domNode.parentNode.clientHeight;this.childNodes[0].attributes[3].nodeValue="[{'x':'0','y':'0'},{'x':'"+this.domNode.parentNode.clientWidth+"','y':'"+this.domNode.parentNode.clientHeight+"'}]";}}}for(var i=this.containerNode.childNodes.length-1;i>=0;i--){this.containerNode.removeChild(this.containerNode.childNodes[i]);}_1a63._parseScreenObjects(this.childNodes,this,this.screenName);},propagateEvents:function(evts){var exps=null,funcs=null,_1a79=null,_1a7a=null,_1a7b=null,_1a7c=null,_1a7d,_1a7e=null,_1a7f=false,view=dijit.byId("_x_viewer_Viewer"),_1a80=null,_1a81=null,i=null,c=null;var _1a82=this;if(!evts.screen){return null;}if(evts.screen.expressions){exps=evts.screen.expressions;}if(evts.screen.functions){funcs=evts.screen.functions;}if(evts.screen.screenStatus){_1a79=evts.screen.screenStatus;}if(evts.screen.datasources){_1a7a=evts.screen.datasources;}if(evts.screen.currentUpdates){_1a7b=evts.screen.currentUpdates;}if(evts.screen.alarmColorUpdates){_1a7c=evts.screen.alarmColorUpdates;}if(evts.screen.property){_1a81=evts.screen.property;}if(evts.securityLevels){_1a7e=evts.securityLevels;}if(evts.logs){_1a6a.dispatchServerLog(evts.logs);}if(_1a79&&typeof (window.webGraphicsApi)==="object"){this.screenStatus=_1a79;}if(!view._screenBelongViewer){this.subscribePropertyChange();}if(view._openScreenCallback){view._openScreenCallback(this);}if(_1a79==enums.EnumScreenStatus.STARTED&&this.openScreenCallback!=null){this.openScreenCallback({status:enums.EnumWebGraphicsAPIRequestStatus.LOADED});this.openScreenCallback=null;}if(_1a79&&_1a79!==enums.EnumScreenStatus.STARTED&&_1a79!==enums.EnumScreenStatus.STARTING&&_1a79!==enums.EnumScreenStatus.CREATED&&_1a79!==enums.EnumScreenStatus.NOT_FOUND&&_1a79!==enums.EnumScreenStatus.ENDING){_1a7d=this;view.onLoadScreenFail();view.CloseScreen(_1a7d.screenName);view._updating=false;_1a6a.timeEnd("Update screen data: "+_1a7d.screenName,3200);_1a6a.error("Screen '"+_1a7d.screenName+"' failed with code "+_1a79+".");if(typeof (window.webGraphicsApi)!=="object"){view._showErrorMessage("There was an error in screen \""+_1a7d.screenName+"\". Check the console for more information.",function(){});}else{this.openScreenCallback({status:enums.EnumWebGraphicsAPIRequestStatus.FAILED_TO_LOAD,result:{resultCode:_1a79,message:"Fail to load"}});}}if(_1a7e&&Array.isArray(_1a7e)===true&&_1a7e.length===256){_1a7f=_1a67.update(_1a7e);if(window.securedControls[this.screenName]&&_1a7f){_1a80=window.securedControls[this.screenName];for(i=0;i<_1a80.length;i++){_1a80[i].applyDisable(null);_1a80[i].updateDOM();}}}if(exps){window.expUpdateCount.count+=exps.length;for(i=0;i<exps.length;i++){_1a68.setValue(this.screenId,exps[i].id,exps[i].value,exps[i].dataType,exps[i].quality);}}if(_1a7a){window.expUpdateCount.count+=_1a7a.length;for(i=0;i<_1a7a.length;i++){_1a68.setValue(this.screenId,_1a7a[i].id,_1a7a[i],null);}}if(_1a7b){for(i=0;i<_1a7b.length;i++){_1a68.setValue(this.screenId,_1a7b[i].id,_1a7b[i],null);}}if(_1a7c){for(i=0;i<_1a7c.length;i++){_1a68.setValue(this.screenId,_1a7c[i].id,_1a7c[i],null);}}if(_1a81){window.expUpdateCount.count+=_1a81.length;for(i=0;i<_1a81.length;i++){_1a68.setPropertyValue(this.screenId,_1a81[i].changed_property,_1a81[i].value,null);}}if(funcs){for(i=0;i<funcs.length;i++){_1a68.callFunction(funcs[i],this.screenId);}}while(lstChangedObjects.length>0){lstChangedObjects.pop().updateDOM();}if(view.waitingOpen[this.screenName]&&this._allExpressionsLoaded===false){c=this.getChildren();for(i=0;i<c.length;i++){c[i]._setParentAttr(this);}_1a6a.timeEnd("Update screen data: "+this.screenName,3200);if(window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING){view._applySingleScreenScaling();}else{view._applyScaling();}view.resize();this.resize();view.onLoadedScreen(this.screenName);_1a6b.notifyOpen(this);_1a64.setVisibility(view.containerNode,"visible");this._allExpressionsLoaded=true;}},propertyChangeCallback:function(){var _1a83=null;var _1a84=null;var _1a85=null;if(this.domNode&&this.domNode.parentNode){_1a83=window.getComputedStyle(this.referenceElement);_1a84=this.getActualWidth(_1a83);_1a85=this.getActualHeight(_1a83);if(_1a84!=this.sizeRecord.width||_1a85!=this.sizeRecord.height){this.sizeRecord.width=_1a84;this.sizeRecord.height=_1a85;this._applySingleScreenScaling();}}},subscribePropertyChange:function(){var x=null;var _1a86=null;var _1a87=null;var _1a88=null;var _1a89=null;if(this.referenceElement){return;}if(this.domNode.parentNode){_1a86=this;_1a89=this.domNode.parentNode.getAttribute("resizetrigger");this.referenceElement=this.domNode.parentNode;if(_1a89){this.referenceElement=document.getElementById(_1a89);}_1a87=window.getComputedStyle(this.referenceElement);this.sizeRecord={};this.sizeRecord.width=this.getActualWidth(_1a87);this.sizeRecord.height=this.getActualHeight(_1a87);_1a70.subscribe(this.referenceElement,function(_1a8a){setTimeout(_1a86.propertyChangeCallback.bind(_1a86),10);},false);this._applySingleScreenScaling();}},unsubscribePropertyChange:function(){if(this.referenceElement){_1a70.unsubscribe(this.referenceElement);this.referenceElement=null;}},getActualWidth:function(_1a8b){var width=this.getNumberFromPx(_1a8b.width);var _1a8c=this.getNumberFromPx(_1a8b.marginLeft);var _1a8d=this.getNumberFromPx(_1a8b.marginLeft);var _1a8e=this.getNumberFromPx(_1a8b.paddingLeft);var _1a8f=this.getNumberFromPx(_1a8b.paddingRight);var _1a90=this.getNumberFromPx(_1a8b.borderLeftWidth);var _1a91=this.getNumberFromPx(_1a8b.borderRightWidth);return width+_1a8c+_1a8d+_1a8e+_1a8f+_1a90+_1a91;},getActualHeight:function(_1a92){var _1a93=this.getNumberFromPx(_1a92.height);var _1a94=this.getNumberFromPx(_1a92.marginTop);var _1a95=this.getNumberFromPx(_1a92.marginBottom);var _1a96=this.getNumberFromPx(_1a92.paddingTop);var _1a97=this.getNumberFromPx(_1a92.paddingBottom);var _1a98=this.getNumberFromPx(_1a92.borderTopWidth);var _1a99=this.getNumberFromPx(_1a92.borderBottomWidth);return _1a93+_1a94+_1a95+_1a96+_1a97+_1a98+_1a99;},getNumberFromPx:function(pixel){return parseFloat(pixel.slice(0,pixel.length-2));},_applySingleScreenScaling:function(){var _1a9a=(this.getParent()!=null&&this.getParent()._screenBelongViewer);var _1a9b=_1a9a?this.getParent().domNode:this.domNode.parentNode;var n,nw,nh,_1a9c,tw,th,scale,cx,cy;if(_1a9a){tw=parseFloat(_1a64.getWidth(_1a9b));th=parseFloat(_1a64.getHeight(_1a9b));}else{tw=_1a9b.clientWidth;th=_1a9b.clientHeight;}var x=tw/2;var y=th/2;n=this;nw=n._getWidthAttr();nh=n._getHeightAttr();if(nw===0||nh===0){return;}if(typeof (window.webGraphicsApi)==="object"&&n instanceof viewer.screens.Popup){th-=28;nh+=2;nw+=2;}scale=Math.min((tw/nw),(th/nh));nw*=scale;nh*=scale;if(_1a9a){cx=(x-nw/2);cy=(y-nh/2);}else{cx=(x-nw/2).toFixed(6);cy=(y-nh/2).toFixed(6);}if(typeof (window.webGraphicsApi)==="object"&&n instanceof viewer.screens.Popup){cy=0;}n.setFrameScale(scale);n.setMinScale(scale);n._setLeftAttr(cx);n._setTopAttr(cy);n.resize();},setExtendedSize:function(_1a9d,_1a9e,id){if(this._attr==null){return;}var w=parseInt(this._attr.sizeWidth,10),h=parseInt(this._attr.sizeHeight,10),t=parseInt(this._attr.locationTop,10),l=parseInt(this._attr.locationLeft,10);var _1a9f=_1a9d-l;var _1aa0=_1a9e-t;this.extendedSizeArr=this.extendedSizeArr.filter(function(p){return p.id!=id;});if(_1a9f>w||_1aa0>h){this.extendedSizeArr.push({"id":id,w:_1a9f,h:_1aa0});}_1a9f=w;_1aa0=h;for(var i=0;i<this.extendedSizeArr.length;i++){var p=this.extendedSizeArr[i];_1a9f=Math.max(p.w,_1a9f);_1aa0=Math.max(p.h,_1aa0);}var _1aa1=false;var _1aa2=false;if(_1a9f<=w){_1aa1=this._lastExtendedSize!=null&&this._lastExtendedSize.w!=null?true:false;_1a9f=_1aa1?w:null;}if(_1aa0<=h){_1aa2=this._lastExtendedSize!=null&&this._lastExtendedSize.h!=null?true:false;_1aa0=_1aa2?h:null;}if(_1a9f!=null||_1aa0!=null){this._lastExtendedSize=this._lastExtendedSize!=null?this._lastExtendedSize:{w:_1a9f,h:_1aa0};if(_1aa1){this._lastExtendedSize.w=null;}else{this._lastExtendedSize.w=_1a9f;}if(_1aa2){this._lastExtendedSize.h=null;}else{this._lastExtendedSize.h=_1aa0;}this.resize(_1a9f,_1aa0);}},resize:function(_1aa3,_1aa4){var _1aa5=(this.getParent()!=null&&this.getParent()._screenBelongViewer)?this.getParent().domNode:this.domNode.parentNode;if(this._lastWindowSize!=null&&(window.innerWidth!=this._lastWindowSize.width||window.innerHeight!=this._lastWindowSize.height)){if(this._isApiPanZoom&&this._lastWindowPixelRatio==window.devicePixelRatio){this._resetApiZoom();}this._lastWindowPixelRatio=window.devicePixelRatio;this._lastWindowSize.width=window.innerWidth;this._lastWindowSize.height=window.innerHeight;}if(this.domNode){var w=parseInt(this._attr.sizeWidth,10),h=parseInt(this._attr.sizeHeight,10),t=parseInt(window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING?this._attr.locationTop:this._attr.locationTop*this._frameScale,10),l=parseInt(window.sma.zoomMode===enums.EnumZoomMode.SINGLE_SCREEN_SCALING?this._attr.locationLeft:this._attr.locationLeft*this._frameScale,10),b="";if(_1aa3!=null&&_1aa3>0){w=_1aa3;}else{if(this._lastExtendedSize!=null&&this._lastExtendedSize.w!=null){w=Math.max(this._lastExtendedSize.w,w);}}if(_1aa4!=null&&_1aa4>0){h=_1aa4;}else{if(this._lastExtendedSize!=null&&this._lastExtendedSize.h!=null){h=Math.max(this._lastExtendedSize.h,h);}}var dom=this.domNode;if(this.scaleContainer!=null){var _1aa6=dijit.byId("_x_viewer_Viewer");dom=this.scaleContainer;if(typeof (window.webGraphicsApi)==="object"&&this._attr.enableTitleBar===1){}else{dojo.style(this.domNode,"width",_1aa5.clientWidth+"px");dojo.style(this.domNode,"height",_1aa5.clientHeight+"px");}dojo.style(dom,"width",w+"px");dojo.style(dom,"height",this._attr.sizeHeightWithTitleBar+"px");if(typeof (window.webGraphicsApi)==="object"&&this._attr.enableTitleBar===1){dojo.style(dom,"left",0+"px");dojo.style(dom,"top",this._titlebarHeight+"px");dojo.style(this.domNode,"left",parseInt(this._attr.locationLeft,10)+"px");dojo.style(this.domNode,"top",parseInt(this._attr.locationTop,10)+"px");}else{if(!this.disableRepositioning){dojo.style(dom,"left",l+"px");dojo.style(dom,"top",t+"px");}}}else{dojo.style(this.domNode,"width",w+"px");dojo.style(this.domNode,"height",this._attr.sizeHeightWithTitleBar+"px");if(!this.disableRepositioning){dojo.style(this.domNode,"left",l+"px");dojo.style(this.domNode,"top",t+"px");}}dojo.style(this.containerNode,"width",w-(b*2)+"px");dojo.style(this.containerNode,"height",h-(b*2)+"px");if(!this.disableRepositioning){dojo.style(this.containerNode,"top",b+"px");dojo.style(this.containerNode,"left",b+"px");}this._isResizing=true;this._applyTransform();if(typeof (window.webGraphicsApi)==="object"&&this._attr.enableTitleBar===1){var _1aa7=this.scaleContainer!=null?1:this._frameScale;if(dojo.hasClass(this.domNode,"viewer-screens-border-resizing")){b=(2/_1aa7);dojo.style(this.domNode,"border-radius",(5/_1aa7)+"px");}else{if(dojo.hasClass(this.domNode,"viewer-screens-border-thin")){b=(1/_1aa7);}}dojo.style(this.containerNode,"width",(w+b)+"px");dojo.style(this.containerNode,"height",(h+b)+"px");dojo.style(this.titleBarContainer,"height",(24/_1aa7)+"px");dojo.style(this.titleBarContainer,"transform","scale("+1/_1aa7+","+1/_1aa7+")");dojo.style(this.titleBarContainer,"transformOrigin","0% 0% 0px");dojo.style(this.titleBarContainer,"width","100%");dojo.style(this.iconContainer,"font-size",(12/_1aa7)+"px");dojo.style(this.iconContainer,"height",(30/_1aa7)+"px");dojo.style(this.iconContainer,"left","7px");dojo.style(this.closeButtonContainer,"font-size",(12/_1aa7)+"px");dojo.style(this.closeButtonContainer,"right",(7/_1aa7)+"px");dojo.style(this.closeButtonContainer,"top","7px");dojo.style(this.minimizeButtonContainer,"font-size",(12/_1aa7)+"px");dojo.style(this.maximizeButtonContainer,"font-size",(12/_1aa7)+"px");dojo.style(this.maximizeButtonContainer,"top",(8/_1aa7)+"px");dojo.style(this.titleTextContainer,"font-size",(12/_1aa7)+"px");dojo.style(this.titleTextContainer,"top","7px");dojo.style(this.domNode,"border-left-width",b+"px");dojo.style(this.domNode,"border-right-width",b+"px");dojo.style(this.domNode,"border-bottom-width",b+"px");dojo.style(this.domNode,"border-top-width",b+"px");dojo.style(this.domNode,"height",((h+b)*this._frameScale+this._titlebarHeight)+"px");dojo.style(this.domNode,"width",((w+b)*this._frameScale)+"px");}if(typeof (window.webGraphicsApi)==="object"){var bW=dojo.window.getBox().w;var bH=dojo.window.getBox().h;var _1aa8=1;var _1aa9=1;var _1aaa=1;_1aa9=bW/1366;_1aaa=bH/760;_1aa8=Math.min(_1aa9,_1aaa);dojo.style(this.iconWarining,"width",(32*_1aa8)+"px");dojo.style(this.iconWarining,"height",(32*_1aa8)+"px");if(this._attr.enableTitleBar===1){dojo.style(this.iconWarining,"top",((24+8)*_1aa8)+"px");}else{dojo.style(this.iconWarining,"top",(8*_1aa8)+"px");}dojo.style(this.iconWarining,"right",(8*_1aa8)+"px");}this.checkApiPanZoomContainer(false);}},_parseBGImage:function(){var _1aab,_1aac;if(this._attr.enableBackGround===0){return;}_1aac=this._attr.sharedImage;if(_1aac&&_1aac.indexOf(".")===-1){_1aac=_1aac+"."+this._attr.backGround;}_1aab=this._attr.enableSharedImage===0?this.screenName+"."+this._attr.backGround:_1aac;dojo.style(this.containerNode,"background-image","url('"+_1a62.load(_1aab)+"')");},_setLeftAttr:function(v){this._attr.locationLeft=parseFloat(v);},_setTopAttr:function(v){this._attr.locationTop=parseFloat(v);},_getLeftAttr:function(){return this._attr.locationLeft;},_getTopAttr:function(){return this._attr.locationTop;},_setWidthAttr:function(v){this._attr.sizeWidth=parseInt(v,10);},_setHeightAttr:function(v){this._attr.sizeHeight=parseInt(v,10);},_getWidthAttr:function(){return this._attr.sizeWidth;},_getHeightAttr:function(){return this._attr.sizeHeight;},_setScreenNameAttr:function(name){this.screenName=name;},_setScreenIdAttr:function(_1aad){this.screenId=_1aad;},_applyTransform:function(evt){var _1aae=null,_1aaf=null;if(!this._scalableNode&&!this._panableNode){return;}var dom=this.scaleContainer!=null?this.scaleContainer:this.domNode;if((this._attr.multiTouchSettings&&(parseInt(this._attr.multiTouchSettings.mode,10)===1)&&(dom&&this.transform.isZoomEnabled(this.domNode.id))&&(!evt||!this.isDoubleTap(evt.timeStamp)))||this._isResizing===true){if(this._transformation===null||this._isResizing===true){this._transformation={};}this._scale=Math.max(this._scale,1);this._scale=Math.min(this._scale,this._maxScale);_1aae=((this._attr.sizeWidth*this._scale)-this._attr.sizeWidth)/(this._scale*2);_1aaf=((this._attr.sizeHeight*this._scale)-this._attr.sizeHeight)/(this._scale*2);this._lastPan.x=(this._lastPan.x>_1aae)?_1aae:this._lastPan.x;this._lastPan.y=(this._lastPan.y>_1aaf)?_1aaf:this._lastPan.y;this._lastPan.x=(this._lastPan.x<(-1*_1aae))?(-1*_1aae):this._lastPan.x;this._lastPan.y=(this._lastPan.y<(-1*_1aaf))?(-1*_1aaf):this._lastPan.y;this._transformation.scale="("+this._scale+","+this._scale+")";this._transformation.translate="("+this._lastPan.x+"px,"+this._lastPan.y+"px)";this._applyTransformTranslate(this._scale,this._frameScale);_1a64.applyTransform(this._scalableNode||this._panableNode,this._transformation,this._inertiaTime);if(this._windowPan){this._windowPan.onEndPan=this.onMoveEnd;this._windowPan.switchPanNode(this.domNode);if(typeof (window.webGraphicsApi)==="object"){this._windowPan.setScale(1,true);}else{this._windowPan.setScale(this._frameScale,true);}this._windowPan._applyTransform();this._windowPan.restorePanNode();}this._isResizing=false;}},_setTitleBarAttr:function(title){this._attr.titleBar=title;this.titleTextContainer.innerHTML=this._attr.titleBar;},_applyTransformTranslate:function(_1ab0,_1ab1){var _1ab2="transform-scrContainer",_1ab3=_1ab0*_1ab1;if(this.containerNode){if(_1ab3>=1&&this.containerNode.className.indexOf(_1ab2)===-1){this.containerNode.className+=" "+_1ab2;}else{if(_1ab3<1){this.containerNode.className=this.containerNode.className.replace(_1ab2,"");}}}},setFrameScale:function(v){var _1ab4={};if(typeof (window.webGraphicsApi)!=="object"){screens=this.getParent().getChildren();if(!(this===screens[0])){v=screens[0]._frameScale;}}var dom=this.scaleContainer!=null?this.scaleContainer:this.domNode;this._frameScale=v;_1ab4.scale="("+v+","+v+")";this._applyTransformTranslate(1,this._frameScale);_1a64.applyOrigin(dom,{"x":"0%","y":"0%"});_1a64.applyTransform(dom,_1ab4,0);_1a64.setLeft(dom,parseInt(this._attr.locationLeft*this._frameScale,10)+"px");_1a64.setTop(dom,parseInt(this._attr.locationTop*this._frameScale,10)+"px");this._scale=1;this._applyTransform();},checkApiPanZoomContainer:function(_1ab5,_1ab6){var _1ab7=_1ab6==null;if(!this._isApiPanZoom&&_1ab5){if(_1ab6&&_1ab6<=1){return false;}this._isApiPanZoom=true;var dom=this.scaleContainer!=null?this.scaleContainer:this.containerNode;_1a66.place(dom,this.apiPanZoomScaleContainer,"only");_1a64.setTransformOrigin(this.apiPanZoomScaleContainer,"0% 0%");_1a66.place(this.apiPanZoomScaleVisibleContainer,this.apiPanZoomContainer,"after");_1a64.setLeft(this.apiPanZoomContainer,"0px");_1a64.setTop(this.apiPanZoomContainer,"0px");_1a64.setLeft(this.apiPanZoomScaleContainer,"0px");_1a64.setTop(this.apiPanZoomScaleContainer,"0px");_1a64.setLeft(this.apiPanZoomScaleVisibleContainer,"0px");_1a64.setTop(this.apiPanZoomScaleVisibleContainer,"0px");if(this._viewerObj){dojo.style(this.apiPanZoomControllerContainer,"backgroundColor",dojo.style(this._viewerObj.domNode,"backgroundColor"));}var self=this;this.apiPanZoomContainer.addEventListener("scroll",function(e){self._onPanZoomContainerScroll(e);},true);}if(this._isApiPanZoom){var _1ab8=false;if(_1ab6==null){_1ab6=this._apiZoomLevel;_1ab8=true;}if(_1ab6!=null&&_1ab6>1&&this._apiZoomLevel<=1){dojo.style(this.apiPanZoomContainer,"overflow","scroll");dojo.style(this.apiPanZoomContainer,"display","inline");dojo.style(this.apiPanZoomScaleVisibleContainer,"display","inline");dojo.style(this.apiPanZoomControllerContainer,"display","table-cell");dojo.style(this.apiPanZoomContainer,"width",(this.domNode.clientWidth)+"px");dojo.style(this.apiPanZoomContainer,"height",(this.domNode.clientHeight)+"px");dojo.style(this.apiFakePanZoomScaleContainer,"width",(this.domNode.clientWidth+1)+"px");dojo.style(this.apiFakePanZoomScaleContainer,"height",(this.domNode.clientHeight+1)+"px");_1ab8=true;}else{if(_1ab6==null||(_1ab6<=1&&this._apiZoomLevel>1)){dojo.style(this.apiPanZoomContainer,"overflow","hidden");dojo.style(this.apiPanZoomContainer,"display","none");dojo.style(this.apiPanZoomControllerContainer,"display","none");_1ab8=true;}}if(_1ab8){var _1ab9=0;var _1aba=0;var _1abb=0;var _1abc=_1ab6!=null?_1ab6:this._apiZoomLevel;if(_1abc!=null&&_1abc>1){_1ab9=this.apiPanZoomContainer.offsetHeight-this.apiPanZoomContainer.clientHeight;_1aba=this.apiPanZoomContainer.offsetWidth-this.apiPanZoomContainer.clientWidth;_1abb=_1ab9;_1ab9=Math.max(_1ab9,2);_1aba=Math.max(_1aba,2);}if(_1abc!=null&&_1abc>1){dojo.style(this.apiPanZoomControllerContainer,"height",_1abb+"px");dojo.style(this.apiPanZoomControllerContainer,"left","0px");dojo.style(this.apiPanZoomControllerContainer,"top",(this.domNode.clientHeight-_1ab9)+"px");var _1abd=this.apiPanZoomControllerContainer.clientWidth;var _1abe=this.domNode.clientWidth-_1abd-_1aba;var _1abf=this.domNode.clientWidth-_1aba;if(!_1ab7){this._apiPanScrollSizeRatio=_1abe/_1abf;dojo.style(this.apiFakePanZoomScaleContainer,"width",_1abe+"px");dojo.style(this.apiFakePanZoomScaleContainer,"height",(this.domNode.clientHeight-_1ab9)+"px");}dojo.style(this.apiPanZoomContainer,"left",_1abd+"px");dojo.style(this.apiPanZoomContainer,"width",this.domNode.clientWidth-_1abd+"px");dojo.style(this.apiPanZoomContainer,"height",this.domNode.clientHeight+"px");}var _1ac0=this.domNode.clientWidth;_1ac0=_1ac0>0?_1ac0:this._viewerObj.domNode.clientWidth;var _1ac1=this.domNode.clientHeight;_1ac1=_1ac1>0?_1ac1:this._viewerObj.domNode.clientHeight;dojo.style(this.apiPanZoomScaleContainer,"width",(_1ac0-_1aba)+"px");dojo.style(this.apiPanZoomScaleContainer,"height",(_1ac1-_1ab9)+"px");dojo.style(this.apiPanZoomScaleVisibleContainer,"width",(_1ac0-_1aba)+"px");dojo.style(this.apiPanZoomScaleVisibleContainer,"height",(_1ac1-_1ab9)+"px");}}return true;},apiZoomStartScale:function(_1ac2){this._gesture.generalStatus.isGesturing=true;if(_1ac2&&_1ac2.deltaLevel&&_1ac2.deltaLevel>0){if(!this.checkApiPanZoomContainer(true,_1ac2.deltaLevel)){return;}if(_1ac2.deltaLevel<=1){dojo.style(this.apiPanZoomContainer,"overflow","hidden");dojo.style(this.apiPanZoomControllerContainer,"display","none");}else{dojo.style(this.apiPanZoomContainer,"overflow","scroll");dojo.style(this.apiPanZoomControllerContainer,"display","table-cell");}var _1ac3=this._getOffset(this.apiPanZoomContainer);_1ac3.left-=this.apiPanZoomControllerContainer.clientWidth;var _1ac4=this._apiZoomLevel&&this._apiZoomLevel>1?this._apiZoomLevel:1;var _1ac5=this._lastScrollPoint&&this._lastScrollPoint.scrollLeft>0?this._lastScrollPoint.scrollLeft:0;var _1ac6=this._lastScrollPoint&&this._lastScrollPoint.scrollTop>0?this._lastScrollPoint.scrollTop:0;var x=_1ac2.referencePointX-_1ac3.left;var y=_1ac2.referencePointY-_1ac3.top;var _1ac7=(x+_1ac5)*_1ac2.deltaLevel/_1ac4-x;var _1ac8=(y+_1ac6)*_1ac2.deltaLevel/_1ac4-y;var _1ac9=0;var _1aca=0;var _1acb=_1ac2.offsetX!=null?_1ac2.offsetX:0;var _1acc=_1ac2.offsetY!=null?_1ac2.offsetY:0;if(_1ac2.deltaLevel!=1){_1ac9=-1*_1ac7;_1aca=-1*_1ac8;}var o={matrix:"("+_1ac2.deltaLevel+",0,0,"+_1ac2.deltaLevel+","+(_1ac9+_1acb)+","+(_1aca+_1acc)+")"};this._apiZoomLevel=_1ac2.deltaLevel;if(_1ac2.deltaLevel>1){o={matrix3d:"("+_1ac2.deltaLevel+",0,0,0,0,"+_1ac2.deltaLevel+",0,0,0,0,1,0,"+(_1ac9+_1acb)+","+(_1aca+_1acc)+",0,1)"};}_1a64.applyTransform(this.apiPanZoomScaleContainer,o);this.apiPanZoomLevel.innerHTML=parseInt(this._apiZoomLevel*100)+"%";dojo.style(this.apiFakePanZoomScaleContainer,"width",(this._apiPanScrollSizeRatio*this.domNode.clientWidth*this._apiZoomLevel)+"px");dojo.style(this.apiFakePanZoomScaleContainer,"height",(this.domNode.clientHeight*this._apiZoomLevel)+"px");if(_1ac2.deltaLevel>1){this._setApiPan(_1ac7,_1ac8,_1acb,_1acc);}else{this._setApiPan(0,0);}}},apiZoomEndScale:function(){this._gesture.generalStatus.isGesturing=false;if(this._apiZoomLevel<=1){var o={matrix:"(1,0,0,1,0,0)"};this._apiZoomLevel=1;_1a64.applyTransform(this.apiPanZoomScaleContainer,o);dojo.style(this.apiPanZoomContainer,"overflow","hidden");}if(this._lastScrollPoint){if(this._apiZoomLevel>1){this._lastScrollPoint.scrollTop=this.apiPanZoomContainer.scrollTop;this._lastScrollPoint.scrollLeft=this.apiPanZoomContainer.scrollLeft/this._apiPanScrollSizeRatio;}else{this._lastScrollPoint.scrollTop=0;this._lastScrollPoint.scrollLeft=0;}this._lastScrollPoint.offsetX=0;this._lastScrollPoint.offsetY=0;}},apiZoomStartPan:function(_1acd){this._gesture.generalStatus.isGesturing=true;if(this._apiZoomLevel>1){this._apiPanScrollStartPoint=this._apiPanScrollStartPoint||{x:this.apiPanZoomContainer.scrollLeft,y:this.apiPanZoomContainer.scrollTop};this.apiPanZoomContainer.scrollLeft=this._apiPanScrollStartPoint.x-this._apiPanScrollSizeRatio*_1acd.deltaX;this.apiPanZoomContainer.scrollTop=this._apiPanScrollStartPoint.y-_1acd.deltaY;}},apiZoomEndPan:function(){this._apiPanScrollStartPoint=null;this._gesture.generalStatus.isGesturing=false;},_setApiPan:function(panX,panY,_1ace,_1acf,_1ad0){_1ace=_1ace!=null?_1ace:0;_1acf=_1acf!=null?_1acf:0;if(!_1ad0&&(this._apiZoomLevel<=1||!this._isApiPanZoom)){this.apiPanZoomContainer.scrollTop=0;this.apiPanZoomContainer.scrollLeft=0;this._lastScrollPoint=this._lastScrollPoint||{scrollTop:0,scrollLeft:0,offsetX:0,offsetY:0};this._lastScrollPoint.scrollTop=0;this._lastScrollPoint.scrollLeft=0;}else{this.apiPanZoomContainer.scrollTop=panY-_1acf;this.apiPanZoomContainer.scrollLeft=this._apiPanScrollSizeRatio*(panX-_1ace);this._lastScrollPoint=this._lastScrollPoint||{scrollTop:0,scrollLeft:0,offsetX:0,offsetY:0};this._lastScrollPoint.scrollTop=panY;this._lastScrollPoint.scrollLeft=panX;this._lastScrollPoint.offsetX=_1ace;this._lastScrollPoint.offsetY=_1acf;}},_resetApiZoom:function(){if(this._apiZoomLevel!=1){this.apiZoomStartScale({deltaLevel:1,referencePointX:0,referencePointY:0});this.apiZoomEndScale();this._lastScrollPoint=null;}},_onPanZoomContainerScroll:function(e){this._lastScrollPoint=this._lastScrollPoint||{scrollTop:0,scrollLeft:0,offsetX:0,offsetY:0};if(this._apiZoomLevel>1){var o={matrix3d:"("+this._apiZoomLevel+",0,0,0,0,"+this._apiZoomLevel+",0,0,0,0,1,0,"+(-1*this.apiPanZoomContainer.scrollLeft/this._apiPanScrollSizeRatio)+","+(-1*this.apiPanZoomContainer.scrollTop)+",0,1)"};_1a64.applyTransform(this.apiPanZoomScaleContainer,o);this._lastScrollPoint.scrollTop=this.apiPanZoomContainer.scrollTop+this._lastScrollPoint.offsetY;this._lastScrollPoint.scrollLeft=this.apiPanZoomContainer.scrollLeft/this._apiPanScrollSizeRatio+this._lastScrollPoint.offsetX;}else{this._lastScrollPoint.scrollTop=0;this._lastScrollPoint.scrollLeft=0;}},_getOffset:function(dom){var rect=dom.getBoundingClientRect();var win=dom.ownerDocument.defaultView;var viewX=0;var viewY=0;if(win){viewX=win.pageXOffset;viewY=win.pageYOffset;}return {top:rect.top+viewY,left:rect.left+viewX};},_getFrameScaleAttr:function(){return this._frameScale*this._apiZoomLevel;},getStyle:function(){return this._attr.style.toLowerCase();},onClose:function(){},resetPosition:function(){if(this._windowPan){this._windowPan._lastPan.y=this._windowPan._lastPan.x=0;this._applyTransform();}},viewPosition:function(){var ret=null;if(!this._windowPan){ret={l:parseInt(Math.round(this._attr.locationLeft*this._minScale)+this._minScale,10),t:parseInt(Math.round(this._attr.locationTop*this._minScale)+this._minScale,10),w:parseInt(Math.round(this._attr.sizeWidth*this._minScale)-this._minScale,10),h:parseInt(Math.round(this._attr.sizeHeight*this._minScale)-this._minScale,10)};}else{ret={l:parseInt(Math.round((this._attr.locationLeft+this._windowPan._lastPan.x)*this._minScale)+this._minScale,10),t:parseInt(Math.round((this._attr.locationTop+this._windowPan._lastPan.y)*this._minScale)+this._minScale,10),w:parseInt(Math.round(this._attr.sizeWidth*this._minScale)-this._minScale,10),h:parseInt(Math.round(this._attr.sizeHeight*this._minScale)-this._minScale,10)};}return ret;},destroy:function(){this.unsubscribePropertyChange();var i=null;if(this.getParent()){query(".dialog-overlay",this.getParent().domNode).forEach(function(node){dojo.style(node,"visibility","hidden");});}this.inherited(arguments);for(i=0;i<this.events.length;i++){this.events[i].remove();}if(this.wasDestroyed===false){this.wasDestroyed=true;this.onClose(this.screenName);}delete window.securedControls[this.screenName];this.events=[];},setFrameScaleLegacy:function(v){var _1ad1={},_1ad2=this.getParent().getChildren();if(!(this===_1ad2[0])){v=_1ad2[0]._frameScale;}this._frameScale=v;_1ad1.scale="("+v+","+v+")";this._applyTransformTranslate(1,this._frameScale);_1a64.applyTransform(this.domNode,_1ad1,0);this._scale=1;this._applyTransform();},_applyTransformLegacy:function(){var _1ad3=null,_1ad4=null;if(this._transformation===null||this._isResizing===true){this._transformation={};}this._scale=Math.max(this._scale,1);this._scale=Math.min(this._scale,this._maxScale);_1ad3=((this._attr.sizeWidth*this._scale)-this._attr.sizeWidth)/(this._scale*2);_1ad4=((this._attr.sizeHeight*this._scale)-this._attr.sizeHeight)/(this._scale*2);this._lastPan.x=(this._lastPan.x>_1ad3)?_1ad3:this._lastPan.x;this._lastPan.y=(this._lastPan.y>_1ad4)?_1ad4:this._lastPan.y;this._lastPan.x=(this._lastPan.x<(-1*_1ad3))?(-1*_1ad3):this._lastPan.x;this._lastPan.y=(this._lastPan.y<(-1*_1ad4))?(-1*_1ad4):this._lastPan.y;this._transformation.scale="("+this._scale+","+this._scale+")";this._transformation.translate="("+this._lastPan.x+"px,"+this._lastPan.y+"px)";this._applyTransformTranslate(this._scale,this._frameScale);_1a64.applyTransform(this._scalableNode||this._panableNode,this._transformation,this._inertiaTime);this._isResizing=false;},_onStartWidnowPan:function(){if(typeof (window.webGraphicsApi)==="object"){this._windowPan.setScale(1,true);}else{this._windowPan.setScale(this._frameScale,true);}this._windowPan.switchPanNode(this.domNode);},_onEndWidnowPan:function(){this._windowPan.restorePanNode();},_onTouchStart:function(evt){if(!this.domNode){return;}if(this._attr.multiTouchSettings&&parseInt(this._attr.multiTouchSettings.mode,10)===1){this.transform.onStart(this.domNode.id);}if(this.transform.isZoomEnabled(this.domNode.id)){_1a61.prototype._onTouchStart.call(this,evt);}},_onTouchEnd:function(evt){if(this.domNode&&parseInt(this._attr.multiTouchSettings.mode,10)===1){this.transform.onEnd(this.domNode.id);}_1a61.prototype._onTouchEnd.call(this,evt);},_isPanningOverTitlebar:function(evt){var _1ad5=false;if(evt&&evt.target){if(dojo.hasClass(evt.target,"viewer-screens-base-container-titleText")){_1ad5=true;}}return _1ad5;},applyTransformEx:function(_1ad6){_1a64.setTransformOrigin(this._scalableNode||this._panableNode,"0% 0%");_1a64.applyTransform(this._scalableNode||this._panableNode,_1ad6,this._inertiaTime);},getBorderThickness:function(){if(this.domNode.classList.contains("viewer-screens-border-thin")||this.domNode.classList.contains("viewer-screens-border-resizing")){return 1;}return 0;},getTitleBarHeight:function(){return _1a64.getHeight(this.titleBarContainer);},onMoveEnd:function(){},getTransformedPosition:function(){var _1ad7={l:0,t:0};_1ad7.l=this._getLeftAttr()+_1a64.getTransformTranslateX(this.domNode);_1ad7.t=this._getTopAttr()+_1a64.getTransformTranslateY(this.domNode);return _1ad7;},getScale:function(){if((this._attr.multiTouchSettings&&parseInt(this._attr.multiTouchSettings.mode,10)===1)||window.sma.zoomMode===enums.EnumZoomMode.AUTO_SCREEN_SCALING){return _1a61.prototype.getScale.call(this);}return 1;},_procScale:function(evt){if((typeof window.webGraphicsApi)==="object"){return true;}this.inherited(arguments);},_procPan:function(evt){if((typeof window.webGraphicsApi)==="object"){return true;}this.inherited(arguments);},_zoomInOut:function(evt){if((typeof window.webGraphicsApi)==="object"){return true;}this.inherited(arguments);},hide:function(){if(this._opened){this._resetApiZoom();var c=this.getChildren();for(i=0;i<c.length;i++){c[i].hide();}this._opened=false;}},show:function(){if(!this._opened){this._resetApiZoom();var c=this.getChildren();for(i=0;i<c.length;i++){c[i].show();}this._opened=true;}},});});},"dojo/fx/easing":function(){define(["../_base/lang"],function(lang){var _1ad8={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_1ad8.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _1ad8.bounceIn(n*2)/2;}return (_1ad8.bounceOut(n*2-1)/2)+0.5;}};lang.setObject("dojo.fx.easing",_1ad8);return _1ad8;});},"viewer/animation/Bargraph":function(){define(["dojo/_base/declare","dojo/dom-construct","./_base","../misc/gui/helpers/svg","../misc/enums"],function(_1ad9,_1ada,_1adb,_1adc,enums){return _1ad9("viewer.animation.Bargraph",_1adb,{_mask:null,_rect:null,_value:null,_maskData:{"counter":0,prefix:"maskID"},_firstTime:{"firstOfAll":true},_hasAlternateColor:false,constructor:function(_1add,_1ade){this.inherited(arguments);this._mask=_1adc.createElement("mask");this._rect=_1adc.createElement("rect");this._rect.setAttribute("x",0);this._rect.setAttribute("y",0);this._rect.setAttribute("width","100%");this._rect.setAttribute("height","100%");this._rect.setAttribute("stroke-width","0");this._mask.setAttribute("id",this._maskData.prefix+this._maskData.counter);this._mask.setAttribute("fill","rgb(255,255,255)");this._mask.setAttribute("width","100%");this._mask.setAttribute("height","100%");this._rect.setAttribute("mask","URL(#"+this._maskData.prefix+this._maskData.counter+")");this._maskData.counter++;if(Number.MAX_VALUE){this._maskData.counter=this._maskData.counter>=Number.MAX_VALUE?0:this._maskData.counter;}else{this._maskData.counter=this._maskData.counter>=65535?0:this._maskData.counter;}},_execUpdate:function(){this._updateValue();this._updateMask();if(this._widget._attr.border){var _1adf=this._widget._attr.size.w-this._widget._attr.border.width;var _1ae0=this._widget._attr.size.h-this._widget._attr.border.width;this._rect.setAttribute("width",_1adf+"px");this._rect.setAttribute("height",_1ae0+"px");this._rect.setAttribute("x",this._widget._attr.border.width);this._rect.setAttribute("y",this._widget._attr.border.width);}else{this._rect.setAttribute("width","100%");this._rect.setAttribute("height","100%");this._rect.setAttribute("x","0");this._rect.setAttribute("y","0");}if(this._firstTime.firstOfAll===true){var self=this;setTimeout(function(){self._firstTime.firstOfAll=false;self._execUpdate();},1000);}},startup:function(){_1ada.place(this._rect,this._widget._xComponent,"after");_1ada.place(this._mask,this._widget._xComponent,"after");var _1ae1=this._widget._getClonedComponentAttr();dojo.removeAttr(_1ae1,"data-dojo-attach-point");if(!this._hasAlternateColor){_1adc.setColor(this._rect,this._animProps.foregroundColor,"",this._widget._attr.size.w,this._widget._attr.size.h);}this._widget._bargraphCloneNode=[_1ae1];this._mask.appendChild(_1ae1);this._mask.setAttribute("width",this._widget._attr.size.w);this._mask.setAttribute("height",this._widget._attr.size.h);},_updateValue:function(){var _1ae2,min,_1ae3,max;_1ae2=this._animProps.minimumValue!=null&&this._animProps.minimumValue.split!=null?this._animProps.minimumValue.split(":"):"0";_1ae3=this._animProps.maximumValue!=null&&this._animProps.maximumValue.split!=null?this._animProps.maximumValue.split(":"):"0";min=parseFloat(_1ae2[_1ae2.length-1]);max=parseFloat(_1ae3[_1ae3.length-1]);if(this._firstTime.firstOfAll===false){if(this._animProps.tagExpression>=min&&this._animProps.tagExpression<=max){this._value=((parseFloat(this._animProps.tagExpression)-min)*100)/(max-min);}else{if(this._animProps.tagExpression<min){this._value=0;}else{if(this._animProps.tagExpression>max){this._value=100;}}}}else{this._value=-1;}},_updateMask:function(){this._mask.setAttribute("x","0%");this._mask.setAttribute("y","0%");this._value=Math.max(this._value,0);if(isFinite(this._value)){if(this._animProps.direction===enums.EnumBargraphDirection.VERTICAL){this._mask.setAttribute("height",this._value+"%");switch(this._animProps.orientation){case enums.BargraphOrientation.CENTER:this._mask.setAttribute("y",(50-this._value/2)+"%");break;case enums.BargraphOrientation.UP:this._mask.setAttribute("y",(100-this._value)+"%");break;}}else{if(this._animProps.direction===enums.EnumBargraphDirection.HORIZONTAL){this._mask.setAttribute("width",this._value+"%");switch(this._animProps.orientation){case enums.BargraphOrientation.CENTER:this._mask.setAttribute("x",(50-this._value/2)+"%");break;case enums.BargraphOrientation.DOWN:this._mask.setAttribute("x",(100-this._value)+"%");break;}}}}},setColor:function(c){_1adc.setColor(this._rect,c,"",this._widget._attr.size.w,this._widget._attr.size.h);},resetColor:function(){_1adc.setColor(this._rect,this._animProps.foregroundColor,"",this._widget._attr.size.w,this._widget._attr.size.h);}});});},"ma/_base":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(_1ae4,_1ae5,_1ae6){return _1ae4("ma._base",[_1ae5,_1ae6],{connectHandlers:[],constructor:function(){},startup:function(){if(this.domNode){dojo.addClass(this.domNode,"noSelectable");}},postCreate:function(){},StartTouchGesture:function(_1ae7){_1ae7.ongestureend=dojo.hitch(this,this.OnGestureEnd);_1ae7.ongesturechange=dojo.hitch(this,this.OnGestureChange);_1ae7.ongesturestart=dojo.hitch(this,this.OnGestureStart);_1ae7.ontouchstart=dojo.hitch(this,this.OnTouchStart);_1ae7.ontouchmove=dojo.hitch(this,this.OnTouchMove);_1ae7.ontouchend=dojo.hitch(this,this.OnTouchEnd);_1ae7.ontouchcancel=dojo.hitch(this,this.OnTouchCancel);},OnGestureEnd:null,OnGestureChange:null,OnGestureStart:null,OnTouchStart:null,OnTouchMove:null,OnTouchEnd:null,OnTouchCancel:null});});},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(lang,_1ae8,Base,lin,du){return _1ae8("dojox.charting.axis2d.Invisible",Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(chart,_1ae9){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_1ae9);du.updateWithPattern(this.opt,_1ae9,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(scale,_1aea){this.scale=scale;this.offset=_1aea;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,span){if(this.initialized()){return this;}var o=this.opt;this.labels=o.labels;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});});},"dijit/dijit":function(){define(["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(dijit){return dijit;});},"ma/view/Logon":function(){define(["dojo/_base/declare","dojo/parser","./_base","./View","viewer/Viewer","viewer/server/serverEvents","ma/maEnums","ma/util/UrlManager","ma/util/LogonManager","dojo/text!./templates/logon.html","dojo/fx","dojox/mobile/TextBox","../widget/miscellaneous/Loading"],function(_1aeb,_1aec,Base,View,_1aed,_1aee,_1aef,_1af0,_1af1,_1af2){return _1aeb("ma.view.Logon",Base,{templateString:_1af2,_screen:null,_isHide:false,_doMoveOn:false,_logonType:_1aef.LogonType.NORMAL,constructor:function(){var l=new LogonServices();if(!l.isLogged()){if(userActivityMonitor){userActivityMonitor.stopMonitoring();}}if(!window.sma){window.sma={};}window.sma.logon=this.Logon.bind(this);},startup:function(){this.inherited(arguments);_1aec.parse(this.domNode);dojo.connect(this.logon_txtUser,"onkeyup",dojo.hitch(this,function(){this.OnKeyDown(event);}));dojo.connect(this.logon_txtPassword,"onkeyup",dojo.hitch(this,function(){this.OnKeyDown(event);}));if(!this._logonWithUrl()){this.MakeLayout();}},_logonWithUrl:function(){var _1af3;var flg;var token;_1af3=new _1af0();if(_1af3.getParamValue("screen")){this._setStartUpScreen(_1af3.getParamValue("screen"));}else{if(_1af3.getParamValue("symbol")){this._setStartUpScreen(_1af3.getParamValue("symbol"));}else{if(_1af3.getParamValue("databasespy")){this._setStartUpScreen("__xx__studio_internal_dbspy__xx__");}}}flg=_1af3.getParamValue("flg");if(!flg){this._logonType=_1aef.LogonType.NORMAL;}else{if(flg==_1aef.LogonType.AUTO_LOGOFF){this._logonType=_1aef.LogonType.AUTO_LOGOFF;}else{this._logonType=_1aef.LogonType.APP_RESET;}}var l=new LogonServices();var _1af4=l.isLogged();token=dojo.cookie("AuthenticationToken");if(typeof token==="string"&&token.length>0&&token!==window.sma.token){window.sma.logon(token);return;}var _1af5=_1af3.getParamValue("user");var _1af6=_1af3.getParamValue("password");var _1af7=_1af3.getParamValue("guestuser");if(_1af7){_1af5="Guest";_1af6="";}if(_1af4&&_1af4.data&&_1af4.data.isLogged){if(!_1af5||(typeof _1af4.data.userName=="string"&&_1af4.data.userName.toLowerCase()==_1af5.toLowerCase())){this._skipLogon(_1af4);}else{this._failUrlLogon(_1af4);}return true;}else{if(_1af5){this.logon_txtUser.value=_1af5;if(_1af6||_1af7){this.logon_txtPassword.value=_1af6;this._isHide=true;this.Logon();}}}return false;},_setStartUpScreen:function(_1af8){this._screen=_1af8;},_hideLogon:function(){if(this.logon_Status){this.logon_Status.innerHTML="";}dojo.style(this.title,"display","none");dojo.style(this.logon_txtUser,"display","none");dojo.style(this.logon_txtPassword,"display","none");dojo.style(this.title,"display","none");dojo.style("logon_Button","display","none");dojo.style("logon_Loading","display","none");dojo.removeClass(this.ma_view_logon_table,"ma_view_logon_table");dojo.style(this.ma_view_logon_table,"margin","0px auto");},OnKeyDown:function(evt){evt=(evt)?evt:((window.event)?window.event:"");if(evt){if(evt.keyCode==13||evt.which==13){this.Logon();}}},_failUrlLogon:function(_1af9){this._doMoveOn=true;dojo.style(this.domNode,"height",dojo.window.getBox().h+"px");dojo.style(this.domNode,"width",dojo.window.getBox().w+"px");dojo.style(this.title,"height",dojo.window.getBox().h*0.07+"px");dojo.style(this.ma_view_logon_table,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style("logon_Loading","width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style(this.logon_txtUser,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style(this.logon_txtPassword,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style(this.logon_txtUser,"display","none");dojo.style(this.logon_txtPassword,"display","none");dojo.style("logon_Status","opacity","1");if(this.logon_Status){this.logon_Status.innerHTML="You are already logged as user \""+_1af9.data.userName+"\". Click the green button to continue.";}dijit.byId("logon_Loading").stop();},OnKeyDown:function(evt){evt=(evt)?evt:((window.event)?window.event:"");if(evt){if(evt.keyCode==13||evt.which==13){this.Logon();}}},MakeLayout:function(){dojo.style(this.domNode,"height",dojo.window.getBox().h+"px");dojo.style(this.domNode,"width",dojo.window.getBox().w+"px");dojo.style(this.title,"height",dojo.window.getBox().h*0.07+"px");dojo.style(this.ma_view_logon_table,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style("logon_Loading","width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style(this.logon_txtUser,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");dojo.style(this.logon_txtPassword,"width",Math.min(400,dojo.window.getBox().w*0.8)+"px");if(window.location.protocol!="https"&&window.location.protocol!="https:"&&this._isHide===false){dojo.style("logon_Status","opacity","1");if(this.logon_Status){this.logon_Status.innerHTML="Warning: You are not using HTTPs and the information sent is not protected. To enable HTTPs please refer to the technical reference manual.";}dijit.byId("logon_Loading").stop();}if(this._logonType!=_1aef.LogonType.NORMAL){dojo.style("logon_Status","opacity","1");if(this._logonType==_1aef.LogonType.AUTO_LOGOFF){if(this.logon_Status){this.logon_Status.innerHTML="Your session has expired. Please log on again.";}}else{if(this.logon_Status){this.logon_Status.innerHTML="Warning: You have been logged out from the server. Either your project has been modified or an unexpected error happened in the Mobile Access runtime. Please try to logon again or refresh your page if you are using URL logon.";}}dijit.byId("logon_Loading").stop();}},ProcPath:function(url){var tmp=location.href;var _1afa=tmp.lastIndexOf("/");tmp=tmp.substring(0,_1afa+1)+url;return tmp;},_moveOn:function(){var _1afb=new _1af1();_1afb.gotoLogon();},Logon:function(token){if(this._doMoveOn){this._doMoveOn=false;this._moveOn();return;}if(token!==null&&token!==undefined&&typeof (token)==="string"){this._logonWithToken(token);return;}var user=this.logon_txtUser.value;var _1afc=this.logon_txtPassword.value;dojo.style("logon_Button","display","none");if(this.logon_Status){this.logon_Status.innerHTML="Loading, please wait...";}dojo.style("logon_Status","opacity","0");if(this._isHide===true){this._hideLogon();}if(dojo.byId("logon_Status")){dojo.fadeIn({node:"logon_Status",duration:5000}).play();}if(dojo.byId("logon_Loading")){dijit.byId("logon_Loading").play();}dojo.style("logon_Loading","display","inline");var l=new LogonServices();l.logon(user,_1afc,dojo.hitch(this,this._logonCallback));},_logonWithToken:function(token){var l=new LogonServices();urlManager=new _1af0();if(urlManager.getParamValue("screen")){this._setStartUpScreen(urlManager.getParamValue("screen"));}else{if(urlManager.getParamValue("symbol")){this._setStartUpScreen(urlManager.getParamValue("symbol"));}}flg=urlManager.getParamValue("flg");if(!flg){this._logonType=_1aef.LogonType.NORMAL;}else{if(flg==_1aef.LogonType.AUTO_LOGOFF){this._logonType=_1aef.LogonType.AUTO_LOGOFF;}else{this._logonType=_1aef.LogonType.APP_RESET;}}var l=new LogonServices();var _1afd=l.isLogged();l.logon(token,dojo.hitch(this,this._logonCallback));},_logonCallback:function(_1afe){_1afe=_1aee.assyncResult(_1afe);var ret=this.parseResult(_1afe);var _1aff=(ret&&ret.status)?ret.status:"";switch(_1aff){case "InvalidLogon":if(this.logon_Status){this.logon_Status.innerHTML="Invalid logon, please make sure the user name and password you entered are correct";}break;case "AccessDenied":if(this.logon_Status){this.logon_Status.innerHTML="Access denied. Your user does not have rights to access the top area, please contact your administrator";}break;case "ServerFail":if(this.logon_Status){this.logon_Status.innerHTML="Fail to connect to the run-time. Please make sure the runtime is running and the TCP/IP Server is configured for port number 1234";}break;case "LicenseCountError":if(this.logon_Status){this.logon_Status.innerHTML="License count exceeded the maximum number of connections";}break;case "Success":break;default:if(this.logon_Status){this.logon_Status.innerHTML="Server error: "+_1afe.message;}break;}if(_1aff=="Success"){var _1b00=services.navigateTo("/","Menu");if(!_1b00||!_1b00.data||Object.keys(_1b00.data).length===0){if(this.logon_Status){this.logon_Status.innerHTML="User access denied";}_1aff="UserAccessDenied";}}if(_1aff=="Success"){if(userActivityMonitor&&ret&&ret.checkIdle){userActivityMonitor.startMonitoring();}if(dojo.byId("ma_view_logon_helperdiv")){dojo.fadeOut({node:"ma_view_logon_helperdiv",duration:2000,onEnd:dojo.hitch(this,function(){if(dijit.byId("logon_Loading")){dijit.byId("logon_Loading").stop();}if(this.onSuccess){this.onSuccess();}})}).play();}}else{if(userActivityMonitor){userActivityMonitor.stopMonitoring();}if(dijit.byId("logon_Loading")){dijit.byId("logon_Loading").stop();}}if(dojo.byId("logon_Button")){dojo.style("logon_Button","display","inline");}if(dojo.byId("logon_Loading")){dojo.style("logon_Loading","display","none");}},_skipLogon:function(_1b01){this._hideLogon();if(userActivityMonitor&&_1b01&&_1b01.data&&_1b01.data.checkIdle){userActivityMonitor.startMonitoring();}this.onSuccess();},onSuccess:function(){this.destroyRecursive(false);},_openScreen:function(){var _1b02,_1b03,_1b04,_1b05;var _1b06=undefined;if(dojo.cookie("_x_config")){_1b06=dojo.fromJson(dojo.cookie("_x_config"));}var _1b07=this.parseResult(services.getGlobalSettings());if(_1b06==undefined||!_1b07||_1b06.version!=_1b07.version){var _1b08=_1b06==null?_1b07:_1b06;_1b06=_1b07;var _1b09=new Date();if(_1b08&&!_1b08.trend){_1b06.trend={};_1b06.trend.play="on";_1b06.trend.fill="off";_1b06.trend.percentageMode="on";_1b06.trend.scaleMin="0";_1b06.trend.scaleMax="100";_1b06.trend.startDateTime=dojo.date.add(_1b09,"second",-1*_1b06.trendDuration).getTime();_1b06.trend.finishDateTime=_1b09.getTime();}else{if(_1b06){_1b06.trend=_1b08.trend;}}dojo.cookie("_x_config",dojo.toJson(_1b06),{expires:30});}_1b03=1000;_1b05=1;if(_1b06){_1b03=_1b06.processValuesUpdateRate;_1b05=_1b06.logLevel;}if(this._screen===null){return false;}_1b02=_1aed.init(true,_1b05);_1b02.OpenScreen(this._screen);_1b02.Run(_1b03);return true;},destroy:function(){this.inherited(arguments);if(this._openScreen()==false){var _1b0a=document.createElement("div");dojo.body().appendChild(_1b0a);var view=new View({id:"_x_ma_view_view"},_1b0a);view.startup();}}});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_1b0b,dom,_1b0c,_1b0d,_1b0e,has,lang,_1b0f,_1b10,_1b11,_1b12,_1b13){var _1b14=_1b0b("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_1b0f,_1b10,_1b11,_1b12],{templateString:_1b13,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _1b15="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_1b15=val.charAt(ndx+1);var _1b16=val.substr(0,ndx);var _1b17=val.substr(ndx+3);text=_1b16+_1b15+_1b17;val=_1b16+"<span class=\"dijitMenuItemShortcutKey\">"+_1b15+"</span>"+_1b17;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_1b15);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_1b18){if(_1b18&&!("label" in this.params)){this._set("label",_1b18.innerHTML);}},buildRendering:function(){this.inherited(arguments);var label=this.id+"_text";_1b0c.set(this.containerNode,"id",label);if(this.accelKeyNode){_1b0c.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_1b19){_1b0d.toggle(this.domNode,"dijitMenuItemSelected",_1b19);},setLabel:function(_1b1a){_1b0e.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_1b1a);},setDisabled:function(_1b1b){_1b0e.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_1b1b);},_setDisabledAttr:function(value){this.focusNode.setAttribute("aria-disabled",value?"true":"false");this._set("disabled",value);},_setAccelKeyAttr:function(value){if(this.accelKeyNode){this.accelKeyNode.style.display=value?"":"none";this.accelKeyNode.innerHTML=value;_1b0c.set(this.containerNode,"colSpan",value?"1":"2");}this._set("accelKey",value);}});if(has("dojo-bidi")){_1b14=_1b0b("dijit.MenuItem",_1b14,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _1b14;});},"viewer/object/shape/Chord":function(){define(["dojo/_base/declare","./Path","dojo/text!./chord.html"],function(_1b1c,Path,_1b1d){return _1b1c("viewer.object.shape.Chord",Path,{templateString:_1b1d,_radiusX:0,_radiusY:0,_centerX:0,_centerY:0,_centerRelativeX:0,_centerRelativeY:100,_startAngle:0,_sweepAngle:0,buildRendering:function(){if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}this._getRadiusPoint();this._getCenterPoint();for(var i=0;i<this._attr.path.length;i++){if(this._attr.path[i].instruction=="A"){this._startAngle=this._attr.path[i].startAngle;this._sweepAngle=this._attr.path[i].sweepAngle;this._attr.path[i].startAngle=0;break;}}this.inherited(arguments);},startup:function(){this.inherited(arguments);this.setColor(this._attr.background);},_setProStartAngleAttr:function(v){if(v==null){return;}var _1b1e=v.toString().split(",");if(_1b1e.length>1){this._sweepAngle=parseFloat(_1b1e[1]);v=_1b1e[0];}var _1b1f=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._startAngle=this._normalizeAngle(v);var max=359.9999;var min=0.0001;if(this._startAngle>max){this._startAngle=max;}if(this._startAngle<min){this._startAngle=min;}var tempD=this._describeArc(parseFloat(this._centerX)+_1b1f,parseFloat(this._centerY)+_1b1f,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",tempD);},_setProSweepAngleAttr:function(v){if(v==null){return;}var _1b20=v.toString().split(",");if(_1b20.length>1){this._startAngle=parseFloat(_1b20[1]);v=_1b20[0];}var _1b21=this._inflatedPosition&&this._inflatedPosition.factor!=null?this._inflatedPosition.factor:0;if(isNaN(parseFloat(v))){return false;}this._sweepAngle=parseFloat(v);var tempD=this._describeArc(parseFloat(this._centerX)+_1b21,parseFloat(this._centerY)+_1b21,parseFloat(this._radiusX),parseFloat(this._radiusY),parseFloat(this._startAngle),parseFloat(this._sweepAngle));this._guiHelper.setAttribute(this._xComponent,"d",tempD);},_getRadiusPoint:function(){for(var i=0;i<this._attr.path.length;i++){if(this._attr.path[i].instruction=="A"){this._radiusX=((this._attr.path[i].geometryWidth)/2)?((this._attr.path[i].geometryWidth)/2):0;this._radiusY=((this._attr.path[i].geometryHeight)/2)?((this._attr.path[i].geometryHeight)/2):0;break;}}},_getCenterPoint:function(){for(var i=0;i<this._attr.path.length;i++){if(this._attr.path[i].instruction=="A"){var _1b22=this._attr.path[i].points[0];var _1b23=(this._attr.path[i].startAngle-90)*Math.PI/180;this._centerX=_1b22.x-this._radiusX*Math.cos(_1b23)-this._attr.position.left;this._centerY=_1b22.y-this._radiusY*Math.sin(_1b23)-this._attr.position.top;var w=parseFloat(this._attr.position.right)-parseFloat(this._attr.position.left);var h=parseFloat(this._attr.position.bottom)-parseFloat(this._attr.position.top);if(w>0){this._centerRelativeX=this._centerX/w*100;}if(h>0){this._centerRelativeY=this._centerY/h*100;}break;}}},_polarToCartesian:function(_1b24,_1b25,_1b26,_1b27,_1b28){var _1b29=(_1b28-90)*Math.PI/180;return {x:_1b24+(_1b26*Math.cos(_1b29)),y:_1b25+(_1b27*Math.sin(_1b29))};},_describeArc:function(_1b2a,_1b2b,_1b2c,_1b2d,_1b2e,_1b2f){var end=this._polarToCartesian(_1b2a,_1b2b,_1b2c,_1b2d,_1b2f+_1b2e);var start=this._polarToCartesian(_1b2a,_1b2b,_1b2c,_1b2d,_1b2e);var _1b30=Math.abs(_1b2f)>180?"1":"0";var _1b31=_1b2f>0?"1":"0";if(_1b2f!==359.9999&&_1b2f!==0.0001){var d=["M",start.x,start.y,"A",_1b2c,_1b2d,0,_1b30,_1b31,end.x,end.y,"L",end.x,end.y,"L",start.x,start.y,"Z"].join(" ");}else{var d=["M",start.x,start.y,"A",_1b2c,_1b2d,0,_1b30,_1b31,end.x,end.y].join(" ");}return d;},setColor:function(color){this.inherited(arguments);this._svgGuiHelper.updateColorStops(color,this._attr.size.w,this._attr.size.h,true,100,this._centerRelativeX,this._centerRelativeY);},resetColor:function(){this.inherited(arguments);this._svgGuiHelper.updateColorStops(color,this._attr.size.w,this._attr.size.h,true,100,this._centerRelativeX,this._centerRelativeY);},});});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_1b32,array,_1b33,_1b34,lang,mouse,on,touch,_1b35){var _1b36=lang.delegate(touch,{"mouseenter":mouse.enter,"mouseleave":mouse.leave,"keypress":_1b33._keypress});var _1b37;var _1b38=_1b34("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_1b39){var node=_1b39;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_1b39){return;}while(!node.nextSibling){node=node.parentNode;if(node==_1b39){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_1b3a,_1b3b,_1b3c){var ret=true;var _1b3d=this.attachScope||this,_1b3e=_1b3b(_1b3a,"dojoAttachPoint")||_1b3b(_1b3a,"data-dojo-attach-point");if(_1b3e){var point,_1b3f=_1b3e.split(/\s*,\s*/);while((point=_1b3f.shift())){if(lang.isArray(_1b3d[point])){_1b3d[point].push(_1b3a);}else{_1b3d[point]=_1b3a;}ret=(point!="containerNode");this._attachPoints.push(point);}}var _1b40=_1b3b(_1b3a,"dojoAttachEvent")||_1b3b(_1b3a,"data-dojo-attach-event");if(_1b40){var event,_1b41=_1b40.split(/\s*,\s*/);var trim=lang.trim;while((event=_1b41.shift())){if(event){var _1b42=null;if(event.indexOf(":")!=-1){var _1b43=event.split(":");event=trim(_1b43[0]);_1b42=trim(_1b43[1]);}else{event=trim(event);}if(!_1b42){_1b42=event;}this._attachEvents.push(_1b3c(_1b3a,event,lang.hitch(_1b3d,_1b42)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_1b37||(_1b37=_1b32("./a11yclick"));}else{type=_1b36[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _1b44=this.attachScope||this;array.forEach(this._attachPoints,function(point){delete _1b44[point];});this._attachPoints=[];array.forEach(this._attachEvents,function(_1b45){_1b45.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_1b35,{dojoAttachEvent:"",dojoAttachPoint:""});return _1b38;});},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(lang,win,_1b46,g,has){var _1b47=lang.getObject("dojox.charting.axis2d.common",true);var _1b48=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _1b49=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return _1b46.getMarginBox(n).w;}};return lang.mixin(_1b47,{createText:{gfx:function(chart,_1b4a,x,y,align,text,font,_1b4b){return _1b4a.createText({x:x,y:y,text:text,align:align}).setFont(font).setFill(_1b4b);},html:function(chart,_1b4c,x,y,align,text,font,_1b4d,_1b4e){var p=win.doc.createElement("div"),s=p.style,_1b4f;if(chart.getTextDir){p.dir=chart.getTextDir(text);}_1b48(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_1b4d;s.position="absolute";s.left="-10000px";win.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_1b4e){_1b4f=_1b49(p);}if(p.dir=="rtl"){x+=_1b4e?_1b4e:_1b4f;}win.body().removeChild(p);s.position="relative";if(_1b4e){s.width=_1b4e+"px";switch(align){case "middle":s.textAlign="center";s.left=(x-_1b4e/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_1b4e)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(align){case "middle":s.left=Math.floor(x-_1b4f/2)+"px";break;case "end":s.left=Math.floor(x-_1b4f)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=win.doc.createElement("div"),w=wrap.style;_1b48(w);w.width="0px";w.height="0px";wrap.appendChild(p);chart.node.insertBefore(wrap,chart.node.firstChild);if(has("dojo-bidi")){chart.htmlElementsRegistry.push([wrap,x,y,align,text,font,_1b4d]);}return wrap;}}});});},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_1b50,has,_1b51){return _1b50("dojox.grid._ViewManager",null,{constructor:function(_1b52){this.grid=_1b52;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_1b53){_1b53.idx=this.views.length;this.views.push(_1b53);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var nodes=[];for(var i=0,v;v=this.views[i];i++){nodes.push(v.contentNode);}return nodes;},forEach:function(_1b54){for(var i=0,v;v=this.views[i];i++){_1b54(v,i);}},onEach:function(_1b55,_1b56){_1b56=_1b56||[];for(var i=0,v;v=this.views[i];i++){if(_1b55 in v){v[_1b55].apply(v,_1b56);}}},normalizeHeaderNodeHeight:function(){var _1b57=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_1b57.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_1b57);},normalizeRowNodeHeights:function(_1b58){var h=0;var _1b59=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_1b58.length<=1){return;}for(var i=0,n;(n=_1b58[i]);i++){if(!_1b51.contains(n,"dojoxGridNonNormalizedCell")){_1b59[i]=n.firstChild.offsetHeight;h=Math.max(h,_1b59[i]);}}h=(h>=0?h:0);if((has("mozilla")||has("ie")>8)&&h){h++;}}for(i=0;(n=_1b58[i]);i++){if(_1b59[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_1b5a){var _1b5b=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_1b5a));i++){n.firstChild.style.height="";_1b5b.push(n);}this.normalizeRowNodeHeights(_1b5b);},getViewWidth:function(_1b5c){return this.views[_1b5c].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_1b5d){_1b5d.headerContentNode.style.height="";});var h=0;this.forEach(function(_1b5e){h=Math.max(_1b5e.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_1b5f){h=Math.max(_1b5f.domNode.offsetHeight,h);});return h;},findClient:function(_1b60){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length,self=this;var c=(w<=0?len:this.findClient());var _1b61=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!self.grid.isLeftToRight()){ds.right=l+"px";if(has("ff")<4){hs.right=l+v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}if(!has("webkit")&&hs.width!="auto"){hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_1b61(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_1b61(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_1b61(v,l);}return l;},renderRow:function(_1b62,_1b63,_1b64){var _1b65=[];for(var i=0,v,n,_1b66;(v=this.views[i])&&(n=_1b63[i]);i++){_1b66=v.renderRow(_1b62);n.appendChild(_1b66);_1b65.push(_1b66);}if(!_1b64){this.normalizeRowNodeHeights(_1b65);}},rowRemoved:function(_1b67){this.onEach("rowRemoved",[_1b67]);},updateRow:function(_1b68,_1b69){for(var i=0,v;v=this.views[i];i++){v.updateRow(_1b68);}if(!_1b69){this.renormalizeRow(_1b68);}},updateRowStyles:function(_1b6a){this.onEach("updateRowStyles",[_1b6a]);},setScrollTop:function(inTop){var top=inTop;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(inTop);if(has("ie")&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});});},"dojox/grid/_EditManager":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,array,_1b6b,_1b6c,has,util){return _1b6b("dojox.grid._EditManager",null,{constructor:function(_1b6d){this.grid=_1b6d;this.connections=!has("ie")?[]:[_1b6c.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];this.connections.push(_1b6c.connect(this.grid,"onBlur",this,"apply"));this.connections.push(_1b6c.connect(this.grid,"prerender",this,"_onPreRender"));},info:{},destroy:function(){array.forEach(this.connections,_1b6c.disconnect);},cellFocus:function(_1b6e,_1b6f){if(this.grid.singleClickEdit||this.isEditRow(_1b6f)){this.setEditCell(_1b6e,_1b6f);}else{this.apply();}if(this.isEditing()||(_1b6e&&_1b6e.editable&&_1b6e.alwaysEditing)){this._focusEditor(_1b6e,_1b6f);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(inRow){if(inRow.index==this.info.rowIndex){inRow.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_1b70,_1b71){return (this.info.rowIndex===_1b70)&&(this.info.cell.index==_1b71);},isEditRow:function(_1b72){return this.info.rowIndex===_1b72;},setEditCell:function(_1b73,_1b74){if(!this.isEditCell(_1b74,_1b73.index)&&this.grid.canEdit&&this.grid.canEdit(_1b73,_1b74)){this.start(_1b73,_1b74,this.isEditRow(_1b74)||_1b73.editable);}},_focusEditor:function(_1b75,_1b76){util.fire(_1b75,"focus",[_1b76]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(has("ie")){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_1b77,_1b78,_1b79){if(!this._isValidInput()){return;}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_1b78)){this.applyRowEdit();this.grid.updateRow(_1b78);}if(_1b79){this.info={cell:_1b77,rowIndex:_1b78};this.grid.doStartEdit(_1b77,_1b78);this.grid.updateRow(_1b78);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_1b77,_1b78);this._doCatchBoomerang();},_editorDo:function(_1b7a){var c=this.info.cell;if(c&&c.editable){c[_1b7a](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_1b7b,_1b7c,_1b7d){if(this.grid.canEdit(_1b7c,_1b7d)){this.grid.doApplyCellEdit(_1b7b,_1b7d,_1b7c.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_1b7e,_1b7f){var c=this.info.cell;if(this.isEditRow(_1b7e)&&(!_1b7f||c.view==_1b7f)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_1b80,_1b81){var c=this.info.cell;if(this.isEditRow(_1b81)&&c.view==_1b80&&c.editable){c.restore(this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);},_onPreRender:function(){if(this.isEditing()){this.info.value=this.info.cell.getValue();}}});});},"dojox/gfx/fx":function(){define(["dojo/_base/lang","./_base","./matrix","dojo/_base/Color","dojo/_base/array","dojo/_base/fx","dojo/_base/connect","dojo/sniff"],function(lang,g,m,Color,arr,fx,Hub,has){var fxg=g.fx={};function _1b82(start,end){this.start=start,this.end=end;};_1b82.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _1b83(start,end,units){this.start=start,this.end=end;this.units=units;};_1b83.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _1b84(start,end){this.start=start,this.end=end;this.temp=new Color();};_1b84.prototype.getValue=function(r){return Color.blendColors(this.start,this.end,r,this.temp);};function _1b85(_1b86){this.values=_1b86;this.length=_1b86.length;};_1b85.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _1b87(_1b88,def){this.values=_1b88;this.def=def?def:{};};_1b87.prototype.getValue=function(r){var ret=lang.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _1b89(stack,_1b8a){this.stack=stack;this.original=_1b8a;};_1b89.prototype.getValue=function(r){var ret=[];arr.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(t.name=="matrix"){if((t.start instanceof m.Matrix2D)&&(t.end instanceof m.Matrix2D)){var _1b8b=new m.Matrix2D();for(var p in t.start){_1b8b[p]=(t.end[p]-t.start[p])*r+t.start[p];}ret.push(_1b8b);}return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=arr.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_1b8c=f.apply(m,val);if(_1b8c instanceof m.Matrix2D){ret.push(_1b8c);}},this);return ret;};var _1b8d=new Color(0,0,0,0);function _1b8e(prop,obj,name,def){if(prop.values){return new _1b85(prop.values);}var value,start,end;if(prop.start){start=g.normalizeColor(prop.start);}else{start=value=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!value){value=obj?(name?obj[name]:obj):def;}end=value;}return new _1b84(start,end);};function _1b8f(prop,obj,name,def){if(prop.values){return new _1b85(prop.values);}var value,start,end;if(prop.start){start=prop.start;}else{start=value=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof value!="number"){value=obj?obj[name]:def;}end=value;}return new _1b82(start,end);};fxg.animateStroke=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),shape=args.shape,_1b90;Hub.connect(anim,"beforeBegin",anim,function(){_1b90=shape.getStroke();var prop=args.color,_1b91={},value,start,end;if(prop){_1b91.color=_1b8e(prop,_1b90,"color",_1b8d);}prop=args.style;if(prop&&prop.values){_1b91.style=new _1b85(prop.values);}prop=args.width;if(prop){_1b91.width=_1b8f(prop,_1b90,"width",1);}prop=args.cap;if(prop&&prop.values){_1b91.cap=new _1b85(prop.values);}prop=args.join;if(prop){if(prop.values){_1b91.join=new _1b85(prop.values);}else{start=prop.start?prop.start:(_1b90&&_1b90.join||0);end=prop.end?prop.end:(_1b90&&_1b90.join||0);if(typeof start=="number"&&typeof end=="number"){_1b91.join=new _1b82(start,end);}}}this.curve=new _1b87(_1b91,_1b90);});Hub.connect(anim,"onAnimate",shape,"setStroke");return anim;};fxg.animateFill=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),shape=args.shape,fill;Hub.connect(anim,"beforeBegin",anim,function(){fill=shape.getFill();var prop=args.color,_1b92={};if(prop){this.curve=_1b8e(prop,fill,"",_1b8d);}});Hub.connect(anim,"onAnimate",shape,"setFill");return anim;};fxg.animateFont=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),shape=args.shape,font;Hub.connect(anim,"beforeBegin",anim,function(){font=shape.getFont();var prop=args.style,_1b93={},value,start,end;if(prop&&prop.values){_1b93.style=new _1b85(prop.values);}prop=args.variant;if(prop&&prop.values){_1b93.variant=new _1b85(prop.values);}prop=args.weight;if(prop&&prop.values){_1b93.weight=new _1b85(prop.values);}prop=args.family;if(prop&&prop.values){_1b93.family=new _1b85(prop.values);}prop=args.size;if(prop&&prop.units){start=parseFloat(prop.start?prop.start:(shape.font&&shape.font.size||"0"));end=parseFloat(prop.end?prop.end:(shape.font&&shape.font.size||"0"));_1b93.size=new _1b83(start,end,prop.units);}this.curve=new _1b87(_1b93,font);});Hub.connect(anim,"onAnimate",shape,"setFont");return anim;};fxg.animateTransform=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),shape=args.shape,_1b94;Hub.connect(anim,"beforeBegin",anim,function(){_1b94=shape.getTransform();this.curve=new _1b89(args.transform,_1b94);});Hub.connect(anim,"onAnimate",shape,"setTransform");if(g.renderer==="svg"&&has("ie")>=10){var _1b95=[Hub.connect(anim,"onBegin",anim,function(){var _1b96=shape.getParent();while(_1b96&&_1b96.getParent){_1b96=_1b96.getParent();}if(_1b96){shape.__svgContainer=_1b96.rawNode.parentNode;}}),Hub.connect(anim,"onAnimate",anim,function(){try{if(shape.__svgContainer){var ov=shape.__svgContainer.style.visibility;shape.__svgContainer.style.visibility="visible";var _1b97=shape.__svgContainer.offsetHeight;shape.__svgContainer.style.visibility=ov;}}catch(e){}}),Hub.connect(anim,"onEnd",anim,function(){arr.forEach(_1b95,Hub.disconnect);if(shape.__svgContainer){var ov=shape.__svgContainer.style.visibility;var sn=shape.__svgContainer;shape.__svgContainer.style.visibility="visible";setTimeout(function(){try{sn.style.visibility=ov;sn=null;}catch(e){}},100);}delete shape.__svgContainer;})];}return anim;};return fxg;});},"ma/view/_base":function(){define(["dojo/_base/declare","../_base"],function(_1b98,Base){return _1b98("ma.view._base",Base,{fxAnimateView:null,isHiden:true,area:null,interval:null,intervalTime:5000,isUpdatingValues:false,_hOnOrientationChange:null,_hOnResize:null,constructor:function(){},startup:function(){this.inherited(arguments);if(dojo.global.onorientationchange!==undefined){this._hOnOrientationChange=dojo.connect(dojo.global,"onorientationchange",dojo.hitch(this,this.MakeLayout));}this._hOnResize=dojo.connect(window,"onresize",dojo.hitch(this,this.MakeLayout));},postCreate:function(){},Clear:function(node){if(node==null||node.childNodes==null){return;}while(node.childNodes.length>0){if(node.firstChild.nodeType!=3){var obj=dijit.byNode(node.firstChild);if(obj!=null){obj.destroyDescendants();}}node.removeChild(node.firstChild);}},Show:function(area){this.ShowLoading();this.isHiden=false;this.area=area;dojo.style(this.domNode,"display","block");this.MakeLayout();setTimeout(dojo.hitch(this,function(){this.onShow();}),100);if(this.interval===null&&this.intervalTime>0){this.interval=setInterval(dojo.hitch(this,this.UpdateValues),this.intervalTime);}},LoadCompleted:function(){this.HideLoading();},Hide:function(){this.isHiden=true;dojo.style(this.domNode,"display","none");this.onHide();if(this.interval){clearInterval(this.interval);this.interval=null;}},onShow:function(){window.scrollTo(0,0);},onHide:function(){},UpdateValues:function(){},MakeLayout:function(){if(this.isHiden==true){return;}dojo.style(this.domNode,"width",this.getWidth()+"px");dojo.style(this.domNode,"height",this.getHeight()+"px");dojo.style(dojo.body(),"width","width",this.getWidth()+"px");dojo.style(dojo.body(),"height","width",this.getHeight()+"px");this.render();},render:function(){},ShowLoading:function(){dojo.style("_x_tabView_menu_loading_box","width",dojo.window.getBox().w+"px");dojo.style("_x_tabView_menu_loading_box","height",dojo.window.getBox().h+"px");dojo.style("_x_tabView_menu_loading_box","display","inline-table");dijit.byId("_x_tabView_menu_loading_box").play();},HideLoading:function(){dojo.style("_x_tabView_menu_loading_box","display","none");dijit.byId("_x_tabView_menu_loading_box").stop();},parseResult:function(_1b99){if(_1b99.resultCode==0){if(_1b99.message.length!=0){eval("console.warn(\""+_1b99.message.replace(/\"/g,"")+"\")");}return _1b99.data;}else{if(_1b99.resultCode==-1){this.logOut();}else{if(_1b99&&_1b99.message&&_1b99.resultCode){eval("console.error(\""+_1b99.message.replace(/\"/g,"")+"\")");}else{_1b99.resultCode=-1;_1b99.message="Unable to connect.";eval("console.error(\"Unable to connect.\")");}return null;}}},getHeight:function(){var _1b9a=dojo.getMarginBox(dojo.byId("_x_mainNavBar")).h;var _1b9b=0;if(_1b9a==0){_1b9b=dojo.getMarginBox(dojo.byId("_x_tabView_menu_header")).h;}return Math.min(document.documentElement.clientHeight,dojo.window.getBox().h)-(_1b9a+_1b9b);},getWidth:function(){return Math.min(document.documentElement.clientWidth,dojo.window.getBox().w);},destroy:function(){if(this.interval){clearInterval(this.interval);this.interval=null;}if(this._hOnResize){dojo.disconnect(this._hOnResize);this._hOnResize=null;}if(this._hOnOrientationChange){dojo.disconnect(this._hOnOrientationChange);this._hOnOrientationChange=null;}this.inherited(arguments);},logOut:function(){if(window.location.href.indexOf("flg")>-1){window.location.reload();}else{if(window.location.href.indexOf("?")>-1){window.location.href+="&flg=1";}else{window.location.href+="?flg=1";}}}});});},"dojox/mobile/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/TextBox"],function(_1b9c,_1b9d,_1b9e,_1b9f,_1ba0,has,_1ba1){var _1ba2=_1b9c(has("dojo-bidi")?"dojox.mobile.NonBidiTextBox":"dojox.mobile.TextBox",[_1b9e,_1b9f,_1ba0],{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(value){value=this._cv?this._cv(value):value;this._set("placeHolder",value);this.textbox.setAttribute("placeholder",value);},buildRendering:function(){if(!this.srcNodeRef){this.srcNodeRef=_1b9d.create("input",{"type":this.type});}this.inherited(arguments);this.textbox=this.focusNode=this.domNode;},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onmouseup",function(){this._mouseIsDown=false;});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=true;});this.connect(this.textbox,"onfocus",function(e){this._onFocus(this._mouseIsDown?"mouse":e);this._mouseIsDown=false;});this.connect(this.textbox,"onblur","_onBlur");}});return has("dojo-bidi")?_1b9c("dojox.mobile.TextBox",[_1ba2,_1ba1]):_1ba2;});},"viewer/animation/TrendPenAnimation":function(){define(["dojo/_base/declare","./_base","../misc/enums"],function(_1ba3,_1ba4,enums){return _1ba3("viewer.animation.Disable",_1ba4,{_component:null,constructor:function(_1ba5,_1ba6){this.inherited(arguments);this._component=this._widget;},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_execUpdate:function(){if(!this._animProps){return;}if(this._animProps.duration){var v=parseFloat(this._animProps.duration);if(isFinite(v)&&v>1){this._component.periodMin=v;}else{this._component.periodMin=1;}}if(this._animProps.isAutoRange){this._component.setAutoRange(this._widget._convertToBool(this._animProps.isAutoRange));}if(this._animProps.isFixed){this._component.isFixed=this._widget._convertToBool(this._animProps.isFixed);}if(this._animProps.isLine){this._component.isDirLine=this._widget._convertToBool(this._animProps.isLine);}if(this._animProps.maxRange){var v=parseFloat(this._animProps.maxRange);if(isFinite(v)){this._component.rangeMax=v;}}if(this._animProps.minRange){var v=parseFloat(this._animProps.minRange);if(isFinite(v)){this._component.rangeMin=v;}}},onChangeProperty:function(prop){this.inherited(arguments);if(!this._component){return;}if(prop.propName==="analog"&&prop.value){var v=parseFloat(prop.value);if(isFinite(v)){this._component.insertValue(v,prop.quality||65535);}}else{if(prop.propName==="minRange"&&prop.value){var v=parseFloat(prop.value);if(isFinite(v)){this._component.rangeMin=v;}}else{if(prop.propName==="maxRange"&&prop.value){var v=parseFloat(prop.value);if(isFinite(v)){this._component.rangeMax=v;}}else{if(prop.propName==="duration"&&prop.value){var v=parseFloat(prop.value);if(isFinite(v)&&v>1){this._component.periodMin=v;}else{this._component.periodMin=1;}this._component.updateStartTime();}else{if(prop.propName==="isAutoRange"&&prop.value){this._component.setAutoRange(this._widget._convertToBool(prop.value));}else{if(prop.propName==="isFixed"&&prop.value){this._component.isFixed=this._widget._convertToBool(prop.value);}else{if(prop.propName==="isLine"&&prop.value){this._component.isDirLine=this._widget._convertToBool(prop.value);}}}}}}}}});});},"dojox/gauges/AnalogArrowIndicator":function(){define(["dojo/_base/declare","./AnalogIndicatorBase"],function(_1ba7,_1ba8){return _1ba7("dojox.gauges.AnalogArrowIndicator",[_1ba8],{_getShapes:function(group){if(!this._gauge){return null;}var color=this.color?this.color:"black";var _1ba9=this.strokeColor?this.strokeColor:color;var _1baa={color:_1ba9,width:1};if(this.color.type&&!this.strokeColor){_1baa.color=this.color.colors[0].color;}var x=Math.floor(this.width/2);var head=this.width*5;var odd=(this.width&1);var _1bab=[];var _1bac=[{x:-x,y:0},{x:-x,y:-this.length+head},{x:-2*x,y:-this.length+head},{x:0,y:-this.length},{x:2*x+odd,y:-this.length+head},{x:x+odd,y:-this.length+head},{x:x+odd,y:0},{x:-x,y:0}];_1bab[0]=group.createPolyline(_1bac).setStroke(_1baa).setFill(color);_1bab[1]=group.createLine({x1:-x,y1:0,x2:-x,y2:-this.length+head}).setStroke({color:this.highlight});_1bab[2]=group.createLine({x1:-x-3,y1:-this.length+head,x2:0,y2:-this.length}).setStroke({color:this.highlight});_1bab[3]=group.createCircle({cx:0,cy:0,r:this.width}).setStroke(_1baa).setFill(color);return _1bab;}});});},"viewer/misc/gui/inputElapsedTime":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputElapsedTime.html","./helpers/css","dojo/touch"],function(_1bad,_1bae,_1baf,_1bb0,touch){return _1bad("viewer.misc.gui.InputWindow",_1bae,{templateString:_1baf,inputEvent:null,onWrite:null,onCancel:null,mask:null,currentValue:null,range:null,_showDays:null,_showMilliSec:null,self:null,startup:function(){self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this.inherited(arguments);dojo.connect(this._dlgContent.parentNode,touch.press,function(evt){self.close();});dojo.connect(this._dlgContent,touch.press,function(evt){event.stopPropagation();});this._init();this._setTime(this.currentValue);dojo.fadeIn({node:this._dlgContent,duration:100}).play();setTimeout(this._setFocus.bind(this),1);},_init:function(){var _1bb1=510;this._bindSign();this._bindHour();this._bindMinute();this._bindSeconds();if(!this._showDays){this._dayField.parentNode.removeChild(this._dayField);_1bb1-=160;}else{this._bindDays();}if(!this._showMilliSec){this._milliSecField.parentNode.removeChild(this._milliSecField);_1bb1-=90;}else{this._bindMilliSec();}this._dlgContent.style.width=_1bb1+"px";this._lblField.style.width=_1bb1+"px";var _1bb2=this._dlgContent.parentNode.clientWidth;if(_1bb2<_1bb1){this._dlgContent.style.transform="scale("+_1bb2/_1bb1+", 1)";this._dlgContent.style.left="-"+(_1bb1-_1bb2)/2+"px";}},_setTime:function(_1bb3){if(_1bb3.indexOf("-")>-1){this._sign.value="-";}else{this._sign.value="+";}var val=_1bb3.replace("-","");var day,hour,_1bb4,_1bb5,_1bb6;var times=val.split(":");var _1bb7=times[0].split(" ");if(_1bb7.length==2){day=_1bb7[0];hour=_1bb7[1];}else{hour=_1bb7[0];}_1bb4=times[1];var _1bb8=times[2].split(".");_1bb5=_1bb8[0];if(_1bb8.length==2){_1bb6=_1bb8[1];}this._hour.value=hour>0?hour:0;this._minute.value=_1bb4>0?_1bb4:0;this._seconds.value=_1bb5>0?_1bb5:0;if(this._showDays){this._day.value=day?day:0;}if(this._showMilliSec){this._milliSec.value=_1bb6?_1bb6.substring(0,3):0;}},_bindDays:function(){dojo.connect(this._dayUp,touch.press,function(evt){self._validateInputs(self._day,"day","up");});dojo.connect(this._dayDown,touch.press,function(evt){self._validateInputs(self._day,"day","down");});dojo.connect(this._dayUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._dayDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._day,"keypress",function(evt){self._onKeyPress(evt,"day");});this._day.addEventListener("blur",function(){self._validateInputs(self._day,"day","input");});},_bindHour:function(){dojo.connect(this._hourUp,touch.press,function(evt){self._validateInputs(self._hour,"hour","up");});dojo.connect(this._hourDown,touch.press,function(evt){self._validateInputs(self._hour,"hour","down");});dojo.connect(this._hourUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._hourDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._hour,"keypress",function(evt){self._onKeyPress(evt,"hour");});this._hour.addEventListener("blur",function(){self._validateInputs(self._hour,"hour","input");});},_bindMinute:function(){dojo.connect(this._minuteUp,touch.press,function(evt){self._validateInputs(self._minute,"minute","up");});dojo.connect(this._minuteDown,touch.press,function(evt){self._validateInputs(self._minute,"minute","down");});dojo.connect(this._minuteUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._minuteDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._minute,"keypress",function(evt){self._onKeyPress(evt,"minute");});this._minute.addEventListener("blur",function(){self._validateInputs(self._minute,"minute","input");});},_bindSeconds:function(){dojo.connect(this._secondsUp,touch.press,function(evt){self._validateInputs(self._seconds,"second","up");});dojo.connect(this._secondsDown,touch.press,function(evt){self._validateInputs(self._seconds,"second","down");});dojo.connect(this._secondsUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._secondsDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._seconds,"keypress",function(evt){self._onKeyPress(evt,"second");});this._seconds.addEventListener("blur",function(){self._validateInputs(self._seconds,"second","input");});},_bindMilliSec:function(){dojo.connect(this._milliSecUp,touch.press,function(evt){self._validateInputs(self._milliSec,"milliSec","up");});dojo.connect(this._milliSecDown,touch.press,function(evt){self._validateInputs(self._milliSec,"milliSec","down");});dojo.connect(this._milliSecUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._milliSecDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._milliSec,"keypress",function(evt){self._onKeyPress(evt,"milliSec");});this._milliSec.addEventListener("blur",function(){self._validateInputs(self._milliSec,"milliSec","input");});},_bindSign:function(){var _1bb9=this;dojo.connect(this._sign,touch.press,function(evt){if(_1bb9._sign.value=="-"){_1bb9._sign.value="+";}else{_1bb9._sign.value="-";}});},_getNodeMinMaxValue:function(_1bba){switch(_1bba){case "day":return {"minValue":0,"maxValue":10675199};case "hour":return {"minValue":0,"maxValue":23};case "minute":case "second":return {"minValue":0,"maxValue":59};case "milliSec":return {"minValue":0,"maxValue":999};default:return {"minValue":0,"maxValue":0};}},_validateInputs:function(node,name,type){var _1bbb=this._getNodeMinMaxValue(name);var min=_1bbb.minValue;var max=_1bbb.maxValue;var val=node.value;if(type=="up"){if(isNaN(parseInt(val))||parseInt(val)+1>max){node.value=min;}else{node.value=parseInt(val)+1;}}else{if(type=="down"){if(isNaN(parseInt(val))||parseInt(val)-1<min){node.value=max;}else{node.value=parseInt(val)-1;}}else{if(type=="input"){if(isNaN(parseInt(val))||parseInt(val)<min){node.value=min;}else{if(parseInt(val)>max){node.value=max;}else{node.value=parseInt(val);}}}}}},_setFocus:function(){this._okBtn.focus();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.onWrite){var sign=this._sign.value=="-"?"-":"";var days=this._day.value?this._day.value:0;var hour=this._hour.value?this._hour.value:0;var _1bbc=this._minute.value?this._minute.value:0;var _1bbd=this._seconds.value?this._seconds.value:0;var _1bbe=this._milliSec.value?this._milliSec.value:"0";if(_1bbe.length<3){_1bbe=Array(3-_1bbe.length+1).join("0")+_1bbe;}if(parseInt(days)>10675199){this._setMessageErrorAttr("The duration is too long");}else{if(parseInt(days)==10675199&&((parseInt(hour)*3600+parseInt(_1bbc)*60+parseInt(_1bbd))*1000+parseInt(_1bbe)>((2*3600+48*60+5)*1000+477))){this._setMessageErrorAttr("The duration is too long");}else{this._reset();var _1bbf=sign+days+" "+hour+":"+_1bbc+":"+_1bbd+"."+_1bbe;this.onWrite(_1bbf);}}}},_onKeyPress:function(evt,name){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;case 38:this._validateInputs(evt.target,name,"up");break;case 40:this._validateInputs(evt.target,name,"down");break;}},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},_setMessageErrorAttr:function(msg){this._dlgErrorMessage.innerHTML=msg;},_reset:function(){this._dlgErrorMessage.innerHTML="";},setTypeAndRangeAttr:function(opts){},setPromptMessage:function(opts){}});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dojox/mobile/_DataListMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/registry","./_DataMixin","./ListItem","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/_StoreListMixin"],function(array,_1bc0,_1bc1,_1bc2,_1bc3,has,_1bc4){var _1bc5=_1bc0(has("dojo-bidi")?"dojox.mobile._NonBidiDataListMixin":"dojox.mobile._DataListMixin",_1bc2,{append:false,itemMap:null,itemRenderer:_1bc3,buildRendering:function(){this.inherited(arguments);if(!this.store){return;}var store=this.store;this.store=null;this.setStore(store,this.query,this.queryOptions);},createListItem:function(item){var attr={};var arr=this.store.getLabelAttributes(item);var _1bc6=arr?arr[0]:null;array.forEach(this.store.getAttributes(item),function(name){if(name===_1bc6){attr["label"]=this.store.getLabel(item);}else{attr[(this.itemMap&&this.itemMap[name])||name]=this.store.getValue(item,name);}},this);if(has("dojo-bidi")&&typeof attr["dir"]=="undefined"){attr["dir"]=this.isLeftToRight()?"ltr":"rtl";}var w=new this.itemRenderer(attr);item._widgetId=w.id;return w;},generateList:function(items,_1bc7){if(!this.append){array.forEach(this.getChildren(),function(child){child.destroyRecursive();});}array.forEach(items,function(item,index){this.addChild(this.createListItem(item));},this);},onComplete:function(items,_1bc8){this.generateList(items,_1bc8);},onError:function(_1bc9,_1bca){},onSet:function(item,_1bcb,_1bcc,_1bcd){},onNew:function(_1bce,_1bcf){this.addChild(this.createListItem(_1bce));},onDelete:function(_1bd0){_1bc1.byId(_1bd0._widgetId).destroyRecursive();},onStoreClose:function(_1bd1){if(this.store.clearOnClose){this.refresh();}}});return has("dojo-bidi")?_1bc0("dojox.mobile._DataListMixin",[_1bc5,_1bc4]):_1bc5;});},"viewer/animation/Point":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/enums"],function(_1bd2,_1bd3,_1bd4,_1bd5,enums){return _1bd2("viewer.animation.point",_1bd3,{_points:null,_updatePoints:true,constructor:function(_1bd6,_1bd7){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);if(this._animProps.points){this._points=this._animProps.points;for(var i=0;i<this._points.length;i++){this._points[i].x.value=null;this._points[i].y.value=null;}}},_execUpdate:function(){if(!this._updatePoints){return;}switch(this._widget.declaredClass){case "viewer.object.shape.OpenCurve":case "viewer.object.shape.closedCurve":break;case "viewer.object.shape.ClosedPolygon":case "viewer.object.shape.OpenPolygon":case "viewer.object.shape.Line":for(var i=0;i<this._widget.points.length;i++){if(!isNaN(parseInt(this._points[i].x.value))){this._widget.points[i].x=this._points[i].x.value;}if(!isNaN(parseInt(this._points[i].y.value))){this._widget.points[i].y=this._points[i].y.value;}}this._drawLine();break;default:if(!isNaN(parseInt(this._points[0].x.value))){this._widget._attr.position.left=parseFloat(this._points[0].x.value);}if(!isNaN(parseInt(this._points[0].y.value))){this._widget._attr.position.top=parseFloat(this._points[0].y.value);}_1bd5.setLeft(this._widget._getWrapperNodeAttr(),this._widget._attr.position.left+"px");_1bd5.setTop(this._widget._getWrapperNodeAttr(),this._widget._attr.position.top+"px");this._widget._setMatrixOrigin(this._widget._attr.position.left,this._widget._attr.position.top);break;}this._updatePoints=false;},_drawCurve:function(_1bd8){this._widget._xComponent.path=_1bd8;if(this._widget._bargraphCloneNode){for(var i=0;i<this._widget._bargraphCloneNode.length;i++){this._widget._bargraphCloneNode[i].path=_1bd8;}}},_drawLine:function(){this._widget._attr.points=this._widget.points;var _1bd9,b;_1bd9="";b=Math.max(1,parseInt(this._widget._attr.pen.width));this._widget._attr.position={left:0,top:0,right:0,bottom:0};this._widget._attr.position.left=this._widget._attr.position.top=65535;this._widget._attr.position.right=this._widget._attr.position.bottom=0;for(var i=0;i<this._widget._attr.points.length;i++){if(parseInt(this._widget._attr.points[i].x)<parseInt(this._widget._attr.position.left)){this._widget._attr.position.left=parseInt(this._widget._attr.points[i].x)-(b/2);}if(parseInt(this._widget._attr.points[i].x)>parseInt(this._widget._attr.position.right)){this._widget._attr.position.right=parseInt(this._widget._attr.points[i].x)+(b/2);}if(parseInt(this._widget._attr.points[i].y)<parseInt(this._widget._attr.position.top)){this._widget._attr.position.top=parseInt(this._widget._attr.points[i].y)-(b/2);}if(parseInt(this._widget._attr.points[i].y)>parseInt(this._widget._attr.position.bottom)){this._widget._attr.position.bottom=parseInt(this._widget._attr.points[i].y)+(b/2);}}this._widget._attr.size.w=this._widget._attr.position.right-this._widget._attr.position.left+10;this._widget._attr.size.h=this._widget._attr.position.bottom-this._widget._attr.position.top+10;for(var i=0;i<this._widget._attr.points.length;i++){_1bd9+=(parseInt(this._widget._attr.points[i].x)-parseInt(this._widget._attr.position.left))+","+(parseInt(this._widget._attr.points[i].y)-parseInt(this._widget._attr.position.top))+" ";}this._widget._xComponent.points=_1bd9;_1bd5.setAttribute(this._widget._xComponent,"points",_1bd9);if(this._widget._bargraphCloneNode){for(var i=0;i<this._widget._bargraphCloneNode.length;i++){this._widget._bargraphCloneNode[i].points=_1bd9;_1bd5.setAttribute(this._widget._bargraphCloneNode[i],"points",_1bd9);}}if(this._widget._getWrapperNodeAttr()===this._widget.domNode){_1bd5.setLeft(this._widget.domNode,this._widget._attr.position.left+"px");_1bd5.setTop(this._widget.domNode,this._widget._attr.position.top+"px");}else{_1bd5.setLeft(this._widget.domNode,(this._widget._attr.position.left-this._widget._originalGeometry.x)+"px");_1bd5.setTop(this._widget.domNode,(this._widget._attr.position.top-this._widget._originalGeometry.y)+"px");}_1bd5.setSize(this._widget.domNode,this._widget._attr.size);this._widget._setMatrixOrigin(this._widget._attr.position.left,this._widget._attr.position.top);},_reCalculatePostionWithParent:function(child,_1bda){var _1bdb=child.getParent();if(_1bdb.declaredClass&&_1bdb._attr&&_1bdb.declaredClass=="viewer.object.Group"){_1bda.left=_1bda.left-_1bdb._attr.position.left;_1bda.top=_1bda.top-_1bdb._attr.position.top;this._reCalculatePostionWithParent(_1bdb,_1bda);}else{return _1bda;}},onChangeProperty:function(prop){if(!isNaN(parseInt(prop.value))){this._updatePoints=true;for(var i=0;i<this._points.length;i++){if(parseInt(this._points[i].x.id)==parseInt(prop.id)){this._points[i].x.value=parseInt(prop.value);return;}if(parseInt(this._points[i].y.id)==parseInt(prop.id)){this._points[i].y.value=parseInt(prop.value);return;}}}}});});},"dojox/gauges/_Indicator":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/fx","dojo/_base/html","dojo/_base/connect","dijit/_Widget","dojo/dom-construct","dojo/dom-class"],function(lang,_1bdc,fx,html,_1bdd,_1bde,dom,_1bdf){return _1bdc("dojox.gauges._Indicator",[_1bde],{value:0,type:"",color:"black",strokeColor:"",label:"",font:{family:"sans-serif",size:"12px"},length:0,width:0,offset:0,hover:"",front:false,easing:fx._defaultEasing,duration:1000,hideValue:false,noChange:false,interactionMode:"indicator",_gauge:null,title:"",startup:function(){if(this.onDragMove){this.onDragMove=lang.hitch(this.onDragMove);}if(this.strokeColor===""){this.strokeColor=undefined;}},postCreate:function(){if(this.title===""){html.style(this.domNode,"display","none");}if(lang.isString(this.easing)){this.easing=lang.getObject(this.easing);}},buildRendering:function(){var n=this.domNode=this.srcNodeRef?this.srcNodeRef:dom.create("div");_1bdf.add(n,"dojoxGaugeIndicatorDiv");var title=dom.create("label");if(this.title){title.innerHTML=this.title+":";}dom.place(title,n);this.valueNode=dom.create("input",{className:"dojoxGaugeIndicatorInput",size:5,value:this.value});dom.place(this.valueNode,n);_1bdd.connect(this.valueNode,"onchange",this,this._update);},_update:function(){this._updateValue(true);},_updateValue:function(_1be0){var value=this.valueNode.value;if(value===""){this.value=null;}else{this.value=Number(value);this.hover=this.title+": "+value;}if(this._gauge){this.draw(this._gauge._indicatorsGroup,_1be0||_1be0==undefined?false:true);this.valueNode.value=this.value;if((this.title=="Target"||this.front)&&this._gauge.moveIndicator){this._gauge.moveIndicatorToFront(this);}this.valueChanged();}},valueChanged:function(){},update:function(value,_1be1){if(!this.noChange){this.valueNode.value=value;this._updateValue(_1be1);}},handleMouseOver:function(e){this._gauge._handleMouseOverIndicator(this,e);},handleMouseOut:function(e){this._gauge._handleMouseOutIndicator(this,e);this._gauge.gaugeContent.style.cursor="";},handleMouseDown:function(e){this._gauge._handleMouseDownIndicator(this,e);},handleTouchStart:function(e){this._gauge.handleTouchStartIndicator(this,e);},onDragMove:function(){this.value=Math.floor(this.value);this.valueNode.value=this.value;this.hover=this.title+": "+this.value;},draw:function(_1be2){},remove:function(){if(this.shape){this.shape.parent.remove(this.shape);}this.shape=null;if(this.text){this.text.parent.remove(this.text);}this.text=null;}});});},"dojox/grid/_Grid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,dojox,_1be3,_1be4,_1be5,_1be6,_1be7,_1be8,_1be9,_1bea,_1beb,_1bec,_1bed,util,_1bee,_1bef,_1bf0,_1bf1,_1bf2,array,lang,has,_1bf3,html,query){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}var _1bf4=_1be3("dojox.grid._Grid",[_1bee,_1bef,_1be4],{templateString:_1bf1,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_1be6,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");_1bf3.initOnFontResize();this.connect(_1bf3,"onFontResize","textSizeChanged");util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);if(this.selectionMode!="none"){this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");}html.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){html.addClass(this.domNode,this.classTag+"Rtl");}if(this.rowHeight>0){html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");}},postMixInProperties:function(){this.inherited(arguments);var _1bf5=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_1bf2.substitute(this.loadingMessage,_1bf5);this.errorMessage=_1bf2.substitute(this.errorMessage,_1bf5);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){html.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){array.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_1bf6){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_1bf6){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new _1be9(this);this.focus=new _1bea(this);this.edit=new _1beb(this);},createSelection:function(){this.selection=new _1bec(this);},createScroller:function(){this.scroller=new _1be5();this.scroller.grid=this;this.scroller.renderRow=lang.hitch(this,"renderRow");this.scroller.removeRow=lang.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.update();},onResizeColumn:function(_1bf7){},createViews:function(){this.views=new _1be8(this);this.views.createView=lang.hitch(this,"createView");},createView:function(_1bf8,idx){var c=lang.getObject(_1bf8);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_1bf9){var s=_1bf9;if(s&&lang.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=lang.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_1bfa){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_1bfa);},getColumnTogglingItems:function(){var items,_1bfb=[];items=array.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new _1bf0({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_1bfc){if(self.layout.setColumnVisibility(this._gridCell.index,_1bfc)){var items=this._gridCell.menuItems;if(items.length>1){array.forEach(items,function(item){if(item!==this){item.setAttribute("checked",_1bfc);}},this);}_1bfc=array.filter(self.layout.cells,function(c){if(c.menuItems.length>1){array.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_1bfc.length==1){array.forEach(_1bfc[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var index=array.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(index,1);delete this._gridCell;_1bf0.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_1bfb.push(item);}return item;},this);if(_1bfb.length==1){_1bfb[0].set("disabled",true);}return items;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){array.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){array.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(start){this.setScrollTop(0);},getItem:function(_1bfd){return null;},showMessage:function(_1bfe){if(_1bfe){this.messagesNode.innerHTML=_1bfe;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_1bff,_1c00){this._pendingChangeSize=_1bff;this._pendingResultSize=_1c00;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_1c01,_1c02){_1c01=_1c01||this._pendingChangeSize;_1c02=_1c02||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _1c03=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_1c03.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_1c02){_1c01=_1c02;}if(!this._autoHeight&&_1c01){html.marginBox(this.domNode,_1c01);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);this.domNode.style.height=Math.max(0,h)+"px";}}var _1c04=array.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_1c04&&hh===undefined){hh=this._getHeaderHeight();}}if(_1c04){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _1c05=(!this.initialWidth&&this.autoWidth);var w=_1c05?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_1c05){this.domNode.style.width=vw+"px";}},adaptHeight:function(_1c06){var t=_1c06===undefined?this._getHeaderHeight():_1c06;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _1c07=0,_1c08=0;var _1c09=array.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_1c07++;}else{_1c08++;}return (!has);});if(_1c07>0&&_1c08>0){array.forEach(_1c09,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();html.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_1c0a,_1c0b){this.views.renderRow(_1c0a,_1c0b,this._skipRowRenormalize);},rowRemoved:function(_1c0c){this.views.rowRemoved(_1c0c);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_1c0d){_1c0d=Number(_1c0d);if(this.updating){this.invalidated[_1c0d]=true;}else{this.views.updateRow(_1c0d);this.scroller.rowHeightChanged(_1c0d);}},updateRows:function(_1c0e,_1c0f){_1c0e=Number(_1c0e);_1c0f=Number(_1c0f);var i;if(this.updating){for(i=0;i<_1c0f;i++){this.invalidated[i+_1c0e]=true;}}else{for(i=0;i<_1c0f;i++){this.views.updateRow(i+_1c0e,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_1c0e);}},updateRowCount:function(_1c10){if(this.updating){this.invalidated.rowCount=_1c10;}else{this.rowCount=_1c10;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_1c10);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_1c11){this.views.updateRowStyles(_1c11);},getRowNode:function(_1c12){if(this.focus.focusView&&!(this.focus.focusView instanceof _1bed)){return this.focus.focusView.rowNodes[_1c12];}else{for(var i=0,cView;(cView=this.views.views[i]);i++){if(!(cView instanceof _1bed)){return cView.rowNodes[_1c12];}}}return null;},rowHeightChanged:function(_1c13){this.views.renormalizeRow(_1c13);this.scroller.rowHeightChanged(_1c13);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(inTop){if(!this.fastScroll){this.setScrollTop(inTop);return;}var delta=Math.abs(this.lastScrollTop-inTop);this.lastScrollTop=inTop;if(delta>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=inTop;this.views.setScrollTop(inTop);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _1c14=this;this._pendingScroll=window.setTimeout(function(){delete _1c14._pendingScroll;_1c14.finishScrollJob();},200);}else{this.setScrollTop(inTop);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(inTop){this.scroller.scroll(this.views.setScrollTop(inTop));},scrollToRow:function(_1c15){this.setScrollTop(this.scroller.findScrollTop(_1c15)+1);},styleRowNode:function(_1c16,_1c17){if(_1c17){this.rows.styleRowNode(_1c16,_1c17);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_1c18){return this.layout.cells[_1c18];},setCellWidth:function(_1c19,_1c1a){this.getCell(_1c19).unitWidth=_1c1a;},getCellName:function(_1c1b){return "Cell "+_1c1b.index;},canSort:function(_1c1c){},sort:function(){},getSortAsc:function(_1c1d){_1c1d=_1c1d==undefined?this.sortInfo:_1c1d;return Boolean(_1c1d>0);},getSortIndex:function(_1c1e){_1c1e=_1c1e==undefined?this.sortInfo:_1c1e;return Math.abs(_1c1e)-1;},setSortIndex:function(_1c1f,inAsc){var si=_1c1f+1;if(inAsc!=undefined){si*=(inAsc?1:-1);}else{if(this.getSortIndex()==_1c1f){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_1c20){if(this.canSort(_1c20)){this.sortInfo=_1c20;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_1c21,_1c22){this.onStartEdit(_1c21,_1c22);},doApplyCellEdit:function(_1c23,_1c24,_1c25){this.onApplyCellEdit(_1c23,_1c24,_1c25);},doCancelEdit:function(_1c26){this.onCancelEdit(_1c26);},doApplyEdit:function(_1c27){this.onApplyEdit(_1c27);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});_1bf4.markupFactory=function(props,node,ctor,_1c28){var _1c29=function(n){var w=html.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!props.structure&&node.nodeName.toLowerCase()=="table"){props.structure=query("> colgroup",node).map(function(cg){var sv=html.attr(cg,"span");var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(html.hasAttr(cg,"width")){v.width=_1c29(cg);}return v;});if(!props.structure.length){props.structure.push({__span:Infinity,cells:[]});}query("thead > tr",node).forEach(function(tr,_1c2a){var _1c2b=0;var _1c2c=0;var _1c2d;var cView=null;query("> th",tr).map(function(th){if(!cView){_1c2d=0;cView=props.structure[0];}else{if(_1c2b>=(_1c2d+cView.__span)){_1c2c++;_1c2d+=cView.__span;var _1c2e=cView;cView=props.structure[_1c2c];}}var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};_1c2b+=cell.colSpan;var _1c2f=html.attr(th,"rowspan");if(_1c2f){cell.rowSpan=_1c2f;}if(html.hasAttr(th,"width")){cell.width=_1c29(th);}if(html.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);}if(html.hasAttr(th,"hidden")){cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);}if(_1c28){_1c28(th,cell);}cell.type=cell.type?lang.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!cView.cells[_1c2a]){cView.cells[_1c2a]=[];}cView.cells[_1c2a].push(cell);});});}return new ctor(props,node);};return _1bf4;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_1c30,_1c31,_1c32,_1c33,has,_1c34,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_1c31.blankGif||_1c30.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_1c33.getComputedStyle(div),bkImg=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(bkImg&&(bkImg=="none"||bkImg=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_1c34(function(){if(has("highcontrast")){_1c32.add(win.body(),"dj_a11y");}});return has;});},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_1c35,_1c36,event,has){return _1c36("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(inRow){var i=inRow;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(inRow);this.edit.styleRow(inRow);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _1c37;switch(e.keyCode){case keys.ESCAPE:this.edit.cancel();break;case keys.ENTER:if(!this.edit.isEditing()){_1c37=this.focus.getHeaderIndex();if(_1c37>=0){this.setSortIndex(_1c37);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}event.stop(e);}if(!e.shiftKey){var _1c38=this.edit.isEditing();this.edit.apply();if(!_1c38){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _1c39=this.focus.focusView||this.views.views[0];_1c39.content.decorateEvent(e);this.onRowClick(e);event.stop(e);}break;case keys.SPACE:if(!this.edit.isEditing()){_1c37=this.focus.getHeaderIndex();if(_1c37>=0){this.setSortIndex(_1c37);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}event.stop(e);}break;case keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(!this.edit.isEditing()){var _1c3a=e.keyCode;event.stop(e);_1c37=this.focus.getHeaderIndex();if(_1c37>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_1c37,(_1c3a==keys.LEFT_ARROW?-1:1)*5);}else{var _1c3b=(_1c3a==keys.LEFT_ARROW)?1:-1;if(this.isLeftToRight()){_1c3b*=-1;}this.focus.move(0,_1c3b);}}break;case keys.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){event.stop(e);this.focus.move(-1,0);}break;case keys.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){event.stop(e);this.focus.move(1,0);}break;case keys.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){event.stop(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case keys.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){event.stop(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){_1c35.add(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){_1c35.remove(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var event;if(this._click.length>1&&has("ie")){event=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){event=this._click[0];}else{event=e;}}this.focus.setFocusCell(event.cell,event.rowIndex);this.edit.setEditCell(event.cell,event.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_1c3c,_1c3d){this.edit.cellFocus(_1c3c,_1c3d);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){event.stop(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){_1c35.add(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){_1c35.remove(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){event.stop(e);}},onStartEdit:function(_1c3e,_1c3f){},onApplyCellEdit:function(_1c40,_1c41,_1c42){},onCancelEdit:function(_1c43){},onApplyEdit:function(_1c44){},onCanSelect:function(_1c45){return true;},onCanDeselect:function(_1c46){return true;},onSelected:function(_1c47){this.updateRowStyles(_1c47);},onDeselected:function(_1c48){this.updateRowStyles(_1c48);},onSelectionChanged:function(){}});});},"dojox/mobile/View":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./common","./transition","./viewRegistry","./_css3"],function(array,_1c49,_1c4a,_1c4b,lang,has,win,_1c4c,dom,_1c4d,_1c4e,_1c4f,_1c50,_1c51,_1c52,_1c53,_1c54,_1c55,_1c56,_1c57,_1c58,css3){var dm=lang.getObject("dojox.mobile",true);return _1c4b("dojox.mobile.View",[_1c54,_1c53,_1c52],{selected:false,keepScrollPos:true,tag:"div",baseClass:"mblView",constructor:function(_1c59,node){if(node){dom.byId(node).style.visibility="hidden";}},destroy:function(){_1c58.remove(this.id);this.inherited(arguments);},buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||_1c4e.create(this.tag);}this._animEndHandle=this.connect(this.domNode,css3.name("animationEnd"),"onAnimationEnd");this._animStartHandle=this.connect(this.domNode,css3.name("animationStart"),"onAnimationStart");if(!_1c49["mblCSS3Transition"]){this._transEndHandle=this.connect(this.domNode,css3.name("transitionEnd"),"onAnimationEnd");}if(has("mblAndroid3Workaround")){_1c50.set(this.domNode,css3.name("transformStyle"),"preserve-3d");}_1c58.add(this);this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._visible===undefined){var views=this.getSiblingViews();var ids=location.hash&&location.hash.substring(1).split(/,/);var _1c5a,_1c5b,_1c5c;array.forEach(views,function(v,i){if(array.indexOf(ids,v.id)!==-1){_1c5a=v;}if(i==0){_1c5c=v;}if(v.selected){_1c5b=v;}v._visible=false;},this);(_1c5a||_1c5b||_1c5c)._visible=true;}if(this._visible){this.show(true,true);this.defer(function(){this.onStartView();_1c4a.publish("/dojox/mobile/startView",[this]);});}if(this.domNode.style.visibility!="visible"){this.domNode.style.visibility="visible";}this.inherited(arguments);var _1c5d=this.getParent();if(!_1c5d||!_1c5d.resize){this.resize();}if(!this._visible){this.hide();}},resize:function(){array.forEach(this.getChildren(),function(child){if(child.resize){child.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_1c5e,dir,_1c5f,_1c60,_1c61){},onAfterTransitionIn:function(_1c62,dir,_1c63,_1c64,_1c65){},onBeforeTransitionOut:function(_1c66,dir,_1c67,_1c68,_1c69){},onAfterTransitionOut:function(_1c6a,dir,_1c6b,_1c6c,_1c6d){},_clearClasses:function(node){if(!node){return;}var _1c6e=[];array.forEach(lang.trim(node.className||"").split(/\s+/),function(c){if(c.match(/^mbl\w*View$/)||c.indexOf("mbl")===-1){_1c6e.push(c);}},this);node.className=_1c6e.join(" ");},_fixViewState:function(_1c6f){var nodes=this.domNode.parentNode.childNodes;for(var i=0;i<nodes.length;i++){var n=nodes[i];if(n.nodeType===1&&_1c4d.contains(n,"mblView")){this._clearClasses(n);}}this._clearClasses(_1c6f);var _1c70=_1c51.byNode(_1c6f);if(_1c70){_1c70._inProgress=false;}},convertToId:function(_1c71){if(typeof (_1c71)=="string"){return _1c71.replace(/^#?([^&?]+).*/,"$1");}return _1c71;},_isBookmarkable:function(_1c72){return _1c72.moveTo&&(_1c49["mblForceBookmarkable"]||_1c72.moveTo.charAt(0)==="#")&&!_1c72.hashchange;},performTransition:function(_1c73,_1c74,_1c75,_1c76,_1c77){if(this._inProgress){return;}this._inProgress=true;var _1c78,_1c79;if(_1c73&&typeof (_1c73)==="object"){_1c78=_1c73;_1c79=_1c74;}else{_1c78={moveTo:_1c73,transitionDir:_1c74,transition:_1c75,context:_1c76,method:_1c77};_1c79=[];for(var i=5;i<arguments.length;i++){_1c79.push(arguments[i]);}}this._detail=_1c78;this._optArgs=_1c79;this._arguments=[_1c78.moveTo,_1c78.transitionDir,_1c78.transition,_1c78.context,_1c78.method];if(_1c78.moveTo==="#"){return;}var _1c7a;if(_1c78.moveTo){_1c7a=this.convertToId(_1c78.moveTo);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("div");win.body().appendChild(this._dummyNode);}_1c7a=this._dummyNode;}if(this.addTransitionInfo&&typeof (_1c78.moveTo)=="string"&&this._isBookmarkable(_1c78)){this.addTransitionInfo(this.id,_1c78.moveTo,{transitionDir:_1c78.transitionDir,transition:_1c78.transition});}var _1c7b=this.domNode;var _1c7c=_1c7b.offsetTop;_1c7a=this.toNode=dom.byId(_1c7a);if(!_1c7a){return;}_1c7a.style.visibility="hidden";_1c7a.style.display="";this._fixViewState(_1c7a);var _1c7d=_1c51.byNode(_1c7a);if(_1c7d){if(_1c49["mblAlwaysResizeOnTransition"]||!_1c7d._resized){_1c56.resizeAll(null,_1c7d);_1c7d._resized=true;}if(_1c78.transition&&_1c78.transition!="none"){_1c7d._addTransitionPaddingTop(_1c7c);}_1c7d.load&&_1c7d.load();_1c7d.movedFrom=_1c7b.id;}if(has("mblAndroidWorkaround")&&!_1c49["mblCSS3Transition"]&&_1c78.transition&&_1c78.transition!="none"){_1c50.set(_1c7a,css3.name("transformStyle"),"preserve-3d");_1c50.set(_1c7b,css3.name("transformStyle"),"preserve-3d");_1c4d.add(_1c7a,"mblAndroidWorkaround");}this.onBeforeTransitionOut.apply(this,this._arguments);_1c4a.publish("/dojox/mobile/beforeTransitionOut",[this].concat(lang._toArray(this._arguments)));if(_1c7d){if(this.keepScrollPos&&!this.getParent()){var _1c7e=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_1c7b._scrollTop=_1c7e;var toTop=(_1c78.transitionDir==1)?0:(_1c7a._scrollTop||0);_1c7a.style.top="0px";if(_1c7e>1||toTop!==0){_1c7b.style.top=toTop-_1c7e+"px";if(_1c49["mblHideAddressBar"]!==false){this.defer(function(){win.global.scrollTo(0,(toTop||1));});}}}else{_1c7a.style.top="0px";}_1c7d.onBeforeTransitionIn.apply(_1c7d,this._arguments);_1c4a.publish("/dojox/mobile/beforeTransitionIn",[_1c7d].concat(lang._toArray(this._arguments)));}_1c7a.style.display="none";_1c7a.style.visibility="visible";_1c56.fromView=this;_1c56.toView=_1c7d;this._doTransition(_1c7b,_1c7a,_1c78.transition,_1c78.transitionDir);},_addTransitionPaddingTop:function(value){this.containerNode.style.paddingTop=value+"px";},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop="";},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_1c7f,_1c80,_1c81,_1c82){var rev=(_1c82==-1)?" mblReverse":"";_1c80.style.display="";if(!_1c81||_1c81=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_1c49["mblCSS3Transition"]){_1c4c.when(_1c57,lang.hitch(this,function(_1c83){var _1c84=_1c50.get(_1c80,"position");_1c50.set(_1c80,"position","absolute");_1c4c.when(_1c83(_1c7f,_1c80,{transition:_1c81,reverse:(_1c82===-1)?true:false}),lang.hitch(this,function(){_1c50.set(_1c80,"position",_1c84);_1c80.style.paddingTop="";this.invokeCallback();}));}));}else{if(_1c81.indexOf("cube")!=-1){if(has("ipad")){_1c50.set(_1c80.parentNode,{webkitPerspective:1600});}else{if(has("ios")){_1c50.set(_1c80.parentNode,{webkitPerspective:800});}}}var s=this._toCls(_1c81);if(has("mblAndroidWorkaround")){var _1c85=this;_1c85.defer(function(){_1c4d.add(_1c7f,s+" mblOut"+rev);_1c4d.add(_1c80,s+" mblIn"+rev);_1c4d.remove(_1c80,"mblAndroidWorkaround");_1c85.defer(function(){_1c4d.add(_1c7f,"mblTransition");_1c4d.add(_1c80,"mblTransition");},30);},70);}else{_1c4d.add(_1c7f,s+" mblOut"+rev);_1c4d.add(_1c80,s+" mblIn"+rev);this.defer(function(){_1c4d.add(_1c7f,"mblTransition");_1c4d.add(_1c80,"mblTransition");},100);}var _1c86="50% 50%";var _1c87="50% 50%";var _1c88,posX,posY;if(_1c81.indexOf("swirl")!=-1||_1c81.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_1c88=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_1c88=-_1c4f.position(_1c7f,true).y;}posY=win.global.innerHeight/2+_1c88;_1c86="50% "+posY+"px";_1c87="50% "+posY+"px";}else{if(_1c81.indexOf("scale")!=-1){var _1c89=_1c4f.position(_1c7f,true);posX=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_1c89.x;if(this.keepScrollPos&&!this.getParent()){_1c88=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_1c88=-_1c89.y;}posY=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_1c88;_1c86=posX+"px "+posY+"px";_1c87=posX+"px "+posY+"px";}}_1c50.set(_1c7f,css3.add({},{transformOrigin:_1c86}));_1c50.set(_1c80,css3.add({},{transformOrigin:_1c87}));}}},onAnimationStart:function(e){},onAnimationEnd:function(e){var name=e.animationName||e.target.className;if(name.indexOf("Out")===-1&&name.indexOf("In")===-1&&name.indexOf("Shrink")===-1){return;}var isOut=false;if(_1c4d.contains(this.domNode,"mblOut")){isOut=true;this.domNode.style.display="none";_1c4d.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"]);}else{this._removeTransitionPaddingTop();}_1c50.set(this.domNode,css3.add({},{transformOrigin:""}));if(name.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_1c4d.remove(li,"mblCloseContent");var p=_1c58.getEnclosingScrollable(this.domNode);p&&p.onTouchEnd();}if(isOut){this.invokeCallback();}this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=undefined;if(name.indexOf("Cube")!==-1&&name.indexOf("In")!==-1&&has("ios")){this.domNode.parentNode.style[css3.name("perspective")]="";}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_1c4a.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _1c8a=_1c51.byNode(this.toNode);if(_1c8a){_1c8a.onAfterTransitionIn.apply(_1c8a,this._arguments);_1c4a.publish("/dojox/mobile/afterTransitionIn",[_1c8a].concat(this._arguments));_1c8a.movedFrom=undefined;if(this.setFragIds&&this._isBookmarkable(this._detail)){this.setFragIds(_1c8a);}}if(has("mblAndroidWorkaround")){this.defer(function(){if(_1c8a){_1c50.set(this.toNode,css3.name("transformStyle"),"");}_1c50.set(this.domNode,css3.name("transformStyle"),"");});}var c=this._detail.context,m=this._detail.method;if(c||m){if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._optArgs);}else{if(typeof (m)=="function"){m.apply(c,this._optArgs);}}}this._detail=this._optArgs=this._arguments=undefined;this._inProgress=false;},isVisible:function(_1c8b){var _1c8c=function(node){return _1c50.get(node,"display")!=="none";};if(_1c8b){for(var n=this.domNode;n.tagName!=="BODY";n=n.parentNode){if(!_1c8c(n)){return false;}}return true;}else{return _1c8c(this.domNode);}},getShowingView:function(){var nodes=this.domNode.parentNode.childNodes;for(var i=0;i<nodes.length;i++){var n=nodes[i];if(n.nodeType===1&&_1c4d.contains(n,"mblView")&&n.style.display!=="none"){return _1c51.byNode(n);}}return null;},getSiblingViews:function(){if(!this.domNode.parentNode){return [this];}return array.map(array.filter(this.domNode.parentNode.childNodes,function(n){return n.nodeType===1&&_1c4d.contains(n,"mblView");}),function(n){return _1c51.byNode(n);});},show:function(_1c8d,_1c8e){var out=this.getShowingView();if(!_1c8d){if(out){out.onBeforeTransitionOut(out.id);_1c4a.publish("/dojox/mobile/beforeTransitionOut",[out,out.id]);}this.onBeforeTransitionIn(this.id);_1c4a.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]);}if(_1c8e){this.domNode.style.display="";}else{array.forEach(this.getSiblingViews(),function(v){v.domNode.style.display=(v===this)?"":"none";},this);}this.load&&this.load();if(!_1c8d){if(out){out.onAfterTransitionOut(out.id);_1c4a.publish("/dojox/mobile/afterTransitionOut",[out,out.id]);}this.onAfterTransitionIn(this.id);_1c4a.publish("/dojox/mobile/afterTransitionIn",[this,this.id]);}},hide:function(){this.domNode.style.display="none";}});});},"ma/view/View":function(){define(["dojo/_base/declare","dojox/mobile/parser","./_base","./Mosaic","dojo/text!./templates/view.html","ma/util/LogonManager","dojox/mobile/compat","./Menu","dojox/mobile/ScrollableView","dojo/cookie","dojox/mobile/ToolBarButton","dojox/mobile/Heading"],function(_1c8f,_1c90,Base,_1c91,_1c92,_1c93){return _1c8f("ma.view.View",Base,{templateString:_1c92,_area:null,_currentLevel:0,_lastLayoutArea:null,_isInSubArea:false,maMenu:null,rotateTransform:null,_countUISections:6,_logoffButton:null,backButton:null,constructor:function(){},startup:function(){this.inherited(arguments);dojo.addClass(dojo.body(),"ma_view_dark_body");this.MakeLayout();_1c90.parse(this.objectsView);_1c90.parse(this.titleNavigator);this._area=this.parseResult(services.navigateTo("/","Menu"));this._logoffButton=dijit.byId("_x_main_logoff");dojo.connect(this._logoffButton.domNode,"onclick",this,this.LogoutClicked);this.backButton=dijit.byId("__x__MainBackButton");if(this.backButton){dojo.connect(this.backButton,"onClick",this,this.ReturnClicked);}dojo.connect(this.titleNavigator,"onclick",dojo.hitch(this,this.ShowSettings));this.ProcData();dojo.query(".ma_view_menu",this.objectsView).forEach(function(node){this.maMenu=dijit.byNode(node);},this);this.maMenu.onReturnClicked=dojo.hitch(this,function(){if(this._isInSubArea){this._area=this.parseResult(services.navigateTo("..","Menu"));--this._currentLevel;}this.HiddenViews();this.ShowNavigation();this.ProcData();});var _1c94=undefined;if(dojo.cookie("_x_config")){_1c94=dojo.fromJson(dojo.cookie("_x_config"));}var _1c95=this.parseResult(services.getGlobalSettings());if(_1c94==undefined||!_1c95||_1c94.version!=_1c95.version){var _1c96=_1c94==null?_1c95:_1c94;_1c94=_1c95;var _1c97=new Date();if(_1c96&&!_1c96.trend){_1c94.trend={};_1c94.trend.play="on";_1c94.trend.fill="off";_1c94.trend.percentageMode="on";_1c94.trend.scaleMin="0";_1c94.trend.scaleMax="100";_1c94.trend.startDateTime=dojo.date.add(_1c97,"second",-1*_1c94.trendDuration).getTime();_1c94.trend.finishDateTime=_1c97.getTime();}else{if(_1c94){_1c94.trend=_1c96.trend;}}dojo.cookie("_x_config",dojo.toJson(_1c94),{expires:30});}var img=dojo.query("img",this.titleNavigator);dojo.attr(img[0],"width","24");dojo.attr(img[0],"height","24");this._screen_viewer=dijit.byId("_x_viewer_Viewer");this._screen_viewer.logLevel=((_1c94&&_1c94.logLevel)?_1c94.logLevel:0);this._screen_viewer.Run(((_1c94&&_1c94.processValuesUpdateRate)?_1c94.processValuesUpdateRate:1000));this.HiddenViews();this.ShowNavigation();},OnGestureEnd:function(e){e.preventDefault();},OnGestureChange:function(e){e.preventDefault();},OnGestureStart:function(e){e.preventDefault();},OnTouchMove:function(e){e.preventDefault();},OnTouchCancel:function(e){e.preventDefault();},ProcData:function(){if(this._area==null){return;}if(this.backButton){dojo.style(this.backButton,"display",this._currentLevel==0?"none":"block");}dojo.style(this._logoffButton,"display",this._currentLevel>0?"none":"block");dojo.style(this.domNode,"display","none");this.Clear(this.containerViewTableRowTitle);this.Clear(this.containerViewTableRow1);this.Clear(this.containerViewTableRow2);this.Clear(this.containerViewTableRow3);for(var i=0;i<this.connectHandlers.length;i++){dojo.disconnect(this.connectHandlers[i]);}this.CreateArea(this._area,false);for(var i=0;i<this._area.children.length;i++){this.CreateArea(this._area.children[i],true);}this.MakeLayout();},CreateArea:function(area,_1c98){var _1c99=null;var dom=null;var td=null;var _1c9a=null;var _1c9b;_1c9b=area.name;if(area.label&&area.label.length>0){_1c9b=area.label;}_1c99=document.createElement("td");_1c99.appendChild(document.createTextNode(_1c9b));dojo.style(_1c99,"padding-right",(this.getHeight()*0.1)+"px");this.containerViewTableRowTitle.appendChild(_1c99);if(_1c98){var _1c9c=document.createElement("canvas");var space=document.createElement("td");space.appendChild(_1c9c);dojo.style(_1c9c,"width",(this.getHeight()*0.11)+"px");dojo.attr(space,"rowspan",3);this["containerViewTableRow1"].appendChild(space);}div=document.createElement("div");td=document.createElement("td");td.appendChild(div);this["containerViewTableRow1"].appendChild(td);_1c9a=new _1c91({isSubArea:_1c98,area:area,eType:EnumMosaicType.ALARM},div);_1c9a.startup();this.CreateMosaicCommand(_1c9a);this._countUISections--;div=document.createElement("div");td=document.createElement("td");td.appendChild(div);this["containerViewTableRow2"].appendChild(td);_1c9a=new _1c91({isSubArea:_1c98,area:area,eType:EnumMosaicType.TAGS},div);_1c9a.startup();this.CreateMosaicCommand(_1c9a);this._countUISections--;div=document.createElement("div");td=document.createElement("td");td.appendChild(div);this["containerViewTableRow3"].appendChild(td);_1c9a=new _1c91({isSubArea:_1c98,area:area,eType:EnumMosaicType.TREND},div);_1c9a.startup();this.CreateMosaicCommand(_1c9a);this._countUISections--;div=document.createElement("div");td=document.createElement("td");td.appendChild(div);this["containerViewTableRow1"].appendChild(td);_1c9a=new _1c91({isSubArea:_1c98,area:area,eType:EnumMosaicType.SCREEN},div);_1c9a.startup();this.CreateMosaicCommand(_1c9a);this._countUISections--;var _1c9d=3;if(_1c98){_1c9d+=Math.abs(area.children.length/3);}dojo.attr(_1c99,"colspan",_1c9d);if(_1c98){this.CreateSubAreas(area);}if(this._countUISections===2){td=document.createElement("td");this["containerViewTableRow2"].appendChild(td);this._countUISections--;}if(this._countUISections===1){td=document.createElement("td");this["containerViewTableRow3"].appendChild(td);this._countUISections--;}if(this._countUISections===0){this._countUISections=6;}else{eval("console.error('Invalid mosaic count: "+this._countUISections+"!!!')");}},CreateMosaicCommand:function(_1c9e){if(this.rotateTransform==null){dojo.forEach(["transform","-webkit-transform","-moz-transform","-o-transform","-ms-transform"],dojo.hitch(this,function(name){if(dojo.style(dojo.body(),name)){this.rotateTransform=name;return;}}));}var _1c9f=new dojo.Animation({curve:[0,360],onAnimate:dojo.hitch(this,function(v){dojo.style(_1c9e.domNode,this.rotateTransform,"rotate("+v+"deg)");}),duration:300});dojo.connect(_1c9e,"onClickWidget",_1c9f,"play");dojo.forEach([_1c9e],dojo.hitch(this,function(m){dojo.connect(_1c9f,"onEnd",function(){dijit.byId("_x_ma_view_view").ProcMosaicEvent(m);});}));},CreateSubAreas:function(_1ca0){var row=1;dojo.forEach(_1ca0.children,dojo.hitch(this,function(area){var div=document.createElement("div");var td=document.createElement("td");td.appendChild(div);switch(row){case 0:this.containerViewTableRow1.appendChild(td);break;case 1:this.containerViewTableRow2.appendChild(td);break;case 2:this.containerViewTableRow3.appendChild(td);break;}row++;if(row==3){row=0;}var _1ca1;_1ca1=new _1c91({isSubArea:true,area:area,parentArea:_1ca0,eType:EnumMosaicType.SUBGROUP},div);_1ca1.startup();this.CreateMosaicCommand(_1ca1);this._countUISections=this._countUISections===0?2:this._countUISections-1;}));if(row>0&&_1ca0.children.length>0){var _1ca2=document.createElement("img");var space=document.createElement("td");space.appendChild(_1ca2);dojo.style(_1ca2,"width",(this.getHeight()*0.11)+"px");dojo.attr(space,"rowspan",3-row);this["containerViewTableRow"+(row+1)].appendChild(space);row=0;}this.MakeLayout();},MakeLayout:function(){this.inherited(arguments);var _1ca3=this.getHeight();var width=this.getWidth();if(this.objectsView){dojo.style(this.objectsView,"height",parseInt(_1ca3)+"px");dojo.style(this.objectsView,"width",parseInt(width)+"px");}if(this.domNode){dojo.style(this.domNode,"height",parseInt(_1ca3)+"px");dojo.style(this.domNode,"width",parseInt(width)+"px");}dojo.query(".ma_view_mosaic").forEach(function(_1ca4,i){var _1ca5=dijit.byNode(_1ca4);dojo.style(_1ca4,"height",parseInt(_1ca3*0.25)+"px");if(_1ca5==null){return;}dojo.style(_1ca4,"width",parseInt((_1ca3*0.24))+"px");});dojo.query(".mosaicTitle").forEach(function(_1ca6,i){dojo.style(_1ca6,"font-size",parseInt((_1ca3*0.24)*0.2)+"px");});if(this._lastLayoutArea!=this._area){dojo.style(this.domNode,"opacity","0");dojo.style(this.domNode,"display","block");dojo.fadeIn({node:this.domNode,duration:1000}).play();this._lastLayoutArea=this._area;}else{dojo.style(this.domNode,"opacity","1");dojo.style(this.domNode,"display","block");}dojo.style(this.titleNavigator,"width",Math.max(dojo.marginBox(this.containerViewTable).w,width)+"px");},ReturnClicked:function(){var tmp1=this.parseResult(services.navigateTo("..","Menu"));var tmp2=this.parseResult(services.navigateTo("..","Menu"));if(tmp2!=null){this._area=tmp2;}else{if(tmp1!=null){this._area=tmp1;}}this._currentLevel-=2;this.ProcData();},LogoutClicked:function(){this._screen_viewer.Stop();var _1ca7=new LogonServices();_1ca7.logout();dojo.fadeOut({node:this.domNode,duration:2000,onEnd:dojo.hitch(this,this.myDestroy)}).play();},ProcMosaicEvent:function(_1ca8){this._isInSubArea=false;var path;if(_1ca8.isSubArea){path=_1ca8.area.name;if(_1ca8.eType!=EnumMosaicType.SUBGROUP){this._isInSubArea=true;}++this._currentLevel;}else{path="";}var _1ca9;switch(_1ca8.eType){case EnumMosaicType.TREND:_1ca9=this.parseResult(services.navigateTo(path,"Trend"));this.ShowView(_1ca8.eType,_1ca8.area);break;case EnumMosaicType.ALARM:_1ca9=this.parseResult(services.navigateTo(path,"Alarm"));this.ShowView(_1ca8.eType,_1ca8.area);break;case EnumMosaicType.SCREEN:_1ca9=this.parseResult(services.navigateTo(path,"Screen"));this.ShowView(_1ca8.eType,_1ca8.area);break;case EnumMosaicType.TAGS:_1ca9=this.parseResult(services.navigateTo(path,"Tags"));this.ShowView(_1ca8.eType,_1ca8.area);break;case EnumMosaicType.SUBGROUP:dojo.fadeOut({node:_1ca8.domNode,duration:2000}).play();services.navigateTo(_1ca8.parentArea.name,"Menu");this._area=this.parseResult(services.navigateTo(_1ca8.area.name,"Menu"));this.ProcData();++this._currentLevel;break;}if(_1ca8.eType!=EnumMosaicType.SUBGROUP&&path.length>0){this._area=_1ca9;}},ShowSettings:function(){},onShow:function(){this.inherited(arguments);},HiddenViews:function(){dojo.addClass(this.objectsView,"Hide");dojo.addClass(this.containerViewTable,"Hide");dojo.addClass(this.titleNavigator,"Hide");this.maMenu.Hide();},ShowView:function(eType,area){this.HiddenViews();this.maMenu.SetViewType(eType,area);dojo.removeClass(this.objectsView,"Hide");this.maMenu.Show();},ShowNavigation:function(){dojo.removeClass(this.containerViewTable,"Hide");dojo.removeClass(this.titleNavigator,"Hide");},myDestroy:function(){this._screen_viewer.Stop();this.destroyRecursive(false);this.destroy();var _1caa=new _1c93();_1caa.gotoLogon();}});});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(array,_1cab,lang,on,has,dijit){var _1cac=(dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_1cad,node,_1cae,obj,_1caf,_1cb0,_1cb1){if(obj!=this._obj){this.stop();this._initialDelay=_1cb0||500;this._subsequentDelay=_1caf||0.9;this._minDelay=_1cb1||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_1cad,_1cae);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_1cb2,_1cb3,_1cb4,_1cb5,_1cb6,_1cb7){var type="keyCode" in _1cb2?"keydown":"charCode" in _1cb2?"keypress":_1cab._keypress,attr="keyCode" in _1cb2?"keyCode":"charCode" in _1cb2?"charCode":"charOrCode";var _1cb8=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_1cb2[attr]&&(_1cb2.ctrlKey===undefined||_1cb2.ctrlKey==evt.ctrlKey)&&(_1cb2.altKey===undefined||_1cb2.altKey==evt.altKey)&&(_1cb2.metaKey===undefined||_1cb2.metaKey==(evt.metaKey||false))&&(_1cb2.shiftKey===undefined||_1cb2.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_1cac.trigger(evt,_1cb3,node,_1cb4,_1cb2,_1cb5,_1cb6,_1cb7);}else{if(_1cac._obj==_1cb2){_1cac.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_1cac._obj==_1cb2){_1cac.stop();}}))];return {remove:function(){array.forEach(_1cb8,function(h){h.remove();});}};},addMouseListener:function(node,_1cb9,_1cba,_1cbb,_1cbc,_1cbd){var _1cbe=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_1cac.trigger(evt,_1cb9,node,_1cba,node,_1cbb,_1cbc,_1cbd);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_1cac.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_1cac.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_1cac.trigger(evt,_1cb9,node,_1cba,node,_1cbb,_1cbc,_1cbd);setTimeout(lang.hitch(this,_1cac.stop),50);}}))];return {remove:function(){array.forEach(_1cbe,function(h){h.remove();});}};},addListener:function(_1cbf,_1cc0,_1cc1,_1cc2,_1cc3,_1cc4,_1cc5,_1cc6){var _1cc7=[this.addKeyListener(_1cc0,_1cc1,_1cc2,_1cc3,_1cc4,_1cc5,_1cc6),this.addMouseListener(_1cbf,_1cc2,_1cc3,_1cc4,_1cc5,_1cc6)];return {remove:function(){array.forEach(_1cc7,function(h){h.remove();});}};}});return _1cac;});},"viewer/misc/gui/helpers/svg":function(){define(["../../enums","dojo/dom-construct","dojo/dom-style","./trace","./common","../../common/textMetrics"],function(enums,_1cc8,_1cc9,_1cca,_1ccb,_1ccc){var _1ccd=function(){};_1ccd.svgNS="http://www.w3.org/2000/svg";_1ccd.xlinkNS="http://www.w3.org/1999/xlink";_1ccd.gradientIDs=0;_1ccd.markerIDs=0;_1ccd.createElement=function(name){var el=document.createElementNS(this.svgNS,name);el.setAttribute=this.setAttr;return el;};_1ccd.setAttr=function(attr,value){this.setAttributeNS(null,attr,value);};_1ccd.setText=function(node,text,prop,_1cce){var lines,line,_1ccf,_1cd0,x,y,_1cd1,_1cd2,_1cd3,_1cd4,_1cd5,_1cd6;if(prop&&prop.offset){_1cd5=prop.offset.x;_1cd6=prop.offset.y;}else{_1cd5=0;_1cd6=0;}if(!prop.rect||typeof (text)!=="string"){return node;}if(!prop.align){prop.align=enums.EnumAlign.TOP_LEFT;}while(node.hasChildNodes()){node.removeChild(node.firstChild);}prop.isArchestrAEngine=_1cce;if(_1cce){if(dojo.isIE||dojo.isMoz){_1ccf=text.split("\r\n");}else{_1ccf=text.split("\n");}lines=this._wrapMultilineText(node,_1ccf,prop,2,1,2,2);}else{_1ccf=text.split("\n");if(prop.multiline){if(!prop.wrapText){if(prop.align==enums.EnumAlign.TOP_CENTER||prop.align==enums.EnumAlign.CENTER||prop.align==enums.EnumAlign.BOTTOM_CENTER){lines=this._CenterText(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{if(prop.align==enums.EnumAlign.TOP_RIGHT||prop.align==enums.EnumAlign.CENTER_RIGHT||prop.align==enums.EnumAlign.BOTTOM_RIGHT){lines=this._MultilineAlignRight(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{lines=this._wrapMultilineText(node,_1ccf,prop,2,1,2,2);}}}else{lines=this._wrapMultilineText(node,_1ccf,prop,2,1,2,2);}}else{var _1cd7=text.split("\n");if(_1cd7.length>0){_1ccf="";}for(var i=0;i<_1cd7.length;i++){_1ccf+=_1cd7[i];}if(prop.align==enums.EnumAlign.TOP_CENTER){lines=this._SingleLineAlignCenter(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{if(prop.align==enums.EnumAlign.TOP_LEFT){lines=this._SingleLine(node,_1ccf,prop.rect.w,prop.rect.h,0,0,2,2,prop);}else{if(prop.align==enums.EnumAlign.TOP_RIGHT){lines=this._SingleLineAlignRight(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{if(!prop.wrapText){if(prop.align==enums.EnumAlign.CENTER_LEFT||prop.align==enums.EnumAlign.BOTTOM_LEFT){lines=this._SingleLine(node,_1ccf,prop.rect.w,prop.rect.h,0,0,2,2,prop);}else{if(prop.align==enums.EnumAlign.CENTER||prop.align==enums.EnumAlign.BOTTOM_CENTER){lines=this._SingleLineAlignCenter(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{if(prop.align==enums.EnumAlign.CENTER_RIGHT||prop.align==enums.EnumAlign.BOTTOM_RIGHT){lines=this._SingleLineAlignRight(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}else{lines=this._NoMultilineWarpText(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}}}}else{lines=this._NoMultilineWarpText(node,_1ccf,prop.rect.w,prop.rect.h,2,1,2,2,prop);}}}}}}for(var i=0;i<lines.length;i++){node.appendChild(lines[i]);}_1cd0=node.getBBox().height;_1cd2=node.getBBox().width;if((_1cd0<=0||(dojo.isIE||dojo.isMoz))&&prop.font&&prop.font.fontWeight!=null&&prop.font.sizeInPoints!=null&&prop.font.name!=null){var font=prop.font.fontWeight+" "+prop.font.sizeInPoints+"pt "+prop.font.name;var _1cd8=_1ccc.textSize(text,font,true,true).h;if(_1cd8>0){_1cd0=_1cd8;}}if(!_1cce&&dojo.isFF){_1cd3=-_1cd0/4;}else{_1cd3=-_1cd0/6;}_1cd4=0;x=_1cd5;_1cd1="";switch(prop.align){case enums.EnumAlign.TOP_LEFT:case enums.EnumAlign.CENTER_LEFT:case enums.EnumAlign.BOTTOM_LEFT:_1cd1="start";if(_1cce){_1cd4=2;}else{x=parseFloat(prop.border);}break;case enums.EnumAlign.TOP_CENTER:case enums.EnumAlign.CENTER:case enums.EnumAlign.BOTTOM_CENTER:if(_1cce){x=(prop.rect.w)/2+_1cd5;}else{x=(prop.rect.w+parseFloat(prop.border))/2+_1cd5;}_1cd1="middle";break;case enums.EnumAlign.TOP_RIGHT:case enums.EnumAlign.CENTER_RIGHT:case enums.EnumAlign.BOTTOM_RIGHT:_1cd4=-1;x=prop.rect.w+_1cd5;_1cd1="end";break;}var _1cd9=0;for(var i=0;i<lines.length;i++){if(_1cce&&_1cd4==0&&lines[i].textContent!=_1ccf[i]){_1cd4=2;}lines[i].setAttributeNS(null,"x",_1cd4+x);if(dojo.isIE||dojo.isMoz){if(lines[i].textContent==""){_1cd9++;lines[i].setAttributeNS(null,"dy",_1cd0);}else{lines[i].setAttributeNS(null,"dy",_1cd0*(_1cd9+1));_1cd9=0;}}else{lines[i].setAttributeNS(null,"dy",_1cd0);}lines[i].setAttributeNS(null,"text-anchor",_1cd1);lines[i].setAttributeNS(null,"style","white-space:pre");}switch(prop.align){case enums.EnumAlign.TOP_LEFT:case enums.EnumAlign.TOP_CENTER:case enums.EnumAlign.TOP_RIGHT:if(_1cce){node.setAttributeNS(null,"y",_1cd3+_1cd6);}else{node.setAttributeNS(null,"y",_1cd3+_1cd6+parseFloat(prop.border));}break;case enums.EnumAlign.CENTER_LEFT:case enums.EnumAlign.CENTER:case enums.EnumAlign.CENTER_RIGHT:if(_1cce){y=(prop.rect.h-node.getBBox().height)/2+_1cd6;}else{y=(prop.rect.h+parseFloat(prop.border)-node.getBBox().height)/2+_1cd6;}if(y<0&&!_1cce){y=0;}node.setAttributeNS(null,"y",_1cd3+y);break;case enums.EnumAlign.BOTTOM_LEFT:case enums.EnumAlign.BOTTOM_CENTER:case enums.EnumAlign.BOTTOM_RIGHT:node.setAttributeNS(null,"y",_1cd3+prop.rect.h-node.getBBox().height+_1cd6);break;}return node;};_1ccd.setAnimationText=function(node,text,prop,w,h){var _1cda=prop.style;var _1cdb=prop.style;if(prop.style.toLowerCase().indexOf("regular")!==-1){_1cda=" normal";_1cdb=" normal";}if(prop.style.toLowerCase().indexOf("bold")!==-1||(prop.fontWeight!=undefined&&prop.fontWeight.toLowerCase().indexOf("bold")!==-1)){_1cdb=" bold";}if(prop.style.toLowerCase().indexOf("italic")!==-1){_1cda=" italic";}this.setFontFamily(node,prop.name);this.setFontSize(node,prop.sizeInPoints+"pt");this.setFontStyle(node,_1cda);this.setFontWeight(node,_1cdb);if(node.nodeName=="text"){var c=prop.fontColor&&prop.fontColor.style?prop.fontColor:{style:enums.EnumColorExStyle.SOLID,color:prop.fontColor};this.setColor(node,c,"fill");}else{if(prop.fontColor){var fontC=prop.fontColor.color;if(prop.fontColor.stops){fontC="url(#"+this.getGradientID(node,this.cloneColor(prop.fontColor),w,h)+")";}}this.setCssColor(node,fontC);}};_1ccd.setTextEx=function(node,text,prop){var xBody,xDiv,n;n=node;if(n.nodeName.toLowerCase()!=="foreignobject"){n=this.createElement("foreignObject");xBody=_1cc8.create("body");xNode=_1cc8.create("p");_1cc8.place(n,node,"replace");_1cc8.place(xBody,n,"first");_1cc8.place(xNode,xBody,"first");this.setBackgroundColor(xBody,"Transparent");this.setBackgroundColor(xNode,"Transparent");this.setBackgroundColor(n,"Transparent");dojo.addClass(n,"viewer-style-common-svgForeingCaption");dojo.addClass(xBody,"viewer-style-common-svgForeingCaption");dojo.addClass(xNode,"viewer-style-common-svgForeingCaption");n.xBody=xBody;n.xNode=xNode;this.setFontFamily(xNode,prop.font.name);this.setFontSize(xNode,prop.font.sizeInPoints+"pt");this.setFontWeight(xNode,prop.font.style);this.setCssColor(xNode,prop.font.fontColor);this.setMargin(n,"0px");this.setPadding(n,"0px");this.setBorder(n,"0px");this.setMargin(xBody,"0px");this.setPadding(xBody,"0px");this.setBorder(xBody,"0px");this.setMargin(xNode,"0px");this.setPadding(xNode,"0px");this.setBorder(xNode,"0px");}else{xBody=n.xBody;xNode=n.xNode;}n.setAttributeNS(null,"width",prop.rect.w+"px");n.setAttributeNS(null,"height",prop.rect.h+"px");this.setWidth(xBody,prop.rect.w+"px");this.setHeight(xBody,prop.rect.h+"px");this.setWidth(xNode,prop.rect.w+"px");this.setHeight(xNode,prop.rect.h+"px");_1ccb.setText(xNode,text,prop);return n;};_1ccd._NoMultilineWarpText=function(node,_1cdc,_1cdd,_1cde,_1cdf,_1ce0,_1ce1,_1ce2,prop){var _1ce3,_1ce4,_1ce5,text,lines,_1ce6,_1ce7,_1ce8,_1ce9;text=_1cdc;lines=new Array();_1ce6=false;_1ce5=node.getBBox().height;_1ce7=node.getBBox().width;_1ce4="";_1ce8=true;text=_1cdc.split(" ");for(var i=0;i<text.length;i++){if(_1ce8){_1ce3=this.createElement("tspan");node.appendChild(_1ce3);_1ce8=false;}if(_1ce4==""){_1ce4=text[i];}else{_1ce4+=" "+text[i];}if(i!=text.length-1){_1ce9=_1ce4+" "+text[i+1];}_1ce3.textContent=_1ce9;if(!dojo.isFF){_1cdf=0;_1ce0=0;}if(node.getBBox().width+(_1cdf+_1ce0)>_1cdd&&_1ce5<_1cde){_1ce6=true;var line=this.createElement("tspan");line.textContent=_1ce4;lines.push(line);node.removeChild(_1ce3);_1ce8=true;node.appendChild(line);_1ce5+=node.getBBox().height;node.removeChild(line);_1ce4="";}else{if(i==text.length-1){var line=this.createElement("tspan");line.textContent=_1ce4;lines.push(line);}}}if(node.childNodes.length>0){node.removeChild(_1ce3);}if(!_1ce6&&line.length===0){line=this.createElement("tspan");line.textContent=_1cdc;lines.push(line);}return lines;};_1ccd._SingleLineAlignCenter=function(node,_1cea,_1ceb,_1cec,_1ced,_1cee,_1cef,_1cf0,prop){var lines=new Array();var line=this.createElement("tspan");line.textContent=_1cea;lines.push(line);return lines;};_1ccd._CenterText=function(node,_1cf1,_1cf2,_1cf3,_1cf4,_1cf5,_1cf6,_1cf7,prop){var _1cf8,_1cf9,_1cfa,text,lines,_1cfb,_1cfc,_1cfd,_1cfe;text=_1cf1;lines=new Array();_1cfb=false;_1cfa=node.getBBox().height;_1cfc=node.getBBox().width;_1cf9="";_1cfd=true;for(var i=0;i<_1cf1.length;i++){_1cf8=this.createElement("tspan");node.appendChild(_1cf8);_1cf8.textContent=_1cf1[i];if(_1cfa<_1cf3){_1cfb=true;var line=this.createElement("tspan");line.textContent=_1cf1[i];lines.push(line);node.removeChild(_1cf8);node.appendChild(line);_1cfa+=node.getBBox().height;node.removeChild(line);_1cf9="";}}if(node.childNodes.length>0){node.removeChild(_1cf8);}if(!_1cfb){line=this.createElement("tspan");line.textContent=_1cf1;lines.push(line);}return lines;};_1ccd._MultilineAlignRight=function(node,_1cff,_1d00,_1d01,_1d02,_1d03,_1d04,_1d05,prop){var lines=new Array();for(var i=0;i<_1cff.length;i++){lines.push(this._AglignRight(node,_1cff[i],_1d00,_1d01,_1d02,_1d03,_1d04,_1d05,prop));}return lines;};_1ccd._SingleLineAlignRight=function(node,_1d06,_1d07,_1d08,_1d09,_1d0a,_1d0b,_1d0c,prop){var lines=new Array();lines.push(this._AglignRight(node,_1d06,_1d07,_1d08,_1d09,_1d0a,_1d0b,_1d0c,prop));return lines;};_1ccd._AglignRight=function(node,_1d0d,_1d0e,_1d0f,_1d10,_1d11,_1d12,_1d13,prop){var _1d14,_1d15,_1d16,text,lines,_1d17,_1d18,_1d19,_1d1a,_1d1b;_1d17=false;_1d16=node.getBBox().height;_1d18=node.getBBox().width;_1d15="";_1d1a=true;textLines=_1d0d.split(" ").reverse();for(var i=0;i<textLines.length;i++){if(_1d1a){_1d14=this.createElement("tspan");node.appendChild(_1d14);_1d1a=false;}if(_1d15==""){_1d15=textLines[i];}else{_1d15+=" "+textLines[i];}if(i!=textLines.length-1){_1d19=_1d15+" "+textLines[i+1];}_1d14.textContent=_1d19;var _1d1c=textLines.slice(0,i+1);_1d1b=_1d1c.reverse().join(" ");if(node.getBBox().width+(_1d10+_1d11)>_1d0e&&_1d16<_1d0f){_1d17=true;node.removeChild(_1d14);_1d14=this.createElement("tspan");node.appendChild(_1d14);var _1d1d=textLines[i+1];var _1d1e="";for(var j=_1d1d.length-1;j>0;j--){if(j==_1d1d.length-1){_1d1e=_1d1d.charAt(j)+" "+_1d1b;}else{_1d1e=_1d1d.charAt(j)+_1d1e;}_1d14.textContent=_1d1e;if(node.getBBox().width+(_1d10+_1d11)>_1d0e){break;}}node.removeChild(_1d14);return _1d14;}}if(node.childNodes.length>0){node.removeChild(_1d14);}if(!_1d17){line=this.createElement("tspan");line.textContent=_1d0d;return line;}};_1ccd._SingleLine=function(node,_1d1f,_1d20,_1d21,_1d22,_1d23,_1d24,_1d25,prop){var _1d26,_1d27,text,lines,_1d28,_1d29,_1d2a,_1d2b,_1d2c;text=_1d1f;lines=new Array();_1d28=false;_1d27=node.getBBox().height;_1d29=node.getBBox().width;_1d26="";_1d2b=true;for(var i=0;i<text.length;i++){if(_1d2b){lineTemp=this.createElement("tspan");node.appendChild(lineTemp);_1d2b=false;}previousTextContent=_1d26;_1d26+=text.charAt(i);lineTemp.textContent=_1d26;var _1d2d=node.getBBox().width+(_1d22+_1d23)-_1d20;var _1d2e=_1d2d>2;if(node.getBBox().width+(_1d22+_1d23)>_1d20&&_1d2e&&_1d27<_1d21){_1d28=true;var line=this.createElement("tspan");line.textContent=previousTextContent;lines.push(line);node.removeChild(lineTemp);node.appendChild(line);_1d27+=node.getBBox().height;node.removeChild(line);break;}}if(node.childNodes.length>0){node.removeChild(lineTemp);}if(!_1d28){line=this.createElement("tspan");line.textContent=_1d1f;lines.push(line);}return lines;};_1ccd._wrapMultilineText=function(node,_1d2f,prop,_1d30,_1d31,_1d32,_1d33){lines=new Array();linesHeightSum=0;for(var i=0;i<_1d2f.length;i++){line=this.createElement("tspan");if(!line){continue;}line.textContent=_1d2f[i]===""?" ":_1d2f[i];if(!prop.isArchestrAEngine&&(linesHeightSum+node.getBBox().height)>prop.rect.h){lines.pop();break;}wrappedText=this._wrapText(node,line,prop.rect.w,prop.rect.h,_1d30,_1d31,_1d32,_1d33,linesHeightSum,prop);if(wrappedText===false){continue;}lines.push(wrappedText.line);if(prop.isArchestrAEngine||prop.wrapText){linesHeightSum+=wrappedText.h;if(wrappedText.remainingText!=""){_1d2f.splice(i+1,0,wrappedText.remainingText);_1d2f.join();}}}return lines;};_1ccd._wrapText=function(node,line,_1d34,_1d35,_1d36,_1d37,_1d38,_1d39,_1d3a,prop){var lines,text,l,_1d3b,_1d3c;text=line.textContent;node.appendChild(line);if((_1d3a+node.getBBox().height)>_1d35){if(node.parentNode){}else{node.removeChild(line);return false;}}lastIndex=-1;line.textContent="";if(dojo.isFF){if(prop.font.sizeInPoints===8){_1d36=11;}else{if(parseInt(prop.font.sizeInPoints)>=16){_1d36=0;}}}if(dojo.isSafari){_1d36=12;}for(var i=0;i<text.length;i++){_1d3c=line.textContent;line.textContent+=text.charAt(i);if(node.getBBox().width+(_1d36+_1d37)>_1d34){lastWhiteSpace=text.lastIndexOf(" ",i);if(lastWhiteSpace==-1){lastIndex=i-1;line.textContent=_1d3c;}else{lastIndex=lastWhiteSpace;if(prop.isArchestrAEngine){line.textContent=text.substring(0,lastWhiteSpace+1);}else{if(dojo.isFF){if(prop.wrapText){line.textContent=text.substring(0,lastWhiteSpace);}}else{if(prop.wrapText){line.textContent=text.substring(0,lastWhiteSpace);}}}}break;}}remainingText="";if(lastIndex>-1&&lastIndex<text.length-1){remainingText=text.substring(lastIndex+1,text.length);if(!prop.isArchestrAEngine){remainingText=remainingText.replace(/^\s\s*/,"").replace(/\s\s*$/,"");}}if(prop&&((prop.autoScale&&prop.autoScale==1)||(prop.isArchestrAEngine&&!prop.wrapText))){if(lastIndex==-1&&line.textContent.length==0){line.textContent=text[0];}else{if(lastIndex==0){line.textContent="...";}else{if(lastIndex>0&&lastIndex<text.length-1){line.textContent=line.textContent.substring(0,lastIndex)+"...";}}}remainingText="";}var _1d3d={line:line,w:node.getBBox().width,h:node.getBBox().height,remainingText:remainingText};node.removeChild(line);return _1d3d;};_1ccd.setColor=function(n,c,_1d3e,w,h){if(!n||!c){_1cca.error("Invalid object or color!!!");return;}if(typeof c==="string"&&c.toLowerCase().indexOf("rgb")===0){this._setColor(n,{"style":enums.EnumColorExStyle.SOLID,"color":c},_1d3e);}else{if(c.style===enums.EnumColorExStyle.NONE){c.color="transparent";this._setColor(n,c,_1d3e);}else{if(c.style===enums.EnumColorExStyle.SOLID){if(n.tagName!=="foreignObject"){if(n.tagName!=="text"&&n.tagName!=="BUTTON"&&n.tagName!=="SELECT"){this._setColor(n,c,_1d3e);}else{if(n.tagName==="BUTTON"||n.tagName==="SELECT"){this.setBackground(n,c.color);}else{this._setColor(n,c,"fill");}}}else{var _1d3f=(n.children||n.childNodes)[0];if(_1d3f){var _1d40=(_1d3f.children||_1d3f.childNodes);for(var i=0;i<_1d40.length;i++){_1ccd.setCssColor(_1d40[i],c.color);}}}}else{if(c.style===enums.EnumColorExStyle.STOPS_LINEAR||c.style===enums.EnumColorExStyle.STOPS_RADIAL||c.patternStyle){if(this._setColorStopsEx(n,c,w,h)===false){c.style=enums.EnumColorExStyle.SOLID;this.setColor(n,c,_1d3e);}}else{if(c.style!==enums.EnumColorExStyle.SOLID){if(this._setColorEx(n,c)===false){c.style=enums.EnumColorExStyle.SOLID;this.setColor(n,c,_1d3e);}}}}}}};_1ccd.setStroke=function(n,c){if(!n||!c){_1cca.error("Invalid object or color!!!");return;}n.setAttributeNS(null,"stroke","red");};_1ccd.transformPattern=function(_1d41,_1d42,_1d43){switch(_1d41){case "SolidLine":_1d43="0";break;case "DashedLine":_1d43="20, 8";break;case "LongDashLine":_1d43=(parseInt(_1d42)*4).toString()+","+_1d42;break;case "ShortDashLine":_1d43=(parseInt(_1d42)*2).toString()+","+_1d42;break;case "DotsLine":_1d43=_1d42+","+_1d42;break;case "DashDotDashLine":_1d43=(parseInt(_1d42)*2).toString()+","+_1d42+","+_1d42+","+_1d42;break;case "DashDotDotDashLine":_1d43=(parseInt(_1d42)*2).toString()+","+_1d42+","+_1d42+","+_1d42+","+_1d42+","+_1d42;break;case "NoLine":break;default:_1d43="0";break;}return _1d43;};_1ccd.addClass=function(n,c){_1ccb.addClass(n,c);};_1ccd.removeClass=function(n,c){_1ccb.removeClass(n,c);};_1ccd.setAttribute=function(n,at,v){n.setAttributeNS(null,at,v);};_1ccd.setPosition=function(n,p){this.setLeft(n,p.left+"px");this.setTop(n,p.top+"px");};_1ccd.setSize=function(n,size){this.setHeight(n,size.h+"px");this.setWidth(n,size.w+"px");};_1ccd._setColor=function(n,c,_1d44){var _1d45;_1d45=!_1d44?"fill":_1d44;n.setAttributeNS(null,_1d45,c.color);};_1ccd._rgbaToRgb=function(rgba){var color={rgb:rgba,opacity:"1"};if(typeof rgba==="string"){var _1d46=rgba.toLowerCase().indexOf("rgba");if(_1d46>-1){var si=rgba.indexOf("(");var ei=rgba.indexOf(")");var _1d47=rgba.substring(si+1,ei);var _1d48=_1d47.split(",");var r=_1d48[0];var g=_1d48[1];var b=_1d48[2];var a=_1d48[3];color.rgb="rgb("+r+","+g+","+b+")";color.opacity=a;return color;}}color.rgb=rgba;color.opacity="1";return color;};_1ccd._setColorEx=function(n,c){var x1,x2,y1,y2,_1d49,_1d4a,stop1,stop2,stop3,_1d4b;if(n&&n.parentNode){if(c.gradient){_1d4a=c.gradient.getAttributeNS(null,"id");stop1=c.gradient.childNodes[0];stop2=c.gradient.childNodes[1];stop3=c.gradient.childNodes[2];}}var _1d4c="linear";if(!c.gradient){if(c.style.indexOf(enums.EnumColorExStyle.FROM_CENTER_TO_ELLIPSE)===0){c.gradient=this.createElement("radialGradient");_1d4c="radial";}else{if(c.style.indexOf(enums.EnumColorExStyle.FROM_CENTER_ELLIPSE)===0){c.gradient=this.createElement("radialGradient");_1d4c="radial";}else{c.gradient=this.createElement("linearGradient");}}n.parentNode.appendChild(c.gradient);_1d4a="gradient"+this.gradientIDs;c.gradient.setAttributeNS(null,"id",_1d4a);this.gradientIDs++;if(Number.MAX_VALUE){this.gradientIDs=this.gradientIDs>=Number.MAX_VALUE?0:this.gradientIDs;}else{this.gradientIDs=this.gradientIDs>=65535?0:this.gradientIDs;}this.gradientIDs<0?0:this.gradientIDs;}if(_1d4c=="linear"){if(c.style.indexOf(enums.EnumColorExStyle.HORIZONTAL)===0){x1=x2=0;y2=100;y1=0;_1d4b=enums.EnumColorExStyle.HORIZONTAL.length;}else{if(c.style.indexOf(enums.EnumColorExStyle.VERTICAL)===0){y1=y2=0;x1=0;x2=100;_1d4b=enums.EnumColorExStyle.VERTICAL.length;}else{if(c.style.indexOf(enums.EnumColorExStyle.DIAGONAL_UP)===0){x1=0;x2=100;y2=100;y1=0;_1d4b=enums.EnumColorExStyle.DIAGONAL_UP.length;}else{if(c.style.indexOf(enums.EnumColorExStyle.DIAGONAL_DOWN)===0){x1=0;x2=100;y2=0;y1=100;_1d4b=enums.EnumColorExStyle.DIAGONAL_DOWN.length;}else{return false;}}}}x1=(x1?x1:0);c.gradient.setAttributeNS(null,"x1",x1+"%");y1=(y1?y1:0);c.gradient.setAttributeNS(null,"y1",y1+"%");x2=(x2?x2:0);c.gradient.setAttributeNS(null,"x2",x2+"%");y2=(y2?y2:0);c.gradient.setAttributeNS(null,"y2",y2+"%");if(!stop1){stop1=this.createElement("stop");c.gradient.appendChild(stop1);}if(!stop2){stop2=this.createElement("stop");c.gradient.appendChild(stop2);}_1d4b=c.style.substring(_1d4b);var _1d4d=this._rgbaToRgb(c.color);var _1d4e=this._rgbaToRgb(c.end);if(enums.EnumColorExStyle.COLOR_DIRECTION.UP.indexOf(_1d4b)>-1){stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4d.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4d.opacity);stop2.setAttributeNS(null,"offset","80%");stop2.setAttributeNS(null,"stop-color",_1d4e.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4e.opacity);}else{if(enums.EnumColorExStyle.COLOR_DIRECTION.DOWN.indexOf(_1d4b)>-1){stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4e.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4e.opacity);stop2.setAttributeNS(null,"offset","80%");stop2.setAttributeNS(null,"stop-color",_1d4d.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4d.opacity);}else{if(enums.EnumColorExStyle.COLOR_DIRECTION.CORNER.indexOf(_1d4b)>-1){if(!stop3){stop3=this.createElement("stop");c.gradient.appendChild(stop3);}stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4d.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4d.opacity);stop2.setAttributeNS(null,"offset","50%");stop2.setAttributeNS(null,"stop-color",_1d4e.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4e.opacity);stop3.setAttributeNS(null,"offset","90%");stop3.setAttributeNS(null,"stop-color",_1d4d.rgb);stop3.setAttributeNS(null,"stop-opacity",_1d4d.opacity);}else{if(enums.EnumColorExStyle.COLOR_DIRECTION.CENTER.indexOf(_1d4b)>-1){if(!stop3){stop3=this.createElement("stop");c.gradient.appendChild(stop3);}stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4e.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4e.opacity);stop2.setAttributeNS(null,"offset","50%");stop2.setAttributeNS(null,"stop-color",_1d4d.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4d.opacity);stop3.setAttributeNS(null,"offset","90%");stop3.setAttributeNS(null,"stop-color",_1d4e.rgb);stop3.setAttributeNS(null,"stop-opacity",_1d4e.opacity);}}}}}else{if(_1d4c=="radial"){var _1d4d=this._rgbaToRgb(c.color);var _1d4e=this._rgbaToRgb(c.end);if(c.style.indexOf(enums.EnumColorExStyle.FROM_CENTER_TO_ELLIPSE)===0){if(!stop1){stop1=this.createElement("stop");c.gradient.appendChild(stop1);}if(!stop2){stop2=this.createElement("stop");c.gradient.appendChild(stop2);}if(!stop3){stop3=this.createElement("stop");c.gradient.appendChild(stop3);}stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4e.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4e.opacity);stop2.setAttributeNS(null,"offset","50%");stop2.setAttributeNS(null,"stop-color",_1d4d.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4d.opacity);stop3.setAttributeNS(null,"offset","100%");stop3.setAttributeNS(null,"stop-color",_1d4e.rgb);stop3.setAttributeNS(null,"stop-opacity",_1d4e.opacity);}else{if(c.style.indexOf(enums.EnumColorExStyle.FROM_CENTER_ELLIPSE)===0){if(!stop1){stop1=this.createElement("stop");c.gradient.appendChild(stop1);}if(!stop2){stop2=this.createElement("stop");c.gradient.appendChild(stop2);}stop1.setAttributeNS(null,"offset","0%");stop1.setAttributeNS(null,"stop-color",_1d4e.rgb);stop1.setAttributeNS(null,"stop-opacity",_1d4e.opacity);stop2.setAttributeNS(null,"offset","100%");stop2.setAttributeNS(null,"stop-color",_1d4d.rgb);stop2.setAttributeNS(null,"stop-opacity",_1d4d.opacity);}}}}n.setAttributeNS(null,"fill","URL(#"+_1d4a+")");};_1ccd._setColorStopsEx=function(n,c,w,h){var _1d4f=this.getGradientID(n,c,w,h);if(_1d4f){n.setAttributeNS(null,"fill","URL(#"+_1d4f+")");}else{return false;}};_1ccd.getGradientID=function(n,c,w,h,_1d50){if(!c.patternStyle&&(c.stops==null||c.stops.length==null)){return null;}var _1d51,_1d52,_1d53;var _1d54="lk_";if(c.patternStyle){_1d54="pt_"+c.patternStyle+"_";}var _1d55=false;if(c.typeName){_1d54+=c.typeName+"_";_1d55=true;}var color=c;if(n&&n.parentNode){if(color.gradient&&color.gradient.parentNode&&color.gradient.parentNode.parentNode===n.parentNode){_1d51=color.gradient.getAttributeNS(null,"id");_1d52=color.gradient;_1d53=true;}else{if((color.patternStyle||color.gradient)&&_1d55){color=this.cloneColor(color);}}}var _1d56="linearGradient";if(color.style.indexOf(enums.EnumColorExStyle.STOPS_RADIAL)===0){_1d56="radialGradient";}else{if(color.style.indexOf(enums.EnumColorExStyle.STOPS_LINEAR)===0){_1d56="linearGradient";}else{if(color.patternStyle){_1d56="pattern";}else{return null;}}}var _1d57;var _1d58=color&&color.stops?color.stops.sort(this._sortStops):null;var _1d59=0;if(_1d55&&!_1d53){var _1d5a=n.parentNode.children||n.parentNode.childNodes;for(var i=_1d5a.length-1;i>=0;i--){if(_1d5a[i].tagName==="defs"){_1d57=_1d5a[i];var _1d5b=_1d57.children||_1d57.childNodes;for(var j=_1d5b.length-1;j>=0;j--){var _1d5c=_1d5b[j];if(_1d5c.tagName===_1d56){var id=_1d5c.getAttributeNS(null,"id");if(id.indexOf(_1d54)===0){_1d51=id;_1d52=_1d5c;break;}}}break;}}}if(!_1d52){_1d51="gradient"+this.gradientIDs;if(_1d55){_1d51=_1d54+_1d51;}else{}this.gradientIDs++;if(Number.MAX_VALUE){this.gradientIDs=this.gradientIDs>=Number.MAX_VALUE?0:this.gradientIDs;}else{this.gradientIDs=this.gradientIDs>=65535?0:this.gradientIDs;}this.gradientIDs<0?0:this.gradientIDs;if(!color.patternStyle){_1d52=this.createElement(_1d56);_1d52.setAttributeNS(null,"id",_1d51);}else{_1d52=this.getPatternDOM(_1d51,color.patternStyle,color.foreColor,color.backGroundColor);}if(_1d57){_1d57.appendChild(_1d52);}else{var defs=this.createElement("defs");defs.appendChild(_1d52);n.parentNode.appendChild(defs);}}else{if(_1d55&&!color.patternStyle){var _1d5d=_1d52!=null?(_1d52.children||_1d52.childNodes):null;if(_1d5d!=null){for(var i=0;i<_1d5d.length;i++){var _1d5e=_1d5d[i];if(_1d5d[i].tagName!="stop"){_1d52.removeChild(_1d5d[i]);_1d5e=this.createElement("stop");_1d52.appendChild(_1d5e);}if(i<_1d58.length){var stop=_1d58[i];var _1d5f=parseFloat(stop.offset);if(isNaN(_1d5f)){continue;}var _1d60=this._rgbaToRgb(stop.color);_1d5e.setAttributeNS(null,"offset",(_1d5f*100)+"%");_1d5e.setAttributeNS(null,"stop-color",_1d60.rgb);_1d5e.setAttributeNS(null,"stop-opacity",_1d60.opacity);}_1d59=i+1;}if(_1d59<_1d58.length){_1d53=false;}else{_1d53=true;}}else{_1d53=false;}}else{if(_1d55&&color.patternStyle){var _1d5d=_1d52!=null?(_1d52.children||_1d52.childNodes):null;if(_1d5d!=null){for(var i=_1d5d.length-1;i>=0;i--){if(_1d5d[i].tagName=="path"){this.setStroke(_1d5d[i],color.foreColor);}}}}}}if(!_1d53&&!color.patternStyle){for(var i=_1d59;i<_1d58.length;i++){var stop=_1d58[i];var _1d5f=parseFloat(stop.offset);if(isNaN(_1d5f)){continue;}var _1d61=this.createElement("stop");_1d52.appendChild(_1d61);var _1d60=this._rgbaToRgb(stop.color);_1d61.setAttributeNS(null,"offset",(_1d5f*100)+"%");_1d61.setAttributeNS(null,"stop-color",_1d60.rgb);_1d61.setAttributeNS(null,"stop-opacity",_1d60.opacity);}}color.gradient=color.gradient?color.gradient:_1d52;var l,t;if(w==null||h==null){if(n.getBBox){var box=n.getBBox();if(box.width>0&&box.height>0){l=box.x;t=box.y;w=box.width;h=box.height;}}if(!l&&!t&&!w&&!h){var rect=n.getBoundingClientRect();l=rect.left;t=rect.top;w=rect.width;h=rect.height;}}if((!w||!h)&&!_1d50){return _1d51;}if(!color.patternStyle){this.updateColorStops(color,w,h,n.tagName==="ellipse",null,null,null,_1d50);}var _1d62=color;while(_1d62.originalColor){_1d62.gradient=color.gradient;_1d62=_1d62.originalColor;}return _1d51;};_1ccd.updateColorStops=function(color,w,h,_1d63,_1d64,_1d65,_1d66,_1d67){if(color.stops==null||color.stops.length==null||color.gradient==null){return false;}var _1d68=color.gradient.tagName;var _1d69=color.gradient;var _1d6a=color.end==="rgba(0,0,0,8.8E-05)";var _1d6b=false;if(w<=0&&_1d67){w=_1d67;_1d6b=true;}if(h<=0&&_1d67){h=_1d67;_1d6b=true;}if(_1d68=="linearGradient"){var angle=parseFloat(color.angle!=null?color.angle:"");angle=isNaN(angle)?0:angle;angle=angle%360;var _1d6c=(Math.PI*angle/180);var x1,x2,y1,y2;var _1d6d=1;var _1d6e=1;var tan=Math.abs(Math.tan(_1d6c));var _1d6f=0.5*w;var _1d70=0;if(angle<90){_1d6d=-1;_1d6e=-1;}else{if(angle>=90&&angle<180){_1d6e=-1;}else{if(angle>=180&&angle<270){}else{_1d6d=-1;}}}if(_1d6b){var newWH=Math.max(w,h);var _1d71=0.5*(w-newWH);var _1d72=0.5*(h-newWH);_1d6f=0.5*newWH;_1d70=_1d6f*tan;if(_1d70>0.5*newWH){_1d70=0.5*newWH;_1d6f=_1d70/tan;}x1=_1d71+0.5*newWH+_1d6d*_1d6f;x2=_1d71+0.5*newWH-_1d6d*_1d6f;y1=_1d72+0.5*newWH+_1d6e*_1d70;y2=_1d72+0.5*newWH-_1d6e*_1d70;_1d69.setAttributeNS(null,"gradientUnits","userSpaceOnUse");_1d69.setAttributeNS(null,"x1",x1);_1d69.setAttributeNS(null,"y1",y1);_1d69.setAttributeNS(null,"x2",x2);_1d69.setAttributeNS(null,"y2",y2);}else{_1d70=0.5*h;_1d6f=_1d70*tan;if(_1d6f>0.5*w){_1d6f=0.5*w;_1d70=_1d6f/tan;}x2=_1d70/h*100;_1d70=_1d6f/w*100;_1d6f=x2;x1=50;x2=50;y1=50;y2=50;x1+=_1d6d*_1d6f;x2-=_1d6d*_1d6f;y1+=_1d6e*_1d70;y2-=_1d6e*_1d70;_1d69.setAttributeNS(null,"gradientUnits","objectBoundingBox");_1d69.setAttributeNS(null,"x1",x1+"%");_1d69.setAttributeNS(null,"y1",y1+"%");_1d69.setAttributeNS(null,"x2",x2+"%");_1d69.setAttributeNS(null,"y2",y2+"%");}}else{if(_1d68=="radialGradient"){var fx=parseFloat(color.cX);var fy=parseFloat(color.cY);fx=isFinite(fx)?fx:0;fy=isFinite(fy)?fy:0;if(_1d63){var ratio=fx*fx/0.25+fy*fy/0.25;if(ratio>1){fx/=ratio;fy/=ratio;}}if(_1d6a){var r=50;var cx=50;var cy=50;_1d69.setAttributeNS(null,"gradientUnits","objectBoundingBox");_1d69.setAttributeNS(null,"r","70%");if(_1d64!=null){_1d69.setAttributeNS(null,"r",_1d64+"%");r=parseFloat(_1d64);}if(_1d65!=null){_1d69.setAttributeNS(null,"cx",_1d65+"%");cx=parseFloat(_1d65);}if(_1d66!=null){_1d69.setAttributeNS(null,"cy",_1d66+"%");cy=parseFloat(_1d66);}fx=cx+fx*2*r;fy=cy+fy*2*r;_1d69.setAttributeNS(null,"fx",fx+"%");_1d69.setAttributeNS(null,"fy",fy+"%");}else{if(_1d63){_1d69.setAttributeNS(null,"gradientUnits","objectBoundingBox");var r=50;var cx=50;var cy=50;var ratio=1.2;if(_1d64!=null){r=parseFloat(_1d64);ratio=1;}_1d69.setAttributeNS(null,"r",(r*ratio)+"%");if(_1d65!=null){_1d69.setAttributeNS(null,"cx",_1d65+"%");cx=parseFloat(_1d65);}if(_1d66!=null){_1d69.setAttributeNS(null,"cy",_1d66+"%");cy=parseFloat(_1d66);}fx=cx+fx*2*r;fy=cy+fy*2*r;_1d69.setAttributeNS(null,"fx",fx+"%");_1d69.setAttributeNS(null,"fy",fy+"%");}else{_1d69.setAttributeNS(null,"gradientUnits","userSpaceOnUse");var r=_1d64!=null?parseFloat(_1d64):(0.5*Math.sqrt(w*w+h*h));var cx=_1d65!=null?parseFloat(_1d65):(0.5*w);var cy=_1d66!=null?parseFloat(_1d66):(0.5*h);fx=cx+w*fx;fy=cy+h*fy;_1d69.setAttributeNS(null,"r",r);_1d69.setAttributeNS(null,"cx",cx);_1d69.setAttributeNS(null,"cy",cy);_1d69.setAttributeNS(null,"fx",fx);_1d69.setAttributeNS(null,"fy",fy);}}}}};_1ccd.cloneColor=function(c){if(c==null){return null;}if(typeof c==="string"){return c;}return {"originalColor":c,"style":c.style,"typeName":c.typeName,"transparency":c.transparency,"color":c.color,"gradient":c.gradient,"end":c.end,"stops":c.stops,"cX":c.cX,"cY":c.cY,"angle":c.angle,"patternStyle":c.patternStyle,"foreColor":c.foreColor,"backGroundColor":c.backGroundColor?c.backGroundColor:c.backgroundColor};};_1ccd._sortStops=function(a,b){return a.offset-b.offset;};_1ccd.getArcInfo=function(x1,y1,x2,y2,fA,fS,rx,ry,phi){var cx,cy,_1d73,_1d74;if(rx==0||ry==0){return -1;}var s_phi=Math.sin(phi);var c_phi=Math.cos(phi);var hd_x=(x1-x2)/2;var hd_y=(y1-y2)/2;var hs_x=(x1+x2)/2;var hs_y=(y1+y2)/2;var x1_=c_phi*hd_x+s_phi*hd_y;var y1_=c_phi*hd_y-s_phi*hd_x;var rxry=rx*ry;var rxy1_=rx*y1_;var ryx1_=ry*x1_;var _1d75=rxy1_*rxy1_+ryx1_*ryx1_;var coe=Math.sqrt((rxry*rxry-_1d75)/_1d75);if(fA==fS){coe=-coe;}var cx_=coe*rxy1_/ry;var cy_=-coe*ryx1_/rx;cx=c_phi*cx_-s_phi*cy_+hs_x;cy=s_phi*cx_+c_phi*cy_+hs_y;var xcr1=(x1_-cx_)/rx;var xcr2=(x1_+cx_)/rx;var ycr1=(y1_-cy_)/ry;var ycr2=(y1_+cy_)/ry;_1d73=this._radian(1,0,xcr1,ycr1);_1d74=this._radian(xcr1,ycr1,-xcr2,-ycr2);var PIx2=Math.PI*2;while(_1d74>PIx2){_1d74-=PIx2;}while(_1d74<0){_1d74+=PIx2;}if(fS==false){_1d74-=PIx2;}var _1d76={cx:cx,cy:cy,theta1:_1d73,delta_theta:_1d74};return _1d76;};_1ccd._radian=function(ux,uy,vx,vy){var dot=ux*vx+uy*vy;var mod=Math.sqrt((ux*ux+uy*uy)*(vx*vx+vy*vy));var rad=Math.acos(dot/mod);if(ux*vy-uy*vx<0){rad=-rad;}return rad;};_1ccd.getArcInfo=function(x1,y1,x2,y2,fA,fS,rx,ry,phi){var cx,cy,_1d77,_1d78;if(rx==0||ry==0){return -1;}var s_phi=Math.sin(phi);var c_phi=Math.cos(phi);var hd_x=(x1-x2)/2;var hd_y=(y1-y2)/2;var hs_x=(x1+x2)/2;var hs_y=(y1+y2)/2;var x1_=c_phi*hd_x+s_phi*hd_y;var y1_=c_phi*hd_y-s_phi*hd_x;var rxry=rx*ry;var rxy1_=rx*y1_;var ryx1_=ry*x1_;var _1d79=rxy1_*rxy1_+ryx1_*ryx1_;var coe=Math.sqrt((rxry*rxry-_1d79)/_1d79);if(fA==fS){coe=-coe;}var cx_=coe*rxy1_/ry;var cy_=-coe*ryx1_/rx;cx=c_phi*cx_-s_phi*cy_+hs_x;cy=s_phi*cx_+c_phi*cy_+hs_y;var xcr1=(x1_-cx_)/rx;var xcr2=(x1_+cx_)/rx;var ycr1=(y1_-cy_)/ry;var ycr2=(y1_+cy_)/ry;_1d77=this._radian(1,0,xcr1,ycr1);_1d78=this._radian(xcr1,ycr1,-xcr2,-ycr2);var PIx2=Math.PI*2;while(_1d78>PIx2){_1d78-=PIx2;}while(_1d78<0){_1d78+=PIx2;}if(fS==false){_1d78-=PIx2;}var _1d7a={cx:cx,cy:cy,theta1:_1d77,delta_theta:_1d78};return _1d7a;};_1ccd._radian=function(ux,uy,vx,vy){var dot=ux*vx+uy*vy;var mod=Math.sqrt((ux*ux+uy*uy)*(vx*vx+vy*vy));var rad=Math.acos(dot/mod);if(ux*vy-uy*vx<0){rad=-rad;}return rad;};_1ccd.parseBorderStyle=function(props){return _1ccb.parseBorderStyle(props);};_1ccd.applyOrigin=function(n,_1d7b,delay){_1ccb.applyOrigin(n,_1d7b,delay);};_1ccd.applyTransform=function(n,_1d7c,delay){_1ccb.applyTransform(n,_1d7c,delay);};_1ccd.getPatternDOM=function(_1d7d,_1d7e,_1d7f,_1d80){var pro=this._setProperties(_1d7e);var _1d81=this.createElement("pattern");this.setAttribute(_1d81,"id",_1d7d);this.setAttribute(_1d81,"width",pro.patternProperties.width);this.setAttribute(_1d81,"height",pro.patternProperties.height);this.setAttribute(_1d81,"patternUnits","userSpaceOnUse");this.setAttribute(_1d81,"patternTransform",pro.patternProperties.rotateangle);var rect1=this.createElement("rect");this.setAttribute(rect1,"width",pro.rectProperties.width);this.setAttribute(rect1,"height",pro.rectProperties.height);this.setAttribute(rect1,"fill",_1d80);this.setAttribute(rect1,"stroke-width",pro.rectProperties.strokewidth);_1d81.appendChild(rect1);var _1d82=this._setPathProperties(_1d7e,_1d7f,_1d80);this._fetchPathProperties(_1d81,_1d82);return _1d81;};_1ccd._setPathProperties=function(_1d83,_1d84,_1d85){switch(_1d83.toLowerCase()){case "diagonalcross":return {pathProperties:[{d:"M 0 0 l 6 0 l 0 6",fill:_1d85,strokeColor:_1d84,strokeWidth:"1"}]};case "vertical":return {pathProperties:[{d:"M 8 0 l 0 8",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "horizontal":return {pathProperties:[{d:"M 0 8 l 8 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "forwarddiagonal":return {pathProperties:[{d:"M 0 0 l 10 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "backwarddiagonal":return {pathProperties:[{d:"M 0 0 l 0 10",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "smallgrid":return {pathProperties:[{d:"M 4 0 l 0 4 M 0 4 l 4 0",strokeColor:_1d84,strokeWidth:"2"}]};case "largegrid":return {pathProperties:[{d:"M 0 0 l 8 0 l 0 8",fill:_1d85,strokeColor:_1d84,strokeWidth:"1"}]};case "percent05":return {pathProperties:[{d:"M 0 0 2 0 2 2 0 2 0 0",fill:_1d84,strokeColor:_1d84,strokeWidth:"1"}]};case "percent10":return {pathProperties:[{d:"M 0 0.2 0.2 0.2 0.2 0 0 0 0 0.2",fill:_1d84,strokeColor:_1d84,strokeWidth:"1"}]};case "percent20":return {pathProperties:[{d:"M 0 9 l 0 5 l 10 5",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "percent25":return {pathProperties:[{d:"M 0 0 2 0 2 2 0 2 0 0",fill:_1d84,strokeColor:_1d84,strokeWidth:"1"}]};case "largecheckerboard":return {pathProperties:[{d:"M 0 12 L 12 12 L 12 0 L 0 0 ",fill:_1d85,strokeColor:_1d85,strokeWidth:"1"},{d:"M 6 12  12 12  0 12  0 6  6 6 M 12 0  12 6  6 6  6 0 12 0  6 6",fill:_1d84,strokeColor:_1d84,strokeWidth:"0"}]};case "smallcheckerboard":return {pathProperties:[{d:"M 0 6 L 6 6 L 6 0 L 0 0 ",fill:_1d85,strokeColor:_1d85,strokeWidth:"1"},{d:"M 3 6  6 6  0 6  0 3  3 3 M 6 0  6 3  3 3  3 0 6 0  3 3",fill:_1d84,strokeColor:_1d84,strokeWidth:"0"}]};case "lightdownwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "lightupwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "lightvertical":return {pathProperties:[{d:"M 0 0 10 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "lighthorizontal":return {pathProperties:[{d:"M 0 0 10 0",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};case "narrowvertical":return {pathProperties:[{d:"M 0 0 10 0 M 0 2 10 2 M 0 4 10 4 M 0 6 10 6 M 0 8 10 8 M 0 10 10 10",strokeColor:_1d84,strokeWidth:"1"}]};case "narrowhorizontal":return {pathProperties:[{d:"M 0 0 10 0 M 0 2 10 2 M 0 4 10 4 M 0 6 10 6 M 0 8 10 8 M 0 10 10 10",strokeColor:_1d84,strokeWidth:"1"}]};case "darkvertical":return {pathProperties:[{d:"M 0 0 10 0 M 0 3 10 3 M 0 6 10 6",strokeColor:_1d84,strokeWidth:"1.4"}]};case "darkhorizontal":return {pathProperties:[{d:"M 0 0 10 0 M 0 3 10 3 M 0 6 10 6",strokeColor:_1d84,strokeWidth:"1.4"}]};case "dashedhorizontal":return {pathProperties:[{d:"M 1 5 3 5 M 5 5 7 5 M 3 2 5 2 M 7 2 9 2 M 0 2 1 2",strokeColor:_1d84,strokeWidth:"0.4"}]};case "dashedvertical":return {pathProperties:[{d:"M 1 5 3 5 M 5 5 7 5 M 3 2 5 2 M 7 2 9 2 M 0 2 1 2",strokeColor:_1d84,strokeWidth:"0.4"}]};case "horizontalbrick":return {pathProperties:[{d:"M 0 0 L 8 0 M 4 0 4 4 M 0 4 8 4 M 0 4 0 8",strokeColor:_1d84,strokeWidth:"0.6"}]};case "diagonalbrick":return {pathProperties:[{d:"M 0 0 L 8 0 M 4 0 4 4 M 0 4 8 4 M 0 4 0 8",strokeColor:_1d84,strokeWidth:"0.6"}]};case "percent30":return {pathProperties:[{d:"M 0 0 L 3 0 M 6 0 L 9 0",strokeColor:_1d84,strokeWidth:"6"},{d:"M 3 4 L 6 4",strokeColor:_1d84,strokeWidth:"3"},{d:"M 0 7 L 3 7 M 6 7 L 9 7 ",strokeColor:_1d84,strokeWidth:"3"},{d:"M 9 10 L 12 10",strokeColor:_1d84,strokeWidth:"3"}]};case "soliddiamond":return {pathProperties:[{d:"M 0 12 L 12 12 L 12 0 L 0 0 ",fill:_1d85,strokeColor:_1d85,strokeWidth:"1"},{d:"M 6 12  12 12  0 12  0 6  6 6 M 12 0  12 6  6 6  6 0 12 0  6 6",fill:_1d84,strokeColor:_1d84,strokeWidth:"0"}]};case "percent50":return {pathProperties:[{d:"M 0 6 L 6 6 L 6 0 L 0 0 ",fill:_1d85,strokeColor:_1d85,strokeWidth:"1"},{d:"M 3 6  6 6  0 6  0 3  3 3 M 6 0  6 3  3 3  3 0 6 0  3 3",fill:_1d84,strokeColor:_1d84,strokeWidth:"0"}]};case "percent60":return {pathProperties:[{d:"M 0 0 L 3 0 M 6 0 L 9 0",strokeColor:_1d85,strokeWidth:"6"},{d:"M 3 4 L 6 4",strokeColor:_1d85,strokeWidth:"3"},{d:"M 0 7 L 3 7 M 6 7 L 9 7 ",strokeColor:_1d85,strokeWidth:"3"},{d:"M 9 10 L 12 10",strokeColor:_1d85,strokeWidth:"3"}]};case "percent70":return {pathProperties:[{d:"M 0 0 L 4 0 ",strokeColor:_1d85,strokeWidth:"8"},{d:"M 10 6 L 14 6",strokeColor:_1d85,strokeWidth:"4"}]};case "percent75":return {pathProperties:[{d:"M 0 0 L 4 0 ",strokeColor:_1d85,strokeWidth:"8"},{d:"M 12 9 L 16 9",strokeColor:_1d85,strokeWidth:"4"}]};case "percent80":return {pathProperties:[{d:"M 0 0 L 4 0 ",strokeColor:_1d85,strokeWidth:"8"},{d:"M 14 14 L 18 14",strokeColor:_1d85,strokeWidth:"4"}]};case "percent90":return {pathProperties:[{d:"M 0  0 L 0 0 M 1.3 3.7L 1.9 3",strokeColor:_1d85,strokeWidth:"1"}]};case "dasheddownwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0",strokeColor:_1d84,strokeWidth:"6"},{d:"M 3 4 L 6 4",strokeColor:_1d84,strokeWidth:"3"},{d:"M 6 7 L 9 7",strokeColor:_1d84,strokeWidth:"3"},{d:"M 9 10 L 12 10",strokeColor:_1d84,strokeWidth:"3"}]};case "dashedupwarddiagonal":return {pathProperties:[{d:"M 0 10 L 3 10",strokeColor:_1d84,strokeWidth:"3"},{d:"M 3 7 L 6 7",strokeColor:_1d84,strokeWidth:"3"},{d:"M 6 4 L 9 4",strokeColor:_1d84,strokeWidth:"3"},{d:"M 9 0 L 12 0",strokeColor:_1d84,strokeWidth:"6"}]};case "wideupwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",strokeColor:_1d85,strokeWidth:"1"}]};case "widedownwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",strokeColor:_1d85,strokeWidth:"1"}]};case "darkupwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",strokeColor:_1d85,strokeWidth:"4"}]};case "darkdownwarddiagonal":return {pathProperties:[{d:"M 0 0 L 3 0 3 0",strokeColor:_1d85,strokeWidth:"4"}]};default:return {pathProperties:[{d:"M 0 5 l 0 10",fill:"rgba(0,0,0,0)",strokeColor:_1d84,strokeWidth:"1"}]};}};_1ccd._setProperties=function(_1d86){var _1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.5"},patternProperties:{width:"10",height:"10",rotateangle:"rotate(0)"}};switch(_1d86.toLowerCase()){case "diagonalcross":_1d87={rectProperties:{width:"6",height:"6",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"6",height:"6",rotateangle:"rotate(45)"}};break;case "vertical":_1d87={rectProperties:{width:"8",height:"8",strokewidth:"0.5"},patternProperties:{width:"8",height:"8",rotateangle:"rotate(0)"}};break;case "horizontal":_1d87={rectProperties:{width:"8",height:"8",strokewidth:"0.5"},patternProperties:{width:"8",height:"8",rotateangle:"rotate(0)"}};break;case "forwarddiagonal":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.5"},patternProperties:{width:"10",height:"10",rotateangle:"rotate(45)"}};break;case "backwarddiagonal":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.5"},patternProperties:{width:"10",height:"10",rotateangle:"rotate(45)"}};break;case "smallgrid":_1d87={rectProperties:{width:"4",height:"4",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"4",height:"4",rotateangle:"rotate(0)"}};break;case "largegrid":_1d87={rectProperties:{width:"8",height:"8",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"8",height:"8",rotateangle:"rotate(0)"}};break;case "percent05":_1d87={rectProperties:{width:"16",height:"16",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"16",height:"16",rotateangle:"rotate(45) scale(0.2)"}};break;case "percent10":_1d87={rectProperties:{width:"12",height:"12",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"4",height:"4",rotateangle:"rotate(45)"}};break;case "percent20":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.5"},patternProperties:{width:"10",height:"10",rotateangle:"rotate(120) scale(0.4)"}};break;case "percent25":_1d87={rectProperties:{width:"4",height:"4",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"4",height:"4",rotateangle:"rotate(45) scale(0.15)"}};break;case "percent30":_1d87={rectProperties:{width:"15",height:"15",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"12",height:"12",rotateangle:"rotate(0)"}};break;case "percent50":_1d87={rectProperties:{width:"0",height:"0",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"6",height:"6",rotateangle:"rotate(0) scale(0.6)"}};break;case "percent60":_1d87={rectProperties:{width:"15",height:"15",strokewidth:"0.5",fill:foreColor},patternProperties:{width:"12",height:"12",rotateangle:"rotate(0)"}};break;case "percent70":_1d87={rectProperties:{width:"20",height:"20",strokewidth:"0.5",fill:foreColor},patternProperties:{width:"20",height:"10",rotateangle:"rotate(0) scale(0.4)"}};break;case "percent75":_1d87={rectProperties:{width:"25",height:"25",strokewidth:"0.5",fill:foreColor},patternProperties:{width:"25",height:"15",rotateangle:"rotate(0) scale(0.4)"}};break;case "percent80":_1d87={rectProperties:{width:"30",height:"30",strokewidth:"0.5",fill:foreColor},patternProperties:{width:"30",height:"25",rotateangle:"rotate(0) scale(0.4)"}};break;case "percent90":_1d87={rectProperties:{width:"12",height:"12",strokewidth:"0.5",fill:foreColor},patternProperties:{width:"10",height:"10",rotateangle:"rotate(45) scale(1)"}};break;case "dasheddownwarddiagonal":_1d87={rectProperties:{width:"15",height:"20",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"12",height:"20",rotateangle:"rotate(0)"}};break;case "dashedupwarddiagonal":_1d87={rectProperties:{width:"15",height:"20",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"12",height:"20",rotateangle:"rotate(0)"}};break;case "largecheckerboard":_1d87={rectProperties:{width:"0",height:"0",strokewidth:"0.5"},patternProperties:{width:"12",height:"12",rotateangle:"rotate(0)"}};break;case "smallcheckerboard":_1d87={rectProperties:{width:"0",height:"0",strokewidth:"0.5"},patternProperties:{width:"6",height:"6",rotateangle:"rotate(0)"}};break;case "lightdownwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0.5"},patternProperties:{width:"3",height:"3",rotateangle:"rotate(45) scale(0.7)"}};break;case "lightupwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0.5"},patternProperties:{width:"3",height:"3",rotateangle:"rotate(135) scale(0.7)"}};break;case "lightvertical":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0.3"},patternProperties:{width:"5",height:"5",rotateangle:"rotate(90) scale(0.5)"}};break;case "lighthorizontal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0.3"},patternProperties:{width:"5",height:"5",rotateangle:"rotate(0) scale(0.5)"}};break;case "narrowvertical":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.3",fill:backGroundColor},patternProperties:{width:"10",height:"10",rotateangle:"rotate(90) scale(1.3)"}};break;case "narrowhorizontal":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.3",fill:backGroundColor},patternProperties:{width:"10",height:"10",rotateangle:"rotate(0) scale(1.3)"}};break;case "darkvertical":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.3",fill:backGroundColor},patternProperties:{width:"3",height:"3",rotateangle:"rotate(90) scale(1.5)"}};break;case "darkhorizontal":_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.3",fill:backGroundColor},patternProperties:{width:"3",height:"3",rotateangle:"rotate(0) scale(1.5)"}};break;case "soliddiamond":_1d87={rectProperties:{width:"0",height:"0",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"12",height:"12",rotateangle:"rotate(45)"}};break;case "dashedhorizontal":_1d87={rectProperties:{width:"8",height:"6",strokewidth:"0.4",fill:backGroundColor},patternProperties:{width:"8",height:"6",rotateangle:"rotate(0) scale(1.25)"}};break;case "dashedvertical":_1d87={rectProperties:{width:"8",height:"6",strokewidth:"0.4",fill:backGroundColor},patternProperties:{width:"8",height:"6",rotateangle:"rotate(90) scale(1.25)"}};break;case "horizontalbrick":_1d87={rectProperties:{width:"8",height:"8",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"8",height:"8",rotateangle:"rotate(0) scale(1.3)"}};break;case "diagonalbrick":_1d87={rectProperties:{width:"8",height:"8",strokewidth:"0.5",fill:backGroundColor},patternProperties:{width:"8",height:"8",rotateangle:"rotate(135) scale(1.3)"}};break;case "wideupwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"3",height:"10",rotateangle:"rotate(135) scale(0.25)"}};break;case "widedownwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"3",height:"10",rotateangle:"rotate(45) scale(0.25)"}};break;case "darkupwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"3",height:"3",rotateangle:"rotate(135) scale(0.7)"}};break;case "darkdownwarddiagonal":_1d87={rectProperties:{width:"5",height:"5",strokewidth:"0",fill:backGroundColor},patternProperties:{width:"3",height:"3",rotateangle:"rotate(45) scale(0.7)"}};break;default:_1d87={rectProperties:{width:"10",height:"10",strokewidth:"0.5"},patternProperties:{width:"10",height:"10",rotateangle:"rotate(0)"}};}return _1d87;};_1ccd._fetchPathProperties=function(_1d88,_1d89){for(var i=0;i<_1d89.pathProperties.length;i++){var _1d8a=_1d89.pathProperties[i];var path=this.createElement("path");this.setAttribute(path,"d",_1d8a.d);this.setAttribute(path,"fill",_1d8a.fill);this.setStroke(path,_1d8a.strokeColor);this.setStrokeWidth(path,_1d8a.strokeWidth);_1d88.appendChild(path);}};_1ccd.getLineCapDom=function(_1d8b,_1d8c,_1d8d,_1d8e){var _1d8f=this.createElement("marker");_1d8f.setAttribute("id",_1d8b+this.markerIDs);this.markerIDs++;_1d8f.setAttribute("orient","auto");_1d8f.setAttribute("viewBox",this._getLineCapViewBox(_1d8b));var _1d90=this._getMarkerChildNode(_1d8b);_1d8f.appendChild(_1d90);this.updateLineCapDom(_1d8f,_1d8b,_1d8c,_1d8d,_1d8e);return _1d8f;};_1ccd.updateLineCapDom=function(_1d91,_1d92,_1d93,_1d94,_1d95){var _1d96=this._getLineCapSizeFactor(_1d94);var _1d96=(_1d96-1)/(2*_1d95)+1;_1d91.setAttribute("markerWidth",this._getLineCapMarkerW(_1d92)*_1d96);_1d91.setAttribute("markerHeight",this._getLineCapMarkerW(_1d92)*_1d96);if(_1d92=="ArrowAnchorStart"){_1d91.setAttribute("refX",(12/_1d96).toString());}else{if(_1d92=="ArrowAnchorEnd"){_1d91.setAttribute("refX",(30-12/_1d96).toString());}else{if(_1d92=="SquareEnd"||_1d92=="TriangleEnd"){_1d91.setAttribute("refX","0");}else{_1d91.setAttribute("refX","10");}}}_1d91.setAttribute("refY","10");var _1d97=_1d91.children;if(_1d97!=null&&_1d97.length>0){for(var i=0;i<_1d97.length;i++){if(_1d97[i]!=null){_1d97[i].setAttribute("fill",_1d93);}}}};_1ccd._getLineCapSizeFactor=function(_1d98){if(_1d98==null){return 1;}switch(_1d98.toString().toLowerCase()){case "xsmall":return 2;case "small":return 3;case "mediumsmall":return 4;case "medium":return 5;case "mediumlarge":return 6;case "large":return 8;case "xlarge":return 11;case "xxlarge":return 16;default:return 1;}};_1ccd._getLineCapMarkerW=function(_1d99){switch(_1d99){case "ArrowAnchorStart":case "ArrowAnchorEnd":return 4;case "DiamondAnchorStart":case "DiamondAnchorEnd":case "RoundAnchorStart":case "RoundAnchorEnd":case "SquareAnchorStart":case "SquareAnchorEnd":return 2;case "RoundStart":case "RoundEnd":case "TriangleStart":case "TriangleEnd":case "SquareStart":case "SquareEnd":return 1;default:return;}};_1ccd._getMarkerChildNode=function(_1d9a){var _1d9b=null;if(_1d9a=="SquareAnchorStart"||_1d9a=="SquareAnchorEnd"){_1d9b=this.createElement("rect");_1d9b.setAttribute("width","20");_1d9b.setAttribute("height","20");}else{if(_1d9a=="RoundAnchorStart"||_1d9a=="RoundAnchorEnd"){_1d9b=this.createElement("ellipse");_1d9b.setAttribute("rx","10");_1d9b.setAttribute("ry","10");_1d9b.setAttribute("cx","10");_1d9b.setAttribute("cy","10");}else{if(_1d9a=="SquareStart"||_1d9a=="SquareEnd"){_1d9b=this.createElement("rect");_1d9b.setAttribute("width","10");_1d9b.setAttribute("height","20");}else{_1d9b=this.createElement("path");_1d9b.setAttribute("d",this._getLineCapPath(_1d9a));}}}return _1d9b;};_1ccd._getLineCapPath=function(_1d9c){switch(_1d9c){case "ArrowAnchorStart":return "M 30 0 L 0 10 L 30 20 z";case "ArrowAnchorEnd":return "M 0 0 L 30 10 L 0 20 z";case "DiamondAnchorStart":case "DiamondAnchorEnd":return "M 0 10 L 10 0 L 20 10 L 10 20 z";case "RoundStart":return "M 10 0 A 10 10 0 0 0 10 20 z";case "RoundEnd":return "M 10 0 A 10 10 0 0 1 10 20 z";case "TriangleStart":return "M 0 10 L 10 0 L 10 20 z";case "TriangleEnd":return "M 0 0 L 10 10 L 0 20 z";default:return;}};_1ccd._getLineCapViewBox=function(_1d9d){switch(_1d9d){case "ArrowAnchorStart":case "ArrowAnchorEnd":return "0 0 30 20";case "DiamondAnchorStart":case "DiamondAnchorEnd":case "RoundStart":case "RoundEnd":case "RoundAnchorStart":case "RoundAnchorEnd":case "SquareAnchorStart":case "SquareAnchorEnd":return "0 0 20 20";case "TriangleStart":case "TriangleEnd":case "SquareStart":case "SquareEnd":return "0 0 10 20";default:return;}};_1ccd.setWidth=_1ccb.setWidth;_1ccd.getWidth=_1ccb.getWidth;_1ccd.setHeight=_1ccb.setHeight;_1ccd.getHeight=_1ccb.getHeight;_1ccd.setLeft=_1ccb.setLeft;_1ccd.getLeft=_1ccb.getLeft;_1ccd.setTop=_1ccb.setTop;_1ccd.getTop=_1ccb.getTop;_1ccd.parseBorderStyle=_1ccb.parseBorderStyle;_1ccd.setOpacity=_1ccb.setOpacity;_1ccd.setCssOpacity=_1ccb.setCssOpacity;_1ccd.addClass=_1ccb.addClass;_1ccd.removeClass=_1ccb.removeClass;_1ccd.setVisibility=_1ccb.setVisibility;_1ccd.getVisibility=_1ccb.getVisibility;_1ccd.setBackground=_1ccb.setBackground;_1ccd.getBackground=_1ccb.getBackground;_1ccd.setBackgroundColor=_1ccb.setBackgroundColor;_1ccd.getBackgroundColor=_1ccb.getBackgroundColor;_1ccd.setBackgroundImage=_1ccb.setBackgroundImage;_1ccd.getBackgroundImage=_1ccb.getBackgroundImage;_1ccd.setBorder=_1ccb.setBorder;_1ccd.getBorder=_1ccb.getBorder;_1ccd.setPosition=_1ccb.setPosition;_1ccd.getPosition=_1ccb.getPosition;_1ccd.getOpacity=_1ccb.getOpacity;_1ccd.setWhiteSpace=_1ccb.setWhiteSpace;_1ccd.setWordWrap=_1ccb.setWordWrap;_1ccd.getWhiteSpace=_1ccb.getWhiteSpace;_1ccd.setTextAlign=_1ccb.setTextAlign;_1ccd.getTextAlign=_1ccb.getTextAlign;_1ccd.setVerticalAlign=_1ccb.setVerticalAlign;_1ccd.getVerticalAlign=_1ccb.getVerticalAlign;_1ccd.setFontFamily=_1ccb.setFontFamily;_1ccd.getFontFamily=_1ccb.getFontFamily;_1ccd.setFontSize=_1ccb.setFontSize;_1ccd.getFontSize=_1ccb.getFontSize;_1ccd.setFontWeight=_1ccb.setFontWeight;_1ccd.getFontWeight=_1ccb.getFontWeight;_1ccd.getFontStyle=_1ccb.getFontStyle;_1ccd.setFontStyle=_1ccb.setFontStyle;_1ccd.setMargin=_1ccb.setMargin;_1ccd.getMargin=_1ccb.getMargin;_1ccd.setPadding=_1ccb.setPadding;_1ccd.getPadding=_1ccb.getPadding;_1ccd.setBorderStyle=_1ccb.setBorderStyle;_1ccd.getBorderStyle=_1ccb.getBorderStyle;_1ccd.setBorderWidth=_1ccb.setBorderWidth;_1ccd.getBorderWidth=_1ccb.getBorderWidth;_1ccd.setBorderColor=_1ccb.setBorderColor;_1ccd.getBorderColor=_1ccb.getBorderColor;_1ccd.setStroke=_1ccb.setStroke;_1ccd.getStroke=_1ccb.getStroke;_1ccd.setStrokeWidth=_1ccb.setStrokeWidth;_1ccd.getStrokeWidth=_1ccb.getStrokeWidth;_1ccd.setStrokeDasharray=_1ccb.setStrokeDasharray;_1ccd.getStrokeDasharray=_1ccb.getStrokeDasharray;_1ccd.setDisplay=_1ccb.setDisplay;_1ccd.getDisplay=_1ccb.getDisplay;_1ccd.setTransform=_1ccb.setTransform;_1ccd.getTransform=_1ccb.getTransform;_1ccd.setTransformOrigin=_1ccb.setTransformOrigin;_1ccd.getTransformOrigin=_1ccb.getTransformOrigin;_1ccd.applyTransform=_1ccb.applyTransform;_1ccd.appendTransform=_1ccb.appendTransform;_1ccd.applyOrigin=_1ccb.applyOrigin;_1ccd.setCssColor=_1ccb.setColor;_1ccd.multiplyMatrix=_1ccb.multiplyMatrix;_1ccd.transformPoint=_1ccb.transformPoint;_1ccd.getInvertMatrix=_1ccb.getInvertMatrix;_1ccd.arrItemAt=_1ccb.arrItemAt;return _1ccd;});},"dojox/charting/plot2d/Pie":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./_PlotEvents","./common","dojox/gfx","dojox/gfx/matrix","dojox/lang/functional","dojox/lang/utils","dojo/has"],function(lang,arr,_1d9e,Base,_1d9f,dc,g,m,df,du,has){var _1da0=0.2;return _1d9e("dojox.charting.plot2d.Pie",[Base,_1d9f],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:false,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(chart,_1da1){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_1da1);du.updateWithPattern(this.opt,_1da1,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_1da2){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_1da2.l-_1da2.r)/2,ry=(dim.height-_1da2.t-_1da2.b)/2,r=Math.min(rx,ry),_1da3="font" in this.opt?this.opt.font:t.series.font,size,_1da4=m._degToRad(this.opt.startAngle),start=_1da4,_1da5,_1da6,_1da7,shift,_1da8,run=this.run.data,_1da9=this.events();this.dyn=[];if("radius" in this.opt){r=this.opt.radius;_1da8=r-this.opt.labelOffset;}var _1daa={cx:_1da2.l+rx,cy:_1da2.t+ry,r:r};if(this.opt.shadow||t.shadow){var _1dab=this.opt.shadow||t.shadow;var _1dac=lang.clone(_1daa);_1dac.cx+=_1dab.dx;_1dac.cy+=_1dab.dy;s.createCircle(_1dac).setFill(_1dab.color).setStroke(_1dab);}if(s.setFilter&&(this.opt.filter||t.filter)){s.createCircle(_1daa).setFill(t.series.stroke).setFilter(this.opt.filter||t.filter);}if(typeof run[0]=="number"){_1da5=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_1da5,"<= 0")){s.createCircle(_1daa).setStroke(t.series.stroke);this.dyn=arr.map(_1da5,function(){return {};});return this;}else{_1da6=df.map(_1da5,"/this",df.foldl(_1da5,"+",0));if(this.opt.labels){_1da7=arr.map(_1da6,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}}else{_1da5=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_1da5,"<= 0")){s.createCircle(_1daa).setStroke(t.series.stroke);this.dyn=arr.map(_1da5,function(){return {};});return this;}else{_1da6=df.map(_1da5,"/this",df.foldl(_1da5,"+",0));if(this.opt.labels){_1da7=arr.map(_1da6,function(x,i){if(x<0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}}var _1dad=df.map(run,function(v,i){var _1dae=[this.opt,this.run];if(v!==null&&typeof v!="number"){_1dae.push(v);}if(this.opt.styleFunc){_1dae.push(this.opt.styleFunc(v));}return t.next("slice",_1dae,true);},this);if(this.opt.labels){size=_1da3?g.normalizedLength(g.splitFontString(_1da3).size):0;shift=df.foldl1(df.map(_1da7,function(label,i){var font=_1dad[i].series.font;return g._base._getTextBox(label,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*shift,ry-size)+this.opt.labelOffset;}_1da8=r-this.opt.labelOffset;}var _1daf=new Array(_1da6.length);arr.some(_1da6,function(slice,i){if(slice<0){return false;}if(slice==0){this.dyn.push({fill:null,stroke:null});return false;}var v=run[i],theme=_1dad[i],_1db0,o;if(slice>=1){_1db0=this._plotFill(theme.series.fill,dim,_1da2);_1db0=this._shapeFill(_1db0,{x:_1daa.cx-_1daa.r,y:_1daa.cy-_1daa.r,width:2*_1daa.r,height:2*_1daa.r});_1db0=this._pseudoRadialFill(_1db0,{x:_1daa.cx,y:_1daa.cy},_1daa.r);var shape=s.createCircle(_1daa).setFill(_1db0).setStroke(theme.series.stroke);this.dyn.push({fill:_1db0,stroke:theme.series.stroke});if(_1da9){o={element:"slice",index:i,run:this.run,shape:shape,x:i,y:typeof v=="number"?v:v.y,cx:_1daa.cx,cy:_1daa.cy,cr:r};this._connectEvents(o);_1daf[i]=o;}return false;}var end=start+slice*2*Math.PI;if(i+1==_1da6.length){end=_1da4+2*Math.PI;}var step=end-start,x1=_1daa.cx+r*Math.cos(start),y1=_1daa.cy+r*Math.sin(start),x2=_1daa.cx+r*Math.cos(end),y2=_1daa.cy+r*Math.sin(end);var _1db1=m._degToRad(this.opt.fanSize);if(theme.series.fill&&theme.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_1db1){var group=s.createGroup(),nfans=Math.ceil(step/_1db1),delta=step/nfans;_1db0=this._shapeFill(theme.series.fill,{x:_1daa.cx-_1daa.r,y:_1daa.cy-_1daa.r,width:2*_1daa.r,height:2*_1daa.r});for(var j=0;j<nfans;++j){var fansx=j==0?x1:_1daa.cx+r*Math.cos(start+(j-_1da0)*delta),fansy=j==0?y1:_1daa.cy+r*Math.sin(start+(j-_1da0)*delta),fanex=j==nfans-1?x2:_1daa.cx+r*Math.cos(start+(j+1+_1da0)*delta),faney=j==nfans-1?y2:_1daa.cy+r*Math.sin(start+(j+1+_1da0)*delta);group.createPath().moveTo(_1daa.cx,_1daa.cy).lineTo(fansx,fansy).arcTo(r,r,0,delta>Math.PI,true,fanex,faney).lineTo(_1daa.cx,_1daa.cy).closePath().setFill(this._pseudoRadialFill(_1db0,{x:_1daa.cx,y:_1daa.cy},r,start+(j+0.5)*delta,start+(j+0.5)*delta));}group.createPath().moveTo(_1daa.cx,_1daa.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_1daa.cx,_1daa.cy).closePath().setStroke(theme.series.stroke);shape=group;}else{shape=s.createPath().moveTo(_1daa.cx,_1daa.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_1daa.cx,_1daa.cy).closePath().setStroke(theme.series.stroke);_1db0=theme.series.fill;if(_1db0&&_1db0.type==="radial"){_1db0=this._shapeFill(_1db0,{x:_1daa.cx-_1daa.r,y:_1daa.cy-_1daa.r,width:2*_1daa.r,height:2*_1daa.r});if(this.opt.radGrad==="linear"){_1db0=this._pseudoRadialFill(_1db0,{x:_1daa.cx,y:_1daa.cy},r,start,end);}}else{if(_1db0&&_1db0.type==="linear"){_1db0=this._plotFill(_1db0,dim,_1da2);_1db0=this._shapeFill(_1db0,shape.getBoundingBox());}}shape.setFill(_1db0);}this.dyn.push({fill:_1db0,stroke:theme.series.stroke});if(_1da9){o={element:"slice",index:i,run:this.run,shape:shape,x:i,y:typeof v=="number"?v:v.y,cx:_1daa.cx,cy:_1daa.cy,cr:r};this._connectEvents(o);_1daf[i]=o;}start=end;return false;},this);if(this.opt.labels){var isRtl=has("dojo-bidi")&&this.chart.isRightToLeft();if(this.opt.labelStyle=="default"){start=_1da4;arr.some(_1da6,function(slice,i){if(slice<=0){return false;}var theme=_1dad[i];if(slice>=1){this.renderLabel(s,_1daa.cx,_1daa.cy+size/2,_1da7[i],theme,this.opt.labelOffset>0);return true;}var end=start+slice*2*Math.PI;if(i+1==_1da6.length){end=_1da4+2*Math.PI;}if(this.opt.omitLabels&&end-start<0.001){return false;}var _1db2=(start+end)/2,x=_1daa.cx+_1da8*Math.cos(_1db2),y=_1daa.cy+_1da8*Math.sin(_1db2)+size/2;this.renderLabel(s,isRtl?dim.width-x:x,y,_1da7[i],theme,this.opt.labelOffset>0);start=end;return false;},this);}else{if(this.opt.labelStyle=="columns"){start=_1da4;var _1db3=this.opt.omitLabels;var _1db4=[];arr.forEach(_1da6,function(slice,i){var end=start+slice*2*Math.PI;if(i+1==_1da6.length){end=_1da4+2*Math.PI;}var _1db5=(start+end)/2;_1db4.push({angle:_1db5,left:Math.cos(_1db5)<0,theme:_1dad[i],index:i,omit:_1db3?end-start<0.001:false});start=end;});var _1db6=g._base._getTextBox("a",{font:_1da3}).h;this._getProperLabelRadius(_1db4,_1db6,_1daa.r*1.1);arr.forEach(_1db4,function(slice,i){if(!slice.omit){var _1db7=_1daa.cx-_1daa.r*2,_1db8=_1daa.cx+_1daa.r*2,_1db9=g._base._getTextBox(_1da7[i],{font:slice.theme.series.font}).w,x=_1daa.cx+slice.labelR*Math.cos(slice.angle),y=_1daa.cy+slice.labelR*Math.sin(slice.angle),_1dba=(slice.left)?(_1db7+_1db9):(_1db8-_1db9),_1dbb=(slice.left)?_1db7:_1dba;var _1dbc=s.createPath().moveTo(_1daa.cx+_1daa.r*Math.cos(slice.angle),_1daa.cy+_1daa.r*Math.sin(slice.angle));if(Math.abs(slice.labelR*Math.cos(slice.angle))<_1daa.r*2-_1db9){_1dbc.lineTo(x,y);}_1dbc.lineTo(_1dba,y).setStroke(slice.theme.series.labelWiring);this.renderLabel(s,isRtl?dim.width-_1db9-_1dbb:_1dbb,y,_1da7[i],slice.theme,false,"left");}},this);}}}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_1daf[esi++];});if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_1da2);}return this;},_getProperLabelRadius:function(_1dbd,_1dbe,_1dbf){var _1dc0,_1dc1,_1dc2=1,_1dc3=1;if(_1dbd.length==1){_1dbd[0].labelR=_1dbf;return;}for(var i=0;i<_1dbd.length;i++){var _1dc4=Math.abs(Math.sin(_1dbd[i].angle));if(_1dbd[i].left){if(_1dc2>=_1dc4){_1dc2=_1dc4;_1dc0=_1dbd[i];}}else{if(_1dc3>=_1dc4){_1dc3=_1dc4;_1dc1=_1dbd[i];}}}_1dc0.labelR=_1dc1.labelR=_1dbf;this._calculateLabelR(_1dc0,_1dbd,_1dbe);this._calculateLabelR(_1dc1,_1dbd,_1dbe);},_calculateLabelR:function(_1dc5,_1dc6,_1dc7){var i=_1dc5.index,_1dc8=_1dc6.length,_1dc9=_1dc5.labelR,_1dca;while(!(_1dc6[i%_1dc8].left^_1dc6[(i+1)%_1dc8].left)){if(!_1dc6[(i+1)%_1dc8].omit){_1dca=(Math.sin(_1dc6[i%_1dc8].angle)*_1dc9+((_1dc6[i%_1dc8].left)?(-_1dc7):_1dc7))/Math.sin(_1dc6[(i+1)%_1dc8].angle);_1dc9=(_1dca<_1dc5.labelR)?_1dc5.labelR:_1dca;_1dc6[(i+1)%_1dc8].labelR=_1dc9;}i++;}i=_1dc5.index;var j=(i==0)?_1dc8-1:i-1;while(!(_1dc6[i].left^_1dc6[j].left)){if(!_1dc6[j].omit){_1dca=(Math.sin(_1dc6[i].angle)*_1dc9+((_1dc6[i].left)?_1dc7:(-_1dc7)))/Math.sin(_1dc6[j].angle);_1dc9=(_1dca<_1dc5.labelR)?_1dc5.labelR:_1dca;_1dc6[j].labelR=_1dc9;}i--;j--;i=(i<0)?i+_1dc6.length:i;j=(j<0)?j+_1dc6.length:j;}}});});},"dojox/mobile/ToolBarButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","./sniff","./_ItemBase","dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton"],function(_1dcb,lang,win,_1dcc,_1dcd,_1dce,_1dcf,has,_1dd0,_1dd1){var _1dd2=_1dcb(has("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",_1dd0,{selected:false,arrow:"",light:true,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef){this.label=this.srcNodeRef.innerHTML;}this.label=lang.trim(this.label);this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_1dcd.create("span");_1dcf.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label)){this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode;_1dcc.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));return;}this.domNode.innerHTML="";if(this.arrow==="left"||this.arrow==="right"){this.arrowNode=_1dcd.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+(this.arrow==="left"?"Left":"Right")+"Arrow "+(has("ie")<10?"":(this.defaultColor+" "+this.defaultColor+"45"))},this.domNode);_1dcc.add(this.domNode,"mblToolBarButtonHas"+(this.arrow==="left"?"Left":"Right")+"Arrow");}this.bodyNode=_1dcd.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=_1dcd.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);if(!this.label&&this.arrow){this.tableNode.className="mblToolBarButtonText";}var row=this.tableNode.insertRow(-1);this.iconParentNode=row.insertCell(-1);this.labelNode=row.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";if(this.icon&&this.icon!=="none"&&this.label){_1dcc.add(this.domNode,"mblToolBarButtonHasIcon");_1dcc.add(this.bodyNode,"mblToolBarButtonLabeledIcon");}_1dcc.add(this.bodyNode,this.defaultColor);},startup:function(){if(this._started){return;}this.connect(this.domNode,"onkeydown","_onClick");this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_setLabelAttr:function(text){this.inherited(arguments);_1dcc.toggle(this.tableNode,"mblToolBarButtonText",text||this.arrow);},_setSelectedAttr:function(_1dd3){var _1dd4=function(node,a,b){_1dcc.replace(node,a+" "+a+"45",b+" "+b+"45");};this.inherited(arguments);if(_1dd3){_1dcc.replace(this.bodyNode,this.selColor,this.defaultColor);if(!(has("ie")<10)&&this.arrowNode){_1dd4(this.arrowNode,this.selColor,this.defaultColor);}}else{_1dcc.replace(this.bodyNode,this.defaultColor,this.selColor);if(!(has("ie")<10)&&this.arrowNode){_1dd4(this.arrowNode,this.defaultColor,this.selColor);}}_1dcc.toggle(this.domNode,"mblToolBarButtonSelected",_1dd3);_1dcc.toggle(this.bodyNode,"mblToolBarButtonBodySelected",_1dd3);}});return has("dojo-bidi")?_1dcb("dojox.mobile.ToolBarButton",[_1dd2,_1dd1]):_1dd2;});},"dojox/charting/plot2d/common":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojox/gfx","dojox/lang/functional","../scaler/common"],function(lang,arr,Color,g,df,sc){var _1dd5=lang.getObject("dojox.charting.plot2d.common",true);return lang.mixin(_1dd5,{doIfLoaded:sc.doIfLoaded,makeStroke:function(_1dd6){if(!_1dd6){return _1dd6;}if(typeof _1dd6=="string"||_1dd6 instanceof Color){_1dd6={color:_1dd6};}return g.makeParameters(g.defaultStroke,_1dd6);},augmentColor:function(_1dd7,color){var t=new Color(_1dd7),c=new Color(color);c.a=t.a;return c;},augmentStroke:function(_1dd8,color){var s=_1dd5.makeStroke(_1dd8);if(s){s.color=_1dd5.augmentColor(s.color,color);}return s;},augmentFill:function(fill,color){var fc,c=new Color(color);if(typeof fill=="string"||fill instanceof Color){return _1dd5.augmentColor(fill,color);}return fill;},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_1dd9){var stats=lang.delegate(_1dd5.defaultStats);for(var i=0;i<_1dd9.length;++i){var run=_1dd9[i];for(var j=0;j<run.data.length;j++){if(run.data[j]!==null){if(typeof run.data[j]=="number"){var _1dda=stats.vmin,_1ddb=stats.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(val!==null){var x=i+1,y=val;if(isNaN(y)){y=0;}stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,y);stats.vmax=Math.max(stats.vmax,y);}});}if("ymin" in run){stats.vmin=Math.min(_1dda,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1ddb,run.ymax);}}else{var _1ddc=stats.hmin,_1ddd=stats.hmax,_1dda=stats.vmin,_1ddb=stats.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(val!==null){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,y);stats.vmax=Math.max(stats.vmax,y);}});}if("xmin" in run){stats.hmin=Math.min(_1ddc,run.xmin);}if("xmax" in run){stats.hmax=Math.max(_1ddd,run.xmax);}if("ymin" in run){stats.vmin=Math.min(_1dda,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1ddb,run.ymax);}}break;}}}return stats;},calculateBarSize:function(_1dde,opt,_1ddf){if(!_1ddf){_1ddf=1;}var gap=opt.gap,size=(_1dde-2*gap)/_1ddf;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_1dde-size*_1ddf)/2;return {size:size,gap:gap};},collectStackedStats:function(_1de0){var stats=lang.clone(_1dd5.defaultStats);if(_1de0.length){stats.hmin=Math.min(stats.hmin,1);stats.hmax=df.foldl(_1de0,"seed, run -> Math.max(seed, run.data.length)",stats.hmax);for(var i=0;i<stats.hmax;++i){var v=_1de0[0].data[i];v=v&&(typeof v=="number"?v:v.y);if(isNaN(v)){v=0;}stats.vmin=Math.min(stats.vmin,v);for(var j=1;j<_1de0.length;++j){var t=_1de0[j].data[i];t=t&&(typeof t=="number"?t:t.y);if(isNaN(t)){t=0;}v+=t;}stats.vmax=Math.max(stats.vmax,v);}}return stats;},curve:function(a,_1de1){var array=a.slice(0);if(_1de1=="x"){array[array.length]=array[0];}var p=arr.map(array,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_1de1)){var dx=item.x-array[i-1].x,dy=array[i-1].y;return "C"+(item.x-(_1de1-1)*(dx/_1de1))+","+dy+" "+(item.x-(dx/_1de1))+","+item.y+" "+item.x+","+item.y;}else{if(_1de1=="X"||_1de1=="x"||_1de1=="S"){var p0,p1=array[i-1],p2=array[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_1de1=="x"){p0=array[array.length-2];}else{p0=p1;}f=1/3;}else{p0=array[i-2];}if(i==(array.length-1)){if(_1de1=="x"){p3=array[1];}else{p3=p2;}f=1/3;}else{p3=array[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var p0p2f=p0p2*f;var p1p3f=p1p3*f;if(p0p2f>p1p2/2&&p1p3f>p1p2/2){p0p2f=p1p2/2;p1p3f=p1p2/2;}else{if(p0p2f>p1p2/2){p0p2f=p1p2/2;p1p3f=p1p2/2*p1p3/p0p2;}else{if(p1p3f>p1p2/2){p1p3f=p1p2/2;p0p2f=p1p2/2*p0p2/p1p3;}}}if(_1de1=="S"){if(p0==p1){p0p2f=0;}if(p2==p3){p1p3f=0;}}bz1x=p1.x+p0p2f*(p2.x-p0.x)/p0p2;bz1y=p1.y+p0p2f*(p2.y-p0.y)/p0p2;bz2x=p2.x-p1p3f*(p3.x-p1.x)/p1p3;bz2y=p2.y-p1p3f*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");},getLabel:function(_1de2,fixed,_1de3){return sc.doIfLoaded("dojo/number",function(_1de4){return (fixed?_1de4.format(_1de2,{places:_1de3}):_1de4.format(_1de2))||"";},function(){return fixed?_1de2.toFixed(_1de3):_1de2.toString();});}});});},"dojox/mobile/_ItemBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/touch","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./iconUtils","./sniff","dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase"],function(array,_1de5,lang,win,_1de6,touch,_1de7,_1de8,_1de9,_1dea,_1deb,_1dec,has,_1ded){var _1dee=_1de5(has("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[_1dea,_1de9,_1de8],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",back:false,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:false,selected:false,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:false,_duration:800,_handleClick:true,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams();},startup:function(){if(this._started){return;}if(!this._isOnLine){this.inheritParams();}this._updateHandles();this.inherited(arguments);},inheritParams:function(){var _1def=this.getParent();if(_1def){array.forEach(this.paramsToInherit.split(/,/),function(p){if(p.match(/icon/i)){var base=p+"Base",pos=p+"Pos";if(this[p]&&_1def[base]&&_1def[base].charAt(_1def[base].length-1)==="/"){this[p]=_1def[base]+this[p];}if(!this[p]){this[p]=_1def[base];}if(!this[pos]){this[pos]=_1def[pos];}}if(!this[p]){this[p]=_1def[p];}},this);}return !!_1def;},_updateHandles:function(){if(this._handleClick&&this._selStartMethod==="touch"){if(!this._onTouchStartHandle){this._onTouchStartHandle=this.connect(this.domNode,touch.press,"_onTouchStart");}}else{if(this._onTouchStartHandle){this.disconnect(this._onTouchStartHandle);this._onTouchStartHandle=null;}}},getTransOpts:function(){var opts=this.transitionOptions||{};array.forEach(["moveTo","href","hrefTarget","url","target","urlTarget","scene","transition","transitionDir"],function(p){opts[p]=opts[p]||this[p];},this);return opts;},userClickAction:function(){},defaultClickAction:function(e){this.handleSelection(e);if(this.userClickAction(e)===false){return;}this.makeTransition(e);},handleSelection:function(e){if(this._delayedSelection){this.set("selected",true);}if(this._onTouchEndHandle){this.disconnect(this._onTouchEndHandle);this._onTouchEndHandle=null;}var p=this.getParent();if(this.toggle){this.set("selected",!this._currentSel);}else{if(p&&p.selectOne){this.set("selected",true);}else{if(this._selEndMethod==="touch"){this.set("selected",false);}else{if(this._selEndMethod==="timer"){this.defer(function(){this.set("selected",false);},this._duration);}}}}},makeTransition:function(e){if(this.back&&history){history.back();return;}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(e);return;}var opts=this.getTransOpts();var _1df0=!!(opts.moveTo||opts.href||opts.url||opts.target||opts.scene);if(this._prepareForTransition(e,_1df0?opts:null)===false){return;}if(_1df0){this.setTransitionPos(e);new _1deb(this.domNode,opts,e).dispatch();}},_onNewWindowOpened:function(){},_prepareForTransition:function(e,_1df1){},_onTouchStart:function(e){if(this.getParent().isEditing||this.onTouchStart(e)===false){return;}if(!this._onTouchEndHandle&&this._selStartMethod==="touch"){this._onTouchMoveHandle=this.connect(win.body(),touch.move,"_onTouchMove");this._onTouchEndHandle=this.connect(win.body(),touch.release,"_onTouchEnd");}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this._currentSel=this.selected;if(this._delayedSelection){this._selTimer=this.defer(function(){this.set("selected",true);},100);}else{this.set("selected",true);}},onTouchStart:function(){},_onTouchMove:function(e){var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;if(Math.abs(x-this.touchStartX)>=4||Math.abs(y-this.touchStartY)>=4){this.cancel();var p=this.getParent();if(p&&p.selectOne){this._prevSel&&this._prevSel.set("selected",true);}else{this.set("selected",false);}}},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null;},cancel:function(){if(this._selTimer){this._selTimer.remove();this._selTimer=null;}this._disconnect();},_onTouchEnd:function(e){if(!this._selTimer&&this._delayedSelection){return;}this.cancel();this._onClick(e);},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||_1de6.contains(w.domNode,"mblView")){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_1df2,href,url,scene){var opts=(_1df2&&typeof (_1df2)==="object")?_1df2:{moveTo:_1df2,href:href,url:url,scene:scene,transition:this.transition,transitionDir:this.transitionDir};new _1deb(this.domNode,opts).dispatch();},_setIconAttr:function(icon){if(!this._isOnLine){this._pendingIcon=icon;return;}this._set("icon",icon);this.iconNode=_1dec.setIcon(icon,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position);},_setLabelAttr:function(text){this._set("label",text);this.labelNode.innerHTML=this._cv?this._cv(text):text;},_setSelectedAttr:function(_1df3){if(_1df3){var p=this.getParent();if(p&&p.selectOne){var arr=array.filter(p.getChildren(),function(w){return w.selected;});array.forEach(arr,function(c){this._prevSel=c;c.set("selected",false);},this);}}this._set("selected",_1df3);}});return has("dojo-bidi")?_1de5("dojox.mobile._ItemBase",[_1dee,_1ded]):_1dee;});},"viewer/object/shape/Path":function(){define(["dojo/_base/declare","../_base","../../misc/gui/helpers/svg","../../misc/enums","dojo/_base/lang","dojo/text!./path.html",],function(_1df4,_1df5,_1df6,enums,lang,_1df7){return _1df4("viewer.object.shape.Path",_1df5,{templateString:_1df7,points:null,position:null,_scaleX:null,_scaleY:null,_originalWidth:null,_originalHeight:null,_svgPath:null,_markerStartNode:null,_markerEndNode:null,buildRendering:function(){this.inherited(arguments);this._originalWidth=this._attr.size.w;this._scaleX=1;this._originalHeight=this._attr.size.h;this._scaleY=1;if(this._attr.pathString&&this._attr.pathString.length>0){this._attr.path=this._attr.pathString;}this._adjustPoints();},startup:function(){this.inherited(arguments);if(this._attr.background){this.setColor(this._attr.background);}},_createSvgPath:function(path){var _1df8,path;_1df8="M";for(var i=0;i<path.length;i++){var _1df9=path[i].points;var _1dfa="L";if(path[i].instruction=="L"||path[i].instruction=="C"){for(var j=0;j<_1df9.length;j++){if(j==1){_1dfa+=path[i].instruction+_1df9[j].x+","+_1df9[j].y+" ";}else{_1dfa+=_1df9[j].x+","+_1df9[j].y+" ";}}_1df8+=_1dfa;}else{if(path[i].instruction=="A"){var rx,ry,_1dfb,_1dfc,_1dfd,_1dfe;rx=(path[i].geometryWidth)/2;ry=(path[i].geometryHeight)/2;rx=rx?rx:0;ry=ry?ry:0;_1dfb=path[i].startAngle;_1dfd=Math.abs(path[i].sweepAngle)>=180?1:0;_1dfe=path[i].sweepAngle>0?1:0;_1df8+="L"+_1df9[0].x+","+_1df9[0].y+"A"+rx+","+ry+","+_1dfb+","+_1dfd+","+_1dfe+","+_1df9[1].x+","+_1df9[1].y+" ";}}}this._svgPath=_1df8.trim().replace("ML","M");_1df6.setAttribute(this._xComponent,"d",this._svgPath);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){_1df6.setAttribute(this._bargraphCloneNode[i],"d",this._svgPath);}}},_inflate:function(){if(!this._attr.border){return;}switch(this._attr.border.origin.style){case enums.EnumBorderStyle.NO_LINE:case enums.EnumBorderStyle.SOLIDE_LINE:case enums.EnumBorderStyle.DASHED_LINE:case enums.EnumBorderStyle.LONGDASH_LINE:case enums.EnumBorderStyle.SHORTDASH_LINE:case enums.EnumBorderStyle.DOTS_LINE:case enums.EnumBorderStyle.DASHDOTDASH_LINE:case enums.EnumBorderStyle.DASHDOTDOTDASH_LINE:this.parseInflate();if(this._getWrapperNodeAttr()===this.domNode){this._guiHelper.setTop(this.domNode,this._inflatedPosition.top+"px");this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left+"px");this._setMatrixOrigin(this._inflatedPosition.left,this._inflatedPosition.top);}else{this._guiHelper.setTop(this.domNode,this._inflatedPosition.top-this._attr.position.top);this._guiHelper.setLeft(this.domNode,this._inflatedPosition.left-this._attr.position.left);}var width=Math.abs((this._inflatedPosition.right-this._inflatedPosition.left))+"px";var _1dff=Math.abs((this._inflatedPosition.bottom-this._inflatedPosition.top))+"px";this._guiHelper.setWidth(this.domNode,width);this._guiHelper.setHeight(this.domNode,_1dff);this._guiHelper.setAttribute(this.domNode,"width",width);this._guiHelper.setAttribute(this.domNode,"height",_1dff);this._guiHelper.setAttribute(this._xComponent,"width",this._attr.size.w+"px");this._guiHelper.setAttribute(this._xComponent,"height",this._attr.size.h+"px");this._guiHelper.setAttribute(this._xComponent,"x",this._inflatedPosition.factor+"px");this._guiHelper.setAttribute(this._xComponent,"y",this._inflatedPosition.factor+"px");break;}},_adjustPoints:function(){var _1e00=lang.clone(this._attr.path);for(var j=0;j<this._attr.path.length;j++){var _1e01=this._attr.path[j].points;var _1e02=_1e00[j].points;for(var i=0;i<_1e01.length;i++){var point={};point.x=parseFloat(_1e01[i].x)-parseFloat(this._inflatedPosition.left);point.y=parseFloat(_1e01[i].y)-parseFloat(this._inflatedPosition.top);_1e02[i]=point;}}this._createSvgPath(_1e00);},_setWidthAttr:function(v){var _1e03=0;if(parseFloat(v)<_1e03){v=_1e03;}this._attr.size.w=parseFloat(v);increasedWidth=this._attr.size.w-this._originalWidth;if(increasedWidth>0){this._scaleX=1+Math.abs(increasedWidth)/this._originalWidth;}if(increasedWidth<0){this._scaleX=1-Math.abs(increasedWidth)/this._originalWidth;}var o={};o.scale="("+this._scaleX+","+this._scaleY+")";this._guiHelper.applyTransform(this._xComponent,o,0);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.applyTransform(this._bargraphCloneNode[i],o,0);}}this.inherited(arguments);},_setHeightAttr:function(v){var _1e04=0;if(parseFloat(v)<_1e04){v=_1e04;}this._attr.size.h=parseFloat(v);increasedHeight=this._attr.size.h-this._originalHeight;if(increasedHeight>0){this._scaleY=1+Math.abs(increasedHeight)/this._originalHeight;}if(increasedHeight<0){this._scaleY=1-Math.abs(increasedHeight)/this._originalHeight;}var o={};o.scale="("+this._scaleX+","+this._scaleY+")";this._guiHelper.applyTransform(this._xComponent,o,0);if(this._bargraphCloneNode){for(var i=0;i<this._bargraphCloneNode.length;i++){this._guiHelper.applyTransform(this._bargraphCloneNode[i],o,0);}}this.inherited(arguments);},_updateRectSize:function(_1e05,_1e06){this.inherited(arguments);this._updateScaledSize(_1e05,_1e06);},_onAfterSetRectAttr:function(){this.inherited(arguments);this._updateToInitialSize();},_normalizeAngle:function(angle){var _1e07=parseFloat(angle);if(isNaN(_1e07)){return 0;}var dir=_1e07>=360?-1:1;while(_1e07<0||_1e07>=360){_1e07+=dir*360;}return _1e07;},});});},"dojox/mobile/Badge":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","./iconUtils","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Badge"],function(_1e08,lang,_1e09,_1e0a,_1e0b,has,_1e0c){var Badge=_1e08(has("dojo-bidi")?"dojox.mobile.NonBidiBadge":"dojox.mobile.Badge",null,{value:"0",className:"mblDomButtonRedBadge",fontSize:16,constructor:function(_1e0d,node){if(_1e0d){lang.mixin(this,_1e0d);}this.domNode=node?node:_1e0a.create("div");_1e09.add(this.domNode,"mblBadge");if(this.domNode.className.indexOf("mblDomButton")===-1){_1e09.add(this.domNode,this.className);}if(this.fontSize!==16){this.domNode.style.fontSize=this.fontSize+"px";}_1e0b.createDomButton(this.domNode);this.setValue(this.value);},getValue:function(){return this.domNode.firstChild.innerHTML||"";},setValue:function(value){this.domNode.firstChild.innerHTML=value;}});return has("dojo-bidi")?_1e08("dojox.mobile.Badge",[Badge,_1e0c]):Badge;});},"viewer/misc/gui/DataGrid":function(){define(["dojo/_base/declare","dojo/parser","./_base","dojo/text!./template/dataGrid.html"],function(_1e0e,_1e0f,_1e10,_1e11){return _1e0e("viewer.misc.gui.DataGrid",_1e10,{templateString:_1e11,_gridSchema:null,_cols:null,_data:null,_oddLineColor:null,_evenLineColor:null,startup:function(){this._cols={};this._gridSchema=[];this._data=[];},_setGridSchemaAttr:function(_1e12){while(this._xBody.firstChild){this._xBody.removeChild(this._xBody.firstChild);}for(var col in this._cols){this._xTrHead.removeChild(this._cols[col]);delete this._cols[col];}this._gridSchema.length=0;for(var i=0;i<_1e12.cols.length;i++){this._cols[_1e12.cols[i].name]=document.createElement("td");this._xTrHead.appendChild(this._cols[_1e12.cols[i].name]);this._cols[_1e12.cols[i].name].appendChild(document.createTextNode(_1e12.cols[i].label));dojo.style(this._cols[_1e12.cols[i].name],"width",_1e12.cols[i].width);dojo.addClass(this._cols[_1e12.cols[i].name],"header_col"+_1e12.cols[i].name);this._gridSchema.push(_1e12.cols[i]);}},_setDataAttr:function(data){this._data.length=0;var td;for(var i=0;i<data.length;i++){for(var ii=0;ii<data[i].length;ii++){td=document.createElement("td");dojo.attr(td,"data",data[i][ii]);this._data.push(td);}}},_setOddLineColorAttr:function(c){this._oddLineColor=c;},_setEvenLineColorAttr:function(c){this._evenLineColor=c;},render:function(){var tr,td;for(var i=0;i<this._data.length;i+=this._gridSchema.length){tr=document.createElement("tr");for(var ii=0;ii<this._gridSchema.length;ii++){td=this._data[i+ii];dojo.attr(td,"data-dojo-type",this._gridSchema[ii].type);tr.appendChild(td);}this._xBody.appendChild(tr);if(this._evenLineColor&&this._xBody.childNodes.length%2===0){dojo.style(tr,"background-color",this._evenLineColor);}else{if(this._oddLineColor){dojo.style(tr,"background-color",this._oddLineColor);}}}_1e0f.parse(this._xBody);}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent","./viewRegistry"],function(dojo,array,_1e13,_1e14,lang,win,_1e15,dom,_1e16,_1e17,on,ready,_1e18,_1e19,_1e1a,_1e1b){var _1e1c=_1e14("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};ready(lang.hitch(this,function(){on(win.body(),"startTransition",lang.hitch(this,"onStartTransition"));}));},findTransitionViews:function(_1e1d){if(!_1e1d){return [];}_1e1d.match(/^#?([^&?]+)(.*)/);var _1e1e=RegExp.$2;var view=_1e18.byId(RegExp.$1);if(!view){return [];}for(var v=view.getParent();v;v=v.getParent()){if(v.isVisible&&!v.isVisible()){var sv=view.getShowingView();if(sv&&sv.id!==view.id){view.show();}view=v;}}return [view.getShowingView(),view,_1e1e];},openExternalView:function(_1e1f,_1e20){var d=new _1e15();var id=this.viewMap[_1e1f.url];if(id){_1e1f.moveTo=id;if(_1e1f.noTransition){_1e18.byId(id).hide();}else{new _1e1a(win.body(),_1e1f).dispatch();}d.resolve(true);return d;}var _1e21=null;for(var i=_1e20.childNodes.length-1;i>=0;i--){var c=_1e20.childNodes[i];if(c.nodeType===1){var fixed=c.getAttribute("fixed")||c.getAttribute("data-mobile-fixed")||(_1e18.byNode(c)&&_1e18.byNode(c).fixed);if(fixed==="bottom"){_1e21=c;break;}}}var dh=_1e1f.dataHandlerClass||this.dataHandlerClass;var ds=_1e1f.dataSourceClass||this.dataSourceClass;var ft=_1e1f.fileTypeMapClass||this.fileTypeMapClass;require([dh,ds,ft],lang.hitch(this,function(_1e22,_1e23,_1e24){var _1e25=new _1e22(new _1e23(_1e1f.data||_1e1f.url),_1e20,_1e21);var _1e26=_1e1f.contentType||_1e24.getContentType(_1e1f.url)||"html";_1e25.processData(_1e26,lang.hitch(this,function(id){if(id){this.viewMap[_1e1f.url]=_1e1f.moveTo=id;if(_1e1f.noTransition){_1e18.byId(id).hide();}else{new _1e1a(win.body(),_1e1f).dispatch();}d.resolve(true);}else{d.reject("Failed to load "+_1e1f.url);}}));}));return d;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail){return;}var _1e27=evt.detail;if(!_1e27.moveTo&&!_1e27.href&&!_1e27.url&&!_1e27.scene){return;}if(_1e27.url&&!_1e27.moveTo){var _1e28=_1e27.urlTarget;var w=_1e18.byId(_1e28);var _1e29=w&&w.containerNode||dom.byId(_1e28);if(!_1e29){w=_1e1b.getEnclosingView(evt.target);_1e29=w&&w.domNode.parentNode||win.body();}this.openExternalView(_1e27,_1e29);return;}else{if(_1e27.href){if(_1e27.hrefTarget&&_1e27.hrefTarget!="_self"){win.global.open(_1e27.href,_1e27.hrefTarget);}else{var view;for(var v=_1e1b.getEnclosingView(evt.target);v;v=_1e1b.getParentView(v)){view=v;}if(view){view.performTransition(null,_1e27.transitionDir,_1e27.transition,evt.target,function(){location.href=_1e27.href;});}}return;}else{if(_1e27.scene){_1e13.publish("/dojox/mobile/app/pushScene",[_1e27.scene]);return;}}}var arr=this.findTransitionViews(_1e27.moveTo),_1e2a=arr[0],_1e2b=arr[1],_1e2c=arr[2];if(!location.hash&&!_1e27.hashchange){_1e1b.initialView=_1e2a;}if(_1e27.moveTo&&_1e2b){_1e27.moveTo=(_1e27.moveTo.charAt(0)==="#"?"#"+_1e2b.id:_1e2b.id)+_1e2c;}if(!_1e2a||(_1e27.moveTo&&_1e2a===_1e18.byId(_1e27.moveTo.replace(/^#?([^&?]+).*/,"$1")))){return;}var src=_1e18.getEnclosingWidget(evt.target);if(src&&src.callback){_1e27.context=src;_1e27.method=src.callback;}_1e2a.performTransition(_1e27);}});_1e1c._instance=new _1e1c();_1e1c.getInstance=function(){return _1e1c._instance;};return _1e1c;});},"dojox/data/XmlItem":function(){define(["dojo/_base/declare"],function(_1e2d){return _1e2d("dojox.data.XmlItem",null,{constructor:function(_1e2e,store,query){this.element=_1e2e;this.store=store;this.q=query;},toString:function(){var str="";if(this.element){for(var i=0;i<this.element.childNodes.length;i++){var node=this.element.childNodes[i];if(node.nodeType===3||node.nodeType===4){str+=node.nodeValue;}}}return str;}});});},"viewer/misc/common/gradientContainer":function(){define(["dojo/_base/declare","../gui/helpers/svg"],function(_1e2f,_1e30){var _1e31=function(){};_1e31.gradientIds=0;_1e31.getGradientId=function(){var _1e32=this.gradientIds;this.gradientIds++;return _1e32;};_1e31.getgradientStyle=function(_1e33,_1e34,Angle,_1e35,_1e36,_1e37){switch(_1e34){case "Radial":return this.setRadial(_1e33,_1e34,Angle,_1e35,_1e36,_1e37);break;case "Horizontal":return this.setHorizontal(_1e33,_1e34,Angle,_1e35,_1e36,_1e37);break;case "Vertical":return this.setVertical(_1e33,_1e34,Angle,_1e35,_1e36,_1e37);break;case "Custom":return this.setCustom(_1e33,_1e34,Angle,_1e35,_1e36,_1e37);break;}};_1e31.setRadial=function(_1e38,_1e39,Angle,_1e3a,_1e3b,_1e3c){var _1e3d=_1e30.createElement("radialGradient");_1e30.setAttribute(_1e3d,"fx",_1e3a);_1e30.setAttribute(_1e3d,"fy",_1e3b);for(var i=0;i<_1e3c.length;i++){var stop=_1e30.createElement("stop");_1e30.setAttribute(stop,"offset",parseFloat(_1e3c[i].offset)*100+"%");_1e30.setAttribute(stop,"stop-color",_1e3c[i].foreColor);_1e30.setAttribute(stop,"stop-opacity","1");_1e3d.appendChild(stop);}_1e30.setAttribute(_1e3d,"id",_1e38);return _1e3d;};_1e31.setHorizontal=function(_1e3e,_1e3f,Angle,_1e40,_1e41,_1e42){var _1e43=_1e30.createElement("linearGradient");_1e30.setAttribute(_1e43,"id",_1e3e);_1e30.setAttribute(_1e43,"x1","0");_1e30.setAttribute(_1e43,"x2","1");_1e30.setAttribute(_1e43,"y1","0");_1e30.setAttribute(_1e43,"y2","0");for(var i=_1e42.length-1;i>=0;i--){var stop=_1e30.createElement("stop");_1e30.setAttribute(stop,"offset",parseFloat(_1e42[i].offset)*100+"%");_1e30.setAttribute(stop,"stop-color",_1e42[i].foreColor);_1e30.setAttribute(stop,"stop-opacity","1");_1e43.appendChild(stop);}return _1e43;};_1e31.setVertical=function(_1e44,_1e45,Angle,_1e46,_1e47,_1e48){var _1e49=_1e30.createElement("linearGradient");_1e30.setAttribute(_1e49,"id",_1e44);_1e30.setAttribute(_1e49,"x1","0");_1e30.setAttribute(_1e49,"x2","0");_1e30.setAttribute(_1e49,"y1","0");_1e30.setAttribute(_1e49,"y2","1");for(var i=_1e48.length-1;i>=0;i--){var stop=_1e30.createElement("stop");_1e30.setAttribute(stop,"offset",parseFloat(_1e48[i].offset)*100+"%");_1e30.setAttribute(stop,"stop-color",_1e48[i].foreColor);_1e30.setAttribute(stop,"stop-opacity","1");_1e49.appendChild(stop);}return _1e49;};_1e31.setCustom=function(_1e4a,_1e4b,Angle,_1e4c,_1e4d,_1e4e){var _1e4f=_1e30.createElement("linearGradient");_1e30.setAttribute(_1e4f,"id",_1e4a);return _1e4f;};return _1e31;});},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(_1e50,_1e51,_1e52){return _1e50("dojox.mobile.RoundRect",_1e52,{shadow:false,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);if(this.shadow){_1e51.add(this.domNode,"mblShadow");}}});});},"viewer/object/Group":function(){define(["dojo/_base/declare","./_base","dojo/_base/lang","dojo/text!./group.html","dojo/dom-construct","../misc/enums","../misc/gui/helpers/svg"],function(_1e53,_1e54,lang,_1e55,_1e56,enums,_1e57){return _1e53("viewer.object.Group",_1e54,{templateString:_1e55,_children:null,_scaleW:null,_originalWidth:null,_scaleH:null,_originalHeight:null,_commandNode:null,_acturalMatrix:null,_lastBlinkInvisibleSpeedTime:0,_lastBlinkInvisible:false,_lastIsVisible:true,_lastDisabled:0,startup:function(){this.inherited(arguments);if(this._matrix==null){var _1e58=null;var p=0;_1e58=this.getChildren();for(var i=0;i<_1e58.length;i++){p=_1e58[i]._getPositionAttr();p.left=p.left-this._attr.position.left;p.top=p.top-this._attr.position.top;p.right=p.right-this._attr.position.left;p.bottom=p.bottom-this._attr.position.top;_1e58[i]._setPositionAttr(p);if(this._attr.engine!==enums.EnumRuntimeScadaEngine.ArchestrA){_1e58[i].cacheAttr();}if(_1e58[i]._rotationAngle){_1e58[i].updateRotation();}}}this._originalWidth=this._attr.size.w;this._scaleW=1;this._originalHeight=this._attr.size.h;this._scaleH=1;},setChildrenCaptions:function(){var _1e59=null;_1e59=this._getCachedChildren();this._setAllChildrenCaptions(_1e59);},_setAllChildrenCaptions:function(node){var i=0,_1e5a=null;for(i=0;i<node.length;i++){if(node[i].lazyTextRendering===true&&typeof node[i]._setCaptionAttr==="function"){node[i]._setCaptionAttr(node[i]._attr.caption);}if(typeof node[i]._getCachedChildren==="function"){_1e5a=node[i]._getCachedChildren();if(_1e5a!==null&&_1e5a.length>0){this._setAllChildrenCaptions(_1e5a);}}}},_getComponentAttr:function(){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){return this._getCommandNodeAttr();}return this.domNode;},_getClonedComponentAttr:function(){return lang.clone(this._getComponentAttr());},_getFrameScaleAttr:function(){return this._getCachedParent()._getFrameScaleAttr();},_setDefaultOrigin:function(){if(!this._matrix){this._guiHelper.applyOrigin(this.domNode,{"x":"0","y":"0"});}},_getCommandNodeAttr:function(){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA&&this._attr.treatAsIcon){if(this._commandNode==null){this._commandNode=_1e56.create("div");this._commandNode.style.position="absolute";this._setCommandNodeRect();_1e56.place(this._commandNode,this.domNode,"last");}return this._commandNode;}return this.domNode;},_setCommandNodeRect:function(){var _1e5b=this._getCommandNodeAttr();if(_1e5b!=this.domNode){this._guiHelper.setLeft(_1e5b,this._attr.position.left+"px");this._guiHelper.setTop(_1e5b,this._attr.position.top+"px");this._guiHelper.setWidth(_1e5b,this._attr.size.w+"px");this._guiHelper.setHeight(_1e5b,this._attr.size.h+"px");}},setChildrenAttr:function(value){if(!this._children){this._children=new Array();}this._children.push(value);},getChildrenAttr:function(value){if(!this._children){return new Array();}return this._children;},_setOutlineVisibility:function(_1e5c){if(this._lastIsVisible==_1e5c){return;}this._lastIsVisible=_1e5c;this.inherited(arguments);if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){var _1e5d=this._getCachedChildren();for(var i=0;i<_1e5d.length;i++){_1e5d[i]._setOutlineVisibility(_1e5c&&_1e5d[i].isVisible());}}},_setDisableAttr:function(v){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this.disable=(isNaN(v)===true?0:v);if(this._getParentDisableAttr()){this.disable=1;}this.applyDisable(null,this.disable);this.setChildrenDisableAttr();}else{this.inherited(arguments);}},setChildrenDisableAttr:function(){if(this._children){if(this.disable==this._lastDisabled){return;}this._lastDisabled=this.disable;if(this.disable){for(var i=0;i<this._children.length;i++){this._children[i]._setDisableAttr(1);}}else{for(var i=0;i<this._children.length;i++){if(this._children[i]._attr._animations&&this._children[i]._attr._animations.animationDisable){this._children[i]._attr._animations.animationDisable._execUpdate();}else{this._children[i]._setDisableAttr(0);}}}}},_setProWidthAttr:function(v){if(isNaN(parseFloat(v))){return false;}var _1e5e=0;if(parseFloat(v)<_1e5e){v=_1e5e;}this._attr.size.w=parseFloat(v);increasedWidth=this._attr.size.w-this._originalWidth;if(increasedWidth>0){this._scaleW=1+Math.abs(increasedWidth)/this._originalWidth;}if(increasedWidth<0){this._scaleW=1-Math.abs(increasedWidth)/this._originalWidth;}this._setProSizeAttr();},_setProHeightAttr:function(v){if(isNaN(parseFloat(v))){return false;}var _1e5f=0;if(parseFloat(v)<_1e5f){v=_1e5f;}this._attr.size.h=parseFloat(v);increasedHeight=this._attr.size.h-this._originalHeight;if(increasedHeight>0){this._scaleH=1+Math.abs(increasedHeight)/this._originalHeight;}if(increasedHeight<0){this._scaleH=1-Math.abs(increasedHeight)/this._originalHeight;}this._setProSizeAttr();},_setProSizeAttr:function(){var o={};o.scale="("+this._scaleW+","+this._scaleH+")";this._guiHelper.applyTransform(this.domNode,o,0);},_applyMatrix:function(_1e60,_1e61,_1e62){var _1e63=_1e60.split(",");if(_1e63.length>=6){for(var i=0;i<_1e63.length;i++){_1e63[i]=parseFloat(_1e63[i]);}var _1e64=_1e61!=null?parseFloat(_1e61):-1*parseFloat(this._originalGeometry.x);var _1e65=_1e62!=null?parseFloat(_1e62):-1*parseFloat(this._originalGeometry.y);var _1e66=_1e57.multiplyMatrix([1,0,0,1,_1e64,_1e65],_1e63);this._guiHelper.applyTransform(this.domNode,{"matrix":"("+_1e66[0]+","+_1e66[1]+","+_1e66[2]+","+_1e66[3]+","+_1e66[4]+","+_1e66[5]+")"});this._acturalMatrix=_1e66;}},updateRotation:function(){this._updatePan();},_getAbsBoundBaseRect:function(){return this._initialGeometry;},_getCurrentActualMatrix:function(){return this._acturalMatrix?this._acturalMatrix:this._getCurrentMatrix();},_getAbsBoundsPointsMatrix:function(){return this._svgGuiHelper.multiplyMatrix(this._getCurrentMatrix(),this._getParentTotalMatrix());},getParentBlinkSpeedTime:function(){var _1e67=this._lastBlinkInvisibleSpeedTime;var _1e68=this._getCachedParent();if(_1e68==null||_1e68.getParentBlinkSpeedTime==null){return _1e67;}var _1e69=_1e68.getParentBlinkSpeedTime();if(_1e67<=0){return _1e69;}return (_1e69>0&&_1e69<_1e67)?_1e69:_1e67;},_setBlinkInvisible:function(_1e6a,_1e6b){if(this._lastBlinkInvisible==_1e6a){return;}this._lastBlinkInvisible=_1e6a;this._lastBlinkInvisibleSpeedTime=_1e6a?this.getBlinkSpeedTime(_1e6b):0;},_createOutline:function(){},_updateStyles:function(_1e6c,_1e6d,_1e6e){if(this._attr&&this._attr.treatAsIcon){var _1e6f=this._isStyleUpdated(_1e6d);if(_1e6c||_1e6f){this._updateOutlineStyles(_1e6e||_1e6d);if(!_1e6e||!_1e6d){var _1e70=this._getCachedChildren();for(var i=0;i<_1e70.length;i++){if(_1e70[i]&&_1e70[i]._updateFillLineTextStyles){_1e70[i]._updateFillLineTextStyles();}}}}else{if(this._outlineObj&&this._outlineObj.assignToDirectParent){this._updateOutlineRect(_1e6e||_1e6d);}}return _1e6f;}else{return this.inherited(arguments);}},_updateFillLineTextStyles:function(_1e71){if(_1e71){return;}var _1e72=this._getCachedChildren();for(var i=0;i<_1e72.length;i++){if(_1e72[i]&&_1e72[i]._updateFillLineTextStyles){_1e72[i]._updateFillLineTextStyles();}}},_executeBlinks:function(_1e73,_1e74,_1e75,_1e76){if(this._attr&&(_1e76===true||this._attr.treatAsIcon)){var _1e77=this._isStyleUpdated(_1e74);if(_1e73||_1e77){this._executeOutlineBlinks(_1e75||_1e74);this._executeBlinkInvisible(true);if(!_1e75||!_1e74){var _1e78=this._getCachedChildren();for(var i=0;i<_1e78.length;i++){if(_1e78[i]&&_1e78[i]._executeFillLineTextBlinks){_1e78[i]._executeFillLineTextBlinks();}}}}return _1e77;}else{return this.inherited(arguments);}},_executeFillLineTextBlinks:function(_1e79){this._executeBlinkInvisible(true);if(_1e79){return;}var _1e7a=this._getCachedChildren();for(var i=0;i<_1e7a.length;i++){if(_1e7a[i]&&_1e7a[i]._executeFillLineTextBlinks){_1e7a[i]._executeFillLineTextBlinks();}}},clearBlink:function(_1e7b){if(_1e7b==enums.EnumElementStyleType.OUTLINESTYLE){return this.inherited(arguments);}else{this.inherited(arguments);if(this._attr&&this._attr.treatAsIcon){var _1e7c=this._getCachedChildren();for(var i=0;i<_1e7c.length;i++){if(_1e7c[i]&&_1e7c[i].clearBlink){_1e7c[i].clearBlink(_1e7b);}}}}},clearAllBlink:function(){this.inherited(arguments);if(this._attr&&this._attr.treatAsIcon){var _1e7d=this._getCachedChildren();for(var i=0;i<_1e7d.length;i++){if(_1e7d[i]&&_1e7d[i].clearAllBlink){_1e7d[i].clearAllBlink();}}}},hide:function(){this.inherited(arguments);var _1e7e=this._getCachedChildren();for(var i=0;i<_1e7e.length;i++){if(_1e7e[i]&&_1e7e[i].hide){_1e7e[i].hide();}}},show:function(){this.inherited(arguments);var _1e7f=this._getCachedChildren();for(var i=0;i<_1e7f.length;i++){if(_1e7f[i]&&_1e7f[i].show){_1e7f[i].show();}}}});});},"viewer/screens/Screen":function(){define(["dojo/_base/declare","./_base"],function(_1e80,_1e81){return _1e80("viewer.screens.Screen",_1e81,{stopEvents:[],startup:function(){this.inherited(arguments);},});});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_1e82,fx,dom,_1e83,_1e84,_1e85,lang,mouse,on,has,_1e86,place,_1e87,_1e88,_1e89,_1e8a,dijit){var _1e8b=_1e82("dijit._MasterTooltip",[_1e87,_1e88],{duration:_1e86.defaultDuration,templateString:_1e8a,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _1e89(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_1e8c,_1e8d,_1e8e,rtl,_1e8f){if(this.aroundNode&&this.aroundNode===_1e8d&&this.containerNode.innerHTML==_1e8c){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_1e8c;if(_1e8f){this.set("textDir",_1e8f);}this.containerNode.align=rtl?"right":"left";var pos=place.around(this.domNode,_1e8d,_1e8e&&_1e8e.length?_1e8e:_1e90.defaultPosition,!rtl,lang.hitch(this,"orient"));var _1e91=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1e91.y+((_1e91.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1e91.x+((_1e91.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_1e85.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_1e8d;},orient:function(node,_1e92,_1e93,_1e94,_1e95){this.connectorNode.style.top="";var _1e96=_1e94.h,_1e97=_1e94.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1e92+"-"+_1e93];this.domNode.style.width="auto";var size=_1e84.position(this.domNode);if(has("ie")==9){size.w+=2;}var width=Math.min((Math.max(_1e97,1)),size.w);_1e84.setMarginBox(this.domNode,{w:width});if(_1e93.charAt(0)=="B"&&_1e92.charAt(0)=="B"){var bb=_1e84.position(node);var _1e98=this.connectorNode.offsetHeight;if(bb.h>_1e96){var _1e99=_1e96-((_1e95.h+_1e98)>>1);this.connectorNode.style.top=_1e99+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_1e95.h/2-_1e98/2,0),bb.h-_1e98)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_1e97);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_1e9a){if(this._onDeck&&this._onDeck[1]==_1e9a){this._onDeck=null;}else{if(this.aroundNode===_1e9a){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_1e8b.extend({_setAutoTextDir:function(node){this.applyTextDir(node);array.forEach(node.children,function(child){this._setAutoTextDir(child);},this);},_setTextDirAttr:function(_1e9b){this._set("textDir",_1e9b);if(_1e9b=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}dijit.showTooltip=function(_1e9c,_1e9d,_1e9e,rtl,_1e9f){if(_1e9e){_1e9e=array.map(_1e9e,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_1e90._masterTT){dijit._masterTT=_1e90._masterTT=new _1e8b();}return _1e90._masterTT.show(_1e9c,_1e9d,_1e9e,rtl,_1e9f);};dijit.hideTooltip=function(_1ea0){return _1e90._masterTT&&_1e90._masterTT.hide(_1ea0);};var _1e90=_1e82("dijit.Tooltip",_1e87,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){array.forEach(this._connections||[],function(_1ea1){array.forEach(_1ea1,function(_1ea2){_1ea2.remove();});},this);this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=array.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_1ea3=this.selector,_1ea4=_1ea3?function(_1ea5){return on.selector(_1ea3,_1ea5);}:function(_1ea6){return _1ea6;},self=this;return [on(node,_1ea4(mouse.enter),function(){self._onHover(this);}),on(node,_1ea4("focusin"),function(){self._onHover(this);}),on(node,_1ea4(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_1ea4("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",newId);},addTarget:function(node){var id=node.id||node;if(array.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=array.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_1e83.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_1ea7){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_1ea7);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_1ea8){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _1ea9=this.getContent(_1ea8);if(!_1ea9){return;}_1e90.show(_1ea9,_1ea8,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_1ea8;this.onShow(_1ea8,this.position);},close:function(){if(this._connectNode){_1e90.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();array.forEach(this._connections||[],function(_1eaa){array.forEach(_1eaa,function(_1eab){_1eab.remove();});},this);this.inherited(arguments);}});_1e90._MasterTooltip=_1e8b;_1e90.show=dijit.showTooltip;_1e90.hide=dijit.hideTooltip;_1e90.defaultPosition=["after-centered","before-centered"];return _1e90;});},"dojox/charting/plot2d/StackedAreas":function(){define(["dojo/_base/declare","./Stacked"],function(_1eac,_1ead){return _1eac("dojox.charting.plot2d.StackedAreas",_1ead,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(array,_1eae,event,lang,win,_1eaf,_1eb0,_1eb1,_1eb2,_1eb3){return _1eae("dojox.mobile.RoundRectList",[_1eb3,_1eb2,_1eb1],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,syncWithViews:false,editable:false,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||_1eaf.create(this.tag);if(this.select){_1eb0.set(this.domNode,"role","listbox");if(this.select==="multiple"){_1eb0.set(this.domNode,"aria-multiselectable","true");}}this.inherited(arguments);},postCreate:function(){if(this.editable){require([this.editableMixinClass],lang.hitch(this,function(_1eb4){_1eae.safeMixin(this,new _1eb4());}));}this.connect(this.domNode,"onselectstart",event.stop);if(this.syncWithViews){var f=function(view,_1eb5,dir,_1eb6,_1eb7,_1eb8){var child=array.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id;})[0];if(child){child.set("selected",true);}};this.subscribe("/dojox/mobile/afterTransitionIn",f);this.subscribe("/dojox/mobile/startView",f);}},resize:function(){array.forEach(this.getChildren(),function(child){if(child.resize){child.resize();}});},onCheckStateChanged:function(){},_setStatefulAttr:function(_1eb9){this._set("stateful",_1eb9);this.selectOne=_1eb9;array.forEach(this.getChildren(),function(child){child.setArrow&&child.setArrow();});},deselectItem:function(item){item.set("selected",false);},deselectAll:function(){array.forEach(this.getChildren(),function(child){child.set("selected",false);});},selectItem:function(item){item.set("selected",true);}});});},"dojox/mobile/_DatePickerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/date","dojo/date/locale","dojo/date/stamp"],function(array,_1eba,lang,ddate,_1ebb,_1ebc){var _1ebd={format:function(d){return _1ebb.format(d,{datePattern:this.pattern,selector:"date"});}};var _1ebe=lang.mixin({initLabels:function(){this.labels=[];if(this.labelFrom!==this.labelTo){var d=new Date(this.labelFrom,0,1);var i,idx;for(i=this.labelFrom,idx=0;i<=this.labelTo;i++,idx++){d.setFullYear(i);this.labels.push(this.format(d));}}}},_1ebd);var _1ebf=lang.mixin({initLabels:function(){this.labels=[];var d=new Date(2000,0,16);for(var i=0;i<12;i++){d.setMonth(i);this.labels.push(this.format(d));}}},_1ebd);var _1ec0=lang.mixin({initLabels:function(){this.labels=[];var d=new Date(2000,0,1);for(var i=1;i<=31;i++){d.setDate(i);this.labels.push(this.format(d));}}},_1ebd);return _1eba("dojox.mobile._DatePickerMixin",null,{yearPattern:"yyyy",monthPattern:"MMM",dayPattern:"d",initSlots:function(){var c=this.slotClasses,p=this.slotProps;c[0]=_1eba(c[0],_1ebe);c[1]=_1eba(c[1],_1ebf);c[2]=_1eba(c[2],_1ec0);p[0].pattern=this.yearPattern;p[1].pattern=this.monthPattern;p[2].pattern=this.dayPattern;this.reorderSlots();},reorderSlots:function(){if(this.slotOrder.length){return;}var a=_1ebb._parseInfo().bundle["dateFormat-short"].toLowerCase().split(/[^ymd]+/,3);this.slotOrder=array.map(a,function(pat){return {y:0,m:1,d:2}[pat.charAt(0)];});},reset:function(){var now=new Date();var v=array.map(this.slots,function(w){return w.format(now);});this.set("colors",v);this._disableEndDaysOfMonth();if(this.value){this.set("value",this.value);this.value=null;}else{if(this.values){this.set("values",this.values);this.values=null;}else{this.set("values",v);}}},_onYearSet:function(){var slot=this.slots[0];var _1ec1=slot.get("value");if(!(slot._previousValue&&_1ec1==slot._previousValue)){this._disableEndDaysOfMonth();slot._previousValue=_1ec1;slot._set("value",_1ec1);this.onYearSet();}},onYearSet:function(){},_onMonthSet:function(){var slot=this.slots[1];var _1ec2=slot.get("value");if(!(slot._previousValue&&_1ec2==slot._previousValue)){this._disableEndDaysOfMonth();slot._previousValue=_1ec2;slot._set("value",_1ec2);this.onMonthSet();}},onMonthSet:function(){},_onDaySet:function(){var slot=this.slots[2];var _1ec3=slot.get("value");if(!(slot._previousValue&&_1ec3==slot._previousValue)){if(!this._disableEndDaysOfMonth()){slot._previousValue=_1ec3;slot._set("value",_1ec3);this.onDaySet();}}},onDaySet:function(){},_disableEndDaysOfMonth:function(){var pat=this.slots[0].pattern+"/"+this.slots[1].pattern,v=this.get("values"),date=_1ebb.parse(v[0]+"/"+v[1],{datePattern:pat,selector:"date"}),_1ec4=ddate.getDaysInMonth(date);var _1ec5=false;if(_1ec4<v[2]){_1ec5=true;this.slots[2]._spinToValue(_1ec4,false);}this.disableValues(_1ec4);return _1ec5;},_getDateAttr:function(){var v=this.get("values"),s=this.slots,pat=s[0].pattern+"/"+s[1].pattern+"/"+s[2].pattern;return _1ebb.parse(v[0]+"/"+v[1]+"/"+v[2],{datePattern:pat,selector:"date"});},_setValuesAttr:function(_1ec6){array.forEach(this.getSlots(),function(w,i){var v=_1ec6[i];if(typeof v=="number"){var arr=[1970,1,1];arr.splice(i,1,v-0);v=w.format(new Date(arr[0],arr[1]-1,arr[2]));}w.set("value",v);});},_setValueAttr:function(value){var date=_1ebc.fromISOString(value);this.set("values",array.map(this.slots,function(w){return w.format(date);}));},_getValueAttr:function(){return _1ebc.toISOString(this.get("date"),{selector:"date"});}});});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"viewer/animation/LineStyle":function(){define(["dojo/_base/declare","./_base","dojo/dom-construct","../misc/gui/helpers/svg","../misc/enums","../misc/common/elementStyleContainer"],function(_1ec7,_1ec8,_1ec9,_1eca,enums,_1ecb){return _1ec7("viewer.animation.LineStyle",_1ec8,{_node:null,_curStyle:null,_component:null,_curExex:true,constructor:function(_1ecc,_1ecd){this.inherited(arguments);},destroy:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);},_execUpdate:function(){this._curStyle=this.operatorHandle(this._animProps.limitExpr,this._animProps.LineStyles);var _1ece=this._widget._updateStyles();this._widget._executeBlinks(_1ece);},onChangeProperty:function(prop){if(prop.propName!=="changeLimit"){return;}for(var i=0;i<this._animProps.LineStyles.length;i++){if(this._animProps.LineStyles[i].changeLimit.id===prop.id){this._animProps.LineStyles[i].value=prop.value;break;}}this._animProps.LineStyles.sort(function(a,b){return a.value-b.value;});}});});},"dojox/gauges/BarLineIndicator":function(){define(["dojo/_base/declare","dojo/_base/fx","dojo/_base/connect","dojo/_base/lang","dojox/gfx","./_Indicator"],function(_1ecf,fx,_1ed0,lang,gfx,_1ed1){return _1ecf("dojox.gauges.BarLineIndicator",[_1ed1],{width:1,_getShapes:function(group){if(!this._gauge){return null;}var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var pos=this._gauge._getPosition(v);var _1ed2=[];if(this.width>1){_1ed2[0]=group.createRect({x:0,y:this._gauge.dataY+this.offset,width:this.width,height:this.length});_1ed2[0].setStroke({color:this.color});_1ed2[0].setFill(this.color);_1ed2[0].setTransform(gfx.matrix.translate(pos,0));}else{_1ed2[0]=group.createLine({x1:0,y1:this._gauge.dataY+this.offset,x2:0,y2:this._gauge.dataY+this.offset+this.length});_1ed2[0].setStroke({color:this.color});_1ed2[0].setTransform(gfx.matrix.translate(pos,0));}return _1ed2;},draw:function(group,_1ed3){var i;if(this.shape){this._move(_1ed3);}else{if(this.shape){this.shape.parent.remove(this.shape);this.shape=null;}if(this.text){this.text.parent.remove(this.text);this.text=null;}this.color=this.color||"#000000";this.length=this.length||this._gauge.dataHeight;this.width=this.width||3;this.offset=this.offset||0;this.highlight=this.highlight||"#4D4D4D";this.highlight2=this.highlight2||"#A3A3A3";var _1ed4=this._getShapes(group,this._gauge,this);if(_1ed4.length>1){this.shape=group.createGroup();for(var s=0;s<_1ed4.length;s++){this.shape.add(_1ed4[s]);}}else{this.shape=_1ed4[0];}if(this.label){var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var pos=this._gauge._getPosition(v);if(this.direction=="inside"){var font=this.font?this.font:gfx.defaultFont;var fz=font.size;var th=gfx.normalizedLength(fz);this.text=this._gauge.drawText(group,""+this.label,pos,this._gauge.dataY+this.offset+this.length+5+th,"middle",this.color,this.font);}else{this.text=this._gauge.drawText(group,""+this.label,pos,this._gauge.dataY+this.offset-5,"middle",this.color,this.font);}}this.shape.connect("onmouseover",this,this.handleMouseOver);this.shape.connect("onmouseout",this,this.handleMouseOut);this.shape.connect("onmousedown",this,this.handleMouseDown);this.shape.connect("touchstart",this,this.handleTouchStart);this.currentValue=this.value;}},_move:function(_1ed5){var v=this.value;if(v<this._gauge.min){v=this._gauge.min;}if(v>this._gauge.max){v=this._gauge.max;}var c=this._gauge._getPosition(this.currentValue);this.currentValue=v;v=this._gauge._getPosition(v);if(_1ed5||(c==v)){this.shape.setTransform(gfx.matrix.translate(v,0));}else{var anim=new fx.Animation({curve:[c,v],duration:this.duration,easing:this.easing});_1ed0.connect(anim,"onAnimate",lang.hitch(this,function(jump){if(this.shape){this.shape.setTransform(gfx.matrix.translate(jump,0));}}));anim.play();}}});});},"dojox/gesture/Base":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom","dojo/on","dojo/touch","dojo/has","../main"],function(_1ed6,_1ed7,array,lang,dom,on,touch,has,dojox){_1ed6.experimental("dojox.gesture.Base");lang.getObject("gesture",true,dojox);return _1ed7(null,{defaultEvent:" ",subEvents:[],touchOnly:false,_elements:null,constructor:function(args){lang.mixin(this,args);this.init();},init:function(){this._elements=[];if(!has("touch")&&this.touchOnly){console.warn("Gestures:[",this.defaultEvent,"] is only supported on touch devices!");return;}var evt=this.defaultEvent;this.call=this._handle(evt);this._events=[evt];array.forEach(this.subEvents,function(_1ed8){this[_1ed8]=this._handle(evt+"."+_1ed8);this._events.push(evt+"."+_1ed8);},this);},_handle:function(_1ed9){var self=this;return function(node,_1eda){var a=arguments;if(a.length>2){node=a[1];_1eda=a[2];}var _1edb=node&&(node.nodeType||node.attachEvent||node.addEventListener);if(!_1edb){return on(node,_1ed9,_1eda);}else{var _1edc=self._add(node,_1ed9,_1eda);var _1edd={remove:function(){_1edc.remove();self._remove(node,_1ed9);}};return _1edd;}};},_add:function(node,type,_1ede){var _1edf=this._getGestureElement(node);if(!_1edf){_1edf={target:node,data:{},handles:{}};var _1ee0=lang.hitch(this,"_process",_1edf,"press");var _1ee1=lang.hitch(this,"_process",_1edf,"move");var _1ee2=lang.hitch(this,"_process",_1edf,"release");var _1ee3=lang.hitch(this,"_process",_1edf,"cancel");var _1ee4=_1edf.handles;if(this.touchOnly){_1ee4.press=on(node,"touchstart",_1ee0);_1ee4.move=on(node,"touchmove",_1ee1);_1ee4.release=on(node,"touchend",_1ee2);_1ee4.cancel=on(node,"touchcancel",_1ee3);}else{_1ee4.press=touch.press(node,_1ee0);_1ee4.move=touch.move(node,_1ee1);_1ee4.release=touch.release(node,_1ee2);_1ee4.cancel=touch.cancel(node,_1ee3);}this._elements.push(_1edf);}_1edf.handles[type]=!_1edf.handles[type]?1:++_1edf.handles[type];return on(node,type,_1ede);},_getGestureElement:function(node){var i=0,_1ee5;for(;i<this._elements.length;i++){_1ee5=this._elements[i];if(_1ee5.target===node){return _1ee5;}}},_process:function(_1ee6,phase,e){e._locking=e._locking||{};if(e._locking[this.defaultEvent]||this.isLocked(e.currentTarget)){return;}if((e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"){e.preventDefault();}e._locking[this.defaultEvent]=true;this[phase](_1ee6.data,e);},press:function(data,e){},move:function(data,e){},release:function(data,e){},cancel:function(data,e){},fire:function(node,event){if(!node||!event){return;}event.bubbles=true;event.cancelable=true;on.emit(node,event.type,event);},_remove:function(node,type){var _1ee7=this._getGestureElement(node);if(!_1ee7||!_1ee7.handles){return;}_1ee7.handles[type]--;var _1ee8=_1ee7.handles;if(!array.some(this._events,function(evt){return _1ee8[evt]>0;})){this._cleanHandles(_1ee8);var i=array.indexOf(this._elements,_1ee7);if(i>=0){this._elements.splice(i,1);}}},_cleanHandles:function(_1ee9){for(var x in _1ee9){if(_1ee9[x].remove){_1ee9[x].remove();}delete _1ee9[x];}},lock:function(node){this._lock=node;},unLock:function(){this._lock=null;},isLocked:function(node){if(!this._lock||!node){return false;}return this._lock!==node&&dom.isDescendant(node,this._lock);},destroy:function(){array.forEach(this._elements,function(_1eea){this._cleanHandles(_1eea.handles);},this);this._elements=null;}});});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_1eeb,lang,_1eec,_1eed,_1eee,_1eef,html,_1ef0,array,_1ef1,_1ef2,dom,_1ef3,_1ef4,xhr,i18n,when){return _1ef1("dijit.layout.ContentPane",[_1eec,_1eed,_1eee],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_1eeb._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_1ef5,node,ctor){var self=new ctor(_1ef5,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_1ef6,_1ef7){if((!_1ef6||!_1ef6.template)&&_1ef7&&!("href" in _1ef6)&&!("content" in _1ef6)){_1ef7=dom.byId(_1ef7);var df=_1ef7.ownerDocument.createDocumentFragment();while(_1ef7.firstChild){df.appendChild(_1ef7.firstChild);}_1ef6=lang.delegate(_1ef6,{content:df});}this.inherited(arguments,[_1ef6,_1ef7]);},postMixInProperties:function(){this.inherited(arguments);var _1ef8=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_1eef.substitute(this.loadingMessage,_1ef8);this.errorMessage=_1eef.substitute(this.errorMessage,_1ef8);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_1eeb.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _1ef2(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_1eeb.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _1ef2(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1ef9){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _1ef2(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _1efa={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_1efa,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_1efa)),_1efb;hand.then(function(html){_1efb=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _1efb;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_1efc){if(this.isLoaded){this._onUnloadHandler();}var _1efd=this._contentSetter;array.forEach(this.getChildren(),function(_1efe){if(_1efe.destroyRecursive){_1efe.destroyRecursive(_1efc);}else{if(_1efe.destroy){_1efe.destroy(_1efc);}}_1efe._destroyed=true;});if(_1efd){array.forEach(_1efd.parseResults,function(_1eff){if(!_1eff._destroyed){if(_1eff.destroyRecursive){_1eff.destroyRecursive(_1efc);}else{if(_1eff.destroy){_1eff.destroy(_1efc);}}_1eff._destroyed=true;}});delete _1efd.parseResults;}if(!_1efc){_1ef4.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_1f00){this.destroyDescendants();var _1f01=this._contentSetter;if(!(_1f01&&_1f01 instanceof html._ContentSetter)){_1f01=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _1f02=this.onContentError(e);try{this.containerNode.innerHTML=_1f02;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _1f03=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_1f01.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_1f03);var self=this;return when(p&&p.then?p:_1f01.parseDeferred,function(){delete self._contentSetterParams;if(!_1f00){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_1f04){this.onLoadDeferred.reject(err);var _1f05=this["on"+type+"Error"].call(this,err);if(_1f04){console.error(_1f04,err);}else{if(_1f05){this._setContent(_1f05,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_1f06,_1f07,lang,array){return _1f06("dojox.grid._SelectionPreserver",null,{constructor:function(_1f08){this.selection=_1f08;var grid=this.grid=_1f08.grid;this.reset();this._connects=[_1f07.connect(grid,"_setStore",this,"reset"),_1f07.connect(grid,"_addItem",this,"_reSelectById"),_1f07.connect(_1f08,"onSelected",lang.hitch(this,"_selectById",true)),_1f07.connect(_1f08,"onDeselected",lang.hitch(this,"_selectById",false)),_1f07.connect(_1f08,"deselectAll",this,"reset")];},destroy:function(){this.reset();array.forEach(this._connects,_1f07.disconnect);delete this._connects;},reset:function(){this._selectedById={};},_reSelectById:function(item,index){if(item&&this.grid._hasIdentity){this.selection.selected[index]=this._selectedById[this.grid.store.getIdentity(item)];}},_selectById:function(_1f09,_1f0a){if(this.selection.mode=="none"||!this.grid._hasIdentity){return;}var item=_1f0a,g=this.grid;if(typeof _1f0a=="number"||typeof _1f0a=="string"){var entry=g._by_idx[_1f0a];item=entry&&entry.item;}if(item){this._selectedById[g.store.getIdentity(item)]=!!_1f09;}return item;}});});},"viewer/object/action/PushButton":function(){define(["dojo/_base/declare","../_base","dojo/text!./pushButton.html"],function(_1f0b,_1f0c,_1f0d){return _1f0b("viewer.object.action.PushButton",_1f0c,{templateString:_1f0d,buttonColor:null,openColor:null,openCaption:null});});},"dojox/gauges/AnalogNeedleIndicator":function(){define(["dojo/_base/declare","./AnalogIndicatorBase"],function(_1f0e,_1f0f){return _1f0e("dojox.gauges.AnalogNeedleIndicator",[_1f0f],{_getShapes:function(group){if(!this._gauge){return null;}var x=Math.floor(this.width/2);var _1f10=[];var color=this.color?this.color:"black";var _1f11=this.strokeColor?this.strokeColor:color;var _1f12=this.strokeWidth?this.strokeWidth:1;var _1f13={color:_1f11,width:_1f12};if(color.type&&!this.strokeColor){_1f13.color=color.colors[0].color;}var xy=(Math.sqrt(2)*(x));_1f10[0]=group.createPath().setStroke(_1f13).setFill(color).moveTo(xy,-xy).arcTo((2*x),(2*x),0,0,0,-xy,-xy).lineTo(0,-this.length).closePath();_1f10[1]=group.createCircle({cx:0,cy:0,r:this.width}).setStroke(_1f13).setFill(color);return _1f10;}});});},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(_1f14,on){return _1f14("dojox.mobile.TransitionEvent",null,{constructor:function(_1f15,_1f16,_1f17){this.transitionOptions=_1f16;this.target=_1f15;this.triggerEvent=_1f17||null;},dispatch:function(){var opts={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",opts);}});});},"dojox/gesture/swipe":function(){define(["dojo/_base/kernel","dojo/_base/declare","./Base","../main"],function(_1f18,_1f19,Base,dojox){_1f18.experimental("dojox.gesture.swipe");var clz=_1f19(Base,{defaultEvent:"swipe",subEvents:["end"],press:function(data,e){if(e.touches&&e.touches.length>=2){delete data.context;return;}if(!data.context){data.context={x:0,y:0,t:0};}data.context.x=e.screenX;data.context.y=e.screenY;data.context.t=new Date().getTime();this.lock(e.currentTarget);},move:function(data,e){this._recognize(data,e,"swipe");},release:function(data,e){this._recognize(data,e,"swipe.end");delete data.context;this.unLock();},cancel:function(data,e){delete data.context;this.unLock();},_recognize:function(data,e,type){if(!data.context){return;}var info=this._getSwipeInfo(data,e);if(!info){return;}info.type=type;this.fire(e.target,info);},_getSwipeInfo:function(data,e){var dx,dy,info={},_1f1a=data.context;info.time=new Date().getTime()-_1f1a.t;dx=e.screenX-_1f1a.x;dy=e.screenY-_1f1a.y;if(dx===0&&dy===0){return null;}info.dx=dx;info.dy=dy;return info;}});dojox.gesture.swipe=new clz();dojox.gesture.swipe.Swipe=clz;return dojox.gesture.swipe;});},"viewer/object/action/Button":function(){define(["dojo/_base/declare","../_base","../../misc/enums","dojo/text!./button.html"],function(_1f1b,_1f1c,enums,_1f1d){return _1f1b("viewer.object.action.Button",_1f1c,{templateString:_1f1d,caption:null,_mask:null,_componentType:enums.EnumComponentType.REGULAR,buildRendering:function(){this.inherited(arguments);if(this._attr.background){this.setFillColor(this._attr.background);}},startup:function(){this.inherited(arguments);if(dojo.isSafari&&this._attr.buttonStyle!=="OSLike"){dojo.addClass(this._xComponent,"IOSButton");}},setColor:function(color){if(this._attr.engine!=enums.EnumRuntimeScadaEngine.ArchestrA){this._TransferButtonStyle(color.color,true);}},_setProWidthAttr:function(v){if(isNaN(parseFloat(v))){return false;}this._guiHelper.setWidth(this._xComponent,v+"px");this._setWidthAttr(v);},_setProHeightAttr:function(v){if(isNaN(parseFloat(v))){return false;}this._guiHelper.setHeight(this._xComponent,v+"px");this._setHeightAttr(v);},_setCaptionAttr:function(v,ret){if(this._mask===null){this._mask=v;}if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._attr.caption=v;}else{if(typeof (ret)!="undefined"&&typeof (ret.quality)!="undefined"&&(ret.quality&255)<192){this._attr.caption="";for(var i=0;i<v.length;i++){this._attr.caption+="?";}}else{this._attr.caption=v;}}if(!this._attr.font.fontWeight){this._attr.font.fontWeight="bold";}if(!this._attr.margin){this._attr.margin=5;}var _1f1e=this._attr.margin-2;var prop={rect:{w:this._attr.size.w,h:this._attr.size.h},align:this._attr.align,multiline:this._attr.multiline,wrapText:this._attr.wrapText||this._attr.wraptext,font:this._attr.font,padding:_1f1e};var _1f1f=2;var _1f20=_1f1e*2+_1f1f*2;var _1f21=this._attr.size.w;var _1f22=this._attr.size.h;var _1f23=_1f21-_1f20;if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._guiHelper.setText(this._xComponent,this._attr.caption,prop);this._guiHelper.setTop(this._xComponent,"0.0em");dojo.style(this._xComponent,"text-overflow","ellipsis");return;}else{if(this._attr.background){this._TransferButtonStyle(this._attr.background.color,false);}}if(!this._attr.align){prop.align=enums.EnumAlign.TOP_LEFT;}this._guiHelper.setPosition(this._xComponent,"relative");this._guiHelper.setAlignToText(this._xComponent,prop);this._guiHelper.setAlignToVertical(this._xComponent,prop);this._guiHelper.setPadding(this._xComponent,_1f1e+"px");if(this._IsAlignRight(prop)){this._guiHelper.setDirection(this._xComponent,"rtl");}this._guiHelper.setDisplay(this._xSpan,"block");this._xSpan.innerText=this._guiHelper.setMultieLineAndWrap(this._xComponent,this._attr.caption,prop);if(this._IsOverHeight(this._xSpan,_1f22,_1f20)){if(this._IsClipCenter(prop)){this._ClipCenterRect(prop,_1f1e,_1f1f,_1f22,_1f21,true,_1f20);}else{this._ClipRectInOverHeight(_1f1e,prop,_1f22,_1f21,_1f20,_1f1f);}return;}if(this._IsClipCenter(prop)){this._ClipCenterRect(prop,_1f1e,_1f1f,_1f22,_1f21);return;}var _1f24=this._guiHelper.getHeight(this._xSpan);if(prop.align==enums.EnumAlign.CENTER){this._guiHelper.setPosition(this._xSpan,"absolute");if(this._IsOverWidth(this._xSpan,_1f21,_1f20)){spanTop=(_1f22-_1f24)/2;this._guiHelper.setTop(this._xSpan,spanTop+"px");}else{this._guiHelper.setPosition(this._xSpan,"");}}if(prop.align==enums.EnumAlign.CENTER_RIGHT||prop.align==enums.EnumAlign.CENTER_LEFT){this._guiHelper.setPosition(this._xSpan,"absolute");this._guiHelper.setTop(this._xSpan,parseFloat((_1f22-_1f24)/2-_1f1f).toString()+"px");}if(this._IsAlignTop(prop)){if(parseInt(this._attr.margin)===5){_1f1e=1;}else{_1f1e=prop.padding;}this._guiHelper.setTop(this._xSpan,_1f1e+"px");this._guiHelper.setPosition(this._xSpan,"absolute");}if(this._IsAlignBottom(prop)){if(parseInt(this._attr.margin)===5){_1f1e=2;}else{_1f1e=prop.padding;}this._guiHelper.setBottom(this._xSpan,_1f1e+"px");this._guiHelper.setPosition(this._xSpan,"absolute");}this._guiHelper.setWidth(this._xSpan,_1f23+"px");this._ClipRect(prop.align,_1f22,_1f23,_1f24,_1f1e,_1f20);},Change3DSharpStyle:function(_1f25){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){return;}if(!this.isIE()){return;}if(this._attr.buttonStyle==="Soft3D"){if(_1f25==="ondown"){this._guiHelper.setBorderColor(this._xComponent,"");}else{this._guiHelper.setBorderColor(this._xComponent,"white");}}if(this._attr.buttonStyle==="Sharp3D"){var _1f26=0;if(_1f25==="ondown"){_1f26=1;this._guiHelper.setBorderColor(this._xComponent,"");}else{this._guiHelper.setBorderColor(this._xComponent,"white");}if(parseInt(this._attr.size.h)>=80){this._guiHelper.setBorderWidth(this._xDiv,(8-parseInt(_1f26))+"px");}else{this._guiHelper.setBorderWidth(this._xDiv,parseInt(parseFloat(this._attr.size.h)/10)-parseInt(_1f26)+"px");}}},_TransferButtonStyle:function(_1f27,_1f28){var isIE=this.isIE();var _1f29="",_1f2a="";this._guiHelper.setDisplay(this._xDiv,"none");switch(this._attr.buttonStyle){case "Sharp3D":this._guiHelper.setBackgroundColor(this._xComponent,_1f27);if(isIE){this._guiHelper.setBorderColor(this._xComponent,"white");_1f2a=_1f27.replace("rgb","rgba");_1f2a=_1f2a.replace(")",", 0.5)");}else{_1f2a=_1f27;}if(parseInt(this._attr.size.h)>=80){this._guiHelper.setBorder(this._xDiv,"8px outset "+_1f2a);}else{this._guiHelper.setBorder(this._xDiv,parseInt(parseFloat(this._attr.size.h)/10)+"px outset "+_1f2a);}this._guiHelper.setWidth(this._xDiv,(parseFloat(this._attr.size.w)-3)+"px");this._guiHelper.setHeight(this._xDiv,(parseFloat(this._attr.size.h)-3)+"px");this._guiHelper.setDisplay(this._xDiv,"block");break;case "Soft3D":if(isIE){_1f29="125deg";this._guiHelper.setBorderColor(this._xComponent,"white");}else{_1f29="left top";}this._guiHelper.setBackgroundImage(this._xComponent,"-webkit-linear-gradient("+_1f29+", white, "+_1f27+" 50%, "+_1f27+" 60%, rgb(164,165,167))");this._guiHelper.setBackgroundImage(this._xComponent,"-moz-linear-gradient("+_1f29+",white, "+_1f27+" 50%, "+_1f27+" 60%, rgb(164,165,167))");this._guiHelper.setBackgroundImage(this._xComponent,"-o-linear-gradient("+_1f29+",white, "+_1f27+" 50%, "+_1f27+" 60%, rgb(164,165,167))");this._guiHelper.setBackgroundImage(this._xComponent,"-ms-linear-gradient("+_1f29+",white, "+_1f27+" 50%, "+_1f27+" 60%, rgb(164,165,167))");this._guiHelper.setBackgroundImage(this._xComponent,"linear-gradient("+_1f29+",white, "+_1f27+" 50%, "+_1f27+" 60%, rgb(164,165,167))");break;case "OSLike":break;default:this._guiHelper.setBackgroundColor(this._xComponent,_1f27);if(_1f28){this._guiHelper.setBackgroundImage(this._xComponent,"");}else{if(this._attr.background.style==="HorizontalTopToBottom"){this._guiHelper.setBackgroundImage(this._xComponent,"-webkit-linear-gradient(top,  "+_1f27+", white)");this._guiHelper.setBackgroundImage(this._xComponent,"-moz-linear-gradient(top,  "+_1f27+", white)");this._guiHelper.setBackgroundImage(this._xComponent,"-o-linear-gradient(top,  "+_1f27+", white)");this._guiHelper.setBackgroundImage(this._xComponent,"-ms-linear-gradient(top,  "+_1f27+", white)");this._guiHelper.setBackgroundImage(this._xComponent,"linear-gradient(top,  "+_1f27+", white)");}}break;}},_ClipCenterRect:function(prop,_1f2b,_1f2c,_1f2d,_1f2e,_1f2f,_1f30){dojo.style(this._xSpan,"position","absolute");var _1f31=parseFloat(this._guiHelper.getWidth(this._xSpan));var _1f32=parseFloat(this._guiHelper.getHeight(this._xSpan));if(_1f2f){_1f32=_1f2d-_1f30;}var _1f33=(_1f31-_1f2e)/2;var _1f34="rect(0px "+(_1f2e+_1f33-_1f2b-_1f2c).toString()+"px "+_1f32+"px "+(_1f33+_1f2b+_1f2c).toString()+"px)";this._guiHelper.setClip(this._xSpan,_1f34);var temp=_1f33+_1f2c;if(temp<0){if(parseInt(this._attr.margin)===5){this._guiHelper.setLeft(this._xSpan,"0px");}else{temp=_1f33+_1f2b;if(temp>0&&temp<1){this._guiHelper.setLeft(this._xSpan,(_1f2b-_1f2c)+"px");}else{this._guiHelper.setLeft(this._xSpan,((_1f2e-_1f31)/2-_1f2c)+"px");}}}else{this._guiHelper.setLeft(this._xSpan,"-"+(_1f33+_1f2c).toString()+"px");}var _1f35;switch(this._attr.align){case enums.EnumAlign.TOP_CENTER:if(parseInt(this._attr.margin)===5){_1f35=1;}else{_1f35=prop.padding;}break;case enums.EnumAlign.CENTER:_1f35=(_1f2d-_1f32)/2-_1f2c;break;case enums.EnumAlign.BOTTOM_CENTER:_1f35=_1f2d-_1f32-(_1f2b+_1f2c);break;}this._guiHelper.setTop(this._xSpan,_1f35+"px");},_ClipRect:function(align,_1f36,_1f37,_1f38,_1f39,_1f3a){var _1f3b=0;if(_1f36-_1f3a<_1f38){_1f3b=_1f36-_1f3a;}else{_1f3b=_1f36;}this._guiHelper.setClip(this._xSpan,"rect(0,"+_1f37+"px,"+_1f3b+"px, 0");},_ClipRectInOverHeight:function(_1f3c,prop,_1f3d,_1f3e,_1f3f,_1f40){this._guiHelper.setPosition(this._xSpan,"absolute");this._guiHelper.setTop(this._xSpan,_1f3c+"px");var _1f41,_1f42;_1f41=0;_1f42=_1f3e;if(this._IsAlignCenter(prop)&&!this._IsClipCenter(prop)){if(this._IsOverWidth(this._xSpan,_1f3e,_1f3f)){_1f42=_1f3e-_1f3f;this._guiHelper.setWidth(this._xSpan,_1f42+"px");}else{this._guiHelper.setLeft(this._xSpan,"-1px");}}else{if(this._IsAlignRight(prop)){_1f42=_1f3e-_1f3f;this._guiHelper.setRight(this._xSpan,_1f3c+"px");this._guiHelper.setWidth(this._xSpan,(_1f3e-_1f3f)+"px");}else{if(this._IsAlignLeft(prop)){if(this._IsOverWidth(this._xSpan,_1f3e,_1f3f)){_1f42=_1f3e-_1f3f;}else{_1f42=_1f3e;}this._guiHelper.setWidth(this._xSpan,_1f42+"px");}}}this._guiHelper.setClip(this._xSpan,"rect(0,"+_1f42+"px,"+(_1f3d-_1f3f)+"px, "+_1f41+"px)");},_IsAlignTop:function(prop){return prop.align==enums.EnumAlign.TOP_LEFT||prop.align==enums.EnumAlign.TOP_CENTER||prop.align==enums.EnumAlign.TOP_RIGHT;},_IsAlignBottom:function(prop){return prop.align==enums.EnumAlign.BOTTOM_LEFT||prop.align==enums.EnumAlign.BOTTOM_CENTER||prop.align==enums.EnumAlign.BOTTOM_RIGHT;},_IsAlignRight:function(prop){return prop.align==enums.EnumAlign.TOP_RIGHT||prop.align==enums.EnumAlign.CENTER_RIGHT||prop.align==enums.EnumAlign.BOTTOM_RIGHT;},_IsAlignLeft:function(prop){return prop.align==enums.EnumAlign.TOP_LEFT||prop.align==enums.EnumAlign.CENTER_LEFT||prop.align==enums.EnumAlign.BOTTOM_LEFT;},_IsAlignCenter:function(prop){return prop.align==enums.EnumAlign.TOP_CENTER||prop.align==enums.EnumAlign.CENTER||prop.align==enums.EnumAlign.BOTTOM_CENTER;},_IsClipCenter:function(prop){var _1f43=false;switch(this._attr.align){case enums.EnumAlign.TOP_CENTER:if(!(prop.multiline&&prop.wrapText)){_1f43=true;}break;case enums.EnumAlign.CENTER:case enums.EnumAlign.BOTTOM_CENTER:if((prop.multiline&&!prop.wrapText)||(!prop.multiline&&!prop.wrapText)){_1f43=true;}break;}return _1f43;},_IsOverHeight:function(node,_1f44,_1f45){var _1f46=this._guiHelper.getHeight(node);if((_1f46+_1f45)>_1f44){return true;}else{return false;}},_IsOverWidth:function(node,_1f47,_1f48){var _1f49=this._guiHelper.getWidth(node);if((_1f49+_1f48)>_1f47){return true;}else{return false;}},_getMaskAttr:function(v){return this._mask;},applyDisable:function(anim,_1f4a){if(this._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){if(parseInt(this.disable)!==0){dojo.attr(this._xComponent,"disabled","");}else{dojo.removeAttr(this._xComponent,"disabled");}}if(this._attr._animations&&this._attr._animations.command&&anim!==this._attr._animations.command){return;}this.inherited(arguments);if(dojo.isSafari){if(parseInt(this.disable)!==0){dojo.attr(this._xComponent,"disabled","");}else{dojo.removeAttr(this._xComponent,"disabled");}}if(this.isDisabled()===false){if(this._attr.font){this._guiHelper.setColor(this._xComponent,{color:this._attr.font.fontColor},"color");}}else{this._guiHelper.setColor(this._xComponent,{color:"rgb(212, 208, 200)"},"color");}},_updateRectSize:function(_1f4b,_1f4c){this.inherited(arguments);this._updateScaledSize(_1f4b,_1f4c);},_onAfterSetRectAttr:function(){this.inherited(arguments);this._updateToInitialSize();}});});},"dojox/mobile/_PickerBase":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(array,_1f4d,_1f4e,_1f4f,_1f50){return _1f4d("dojox.mobile._PickerBase",[_1f50,_1f4f,_1f4e],{slotClasses:[],slotProps:[],slotOrder:[],buildRendering:function(){this.inherited(arguments);this.slots=[];for(var i=0;i<this.slotClasses.length;i++){var idx=this.slotOrder.length?this.slotOrder[i]:i;var slot=new this.slotClasses[idx](this.slotProps[idx]);this.addChild(slot);this.slots[idx]=slot;}},startup:function(){if(this._started){return;}this._duringStartup=true;this.inherited(arguments);this.reset();delete this._duringStartup;},getSlots:function(){return this.slots.length?this.slots:array.filter(this.getChildren(),function(c){return c.declaredClass.indexOf("Slot")!==-1;});},_getValuesAttr:function(){return array.map(this.getSlots(),function(w){return w.get("value");});},_setValuesAttr:function(a){array.forEach(this.getSlots(),function(w,i){w.set("value",a[i]);});},_setColorsAttr:function(a){array.forEach(this.getSlots(),function(w,i){w.setColor&&w.setColor(a[i]);});},reset:function(){array.forEach(this.getSlots(),function(w){w.setInitialValue();});}});});},"viewer/server/securitySystem":function(){define(["./serverEvents"],function(_1f51){var _1f52=function(){};_1f52._securityLevels=null;_1f52._onSecuritySystemChangeListeners={};_1f52.addOnChange=function(_1f53,id){this._onSecuritySystemChangeListeners[id]=_1f53;this._onSecuritySystemChangeListeners[id](this._securityLevels);};_1f52.removeOnChange=function(id){if(this._onSecuritySystemChangeListeners[id]){delete this._onSecuritySystemChangeListeners[id];}};_1f52.notifySecuritySystemChanges=function(){for(var prop in this._onSecuritySystemChangeListeners){this._onSecuritySystemChangeListeners[prop](this._securityLevels);}};_1f52.isAuthorized=function(_1f54){var index=null;if(!_1f52._securityLevels){return false;}if(_1f54===null||typeof _1f54==="undefined"){index=0;}else{index=parseInt((isNaN(_1f54)===true?0:_1f54));}return this._securityLevels[index]===1;};_1f52.update=function(_1f55){if(_1f55&&_1f55.length>0){if(_1f55 instanceof Array&&_1f55.length==256){if(this._securityLevels==null){this._securityLevels=_1f55;}for(var i=0;i<_1f55.length;i++){if(this._securityLevels[i]!=_1f55[i]){this._securityLevels=_1f55;this.notifySecuritySystemChanges();return true;}}return false;}}if(Array.isArray(this._securityLevels)===false||this._securityLevels.length!==256){var data=_1f51.parseResult(services.getSecurityLevels());if(data){this._securityLevels=data.securityLevels;}else{return false;}}this.notifySecuritySystemChanges();return true;};return _1f52;});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_1f56,lang,Color,has,win,arr,dom,_1f57,_1f58){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_1f59){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_1f59+" ")>=0;};g._addClass=function(node,_1f5a){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_1f5a+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_1f5a);}};g._removeClass=function(node,_1f5b){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_1f5b+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _1f5c={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_1f57.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _1f5c){div.style.fontSize=p;_1f5c[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _1f5c;};var _1f5d=null;b._getCachedFontMeasurements=function(_1f5e){if(_1f5e||!_1f5d){_1f5d=b._getFontMeasurements();}return _1f5d;};var _1f5f=null,empty={};b._getTextBox=function(text,style,_1f60){var m,s,al=arguments.length;var i;if(!_1f5f){_1f5f=_1f57.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_1f5f;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&style){for(i in style){if(i in empty){continue;}s[i]=style[i];}}if(al>2&&_1f60){m.className=_1f60;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _1f58.getMarginBox(m);}};b._computeTextLocation=function(_1f61,width,_1f62,_1f63){var loc={},align=_1f61.align;switch(align){case "end":loc.x=_1f61.x-width;break;case "middle":loc.x=_1f61.x-width/2;break;default:loc.x=_1f61.x;break;}var c=_1f63?0.75:1;loc.y=_1f61.y-_1f62*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_1f64=s.getShape(),font=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(font.size);loc=b._computeTextLocation(_1f64,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _1f65=0;b._getUniqueId=function(){var id;do{id=_1f56._scopeName+"xUnique"+(++_1f65);}while(dom.byId(id));return id;};b._fixMsTouchAction=function(_1f66){var r=_1f66.rawNode;if(typeof r.style.msTouchAction!="undefined"){r.style.msTouchAction="none";}};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _1f67={};return function(type){var t=_1f67[type];if(t){return new t();}t=_1f67[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(color){return (color instanceof Color)?color:new Color(color);},normalizeParameters:function(_1f68,_1f69){var x;if(_1f69){var empty={};for(x in _1f68){if(x in _1f69&&!(x in empty)){_1f68[x]=_1f69[x];}}}return _1f68;},makeParameters:function(_1f6a,_1f6b){var i=null;if(!_1f6b){return lang.delegate(_1f6a);}var _1f6c={};for(i in _1f6a){if(!(i in _1f6c)){_1f6c[i]=lang.clone((i in _1f6b)?_1f6b[i]:_1f6a[i]);}}return _1f6c;},formatNumber:function(x,_1f6d){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var point=val.indexOf(".");if(point>=0&&val.length-point>5){val=x.toFixed(4);}}if(x<0){return val;}return _1f6d?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _1f6e=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_1f6e;case "in":return val*72*_1f6e;case "pc":return val*12*_1f6e;case "mm":return val*g.mm_in_pt*_1f6e;case "cm":return val*g.cm_in_pt*_1f6e;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_1f6f){var ns=typeof _1f6f=="string"?g[_1f6f]:_1f6f;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});if(typeof _1f6f=="string"){g.renderer=_1f6f;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"ma/main":function(){require(["dojo/ready","dojo/parser","dojo/_base/unload","ma/view/Logon","ma/util/UserActivityMonitor","ma/view/View","dojo/cookie","dojox/gfx/svg","dojo/data/ItemFileWriteStore","dojo/date","dojox/mobile/compat","dojox/mobile/_compat","dojo/_base/lang","dojox/mobile/parser","dojox/grid/DataGrid","dojox/mobile/ScrollableView","dojox/mobile/ListItem","dojox/mobile/Heading","dojox/mobile/Switch","dojox/mobile/ToolBarButton","dojox/mobile/Button","dojo/currency","dojox/gauges/AnalogGauge","dojox/gauges/AnalogArcIndicator","dojox/gauges/AnalogNeedleIndicator","dojox/gauges/AnalogArrowIndicator","dojox/gauges/AnalogCircleIndicator","dojox/gauges/GlossyCircularGauge","dojox/gauges/GlossySemiCircularGauge","dojox/gauges/GlossyHorizontalGauge","dojox/gauges/TextIndicator","dojox/mobile/SpinWheel","dojox/mobile/RoundRectDataList","dojox/gesture/swipe","dojox/charting/Chart2D","dojox/charting/Theme","dijit/TitlePane","dijit/dijit","dijit/_Widget","dijit/_TemplatedMixin","dojo/fx/Toggler","dijit/Tooltip","ma/_base","ma/util/CookieManager","ma/util/NamespaceLoader","ma/view/Alarm","ma/view/AlarmConf","ma/view/Menu","ma/view/Mosaic","ma/view/ScreenBrowser","ma/view/Tags","ma/view/Trend","ma/view/TrendConf","ma/view/_base","ma/widget/DisplayValue","ma/widget/Gauge","ma/widget/SwitchEx","ma/widget/dataGrid/StudioDataGrid","ma/widget/date/Date","ma/widget/date/DateTime","ma/widget/date/Time","ma/widget/miscellaneous/Loading","ma/widget/myCanvas/BezierCurve","ma/widget/myCanvas/Point","ma/widget/trend/Chart","ma/widget/trend/DataStore","ma/widget/trend/GridLegend","ma/widget/trend/theme/Studio"],function(ready,_1f70,_1f71,Logon,_1f72){ready(80,function(){if(!services&&Services){services=new Services();}else{if(!services){eval("console.error('The services not exists!!!')");}}_1f70.parse(dojo.body());if(_xkUnitTest){_xkUnitTest=new viewer.UnitTest.EventSimulator();return;}var _1f73=function(){var vid;if(services&&!(window.viewId!==undefined&&window.viewId!==null)){if(window.name&&window.name.indexOf("vwr")==0){vid=parseInt(window.name.substring(3,window.name.length));services.destroyView(vid);window.name="";}}};_1f73();dojo.addOnLoad(function(){_1f73();});var _1f74=function(){if(services&&window.sma_view_destroyed!==true){var _1f75=window.viewId;window.sma_view_destroyed=true;if(window.viewId){if(window.webGraphicsApi){window.webGraphicsApi.closeAllScreens();}delete window.viewId;}services.destroyView(_1f75);window.name="";}if(userActivityMonitor){userActivityMonitor.stopMonitoring();}};_1f71.addOnWindowUnload(_1f74);_1f71.addOnUnload(_1f74);if(!userActivityMonitor){userActivityMonitor=new _1f72(dojo.body());}doMaLogon=function(){var _1f76,logon;_1f76=document.createElement("div");dojo.body().appendChild(_1f76);logon=new Logon({id:"_x_view_logon"},_1f76);logon.startup();};if(window.webGraphicsApi){return;}doMaLogon();});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_1f77,lang,_1f78,_1f79,dom,_1f7a,_1f7b){var html={};lang.setObject("dojo.html",html);var _1f7c=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_1f7a.empty;html._setNodeContent=function(node,cont){_1f7a.empty(node);if(cont){if(typeof cont=="string"){cont=_1f7a.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _1f7d=cont.length,i=0;i<cont.length;i=_1f7d==cont.length?i+1:0){_1f7a.place(cont[i],node,"last");}}else{_1f7a.place(cont,node,"last");}}return node;};html._ContentSetter=_1f79("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_1f77._scopeName,startup:true,constructor:function(_1f7e,node){lang.mixin(this,_1f7e||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_1f7c++].join("_");}},set:function(cont,_1f7f){if(undefined!==cont){this.content=cont;}if(_1f7f){this._mixin(_1f7f);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _1f80=this.onContentError(e);try{node.innerHTML=_1f80;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_1f78.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_1f7a.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_1f81){var empty={},key;for(key in _1f81){if(key in empty){continue;}this[key]=_1f81[key];}},_parse:function(){var _1f82=this.node;try{var _1f83={};_1f78.forEach(["dir","lang","textDir"],function(name){if(this[name]){_1f83[name]=this[name];}},this);var self=this;this.parseDeferred=_1f7b.parse({rootNode:_1f82,noStart:!this.startup,inherited:_1f83,scope:this.parserScope}).then(function(_1f84){return self.parseResults=_1f84;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_1f85){var _1f86=this["on"+type+"Error"].call(this,err);if(_1f85){console.error(_1f85,err);}else{if(_1f86){html._setNodeContent(this.node,_1f86,true);}}}});html.set=function(node,cont,_1f87){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_1f87){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_1f87,{content:cont,node:node}));return op.set();}};return html;});},"ma/view/Mosaic":function(){EnumMosaicType={TREND:0,ALARM:1,TAGS:2,SCREEN:3,SETTINGS:4,SUBGROUP:5,RETURN:6,SCREEN_LINK:7};define(["dojo/_base/declare","./_base","dojo/text!./templates/mosaic.html"],function(_1f88,Base,_1f89){return _1f88("ma.view.Mosaic",Base,{templateString:_1f89,mosaic:null,area:null,group:null,mosaicLabel:null,eType:EnumMosaicType.SUBGROUP,constructor:function(){if(arguments.length>0){switch(arguments[0].eType){case EnumMosaicType.TREND:arguments[0].mosaicLabel="Trend";break;case EnumMosaicType.ALARM:arguments[0].mosaicLabel="Alarm";break;case EnumMosaicType.SCREEN:arguments[0].mosaicLabel="Screens";break;case EnumMosaicType.TAGS:arguments[0].mosaicLabel="Process Values";break;case EnumMosaicType.SETTINGS:arguments[0].mosaicLabel="Settings";break;case EnumMosaicType.RETURN:arguments[0].mosaicLabel="Return";break;case EnumMosaicType.SUBGROUP:var _1f8a=arguments[0].area.label;if(!_1f8a||_1f8a.length===0){_1f8a=arguments[0].area.name;}arguments[0].mosaicLabel=_1f8a;break;}}},startup:function(){this.inherited(arguments);switch(this.eType){case EnumMosaicType.TREND:this.contentImage.src="imgs/icon_graph_lines.png";dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.ALARM:this.contentImage.src="imgs/icon_bell.png";dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.SCREEN:this.contentImage.src="imgs/icon_computer_off.png";dojo.style(this.contentImage,"height","100%");dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.TAGS:this.contentImage.src="imgs/processValues.png";dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.SETTINGS:this.contentImage.src="imgs/icon_settings.png";dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.RETURN:this.contentImage.src="imgs/icon_circle_arrow_left.png";dojo.addClass(this.domNode,"ma_view_mosaic_standard");break;case EnumMosaicType.SCREEN_LINK:this.contentImage.src="imgs/icon_scrren_link.png";dojo.addClass(this.domNode,"ma_view_mosaic_screen_link");break;case EnumMosaicType.SUBGROUP:default:dojo.addClass(this.domNode,"ma_view_mosaic_area");}dojo.connect(this.contentLabel,"onclick",this,this.procClick);dojo.connect(this.contentImage,"onclick",this,this.procClick);dojo.connect(this.containerSample,"onclick",this,this.procClick);dojo.connect(this.domNode,"onclick",this,this.procClick);},procClick:function(evt){this.onClickWidget(this);evt.stopPropagation();},isEnable:function(){try{switch(this.eType){case EnumMosaicType.TAGS:case EnumMosaicType.TREND:return this.area.processValues.length>0;case EnumMosaicType.ALARM:return true;case EnumMosaicType.SCREEN:return this.area.screens.length>0;case EnumMosaicType.RETURN:case EnumMosaicType.SUBGROUP:return true;default:return false;}}catch(ex){}},MakeLayout:function(){},onClickWidget:function(_1f8b){}});});},"dojox/mobile/IconItem":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","./_ItemBase","./Badge","./TransitionEvent","./iconUtils","./lazyLoadUtils","./viewRegistry","./_css3","dojo/has!dojo-bidi?dojox/mobile/bidi/IconItem"],function(_1f8c,event,lang,has,win,_1f8d,_1f8e,_1f8f,_1f90,_1f91,Badge,_1f92,_1f93,_1f94,_1f95,css3,_1f96){var _1f97=_1f8c(has("dojo-bidi")?"dojox.mobile.NonBidiIconItem":"dojox.mobile.IconItem",_1f91,{lazy:false,requires:"",timeout:10,content:"",badge:"",badgeClass:"mblDomButtonRedBadge",deletable:true,deleteIcon:"",tag:"li",paramsToInherit:"transition,icon,deleteIcon,badgeClass,deleteIconTitle,deleteIconRole",baseClass:"mblIconItem",_selStartMethod:"touch",_selEndMethod:"none",destroy:function(){if(this.badgeObj){delete this.badgeObj;}this.inherited(arguments);},buildRendering:function(){this.domNode=this.srcNodeRef||_1f8e.create(this.tag);if(this.srcNodeRef){this._tmpNode=_1f8e.create("div");for(var i=0,len=this.srcNodeRef.childNodes.length;i<len;i++){this._tmpNode.appendChild(this.srcNodeRef.firstChild);}}this.iconDivNode=_1f8e.create("div",{className:"mblIconArea"},this.domNode);this.iconParentNode=_1f8e.create("div",{className:"mblIconAreaInner"},this.iconDivNode);this.labelNode=_1f8e.create("span",{className:"mblIconAreaTitle"},this.iconDivNode);this.inherited(arguments);},startup:function(){if(this._started){return;}var p=this.getParent();require([p.iconItemPaneClass],lang.hitch(this,function(_1f98){var w=this.paneWidget=new _1f98(p.iconItemPaneProps);this.containerNode=w.containerNode;if(this._tmpNode){for(var i=0,len=this._tmpNode.childNodes.length;i<len;i++){w.containerNode.appendChild(this._tmpNode.firstChild);}this._tmpNode=null;}p.paneContainerWidget.addChild(w,this.getIndexInParent());w.set("label",this.label);this._clickCloseHandle=this.connect(w.closeIconNode,"onclick","_closeIconClicked");this._keydownCloseHandle=this.connect(w.closeIconNode,"onkeydown","_closeIconClicked");}));this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}if(!this.icon&&p.defaultIcon){this.set("icon",p.defaultIcon);}this._dragstartHandle=this.connect(this.domNode,"ondragstart",event.stop);this.connect(this.domNode,"onkeydown","_onClick");},highlight:function(_1f99){_1f8d.add(this.iconDivNode,"mblVibrate");_1f99=(_1f99!==undefined)?_1f99:this.timeout;if(_1f99>0){var _1f9a=this;_1f9a.defer(function(){_1f9a.unhighlight();},_1f99*1000);}},unhighlight:function(){_1f8d.remove(this.iconDivNode,"mblVibrate");},isOpen:function(e){return this.paneWidget.isOpen();},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_onNewWindowOpened:function(e){this.set("selected",false);},_prepareForTransition:function(e,_1f9b){if(_1f9b){this.defer(function(d){this.set("selected",false);},1500);return true;}else{if(this.getParent().transition==="below"&&this.isOpen()){this.close();}else{this.open(e);}return false;}},_closeIconClicked:function(e){if(e){if(e.type==="keydown"&&e.keyCode!==13){return;}if(this.closeIconClicked(e)===false){return;}this.defer(function(d){this._closeIconClicked();});return;}this.close();},closeIconClicked:function(){},open:function(e){var _1f9c=this.getParent();if(this.transition==="below"){if(_1f9c.single){_1f9c.closeAll();}this._open_1();}else{_1f9c._opening=this;if(_1f9c.single){this.paneWidget.closeHeaderNode.style.display="none";if(!this.isOpen()){_1f9c.closeAll();}_1f9c.appView._heading.set("label",this.label);}this.moveTo=_1f9c.id+"_mblApplView";new _1f92(this.domNode,this.getTransOpts(),e).dispatch();}},_open_1:function(){this.paneWidget.show();this.unhighlight();if(this.lazy){_1f94.instantiateLazyWidgets(this.containerNode,this.requires);this.lazy=false;}this.scrollIntoView(this.paneWidget.domNode);this.onOpen();},scrollIntoView:function(node){var s=_1f95.getEnclosingScrollable(node);if(s){var dim=s.getDim();if(dim.c.h>=dim.d.h){s.scrollIntoView(node,true);}}else{win.global.scrollBy(0,_1f8f.position(node,false).y);}},close:function(_1f9d){if(!this.isOpen()){return;}this.set("selected",false);if(has("css3-animations")&&!_1f9d){var _1f9e=this.paneWidget.domNode;if(this.getParent().transition=="below"){_1f8d.add(_1f9e,"mblCloseContent mblShrink");var _1f9f=_1f8f.position(_1f9e,true);var _1fa0=_1f8f.position(this.domNode,true);var _1fa1=(_1fa0.x+_1fa0.w/2-_1f9f.x)+"px "+(_1fa0.y+_1fa0.h/2-_1f9f.y)+"px";_1f90.set(_1f9e,css3.add({},{transformOrigin:_1fa1}));}else{_1f8d.add(_1f9e,"mblCloseContent mblShrink0");}}else{this.paneWidget.hide();}this.onClose();},onOpen:function(){},onClose:function(){},_setLabelAttr:function(text){this.label=text;var s=this._cv?this._cv(text):text;this.labelNode.innerHTML=s;if(this.paneWidget){this.paneWidget.set("label",text);}},_getBadgeAttr:function(){return this.badgeObj?this.badgeObj.getValue():null;},_setBadgeAttr:function(value){if(!this.badgeObj){this.badgeObj=new Badge({fontSize:14,className:this.badgeClass});_1f90.set(this.badgeObj.domNode,{position:"absolute",top:"-2px",right:"2px"});}this.badgeObj.setValue(value);if(value){this.iconDivNode.appendChild(this.badgeObj.domNode);}else{this.iconDivNode.removeChild(this.badgeObj.domNode);}},_setDeleteIconAttr:function(icon){if(!this.getParent()){return;}this._set("deleteIcon",icon);icon=this.deletable?icon:"";this.deleteIconNode=_1f93.setIcon(icon,this.deleteIconPos,this.deleteIconNode,this.deleteIconTitle||this.alt,this.iconDivNode);if(this.deleteIconNode){_1f8d.add(this.deleteIconNode,"mblIconItemDeleteIcon");if(this.deleteIconRole){this.deleteIconNode.setAttribute("role",this.deleteIconRole);}}},_setContentAttr:function(data){var root;if(!this.paneWidget){if(!this._tmpNode){this._tmpNode=_1f8e.create("div");}root=this._tmpNode;}else{root=this.paneWidget.containerNode;}if(typeof data==="object"){_1f8e.empty(root);root.appendChild(data);}else{root.innerHTML=data;}},_setSelectedAttr:function(_1fa2){this.inherited(arguments);_1f90.set(this.iconNode,"opacity",_1fa2?this.getParent().pressedIconOpacity:1);}});return has("dojo-bidi")?_1f8c("dojox.mobile.IconItem",[_1f97,_1f96]):_1f97;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_1fa3,lang,array,when){return _1fa3("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_1fa4){if(_1fa4){this.set(_1fa4);}},_get:function(name,names){return typeof this[names.g]==="function"?this[names.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,value){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var names=this._getAttrNames(name),_1fa5=this._get(name,names),_1fa6=this[names.s],_1fa7;if(typeof _1fa6==="function"){_1fa7=_1fa6.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=value;}if(this._watchCallbacks){var self=this;when(_1fa7,function(){self._watchCallbacks(name,_1fa5,value);});}return this;},_changeAttrValue:function(name,value){var _1fa8=this.get(name);this[name]=value;if(this._watchCallbacks){this._watchCallbacks(name,_1fa8,value);}return this;},watch:function(name,_1fa9){var _1faa=this._watchCallbacks;if(!_1faa){var self=this;_1faa=this._watchCallbacks=function(name,_1fab,value,_1fac){var _1fad=function(_1fae){if(_1fae){_1fae=_1fae.slice();for(var i=0,l=_1fae.length;i<l;i++){_1fae[i].call(self,name,_1fab,value);}}};_1fad(_1faa["_"+name]);if(!_1fac){_1fad(_1faa["*"]);}};}if(!_1fa9&&typeof name==="function"){_1fa9=name;name="*";}else{name="_"+name;}var _1faf=_1faa[name];if(typeof _1faf!=="object"){_1faf=_1faa[name]=[];}_1faf.push(_1fa9);var _1fb0={};_1fb0.unwatch=_1fb0.remove=function(){var index=array.indexOf(_1faf,_1fa9);if(index>-1){_1faf.splice(index,1);}};return _1fb0;}});});},"viewer/misc/gui/helpers/trace":function(){define(["../../enums","dojo/dom-construct"],function(enums,_1fb1){if(typeof window.performance==="undefined"){window.performance={};}if(!window.performance.now){var _1fb2=Date.now();if(performance.timing&&performance.timing.navigationStart){_1fb2=performance.timing.navigationStart;}window.performance.now=function now(){return Date.now()-_1fb2;};}var _1fb3=function(){logLevel:1;};_1fb3._context_to_time={};_1fb3._fixString=function(data){if(data){return data.replace(/\\/g,"\\"+"\\").replace(/\"/g,"\\"+"\"").replace(/\n/g,"\\"+"n").replace(/\r/g,"\\"+"r").replace(/\t/g,"\\"+"t");}else{return "";}};_1fb3.traceError=function(msg,obj){var _1fb4;if(obj){_1fb4=_1fb3._getClassName(obj);}if(_1fb4){_1fb3.error(_1fb4+": "+msg);}else{_1fb3.error(msg);}};_1fb3._getClassName=function(obj){var _1fb5;if(typeof obj.declaredClass=="string"){var _1fb5=obj.declaredClass;var dot=_1fb5.lastIndexOf(".");if(dot>-1&&dot<_1fb5.length-1){_1fb5=_1fb5.substring(dot+1,_1fb5.length);}}return _1fb5;};_1fb3.error=function(data){var code="console.error(\""+_1fb3._fixString(data)+"\")";eval(code);};_1fb3.log=function(data){var code="console.log(\""+_1fb3._fixString(data)+"\")";eval(code);};_1fb3.warn=function(data){var code="console.warn(\""+_1fb3._fixString(data)+"\")";eval(code);};_1fb3.info=function(data){var code="console.info(\""+_1fb3._fixString(data)+"\")";eval(code);};_1fb3.timeStart=function(id){if(_1fb3.logLevel<4){return;}if(this.validateVariable(id,"Invalid id.")===false){return;}this._context_to_time[id]=performance.now();};_1fb3.timeEnd=function(id,_1fb6){if(_1fb3.logLevel<4){return;}var _1fb7,now;if(this.validateVariable(id,"Invalid context.")===false){return;}_1fb7=this._context_to_time[id];if(this.validateVariable(_1fb7,"SMA received an invalid date.")===false){return;}if(!_1fb6){_1fb6=0;}now=performance.now();if(now>_1fb7+_1fb6){var code="console.log(\""+"Performance : "+id+" : "+(now-_1fb7)+"ms"+"\")";eval(code);}delete this._context_to_time[id];};_1fb3.profileStart=function(id){if(_1fb3.logLevel<5){return;}var code="console.profile(\""+_1fb3._fixString(id)+"\")";eval(code);};_1fb3.profileEnd=function(id){if(_1fb3.logLevel<5){return;}var code="console.profileEnd(\""+_1fb3._fixString(id)+"\")";eval(code);};_1fb3.dispatchServerLog=function(logs){var i=0,msg=null,dt;if(!logs){return;}for(i=0;i<logs.length;i++){dt=new Date(logs[i].timeStamp);msg=dt.toLocaleDateString()+" "+dt.toLocaleTimeString()+", "+"L"+logs[i].level+", "+logs[i].type+", "+logs[i].context+", "+logs[i].message;switch(logs[i].type){case enums.EnumLogInfo.ERROR:this.warn(msg);break;case enums.EnumLogInfo.WARNING:this.info(msg);break;case enums.EnumLogInfo.TRACE:case enums.EnumLogInfo.INFO:default:this.log(msg);break;}}};_1fb3.validateVariable=function(_1fb8,_1fb9){if(!_1fb8){this.log(_1fb9);return false;}return true;};return _1fb3;});},"dojox/gfx/svg":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/dom-attr","dojo/_base/Color","./_base","./shape","./path"],function(lang,has,win,dom,_1fba,arr,_1fbb,_1fbc,Color,g,gs,_1fbd){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _1fbe=navigator.userAgent,_1fbf=has("ios"),_1fc0=has("android"),_1fc1=has("chrome")||(_1fc0&&_1fc0>=4)?"auto":"optimizeLegibility";function _1fc2(ns,_1fc3){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_1fc3);}else{return win.doc.createElement(_1fc3);}};function _1fc4(node,ns,attr,value){if(node.setAttributeNS){return node.setAttributeNS(ns,attr,value);}else{return node.setAttribute(attr,value);}};function _1fc5(text){if(svg.useSvgWeb){return win.doc.createTextNode(text,true);}else{return win.doc.createTextNode(text);}};function _1fc6(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return dom.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return dom.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var _1fc7=0;svg.Shape=_1fba("dojox.gfx.svg.Shape",gs.Shape,{destroy:function(){if(this.fillStyle&&"type" in this.fillStyle){var fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){ref.parentNode.removeChild(ref);}}if(this.clip){var _1fc8=this.rawNode.getAttribute("clip-path");if(_1fc8){var _1fc9=dom.byId(_1fc8.match(/gfx_clip[\d]+/)[0]);if(_1fc9){_1fc9.parentNode.removeChild(_1fc9);}}}gs.Shape.prototype.destroy.apply(this,arguments);},setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _1fca=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _1fcb=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_1fca,_1fcb);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);var grad=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_1fca,grad);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);var _1fcc=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_1fca,_1fcc);break;}this.fillStyle=f;return this;}f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_1fcd){var rn=this.rawNode;if(!_1fcd){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _1fcd=="string"||lang.isArray(_1fcd)||_1fcd instanceof Color){_1fcd={color:_1fcd};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_1fcd);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=lang._toArray(da);var i;for(i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _1fce=this.parent;for(;_1fce&&!(_1fce instanceof g.Surface);_1fce=_1fce.parent){}return _1fce;},_setFillObject:function(f,_1fcf){var svgns=svg.xmlns.svg;this.fillStyle=f;var _1fd0=this._getParentSurface(),defs=_1fd0.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_1fcf.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_1fc2(svgns,_1fcf);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_1fc2(svgns,_1fcf);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_1fcf=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_1fc2(svgns,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));_1fc4(img,svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_1fc2(svgns,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _1fd1=this.matrix;if(_1fd1){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_1fd2){var r=this.rawNode=_1fd2;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this;},setShape:function(_1fd3){this.shape=g.makeParameters(this.shape,_1fd3);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;},setClip:function(clip){this.inherited(arguments);var _1fd4=clip?"width" in clip?"rect":"cx" in clip?"ellipse":"points" in clip?"polyline":"d" in clip?"path":null:null;if(clip&&!_1fd4){return this;}if(_1fd4==="polyline"){clip=lang.clone(clip);clip.points=clip.points.join(",");}var _1fd5,_1fd6,_1fd7=_1fbc.get(this.rawNode,"clip-path");if(_1fd7){_1fd5=dom.byId(_1fd7.match(/gfx_clip[\d]+/)[0]);if(_1fd5){_1fd5.removeChild(_1fd5.childNodes[0]);}}if(clip){if(_1fd5){_1fd6=_1fc2(svg.xmlns.svg,_1fd4);_1fd5.appendChild(_1fd6);}else{var _1fd8=++_1fc7;var _1fd9="gfx_clip"+_1fd8;var _1fda="url(#"+_1fd9+")";this.rawNode.setAttribute("clip-path",_1fda);_1fd5=_1fc2(svg.xmlns.svg,"clipPath");_1fd6=_1fc2(svg.xmlns.svg,_1fd4);_1fd5.appendChild(_1fd6);this.rawNode.parentNode.appendChild(_1fd5);_1fbc.set(_1fd5,"id",_1fd9);}_1fbc.set(_1fd6,clip);}else{this.rawNode.removeAttribute("clip-path");if(_1fd5){_1fd5.parentNode.removeChild(_1fd5);}}return this;},_removeClipNode:function(){var _1fdb,_1fdc=_1fbc.get(this.rawNode,"clip-path");if(_1fdc){_1fdb=dom.byId(_1fdc.match(/gfx_clip[\d]+/)[0]);if(_1fdb){_1fdb.parentNode.removeChild(_1fdb);}}return _1fdb;}});svg.Group=_1fba("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_1fdd){this.rawNode=_1fdd;this.rawNode.__gfxObject__=this;},destroy:function(){this.clear(true);svg.Shape.prototype.destroy.apply(this,arguments);}});svg.Group.nodeType="g";svg.Rect=_1fba("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_1fde){this.shape=g.makeParameters(this.shape,_1fde);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";svg.Ellipse=_1fba("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";svg.Circle=_1fba("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";svg.Line=_1fba("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";svg.Polyline=_1fba("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_1fdf,_1fe0){if(_1fdf&&_1fdf instanceof Array){this.shape=g.makeParameters(this.shape,{points:_1fdf});if(_1fe0&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_1fdf);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";svg.Image=_1fba("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_1fe1){this.shape=g.makeParameters(this.shape,_1fe1);this.bbox=null;var _1fe2=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_1fe2.setAttribute(i,this.shape[i]);}}_1fe2.setAttribute("preserveAspectRatio","none");_1fc4(_1fe2,svg.xmlns.xlink,"xlink:href",this.shape.src);_1fe2.__gfxObject__=this;return this;}});svg.Image.nodeType="image";svg.Text=_1fba("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_1fe3){this.shape=g.makeParameters(this.shape,_1fe3);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering",_1fc1);if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_1fc5(s.text));}return this;},getTextWidth:function(){var _1fe4=this.rawNode,_1fe5=_1fe4.parentNode,_1fe6=_1fe4.cloneNode(true);_1fe6.style.visibility="hidden";var _1fe7=0,_1fe8=_1fe6.firstChild.nodeValue;_1fe5.appendChild(_1fe6);if(_1fe8!=""){while(!_1fe7){if(_1fe6.getBBox){_1fe7=parseInt(_1fe6.getBBox().width);}else{_1fe7=68;}}}_1fe5.removeChild(_1fe6);return _1fe7;},getBoundingBox:function(){var s=this.getShape(),bbox=null;if(s.text){try{bbox=this.rawNode.getBBox();}catch(e){bbox={x:0,y:0,width:0,height:0};}}return bbox;}});svg.Text.nodeType="text";svg.Path=_1fba("dojox.gfx.svg.Path",[svg.Shape,_1fbd.Path],{_updateWithSegment:function(_1fe9){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_1fea){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";svg.TextPath=_1fba("dojox.gfx.svg.TextPath",[svg.Shape,_1fbd.TextPath],{_updateWithSegment:function(_1feb){this.inherited(arguments);this._setTextPath();},setShape:function(_1fec){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_1fc2(svg.xmlns.svg,"textPath"),tx=_1fc5("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _1fed=this._getParentSurface();if(_1fed){var defs=_1fed.defNode;path=_1fc2(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);_1fc4(r.firstChild,svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_1fc2(svg.xmlns.svg,"textPath"),tx=_1fc5("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";var _1fee=(function(){var _1fef=/WebKit\/(\d*)/.exec(_1fbe);return _1fef?_1fef[1]:0;})()>534;svg.Surface=_1fba("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){gs.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments);},setDimensions:function(width,_1ff0){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",width);this.rawNode.setAttribute("height",_1ff0);if(_1fee){this.rawNode.style.width=width;this.rawNode.style.height=_1ff0;}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_1ff1,width,_1ff2){var s=new svg.Surface();s.rawNode=_1fc2(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(width){s.rawNode.setAttribute("width",width);}if(_1ff2){s.rawNode.setAttribute("height",_1ff2);}var _1ff3=_1fc2(svg.xmlns.svg,"defs");s.rawNode.appendChild(_1ff3);s.defNode=_1ff3;s._parent=dom.byId(_1ff1);s._parent.appendChild(s.rawNode);g._base._fixMsTouchAction(s);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container,_1ff4={openBatch:function(){if(!this._batch){this.fragment=_1fc6();}++this._batch;return this;},closeBatch:function(){this._batch=this._batch>0?--this._batch:0;if(this.fragment&&!this._batch){this.rawNode.appendChild(this.fragment);delete this.fragment;}return this;},add:function(shape){if(this!=shape.getParent()){if(this.fragment){this.fragment.appendChild(shape.rawNode);}else{this.rawNode.appendChild(shape.rawNode);}C.add.apply(this,arguments);shape.setClip(shape.clip);}return this;},remove:function(shape,_1ff5){if(this==shape.getParent()){if(this.rawNode==shape.rawNode.parentNode){this.rawNode.removeChild(shape.rawNode);}if(this.fragment&&this.fragment==shape.rawNode.parentNode){this.fragment.removeChild(shape.rawNode);}shape._removeClipNode();C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _1ff6=this.defNode;if(_1ff6){while(_1ff6.lastChild){_1ff6.removeChild(_1ff6.lastChild);}r.appendChild(_1ff6);}return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _1ff7={createObject:function(_1ff8,_1ff9){if(!this.rawNode){return null;}var shape=new _1ff8(),node=_1fc2(svg.xmlns.svg,_1ff8.nodeType);shape.setRawNode(node);shape.setShape(_1ff9);this.add(shape);return shape;}};lang.extend(svg.Text,Font);lang.extend(svg.TextPath,Font);lang.extend(svg.Group,_1ff4);lang.extend(svg.Group,gs.Creator);lang.extend(svg.Group,_1ff7);lang.extend(svg.Surface,_1ff4);lang.extend(svg.Surface,gs.Creator);lang.extend(svg.Surface,_1ff7);svg.fixTarget=function(event,_1ffa){if(!event.gfxTarget){if(_1fbf&&event.target.wholeText){event.gfxTarget=event.target.parentElement.__gfxObject__;}else{event.gfxTarget=event.target.__gfxObject__;}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_1ffb,width,_1ffc){var s=new svg.Surface();if(!width||!_1ffc){var pos=_1fbb.position(_1ffb);width=width||pos.w;_1ffc=_1ffc||pos.h;}_1ffb=dom.byId(_1ffb);var id=_1ffb.id?_1ffb.id+"_svgweb":g._base._getUniqueId();var _1ffd=_1fc2(svg.xmlns.svg,"svg");_1ffd.id=id;_1ffd.setAttribute("width",width);_1ffd.setAttribute("height",_1ffc);svgweb.appendChild(_1ffd,_1ffb);_1ffd.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _1ffe=_1fc2(svg.xmlns.svg,"defs");s.rawNode.appendChild(_1ffe);s.defNode=_1ffe;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _1fff=this.rawNode;svgweb.removeChild(_1fff,_1fff.parentNode);}});var _2000={connect:function(name,_2001,_2002){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_2002=_2001;}else{_2002=lang.hitch(_2001,_2002);}this.getEventSource().addEventListener(name,_2002,false);return [this,name,_2002];},disconnect:function(token){this.getEventSource().removeEventListener(token[1],token[2],false);delete token[0];}};lang.extend(svg.Shape,_2000);lang.extend(svg.Surface,_2000);}return svg;});},"dojox/mobile/_ScrollableMixin":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dijit/registry","./scrollable"],function(dojo,_2003,_2004,lang,win,dom,_2005,_2006,_2007){var cls=_2004("dojox.mobile._ScrollableMixin",_2007,{fixedHeader:"",fixedFooter:"",_fixedAppFooter:"",scrollableParams:null,allowNestedScrolls:true,appBars:true,constructor:function(){this.scrollableParams={};},destroy:function(){this.cleanup();this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._fixedAppFooter){this._fixedAppFooter=dom.byId(this._fixedAppFooter);}this.findAppBars();var node,_2008=this.scrollableParams;if(this.fixedHeader){node=dom.byId(this.fixedHeader);if(node.parentNode==this.domNode){this.isLocalHeader=true;}_2008.fixedHeaderHeight=node.offsetHeight;}if(this.fixedFooter){node=dom.byId(this.fixedFooter);if(node.parentNode==this.domNode){this.isLocalFooter=true;node.style.bottom="0px";}_2008.fixedFooterHeight=node.offsetHeight;}this.scrollType=this.scrollType||_2003["mblScrollableScrollType"]||0;this.init(_2008);if(this.allowNestedScrolls){for(var p=this.getParent();p;p=p.getParent()){if(p&&p.scrollableParams){this.dirLock=true;p.dirLock=true;break;}}}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if(this.domNode.style.display==="none"){return;}var elem=win.doc.activeElement;if(this.isFormElement(elem)&&dom.isDescendant(elem,this.containerNode)){this.scrollIntoView(elem);}});this.inherited(arguments);},findAppBars:function(){if(!this.appBars){return;}var i,len,c;for(i=0,len=win.body().childNodes.length;i<len;i++){c=win.body().childNodes[i];this.checkFixedBar(c,false);}if(this.domNode.parentNode){for(i=0,len=this.domNode.parentNode.childNodes.length;i<len;i++){c=this.domNode.parentNode.childNodes[i];this.checkFixedBar(c,false);}}this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0;},checkFixedBar:function(node,local){if(node.nodeType===1){var fixed=node.getAttribute("fixed")||node.getAttribute("data-mobile-fixed")||(_2006.byNode(node)&&_2006.byNode(node).fixed);if(fixed==="top"){_2005.add(node,"mblFixedHeaderBar");if(local){node.style.top="0px";this.fixedHeader=node;}return fixed;}else{if(fixed==="bottom"){_2005.add(node,"mblFixedBottomBar");if(local){this.fixedFooter=node;}else{this._fixedAppFooter=node;}return fixed;}}}return null;}});return cls;});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_2009,_200a,_200b){var _200c={};lang.setObject("dojo.dnd.autoscroll",_200c);_200c.getViewport=_200b.getBox;_200c.V_TRIGGER_AUTOSCROLL=32;_200c.H_TRIGGER_AUTOSCROLL=32;_200c.V_AUTOSCROLL_VALUE=16;_200c.H_AUTOSCROLL_VALUE=16;var _200d,doc=win.doc,_200e=Infinity,_200f=Infinity;_200c.autoScrollStart=function(d){doc=d;_200d=_200b.getBox(doc);var html=win.body(doc).parentNode;_200e=Math.max(html.scrollHeight-_200d.h,0);_200f=Math.max(html.scrollWidth-_200d.w,0);};_200c.autoScroll=function(e){var v=_200d||_200b.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_200c.H_TRIGGER_AUTOSCROLL){dx=-_200c.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_200c.H_TRIGGER_AUTOSCROLL){dx=Math.min(_200c.H_AUTOSCROLL_VALUE,_200f-html.scrollLeft);}}if(e.clientY<_200c.V_TRIGGER_AUTOSCROLL){dy=-_200c.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_200c.V_TRIGGER_AUTOSCROLL){dy=Math.min(_200c.V_AUTOSCROLL_VALUE,_200e-html.scrollTop);}}window.scrollBy(dx,dy);};_200c._validNodes={"div":1,"p":1,"td":1};_200c._validOverflow={"auto":1,"scroll":1};_200c.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_2010,_2011;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _200c._validNodes)){var s=_200a.getComputedStyle(n),_2012=(s.overflow.toLowerCase() in _200c._validOverflow),_2013=(s.overflowX.toLowerCase() in _200c._validOverflow),_2014=(s.overflowY.toLowerCase() in _200c._validOverflow);if(_2012||_2013||_2014){b=_2009.getContentBox(n,s);t=_2009.position(n,true);}if(_2012||_2013){w=Math.min(_200c.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_2010=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_2012||_2014){h=Math.min(_200c.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_2011=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_200c.autoScroll(e);};return _200c;});},"dojox/charting/plot2d/CartesianBase":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/has","./Base","../scaler/primitive","dojox/gfx","dojox/gfx/fx","dojox/lang/utils"],function(lang,_2015,hub,has,Base,_2016,gfx,fx,du){return _2015("dojox.charting.plot2d.CartesianBase",Base,{baseParams:{hAxis:"x",vAxis:"y",labels:false,labelOffset:10,fixed:true,precision:1,labelStyle:"inside",htmlLabels:true,omitLabels:true},constructor:function(chart,_2017){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=(_2017&&_2017.hAxis)||"x";this.vAxis=(_2017&&_2017.vAxis)||"y";this.series=[];this.opt=lang.clone(this.baseParams);du.updateWithObject(this.opt,_2017);},clear:function(){this.inherited(arguments);this._hAxis=null;this._vAxis=null;return this;},cleanGroup:function(_2018,_2019){this.inherited(arguments);if(!_2019&&this.chart._nativeClip){var _201a=this.chart.offsets,dim=this.chart.dim;var w=Math.max(0,dim.width-_201a.l-_201a.r),h=Math.max(0,dim.height-_201a.t-_201a.b);this.group.setClip({x:_201a.l,y:_201a.t,width:w,height:h});if(!this._clippedGroup){this._clippedGroup=this.group.createGroup();}}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null;},getGroup:function(){return this._clippedGroup||this.group;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},toPage:function(coord){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromModel(sh),tv=sv.scaler.getTransformerFromModel(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(coord){var r={};r.x=th(coord[ah.name])+c.x+o.l;r.y=c.y+dim.height-o.b-tv(coord[av.name]);return r;};return coord?t(coord):t;},toData:function(coord){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromPlot(sh),tv=sv.scaler.getTransformerFromPlot(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(coord){var r={};r[ah.name]=th(coord.x-c.x-o.l);r[av.name]=tv(c.y+dim.height-coord.y-o.b);return r;};return coord?t(coord):t;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},createLabel:function(group,value,bbox,theme){if(this.opt.labels){var x,y,label=this.opt.labelFunc?this.opt.labelFunc.apply(this,[value,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(value.y)?value:value.y);if(this.opt.labelStyle=="inside"){var lbox=gfx._base._getTextBox(label,{font:theme.series.font});x=bbox.x+bbox.width/2;y=bbox.y+bbox.height/2+lbox.h/4;if(lbox.w>bbox.width||lbox.h>bbox.height){return;}}else{x=bbox.x+bbox.width/2;y=bbox.y-this.opt.labelOffset;}this.renderLabel(group,x,y,label,theme,this.opt.labelStyle=="inside");}},performZoom:function(dim,_201b){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_201c=dim.height-_201b.b,_201d=this._hScaler.bounds,_201e=(_201d.from-_201d.lower)*_201d.scale,_201f=this._vScaler.bounds,_2020=(_201f.from-_201f.lower)*_201f.scale,_2021=vs/this.lastWindow.vscale,_2022=hs/this.lastWindow.hscale,_2023=(this.lastWindow.xoffset-_201e)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),_2024=(_2020-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.getGroup(),anim=fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_201b.l*(1-_2022),_201c*(1-_2021)]},{name:"scale",start:[1,1],end:[_2022,_2021]},{name:"original"},{name:"translate",start:[0,0],end:[_2023,_2024]}]},this.zoom));lang.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_201e,yoffset:_2020});this.zoomQueue.push(anim);hub.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},initializeScalers:function(dim,stats){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(stats.hmin,stats.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=_2016.buildScaler(stats.hmin,stats.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(stats.vmin,stats.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=_2016.buildScaler(stats.vmin,stats.vmax,dim.height);}return this;}});});},"ma/util/UrlManager":function(){define(["dojo/_base/declare"],function(_2025){return _2025("ma.util.UrlManager",null,{_items:{},constructor:function(){this._parseUrl();},_parseUrl:function(){var _2026,_2027;var index=0;index=window.location.href.indexOf("?");if(index<=-1){index=window.location.href.indexOf("#");}_2026=decodeURI(window.location.href.substr(index+1));_2027=_2026.split("&");for(var i=0,len=_2027.length;i<len;i++){temp=_2027[i].split("=");this._items[temp[0].toLowerCase()]=temp[1];}},getParamValue:function(_2028){return this._items[_2028];}});});},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(lang,arr,_2029,hub){return _2029("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=lang.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";arr.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_202a,_202b){this.dirty=true;return hub.connect(this,"plotEvent",_202a,_202b);},events:function(){return !!this.plotEvent.after;},resetEvents:function(){if(this._shapeEvents.length){arr.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_202c){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_202c,this,function(e){o.type=_202c;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){if(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");}},_reconnectEvents:function(_202d){var a=this._eventSeries[_202d];if(a){arr.forEach(a,this._connectEvents,this);}},fireEvent:function(_202e,_202f,index,_2030){var s=this._eventSeries[_202e];if(s&&s.length&&index<s.length){var o=s[index];o.type=_202f;o.event=_2030||null;this.raiseEvent(o);o.event=null;}}});});},"viewer/animation/Hyperlink":function(){define(["dojo/_base/declare","./_base","dojo/touch","dojo/on","../misc/enums","../misc/gui/helpers/common"],function(_2031,_2032,touch,on,enums,_2033){return _2031("viewer.animation.Hyperlink",_2032,{_lnk:null,constructor:function(_2034,_2035){this.inherited(arguments);if(_2034.isCustomWidget===true){_2034.on(enums.CUSTOM_WIDGET_EVENTS.READY,this._subscribeEvents.bind(this));}else{this._subscribeEvents({commandNode:this._commandNode});}_2033.addClass(this._widget._getComponentAttr(),"viewer-style-common-handCommand");},_onUp:function(evt){if(parseInt(this._isDisabled)!==0||(this._widget.disable!==null&&parseInt(this._widget.disable)!==0)||this._securitySystem.isAuthorized(this._animProps.security)===false){return;}if(this._widget._attr.engine==enums.EnumRuntimeScadaEngine.ArchestrA){this._animProps.uRL=_2033.locationUrlFormat(this._animProps.uRL);}open(this._animProps.uRL,"_blank");},_execUpdate:function(){},_subscribeEvents:function(evt){var self=this;this._commandNode=evt.commandNode;on(this._commandNode,touch.release,function(evt){self._onUp(evt);});}});});},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(dojox){return dojox.grid.cells;});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_2036,_2037,_2038,lang){function _2039(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_203a,dim){var _203b=_203a.resize?_203a.resize(dim):_2037.setMarginBox(_203a.domNode,dim);if(_203b){lang.mixin(_203a,_203b);}else{lang.mixin(_203a,_2037.getMarginBox(_203a.domNode));lang.mixin(_203a,dim);}};var utils={marginBox2contentBox:function(node,mb){var cs=_2038.getComputedStyle(node);var me=_2037.getMarginExtents(node,cs);var pb=_2037.getPadBorderExtents(node,cs);return {l:_2038.toPixelValue(node,cs.paddingLeft),t:_2038.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_203c,dim,_203d,_203e,_203f){dim=lang.mixin({},dim);_2036.add(_203c,"dijitLayoutContainer");_203d=array.filter(_203d,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(array.filter(_203d,function(item){return item.region=="center"||item.layoutAlign=="client";}));array.forEach(_203d,function(child){var elm=child.domNode,pos=(child.region||child.layoutAlign);if(!pos){throw new Error("No region setting for "+child.id);}var _2040=elm.style;_2040.left=dim.l+"px";_2040.top=dim.t+"px";_2040.position="absolute";_2036.add(elm,"dijitAlign"+_2039(pos));var _2041={};if(_203e&&_203e==child.id){_2041[child.region=="top"||child.region=="bottom"?"h":"w"]=_203f;}if(pos=="leading"){pos=child.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=child.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_2041.w=dim.w;size(child,_2041);dim.h-=child.h;if(pos=="top"){dim.t+=child.h;}else{_2040.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_2041.h=dim.h;size(child,_2041);dim.w-=child.w;if(pos=="left"){dim.l+=child.w;}else{_2040.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(child,dim);}}}});}};lang.setObject("dijit.layout.utils",utils);return utils;});},"ma/widget/date/Date":function(){define(["dojo/_base/declare","dojox/mobile/SpinWheelDatePicker","dojox/mobile/parser","dijit/_base/manager"],function(_2042,_2043,_2044,_2045){return _2042("ma.widget.date.Date",null,{date:null,dijitSpin:null,startup:function(_2046){this.date=new Date();this.dijitSpin=_2046;},getMonth:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[1]){this.date.setMonth(this._switchMonth2Num(spV[1]));}return this.date.getMonth()+1;},getDay:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[2]){this.date.setDate(spV[2]);}return this.date.getDate();},getYear:function(){var spV=this.dijitSpin.get("values");if(spV&&spV[0]){this.date.setFullYear(spV[0]);}return this.date.getFullYear();},setValue:function(d){this.date=d;this.update();},update:function(){this.dijitSpin.set("values",[this.date.getFullYear(),this.date.getMonth()+1,this.date.getDate()]);},_switchMonth2Num:function(m){switch(m){case "Jan":return 0;case "Feb":return 1;case "Mar":return 2;case "Apr":return 3;case "May":return 4;case "Jun":return 5;case "Jul":return 6;case "Aug":return 7;case "Sep":return 8;case "Oct":return 9;case "Nov":return 10;case "Dec":return 11;default:return 0;}}});});},"viewer/misc/gui/inputTextBox":function(){define(["dojo/_base/declare","./_base","dojo/text!./inputTextBox.html","./helpers/css","dojo/touch","../enums"],function(_2047,_2048,_2049,_204a,touch,enums){return _2047("viewer.misc.gui.InputWindow",_2048,{templateString:_2049,inputEvent:null,onWrite:null,onCancel:null,mask:null,_passwordType:false,_msg:"Obeject Hint",_textComponent:null,currentValue:null,range:null,_selectionStart:null,_selectionEnd:null,_minValue:null,_maxValue:null,dataType:null,_isEncrypt:false,_isEchoCharacters:false,_passwordReplcementChar:null,_isPasswordReplcement:false,_isInputOnly:false,_textValue:"",_isHiddenValue:false,tagType:null,startup:function(){var self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this._textComponent=this._txtField;this.inherited(arguments);if(this._passwordType){this._textComponent.setAttribute("type","password");if(this._minField.value){this.range=null;}}dojo.connect(this._textComponent,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._dlgContent.parentNode,touch.press,function(evt){self.close();});dojo.connect(this._dlgContent,touch.press,function(evt){event.stopPropagation();});if(this.mask){_204a.setAttr(this._textComponent,"maxlength",this.mask.length);}if(this.currentValue!=null&&(this.dataType==enums.EnumDataType.REAL||this.dataType==enums.EnumDataType.DOUBLE||this.dataType==enums.EnumDataType.INT)){if(parseFloat(this.currentValue)===Infinity){this.currentValue="1.79769313486232E+308";}else{if(parseFloat(this.currentValue)===-Infinity){this.currentValue="-1.79769313486232E+308";}else{this.currentValue=parseFloat(this.currentValue);}}this._textComponent.value=this.currentValue;}else{if(this.dataType==enums.EnumDataType.STRING){if(this.tagType==enums.EnumDataType.ELAPSEDTIME){this._textComponent.value=this.currentValue.replace(" ",".");}else{if(!this._isInputOnly||(this._isEchoCharacters&&!this._isPasswordReplcement)){this._textComponent.value=this.currentValue;}else{this._isHiddenValue=true;dojo.connect(this._textComponent,"input",function(evt){self._onInput(evt);});}}}}this._textComponent.focus();if(dojo.isIos){setTimeout(function(){var _204b=this._textComponent.type;this._textComponent.type="text";this._textComponent.selectionStart=0;this._textComponent.selectionEnd=this._textComponent.value.length;this._textComponent.type=_204b;}.bind(this),300);}else{this._textComponent.select();}dojo.fadeIn({node:this._dlgContent,duration:100}).play();setTimeout(function(){this._textComponent.focus();this._textComponent.setSelectionRange(0,this._textComponent.value.length);}.bind(this),1);this._reset();},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.onWrite&&(this._validateInput()&&this._validateTimeInput())){var _204c=this._textComponent.value;if(this.dataType==enums.EnumDataType.REAL||this.dataType==enums.EnumDataType.DOUBLE||this.dataType==enums.EnumDataType.INT){_204c=_204c.trim();if(this.dataType==enums.EnumDataType.INT){_204c=parseInt(parseFloat(_204c));}}if(this._isHiddenValue){_204c=this._textValue;}if(this._isEncrypt){_204c=this._prepareEncodedString(_204c);}if(this.tagType==enums.EnumDataType.ELAPSEDTIME){if(/^-?([0-9]{1,})$/.test(_204c)){_204c+=".00:00:00";}}this.onWrite(_204c);}},_onKeyPress:function(evt){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;case 33:this._setFocusAtStart();break;case 34:this._setFocusAtEnd();break;}this._setSelection();},_setFocusAtStart:function(){this._selectionStart=0;this._selectionEnd=0;this._setFocus();},_setFocusAtEnd:function(){this._selectionStart=this._txtField.value.length;this._selectionEnd=this._txtField.value.length;this._setFocus();},_setSelection:function(){this._selectionStart=Math.min(this._txtField.selectionStart,this._txtField.selectionEnd);this._selectionEnd=Math.max(this._txtField.selectionStart,this._txtField.selectionEnd);},_setFocus:function(){this._txtField.focus();if(this._selectionStart==null){this._selectionStart=0;}if(this._selectionEnd==null){this._selectionEnd=this._txtField.value.length;}this._txtField.setSelectionRange(this._selectionStart,this._selectionEnd);},_onInput:function(evt){if(evt.target.value.length>this._textValue.length){this._textValue+=evt.target.value.substr(this._textValue.length-evt.target.value.length);}else{if(evt.target.value.length<this._textValue.length){this._textValue=this._textValue.substring(0,evt.target.value.length);}else{return;}}var _204d="";if(!this._isPasswordReplcement){this._passwordReplcementChar=" ";}for(var i=0;i<this._textValue.length;i++){_204d+=this._passwordReplcementChar;}this._txtField.value=_204d;this._selectionStart=this._txtField.value.length;this._selectionEnd=this._selectionStart;this._setFocus();},_setMessageErrorAttr:function(msg){this._dlgErrorMessage.innerHTML=msg;},_reset:function(){this._dlgErrorMessage.innerHTML="";},_setPasswordTypeAttr:function(_204e){this._passwordType=_204e;},setRequired:function(_204f){if(_204f){_204a.setAttr(this._txtField,"required","true");}},setTypeAndRangeAttr:function(opts){this.range={};if(opts&&opts.isNumeric){this.range.isNumeric=true;if(!(opts.min===null)&&!(isNaN(parseFloat(opts.min)))&&opts.isRestrict){this._minValue=parseFloat(opts.min);}else{if(this.dataType==enums.EnumDataType.REAL){this._minValue=enums.DataRange.FLOATMIN;}else{if(this.dataType==enums.EnumDataType.DOUBLE){this._minValue=enums.DataRange.DOUBLEMIN;}else{if(this.dataType==enums.EnumDataType.INT){this._minValue=enums.DataRange.INTMIN;}else{this._minValue=enums.DataRange.DOUBLEMIN;}}}}if(!(opts.max===null)&&!(isNaN(parseFloat(opts.max)))&&opts.isRestrict){this._maxValue=parseFloat(opts.max);}else{if(this.dataType==enums.EnumDataType.REAL){this._maxValue=enums.DataRange.FLOATMAX;}else{if(this.dataType==enums.EnumDataType.DOUBLE){this._maxValue=enums.DataRange.DOUBLEMAX;}else{if(this.dataType==enums.EnumDataType.INT){this._maxValue=enums.DataRange.INTMAX;}else{this._maxValue=enums.DataRange.DOUBLEMAX;}}}}}},setInputPosition:function(opts){if(opts){var _2050=this._dlgContent.clientWidth/2;var _2051=this._dlgContent.parentNode.clientWidth-(this._dlgContent.clientWidth/2);var _2052=this._dlgContent.clientHeight/2;var _2053=this._dlgContent.parentNode.clientHeight-(this._dlgContent.clientHeight/2);if(opts.left<_2050){opts.left=_2050;}if(opts.left>_2051){opts.left=_2051;}if(opts.top<_2052){opts.top=_2052;}if(opts.top>_2053){opts.top=_2053;}this._dlgContent.style.left=opts.left+"px";this._dlgContent.style.top=opts.top+"px";}},setInputOnly:function(opts){if(opts){this._isEncrypt=opts.encrypt;this._isEchoCharacters=opts.echoCharacters;this._isPasswordReplcement=opts.passwordReplcement;this._passwordReplcementChar=opts.passwordReplcementChar;this._isInputOnly=opts.inputOnly;}},_prepareEncodedString:function(_2054){var j;var _2055=127;var _2056=new Array(_2054.length+1);for(var i=0;i<_2054.length;i++){j=_2054.charCodeAt(i);if(j>=1){if(j<=127){_2056[i]=String.fromCharCode(j+_2055);}if(j>127){if(j==255){_2056[i]=String.fromCharCode(j);}else{_2056[i]=String.fromCharCode(j-_2055);}}}}return _2056.join("");},_selectAll:function(){this._textComponent.focus();this._textComponent.setSelectionRange(0,this._textComponent.value.length);this._selectionStart=0;this._selectionEnd=this._textComponent.value.length;},_validateInput:function(evt){if(!this.range.isNumeric){return true;}var _2057=false;var _2058=this._txtField.value.trim();var reg=/^([\-\+]?\d+)(\.\d+)?(([Ee])([\-\+]?\d+))?$/;var _2059=/^([\-\+]?\.\d+)(([Ee])([\-\+]?\d+))?$/;if(!reg.test(_2058)&&!_2059.test(_2058)){this._setMessageErrorAttr("Invalid floating point value");dojo.style(this._txtField,"border","2px solid red");this._selectAll();_2057=false;}else{if(parseFloat(_2058)>parseFloat(this._maxValue)||parseFloat(_2058)<parseFloat(this._minValue)){this._setMessageErrorAttr("New value must be from "+this._minValue+" to "+this._maxValue);dojo.style(this._txtField,"border","2px solid red");this._selectAll();_2057=false;}else{this._reset();dojo.style(this._txtField,"border","");_2057=true;}}if(!_2057){this.setInputPosition({"left":this._dlgContent.offsetLeft,"top":this._dlgContent.offsetTop});}return _2057;},_validateTimeInput:function(evt){if(this.tagType!=enums.EnumDataType.ELAPSEDTIME){return true;}var _205a=false;var _205b=this._txtField.value;if(/^-?([0-9]{1,})$/.test(_205b)){if(Math.abs(parseInt(_205b))>10675199){this._setMessageErrorAttr("The duration is too long");dojo.style(this._txtField,"border","2px solid red");_205a=false;}else{_205a=true;}}else{if(/^-?([0-9]{1,}\.)(1[0-9]|2[0-3]|0[0-9]|[0-9])\:([0-9]{1}|[0-5][0-9]|[6][0])$/.test(_205b)){var days=_205b.replace("-","").split(".")[0];var time=_205b.replace("-","").split(".")[1].split(":");if(parseInt(days)>10675199||(parseInt(days)==10675199&&(parseInt(time[0])*3600+parseInt(time[1])*60)>10080)){this._setMessageErrorAttr("The duration is too long");dojo.style(this._txtField,"border","2px solid red");_205a=false;}else{_205a=true;}}else{if(/^-?([0-9]{1,}\.)(1[0-9]|2[0-3]|0[0-9]|[0-9])\:([0-9]{1}|[0-5][0-9]|[6][0])\:([0-9]{1}|[0-5][0-9]|[6][0])$/.test(_205b)){var days=_205b.replace("-","").split(".")[0];var time=_205b.replace("-","").split(".")[1].split(":");if(parseInt(days)>10675199||(parseInt(days)==10675199&&(parseInt(time[0])*3600+parseInt(time[1])*60+parseInt(time[2]))>10085)){this._setMessageErrorAttr("The duration is too long");dojo.style(this._txtField,"border","2px solid red");_205a=false;}else{_205a=true;}}else{if(/^-?([0-9]{1,}\.)(1[0-9]|2[0-3]|0[0-9]|[0-9])\:([0-9]{1}|[0-5][0-9]|[6][0])\:([0-9]{1}|[0-5][0-9]|[6][0])\.(\d{1,7})$/.test(_205b)){var days=_205b.replace("-","").split(".")[0];var time=_205b.replace("-","").split(".")[1].split(":");var _205c=_205b.replace("-","").split(".")[2];if(_205c.length<7){_205c=_205c+Array(7-_205c.length+1).join("0");}if(parseInt(days)>10675199||(parseInt(days)==10675199&&(parseInt(time[0])*3600+parseInt(time[1])*60+parseInt(time[2]))>10085)||(parseInt(days)==10675199&&(parseInt(time[0])*3600+parseInt(time[1])*60+parseInt(time[2]))==10085&&parseInt(_205c)>4775807)){this._setMessageErrorAttr("The duration is too long");dojo.style(this._txtField,"border","2px solid red");_205a=false;}else{_205a=true;}}else{if(/^-?((1[0-9]|2[0-3]|0[0-9]|[0-9]))(\:([0-9]{1}|[0-5][0-9]|[6][0]))((\:([0-9]{1}|[0-5][0-9]|[6][0]))(\.\d{1,7})?)?$/.test(_205b)){_205a=true;}else{this._setMessageErrorAttr("Invalid input value");dojo.style(this._txtField,"border","2px solid red");_205a=false;}}}}}return _205a;}});});},"dojox/gauges/_Gauge":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/html","dojo/_base/array","dojo/_base/event","dojo/_base/connect","dojo/dom-construct","dijit/_Widget","dojox/gfx","./Range","dojo/fx/easing"],function(_205d,_205e,lang,html,arr,event,_205f,dom,_2060,gfx,Range){_205d.deprecated("dojox.gauges","Use the new extensible dojox.dgauges framework instead","2.0");var _2061=0;var _2062=0;return _205e("dojox.gauges._Gauge",[_2060],{width:0,height:0,background:null,image:null,useRangeStyles:0,useTooltip:true,majorTicks:null,minorTicks:null,_defaultIndicator:null,defaultColors:[[0,84,170,1],[68,119,187,1],[102,153,204,1],[153,187,238,1],[153,204,255,1],[204,238,255,1],[221,238,255,1]],min:null,max:null,surface:null,hideValues:false,gaugeContent:undefined,_backgroundDefault:{color:"#E0E0E0"},_rangeData:null,_indicatorData:null,_drag:null,_img:null,_overOverlay:false,_lastHover:"",startup:function(){if(this.image===null){this.image={};}this.connect(this.gaugeContent,"onmousedown",this.handleMouseDown);this.connect(this.gaugeContent,"onmousemove",this.handleMouseMove);this.connect(this.gaugeContent,"onmouseover",this.handleMouseOver);this.connect(this.gaugeContent,"onmouseout",this.handleMouseOut);this.connect(this.gaugeContent,"touchstart",this.handleTouchStart);this.connect(this.gaugeContent,"touchend",this.handleTouchEnd);this.connect(this.gaugeContent,"touchmove",this.handleTouchMove);if(!lang.isArray(this.ranges)){this.ranges=[];}if(!lang.isArray(this.indicators)){this.indicators=[];}var _2063=[],_2064=[];var i;if(this.hasChildren()){var _2065=this.getChildren();for(i=0;i<_2065.length;i++){if(/.*Indicator/.test(_2065[i].declaredClass)){_2064.push(_2065[i]);continue;}switch(_2065[i].declaredClass){case Range.prototype.declaredClass:_2063.push(_2065[i]);break;}}this.ranges=this.ranges.concat(_2063);this.indicators=this.indicators.concat(_2064);}if(!this.background){this.background=this._backgroundDefault;}this.background=this.background.color||this.background;if(!this.surface){this.createSurface();}this.addRanges(this.ranges);if(this.minorTicks&&this.minorTicks.interval){this.setMinorTicks(this.minorTicks);}if(this.majorTicks&&this.majorTicks.interval){this.setMajorTicks(this.majorTicks);}for(i=0;i<this.indicators.length;i++){this.addIndicator(this.indicators[i]);}this.inherited(arguments);},hasChildren:function(){return this.getChildren().length>0;},buildRendering:function(){var n=this.domNode=this.srcNodeRef?this.srcNodeRef:dom.create("div");this.gaugeContent=dom.create("div",{className:"dojoxGaugeContent"});this.containerNode=dom.create("div");this.mouseNode=dom.create("div");while(n.hasChildNodes()){this.containerNode.appendChild(n.firstChild);}dom.place(this.gaugeContent,n);dom.place(this.containerNode,n);dom.place(this.mouseNode,n);},_setTicks:function(_2066,_2067,major){var i;if(_2066&&lang.isArray(_2066._ticks)){for(i=0;i<_2066._ticks.length;i++){this._removeScaleTick(_2066._ticks[i]);}}var t={length:_2067.length,offset:_2067.offset,noChange:true};if(_2067.color){t.color=_2067.color;}if(_2067.font){t.font=_2067.font;}if(_2067.labelPlacement){t.direction=_2067.labelPlacement;}_2067._ticks=[];for(i=this.min;i<=this.max;i+=_2067.interval){if(i==this.max&&this._isScaleCircular()){continue;}t.value=i;if(major){var _2068=this._getNumberModule();if(_2068){t.label=(_2067.fixedPrecision&&_2067.precision)?_2068.format(i,{places:_2067.precision}):_2068.format(i);}else{t.label=(_2067.fixedPrecision&&_2067.precision)?i.toFixed(_2067.precision):i.toString();}}_2067._ticks.push(this._addScaleTick(t,major));}return _2067;},_isScaleCircular:function(){return false;},setMinorTicks:function(ticks){this.minorTicks=this._setTicks(this.minorTicks,ticks,false);},setMajorTicks:function(ticks){this.majorTicks=this._setTicks(this.majorTicks,ticks,true);},postCreate:function(){if(this.hideValues){html.style(this.containerNode,"display","none");}html.style(this.mouseNode,"width","0");html.style(this.mouseNode,"height","0");html.style(this.mouseNode,"position","absolute");html.style(this.mouseNode,"z-index","100");if(this.useTooltip){require(["dijit/Tooltip"],dojo.hitch(this,function(_2069){_2069.show("test",this.mouseNode,!this.isLeftToRight());_2069.hide(this.mouseNode);}));}},_getNumberModule:function(){if(_2062==0){try{_2062=require("dojo/number");}catch(e){_2062=null;}}return _2062;},createSurface:function(){this.gaugeContent.style.width=this.width+"px";this.gaugeContent.style.height=this.height+"px";this.surface=gfx.createSurface(this.gaugeContent,this.width,this.height);this._backgroundGroup=this.surface.createGroup();this._rangeGroup=this.surface.createGroup();this._minorTicksGroup=this.surface.createGroup();this._majorTicksGroup=this.surface.createGroup();this._overlayGroup=this.surface.createGroup();this._indicatorsGroup=this.surface.createGroup();this._foregroundGroup=this.surface.createGroup();this._background=this._backgroundGroup.createRect({x:0,y:0,width:this.width,height:this.height});this._background.setFill(this.background);if(this.image.url){var _206a=this._backgroundGroup;if(this.image.overlay){_206a=this._overlayGroup;}this._img=_206a.createImage({width:this.image.width||this.width,height:this.image.height||this.height,src:this.image.url});if(this.image.x||this.image.y){this._img.setTransform({dx:this.image.x||0,dy:this.image.y||0});}}},draw:function(){var i;if(!this.surface){return;}this.drawBackground(this._backgroundGroup);if(this._rangeData){for(i=0;i<this._rangeData.length;i++){this.drawRange(this._rangeGroup,this._rangeData[i]);}}if(this._minorTicksData){for(i=0;i<this._minorTicksData.length;i++){this._minorTicksData[i].draw(this._minorTicksGroup);}}if(this._majorTicksData){for(i=0;i<this._majorTicksData.length;i++){this._majorTicksData[i].draw(this._majorTicksGroup);}}if(this._indicatorData){for(i=0;i<this._indicatorData.length;i++){this._indicatorData[i].draw(this._indicatorsGroup);}}this.drawForeground(this._foregroundGroup);},drawBackground:function(group){},drawForeground:function(group){},setBackground:function(_206b){if(!_206b){_206b=this._backgroundDefault;}this.background=_206b.color||_206b;this._background.setFill(this.background);},addRange:function(range){this.addRanges([range]);},addRanges:function(_206c){if(!this._rangeData){this._rangeData=[];}var range;for(var i=0;i<_206c.length;i++){range=_206c[i];if((this.min===null)||(range.low<this.min)){this.min=range.low;}if((this.max===null)||(range.high>this.max)){this.max=range.high;}if(!range.color){var _206d=this._rangeData.length%this.defaultColors.length;if(gfx.svg&&this.useRangeStyles>0){_206d=(this._rangeData.length%this.useRangeStyles)+1;range.color={style:"dojoxGaugeRange"+_206d};}else{_206d=this._rangeData.length%this.defaultColors.length;range.color=this.defaultColors[_206d];}}this._rangeData[this._rangeData.length]=range;}this.draw();},_addScaleTick:function(_206e,major){if(!_206e.declaredClass){_206e=new this._defaultIndicator(_206e);}_206e._gauge=this;if(major){if(!this._majorTicksData){this._majorTicksData=[];}this._majorTicksData[this._majorTicksData.length]=_206e;_206e.draw(this._majorTicksGroup);}else{if(!this._minorTicksData){this._minorTicksData=[];}this._minorTicksData[this._minorTicksData.length]=_206e;_206e.draw(this._minorTicksGroup);}return _206e;},_removeScaleTick:function(_206f){var i;if(this._majorTicksData){for(i=0;i<this._majorTicksData.length;i++){if(this._majorTicksData[i]===_206f){this._majorTicksData.splice(i,1);_206f.remove();return;}}}if(this._minorTicksData){for(i=0;i<this._minorTicksData.length;i++){if(this._minorTicksData[i]===_206f){this._minorTicksData.splice(i,1);_206f.remove();return;}}}},addIndicator:function(_2070){if(!_2070.declaredClass){_2070=new this._defaultIndicator(_2070);}_2070._gauge=this;if(!_2070.hideValue){this.containerNode.appendChild(_2070.domNode);}if(!this._indicatorData){this._indicatorData=[];}this._indicatorData[this._indicatorData.length]=_2070;_2070.draw(this._indicatorsGroup);return _2070;},removeIndicator:function(_2071){for(var i=0;i<this._indicatorData.length;i++){if(this._indicatorData[i]===_2071){this._indicatorData.splice(i,1);_2071.remove();break;}}},moveIndicatorToFront:function(_2072){if(_2072.shape){_2072.shape.moveToFront();}},drawText:function(group,txt,x,y,align,color,font){var t=group.createText({x:x,y:y,text:txt,align:align});t.setFill(color?color:"black");if(font){t.setFont(font);}return t;},removeText:function(t){if(t.parent){t.parent.remove(t);}},updateTooltip:function(txt,e){if(this.useTooltip){require(["dijit/Tooltip"],dojo.hitch(this,function(_2073){if(this._lastHover!=txt){if(txt!==""){_2073.hide(this.mouseNode);_2073.show(txt,this.mouseNode,!this.isLeftToRight());}else{_2073.hide(this.mouseNode);}this._lastHover=txt;}}));}},handleMouseOver:function(e){if(this.image&&this.image.overlay){if(e.target==this._img.getEventSource()){var hover;this._overOverlay=true;var r=this.getRangeUnderMouse(e);if(r&&r.hover){hover=r.hover;}if(this.useTooltip&&!this._drag){if(hover){this.updateTooltip(hover,e);}else{this.updateTooltip("",e);}}}}},handleMouseOut:function(e){this._overOverlay=false;this._hideTooltip();},handleMouseMove:function(e){if(this.useTooltip){if(e){html.style(this.mouseNode,"left",e.pageX+1+"px");html.style(this.mouseNode,"top",e.pageY+1+"px");}if(this._overOverlay){var r=this.getRangeUnderMouse(e);if(r&&r.hover){this.updateTooltip(r.hover,e);}else{this.updateTooltip("",e);}}}},handleMouseDown:function(e){var _2074=this._getInteractiveIndicator();if(_2074){this._handleMouseDownIndicator(_2074,e);}},_handleDragInteractionMouseMove:function(e){if(this._drag){this._dragIndicator(this,e);event.stop(e);}},_handleDragInteractionMouseUp:function(e){this._drag=null;for(var i=0;i<this._mouseListeners.length;i++){_205f.disconnect(this._mouseListeners[i]);}this._mouseListeners=[];event.stop(e);},_handleMouseDownIndicator:function(_2075,e){if(!_2075.noChange){if(!this._mouseListeners){this._mouseListeners=[];}this._drag=_2075;this._mouseListeners.push(_205f.connect(document,"onmouseup",this,this._handleDragInteractionMouseUp));this._mouseListeners.push(_205f.connect(document,"onmousemove",this,this._handleDragInteractionMouseMove));this._mouseListeners.push(_205f.connect(document,"ondragstart",this,event.stop));this._mouseListeners.push(_205f.connect(document,"onselectstart",this,event.stop));this._dragIndicator(this,e);event.stop(e);}},_handleMouseOverIndicator:function(_2076,e){if(this.useTooltip&&!this._drag){if(_2076.hover){require(["dijit/Tooltip"],dojo.hitch(this,function(_2077){html.style(this.mouseNode,"left",e.pageX+1+"px");html.style(this.mouseNode,"top",e.pageY+1+"px");_2077.show(_2076.hover,this.mouseNode,!this.isLeftToRight());}));}else{this.updateTooltip("",e);}}if(_2076.onDragMove&&!_2076.noChange){this.gaugeContent.style.cursor="pointer";}},_handleMouseOutIndicator:function(_2078,e){this._hideTooltip();this.gaugeContent.style.cursor="pointer";},_hideTooltip:function(){if(this.useTooltip&&this.mouseNode){require(["dijit/Tooltip"],dojo.hitch(this,function(_2079){_2079.hide(this.mouseNode);}));}},_handleMouseOutRange:function(range,e){this._hideTooltip();},_handleMouseOverRange:function(range,e){if(this.useTooltip&&!this._drag){if(range.hover){html.style(this.mouseNode,"left",e.pageX+1+"px");html.style(this.mouseNode,"top",e.pageY+1+"px");require(["dijit/Tooltip"],dojo.hitch(this,function(_207a){_207a.show(range.hover,this.mouseNode,!this.isLeftToRight());}));}else{this.updateTooltip("",e);}}},handleTouchStartIndicator:function(_207b,e){if(!_207b.noChange){this._drag=_207b;event.stop(e);}},handleTouchStart:function(e){this._drag=this._getInteractiveIndicator();this.handleTouchMove(e);},handleTouchEnd:function(e){if(this._drag){this._drag=null;event.stop(e);}},handleTouchMove:function(e){if(this._drag&&!this._drag.noChange){var _207c=e.touches;var _207d=_207c[0];this._dragIndicatorAt(this,_207d.pageX,_207d.pageY);event.stop(e);}},_getInteractiveIndicator:function(){for(var i=0;i<this._indicatorData.length;i++){var _207e=this._indicatorData[i];if(_207e.interactionMode=="gauge"&&!_207e.noChange){return _207e;}}return null;}});});},"ma/widget/SwitchEx":function(){define(["dojo/_base/declare","../_base","dojo/text!./templates/SwitchEx.html"],function(_207f,Base,_2080){return _207f("ma.widget.SwitchEx",Base,{templateString:_2080,value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",size:94,startup:function(){this.inherited(arguments);this.setSize(this.size);this._changeState(this.value,true);this._connects.push(dojo.connect(this.inner,"onclick",this,this._innerClick));},postCreate:function(){this._connects.push(this.connect(this.domNode,"onclick","onClick"));this._initialValue=this.value;},onClick:function(e){if(e.target===this.inner){return;}if(this._moved){return;}this.value=(this.value=="on")?"off":"on";this._changeState(this.value,true);this.onStateChanged(this.value);},_changeState:function(state,anim){var on=(state==="on");dojo.removeClass(this.inner,on?"ma_widget_switch_inner_off":"ma_widget_switch_inner_on");dojo.addClass(this.inner,on?"ma_widget_switch_inner_on":"ma_widget_switch_inner_off");dojo.style(this.left,"display",on?"":"none");dojo.style(this.right,"display",on?"none":"");},disableSwitch:function(){while(this._connects.length>0){dojo.disconnect(this._connects.pop());}},enableSwitch:function(){if(this._connects.length==0){this.connect(this.domNode,"onclick","onClick");this.connect(this.domNode,dojo.has("touch")?"touchstart":"onmousedown","onTouchStart");}},setSize:function(size){this.size=size;dojo.style(this.domNode,"width",size+"px");dojo.style(this.domNode,"height",size*0.27+"px");},onStateChanged:function(_2081){},_setValueAttr:function(value){this._changeState(value,false);if(this.value!=value){this.onStateChanged(value);}this.value=value;},_innerClick:function(evt){var pos=dojo.position(this.domNode);if(evt.clientX<pos.x||evt.clientX>(pos.x+pos.w)){evt.stopPropagation();}if(evt.clientY<pos.y||evt.clientY>pos.y+pos.h){evt.stopPropagation();}}});});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(focus,_2082,_2083,lang){lang.extend(_2082,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _2083("dijit._FocusMixin",null,{_focusManager:focus});});},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare","./Columns","./commonStacked"],function(_2084,_2085,_2086){return _2084("dojox.charting.plot2d.StackedColumns",_2085,{getSeriesStats:function(){var stats=_2086.collectStats(this.series);stats.hmin-=0.5;stats.hmax+=0.5;return stats;},getValue:function(value,index,_2087,_2088){var x,y;if(_2088){x=index;y=_2086.getIndexValue(this.series,_2087,x);}else{x=value.x-1;y=_2086.getValue(this.series,_2087,value.x);y=[y[0]?y[0].y:null,y[1]?y[1]:null];}return {x:x,y:y[0],py:y[1]};}});});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_2089=function(){var n=null,_208a=arguments,uri=[_208a[0]];for(var i=1;i<_208a.length;i++){if(!_208a[i]){continue;}var _208b=new _2089(_208a[i]+""),_208c=new _2089(uri[0]+"");if(_208b.path==""&&!_208b.scheme&&!_208b.authority&&!_208b.query){if(_208b.fragment!=n){_208c.fragment=_208b.fragment;}_208b=_208c;}else{if(!_208b.scheme){_208b.scheme=_208c.scheme;if(!_208b.authority){_208b.authority=_208c.authority;if(_208b.path.charAt(0)!="/"){var path=_208c.path.substring(0,_208c.path.lastIndexOf("/")+1)+_208b.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_208b.path=segs.join("/");}}}}uri=[];if(_208b.scheme){uri.push(_208b.scheme,":");}if(_208b.authority){uri.push("//",_208b.authority);}uri.push(_208b.path);if(_208b.query){uri.push("?",_208b.query);}if(_208b.fragment){uri.push("#",_208b.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_2089.prototype.toString=function(){return this.uri;};return dojo._Url=_2089;});},"viewer/misc/gui/inputDateTime":function(){define(["dojo/_base/declare","./_base","../../misc/enums","dojo/text!./inputDateTime.html","./helpers/css","dojo/touch"],function(_208d,_208e,enums,_208f,_2090,touch){return _208d("viewer.misc.gui.InputWindow",_208e,{templateString:_208f,inputEvent:null,onWrite:null,onCancel:null,mask:null,currentValue:null,range:null,_dateTimeDisplayType:null,_showSeconds:null,_currentDateTimeAsDefault:null,self:null,resDate:null,resDay:null,resMonth:null,resYear:null,resHour:null,resMinute:null,resSecond:null,resButtonOk:null,resButtonCancel:null,buildRendering:function(){var _2091=dojo.i18n.getLocalization("dijit","common");this.resDate=_2091.date;this.resDay=_2091.day;this.resMonth=_2091.month;this.resYear=_2091.year;this.resTime=_2091.time;this.resHour=_2091.hour;this.resMinute=_2091.minute;this.resSecond=_2091.second;this.resButtonOk=_2091.buttonOk;this.resButtonCancel=_2091.buttonCancel;this.inherited(arguments);},startup:function(){self=this;this.yOffset=window.pageYOffset;this.xOffset=window.pageXOffset;this.inherited(arguments);dojo.connect(this._dlgContent.parentNode,touch.press,function(evt){self.close();});dojo.connect(this._dlgContent,touch.press,function(evt){event.stopPropagation();});this._init(this._dateTimeDisplayType,this._showSeconds);this._setTime(this._currentDateTimeAsDefault?Date():this.currentValue,this._dateTimeDisplayType,this._showSeconds);dojo.fadeIn({node:this._dlgContent,duration:100}).play();setTimeout(this._setFocus.bind(this),1);},_init:function(_2092,_2093){if(_2092==enums.EnumDateTimeDisplayType.DATEONLY){this._timeContainer.parentNode.removeChild(this._timeContainer);this._bindDays();this._bindMonth();this._bindYear();}else{if(_2092==enums.EnumDateTimeDisplayType.TIMEONLY){this._dateContainer.parentNode.removeChild(this._dateContainer);this._bindHour();this._bindMinute();if(!_2093){this._secondsField.parentNode.removeChild(this._secondsField);}else{this._bindSeconds();}}else{this._bindDays();this._bindMonth();this._bindYear();this._bindHour();this._bindMinute();if(!_2093){this._secondsField.parentNode.removeChild(this._secondsField);}else{this._bindSeconds();}}}},_setTime:function(time,_2094,_2095){var date=new Date(Date.parse(time));if(_2094==enums.EnumDateTimeDisplayType.DATEONLY){this._day.value=date.getDate();this._month.value=date.getMonth()+1;this._year.value=date.getFullYear();}else{if(_2094==enums.EnumDateTimeDisplayType.TIMEONLY){this._hour.value=date.getHours();this._minute.value=date.getMinutes();if(_2095){this._seconds.value=date.getSeconds();}}else{this._day.value=date.getDate();this._month.value=date.getMonth()+1;this._year.value=date.getFullYear();this._hour.value=date.getHours();this._minute.value=date.getMinutes();if(_2095){this._seconds.value=date.getSeconds();}}}},_bindDays:function(){dojo.connect(this._dayUp,touch.press,function(evt){self._validateInputs(self._day,"day","up");});dojo.connect(this._dayDown,touch.press,function(evt){self._validateInputs(self._day,"day","down");});dojo.connect(this._dayUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._dayDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._day,"keypress",function(evt){self._onKeyPress(evt,"day");});this._day.addEventListener("blur",function(){self._validateInputs(self._day,"day","input");});},_bindMonth:function(){dojo.connect(this._monthUp,touch.press,function(evt){self._validateInputs(self._month,"month","up");});dojo.connect(this._monthDown,touch.press,function(evt){self._validateInputs(self._month,"month","down");});dojo.connect(this._monthUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._monthDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._month,"keypress",function(evt){self._onKeyPress(evt,"month");});this._month.addEventListener("blur",function(){self._validateInputs(self._month,"month","input");});},_bindYear:function(){dojo.connect(this._yearUp,touch.press,function(evt){self._validateInputs(self._year,"year","up");});dojo.connect(this._yearDown,touch.press,function(evt){self._validateInputs(self._year,"year","down");});dojo.connect(this._yearUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._yearDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._year,"keypress",function(evt){self._onKeyPress(evt,"year");});this._year.addEventListener("blur",function(){self._validateInputs(self._year,"year","input");});},_bindHour:function(){dojo.connect(this._hourUp,touch.press,function(evt){self._validateInputs(self._hour,"hour","up");});dojo.connect(this._hourDown,touch.press,function(evt){self._validateInputs(self._hour,"hour","down");});dojo.connect(this._hourUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._hourDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._hour,"keypress",function(evt){self._onKeyPress(evt,"hour");});this._hour.addEventListener("blur",function(){self._validateInputs(self._hour,"hour","input");});},_bindMinute:function(){dojo.connect(this._minuteUp,touch.press,function(evt){self._validateInputs(self._minute,"minute","up");});dojo.connect(this._minuteDown,touch.press,function(evt){self._validateInputs(self._minute,"minute","down");});dojo.connect(this._minuteUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._minuteDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._minute,"keypress",function(evt){self._onKeyPress(evt,"minute");});this._minute.addEventListener("blur",function(){self._validateInputs(self._minute,"minute","input");});},_bindSeconds:function(){dojo.connect(this._secondsUp,touch.press,function(evt){self._validateInputs(self._seconds,"second","up");});dojo.connect(this._secondsDown,touch.press,function(evt){self._validateInputs(self._seconds,"second","down");});dojo.connect(this._secondsUp,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._secondsDown,"keypress",function(evt){self._onKeyPress(evt);});dojo.connect(this._seconds,"keypress",function(evt){self._onKeyPress(evt,"second");});this._seconds.addEventListener("blur",function(){self._validateInputs(self._seconds,"second","input");});},_getNodeMinMaxValue:function(_2096){switch(_2096){case "day":this._judgetMaxDays(this._month.value);return {"minValue":1,"maxValue":this.MAX_DAYS};case "month":return {"minValue":1,"maxValue":12};case "year":return {"minValue":1601,"maxValue":9999};case "hour":return {"minValue":0,"maxValue":23};case "minute":case "second":return {"minValue":0,"maxValue":59};default:return {"minValue":0,"maxValue":0};}},_validateInputs:function(node,name,type){var _2097=this._getNodeMinMaxValue(name);var min=_2097.minValue;var max=_2097.maxValue;var val=node.value;if(type=="up"){if(isNaN(parseInt(val))||parseInt(val)+1>max){node.value=min;}else{node.value=parseInt(val)+1;}}else{if(type=="down"){if(isNaN(parseInt(val))||parseInt(val)-1<min){node.value=max;}else{node.value=parseInt(val)-1;}}else{if(type=="input"){if(isNaN(parseInt(val))||parseInt(val)<min){node.value=min;}else{if(parseInt(val)>max){node.value=max;}else{node.value=parseInt(val);}}}}}if(name=="month"||name=="year"){this._validateInputs(this._day,"day","input");}},_judgetMaxDays:function(month){if("1 01 3 03 5 05 7 07 8 08 10".indexOf(month)>-1||month=="12"){this.MAX_DAYS=31;}else{if("4 04 6 06 9 09 11".indexOf(month)>-1){this.MAX_DAYS=30;}else{var year=parseInt(this._year.value);if(year%400==0||(year%4==0&&year%100!=0)){this.MAX_DAYS=29;}else{this.MAX_DAYS=28;}}}},close:function(){if(this.onCancel){this.onCancel();}dojo.destroy(this.id);window.scrollTo(this.xOffset,this.yOffset);},_ok:function(){if(this.onWrite){var days=this._day.value?this._day.value:30;var month=this._month.value?this._month.value:12;var year=this._year.value?this._year.value:1899;var hour=this._hour.value?this._hour.value:0;var _2098=this._minute.value?this._minute.value:0;var _2099=this._seconds.value?this._seconds.value:0;var _209a=month+"/"+days+"/"+year+" "+hour+":"+_2098+":"+_2099;this.onWrite(_209a);}},_onKeyPress:function(evt,name){switch(evt.keyCode){case 13:this._ok();break;case 27:this.close();break;case 38:this._validateInputs(evt.target,name,"up");break;case 40:this._validateInputs(evt.target,name,"down");break;}},_setFocus:function(){this._okBtn.focus();},_setMessageAttr:function(msg){this._dlgMessage.innerHTML=msg;},setTypeAndRangeAttr:function(opts){},setPromptMessage:function(opts){}});});},"dojox/charting/plot2d/Stacked":function(){define(["dojo/_base/declare","./Default","./commonStacked"],function(_209b,_209c,_209d){return _209b("dojox.charting.plot2d.Stacked",_209c,{getSeriesStats:function(){var stats=_209d.collectStats(this.series);return stats;},buildSegments:function(i,_209e){var run=this.series[i],min=_209e?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_209e?Math.min(run.data.length-1,Math.ceil(this._hScaler.bounds.to)):run.data.length-1,rseg=null,_209f=[];for(var j=min;j<=max;j++){var value=_209e?_209d.getIndexValue(this.series,i,j):_209d.getValue(this.series,i,run.data[j]?run.data[j].x:null);if(value[0]!=null&&(_209e||value[0].y!=null)){if(!rseg){rseg=[];_209f.push({index:j,rseg:rseg});}rseg.push(value[0]);}else{if(!this.opt.interpolate||_209e){rseg=null;}}}return _209f;}});});},"viewer/misc/common/_PrepareTag":function(){define(["dojo/_base/declare","dojo/aspect","../../server/serverEvents","../../server/securitySystem","../gui/helpers/trace","../enums"],function(_20a0,_20a1,_20a2,_20a3,_20a4,enums){return _20a0("viewer.misc.common._PrepareTag",null,{_serverEvents:null,_securitySystem:null,_propHost:null,_viewer:null,constructor:function(){this._serverEvents=_20a2;this._securitySystem=_20a3;this._viewer=dijit.byId("_x_viewer_Viewer");},_prepareOwnTag:function(){this._propHost=this;for(var props in this._attr){if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="I"&&props.charAt(props.length-1)==="d"){continue;}if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="T"&&props.charAt(props.length-1)==="p"){continue;}this._applyAspect(this._attr[props],props);}for(var props in this._cw_attr){if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="I"&&props.charAt(props.length-1)==="d"){continue;}if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="T"&&props.charAt(props.length-1)==="p"){continue;}this._applyAspect(this._cw_attr[props],props);}},_prepareAnimTag:function(obj){this._propHost=obj;for(var props in obj){if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="I"&&props.charAt(props.length-1)==="d"){continue;}if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="T"&&props.charAt(props.length-1)==="p"){continue;}this._applyAspect(obj[props],props,true);}},_prepareTag:function(obj,_20a5,_20a6,_20a7){if(!_20a6){this._propHost=obj;}for(var props in obj){if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="I"&&props.charAt(props.length-1)==="d"){continue;}if(props.charAt(0)==="_"&&props.charAt(props.length-2)==="T"&&props.charAt(props.length-1)==="p"){continue;}this._applyAspect(obj[props],props,_20a7);}},_applyAspect:function(_20a8,_20a9,_20aa){var self=this,_20ab=null;if(!_20a8||!_20a9||(typeof (_20a8.id)!=="undefined"&&isNaN(_20a8.id))){return;}if(_20a8 instanceof Array){for(var i=0;i<_20a8.length;i++){this._prepareTag(_20a8[i],this,true,_20aa);}}else{if(typeof (_20a8)=="object"&&_20a8.isExp===true){if(this["_"+_20a9+"Id"]===null){this["_"+_20a9+"Id"]=_20a8.id;}exp=this._serverEvents.createEventListener(_20a8.id,_20a9);_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}else{if(typeof (_20a8)=="object"&&_20a9==="_propertys"){if(_20a8.proX){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proX.objectName,"proX");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proY){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proY.objectName,"proY");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proWidth){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proWidth.objectName,"proWidth");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proHeight){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proHeight.objectName,"proHeight");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proAngle){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proAngle.objectName,"proAngle");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proStartAngle){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proStartAngle.objectName,"proStartAngle");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proSweepAngle){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proSweepAngle.objectName,"proSweepAngle");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proRect){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proRect.objectName,"proRect");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proMatrix){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proMatrix.objectName,"proMatrix");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proText){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proText.objectName,"proText");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proVisible){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proVisible.objectName,"proVisible");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proTransparency){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proTransparency.objectName,"proTransparency");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proStyleStatus){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proStyleStatus.objectName,"proStyleStatus");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proElementStyle){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proElementStyle.objectName,"proElementStyle");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proFillTrend){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proFillTrend.objectName,"proFillTrend");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proHasTransparentColor){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proHasTransparentColor.objectName,"proHasTransparentColor");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}if(_20a8.proLineWeight){exp=this._serverEvents.createEventListenerForScriptProperty(_20a8.proLineWeight.objectName,"proLineWeight");_20a1.after(exp,"onChange",function(ret){self._updateExpressions(ret);});}}}}},_updateExpressions:function(ret){var _20ac;_20ac=this._widget||this;if(typeof ret==="string"){ret=this._parsePropValue(ret);}if(Array.isArray(this._propHost[ret.propName])===true){if(this["set"+ret.propName]){this["set"+ret.propName](ret);}}else{if(this._widget){this._propHost[ret.propName]=ret.value;if(ret.propName=="tagExpression"){this._propHost["tagExpressionQuality"]=ret.quality;}if(this._propHost["_"+ret.propName+"Tp"]===null){this._propHost["_"+ret.propName+"Tp"]=ret.dataType;}this.onChangeProperty(ret);}else{var _20ad;_20ad="_setCW"+ret.propName+"Attr";if(typeof this._propHost[_20ad]=="function"){if(ret&&ret.dataType){switch(ret.dataType){case enums.EnumDataType.REAL:ret.value=parseFloat(ret.value).toString();break;case enums.EnumDataType.INT:case enums.EnumDataType.UINT:case enums.EnumDataType.INT64:ret.value=parseInt(ret.value).toString();break;default:break;}}this._propHost[_20ad](ret.value,ret);_20ad="_setCW"+ret.propName+"TpAttr";if(typeof this._propHost[_20ad]=="function"){this._propHost[_20ad](ret.dataType);}}else{_20ad="_set"+ret.propName[0].toUpperCase()+ret.propName.substring(1,ret.propName.length)+"Attr";if(typeof this._propHost[_20ad]=="function"){this._propHost[_20ad](ret.value,ret);_20ad="_set"+ret.propName[0].toUpperCase()+ret.propName.substring(1,ret.propName.length)+"TpAttr";if(typeof this._propHost[_20ad]=="function"){this._propHost[_20ad](ret.dataType);}}else{var msg="Attribute "+ret.propName[0].toUpperCase()+ret.propName.substring(1,ret.propName.length)+" is not defined";_20a4.traceError(msg,this);}}}}if(lstChangedObjects.indexOf(_20ac)<0){lstChangedObjects.push(_20ac);}},_subscribTagMessage:function(field,_20ae){var self;if(typeof this[field]==="string"&&this[field].indexOf("__v@SvrEvtTag",0)===0){self=this;this._serverEvents.subscribeTag(this.getParentScreen().screenId,this[field],function(param){self[_20ae](param);});}},isExpressionId:function(v){return typeof (property)=="object"&&property.isExp===true;},intervalCallRequest:function(){if(this._viewer===null||this._viewer===undefined){_20a4.traceError("Unable to use the viewer on intervalCallRequest.",this);return;}this._viewer.accelerate(100,10);},intervalQueueRequest:function(_20af,_20b0){if(!_20af){_20af=1000;}_20b0=_20b0?_20b0:Math.min(_20af,250);var _20b1=Math.floor(_20af/_20b0);var _20b2=dijit.byId("_x_viewer_Viewer");if(!_20b2._intervalRequestQueueCounter){this._executeRequestQueue(_20b2,_20b1,_20b0);}else{_20b2._intervalRequestQueueCounter=_20b1;}},_executeRequestQueue:function(_20b3,_20b4,_20b5){var self=this;_20b4=_20b4?_20b4:5;if(!_20b3._intervalRequestQueueCounter){_20b3._intervalRequestQueueCounter=_20b4;setTimeout(function(){self._executeRequestQueue(_20b3,_20b4);},_20b5);}else{_20b3._updating=false;_20b3._updateEvents();_20b3._intervalRequestQueueCounter--;if(_20b3._intervalRequestQueueCounter<=0){_20b3._intervalRequestQueueCounter=null;return;}setTimeout(function(){self._executeRequestQueue(_20b3,_20b4);},_20b5);}}});});},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_20b6,lang,df){var empty={};lang.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in empty)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in empty)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||_20b6.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in empty)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||_20b6.global;f=df.lambda(f);for(var i in obj){if(!(i in empty)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||_20b6.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in empty)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});return df;});},"dojox/gauges/BarGauge":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/event","dojox/gfx","./_Gauge","./BarLineIndicator","dojo/dom-geometry"],function(_20b7,lang,arr,html,event,gfx,Gauge,_20b8,_20b9){return _20b7("dojox.gauges.BarGauge",Gauge,{dataX:5,dataY:5,dataWidth:0,dataHeight:0,_defaultIndicator:_20b8,startup:function(){if(this.getChildren){arr.forEach(this.getChildren(),function(child){child.startup();});}if(!this.dataWidth){this.dataWidth=this.gaugeWidth-10;}if(!this.dataHeight){this.dataHeight=this.gaugeHeight-10;}this.inherited(arguments);},_getPosition:function(value){return this.dataX+Math.floor((value-this.min)/(this.max-this.min)*this.dataWidth);},_getValueForPosition:function(pos){return (pos-this.dataX)*(this.max-this.min)/this.dataWidth+this.min;},drawRange:function(group,range){if(range.shape){range.shape.parent.remove(range.shape);range.shape=null;}var x1=this._getPosition(range.low);var x2=this._getPosition(range.high);var path=group.createRect({x:x1,y:this.dataY,width:x2-x1,height:this.dataHeight});if(lang.isArray(range.color)||lang.isString(range.color)){path.setStroke({color:range.color});path.setFill(range.color);}else{if(range.color.type){var y=this.dataY+this.dataHeight/2;range.color.x1=x1;range.color.x2=x2;range.color.y1=y;range.color.y2=y;path.setFill(range.color);path.setStroke({color:range.color.colors[0].color});}else{if(gfx.svg){path.setStroke({color:"green"});path.setFill("green");path.getEventSource().setAttribute("class",range.color.style);}}}path.connect("onmouseover",lang.hitch(this,this._handleMouseOverRange,range));path.connect("onmouseout",lang.hitch(this,this._handleMouseOutRange,range));range.shape=path;},getRangeUnderMouse:function(e){var range=null;var pos=_20b9.getContentBox(this.gaugeContent);var x=e.clientX-pos.x;var value=this._getValueForPosition(x);if(this._rangeData){for(var i=0;(i<this._rangeData.length)&&!range;i++){if((Number(this._rangeData[i].low)<=value)&&(Number(this._rangeData[i].high)>=value)){range=this._rangeData[i];}}}return range;},_dragIndicator:function(_20ba,e){this._dragIndicatorAt(_20ba,e.pageX,e.pageY);event.stop(e);},_dragIndicatorAt:function(_20bb,x,y){var pos=_20b9.position(_20bb.gaugeContent,true);var xl=x-pos.x;var value=_20bb._getValueForPosition(xl);if(value<_20bb.min){value=_20bb.min;}if(value>_20bb.max){value=_20bb.max;}_20bb._drag.value=value;_20bb._drag.onDragMove(_20bb._drag);_20bb._drag.draw(this._indicatorsGroup,true);_20bb._drag.valueChanged();}});});},"dojox/charting/plot2d/Lines":function(){define(["dojo/_base/declare","./Default"],function(_20bc,_20bd){return _20bc("dojox.charting.plot2d.Lines",_20bd,{constructor:function(){this.opt.lines=true;}});});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_20be,dojo,dlang,_20bf,_20c0,dom,_20c1,_20c2,_20c3,all,dates,_20c4,has,query,don,ready){new Date("X");function _20c5(text){return eval("("+text+")");};var _20c6=0;_20c3.after(dlang,"extend",function(){_20c6++;},true);function _20c7(ctor){var map=ctor._nameCaseMap,proto=ctor.prototype;if(!map||map._extendCnt<_20c6){map=ctor._nameCaseMap={};for(var name in proto){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_20c6;}return map;};var _20c8={};function _20c9(types,_20ca){var ts=types.join();if(!_20c8[ts]){var _20cb=[];for(var i=0,l=types.length;i<l;i++){var t=types[i];_20cb[_20cb.length]=(_20c8[t]=_20c8[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_20ca?_20ca(t):_20be(t)))));}var ctor=_20cb.shift();_20c8[ts]=_20cb.length?(ctor.createSubclass?ctor.createSubclass(_20cb):ctor.extend.apply(ctor,_20cb)):ctor;}return _20c8[ts];};var _20cc={_clearCache:function(){_20c6++;_20c8={};},_functionFromScript:function(_20cd,_20ce){var _20cf="",_20d0="",_20d1=(_20cd.getAttribute(_20ce+"args")||_20cd.getAttribute("args")),_20d2=_20cd.getAttribute("with");var _20d3=(_20d1||"").split(/\s*,\s*/);if(_20d2&&_20d2.length){_20bf.forEach(_20d2.split(/\s*,\s*/),function(part){_20cf+="with("+part+"){";_20d0+="}";});}return new Function(_20d3,_20cf+_20cd.innerHTML+_20d0);},instantiate:function(nodes,mixin,_20d4){mixin=mixin||{};_20d4=_20d4||{};var _20d5=(_20d4.scope||dojo._scopeName)+"Type",_20d6="data-"+(_20d4.scope||dojo._scopeName)+"-",_20d7=_20d6+"type",_20d8=_20d6+"mixins";var list=[];_20bf.forEach(nodes,function(node){var type=_20d5 in mixin?mixin[_20d5]:node.getAttribute(_20d7)||node.getAttribute(_20d5);if(type){var _20d9=node.getAttribute(_20d8),types=_20d9?[type].concat(_20d9.split(/\s*,\s*/)):[type];list.push({node:node,types:types});}});return this._instantiate(list,mixin,_20d4);},_instantiate:function(nodes,mixin,_20da,_20db){var _20dc=_20bf.map(nodes,function(obj){var ctor=obj.ctor||_20c9(obj.types,_20da.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,mixin,_20da,obj.scripts,obj.inherited);},this);function _20dd(_20de){if(!mixin._started&&!_20da.noStart){_20bf.forEach(_20de,function(_20df){if(typeof _20df.startup==="function"&&!_20df._started){_20df.startup();}});}return _20de;};if(_20db){return all(_20dc).then(_20dd);}else{return _20dd(_20dc);}},construct:function(ctor,node,mixin,_20e0,_20e1,_20e2){var proto=ctor&&ctor.prototype;_20e0=_20e0||{};var _20e3={};if(_20e0.defaults){dlang.mixin(_20e3,_20e0.defaults);}if(_20e2){dlang.mixin(_20e3,_20e2);}var _20e4;if(has("dom-attributes-explicit")){_20e4=node.attributes;}else{if(has("dom-attributes-specified-flag")){_20e4=_20bf.filter(node.attributes,function(a){return a.specified;});}else{var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_20e4=_20bf.map(attrs.split(/\s+/),function(name){var _20e5=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_20e5=="enctype"?node.getAttribute(_20e5):node.getAttributeNode(_20e5).value};});}}var scope=_20e0.scope||dojo._scopeName,_20e6="data-"+scope+"-",hash={};if(scope!=="dojo"){hash[_20e6+"props"]="data-dojo-props";hash[_20e6+"type"]="data-dojo-type";hash[_20e6+"mixins"]="data-dojo-mixins";hash[scope+"type"]="dojoType";hash[_20e6+"id"]="data-dojo-id";}var i=0,item,_20e7=[],_20e8,extra;while(item=_20e4[i++]){var name=item.name,_20e9=name.toLowerCase(),value=item.value;switch(hash[_20e9]||_20e9){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":extra=value;break;case "data-dojo-id":case "jsid":_20e8=value;break;case "data-dojo-attach-point":case "dojoattachpoint":_20e3.dojoAttachPoint=value;break;case "data-dojo-attach-event":case "dojoattachevent":_20e3.dojoAttachEvent=value;break;case "class":_20e3["class"]=node.className;break;case "style":_20e3["style"]=node.style&&node.style.cssText;break;default:if(!(name in proto)){var map=_20c7(ctor);name=map[_20e9]||name;}if(name in proto){switch(typeof proto[name]){case "string":_20e3[name]=value;break;case "number":_20e3[name]=value.length?Number(value):NaN;break;case "boolean":_20e3[name]=value.toLowerCase()!="false";break;case "function":if(value===""||value.search(/[^\w\.]+/i)!=-1){_20e3[name]=new Function(value);}else{_20e3[name]=dlang.getObject(value,false)||new Function(value);}_20e7.push(name);break;default:var pVal=proto[name];_20e3[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _20c2)?(dojo.baseUrl+value):_20c5(value);}}else{_20e3[name]=value;}}}for(var j=0;j<_20e7.length;j++){var _20ea=_20e7[j].toLowerCase();node.removeAttribute(_20ea);node[_20ea]=null;}if(extra){try{extra=_20c5.call(_20e0.propsThis,"{"+extra+"}");dlang.mixin(_20e3,extra);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");}}dlang.mixin(_20e3,mixin);if(!_20e1){_20e1=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));}var _20eb=[],calls=[],_20ec=[],ons=[];if(_20e1){for(i=0;i<_20e1.length;i++){var _20ed=_20e1[i];node.removeChild(_20ed);var event=(_20ed.getAttribute(_20e6+"event")||_20ed.getAttribute("event")),prop=_20ed.getAttribute(_20e6+"prop"),_20ee=_20ed.getAttribute(_20e6+"method"),_20ef=_20ed.getAttribute(_20e6+"advice"),_20f0=_20ed.getAttribute("type"),nf=this._functionFromScript(_20ed,_20e6);if(event){if(_20f0=="dojo/connect"){_20eb.push({method:event,func:nf});}else{if(_20f0=="dojo/on"){ons.push({event:event,func:nf});}else{_20e3[event]=nf;}}}else{if(_20f0=="dojo/aspect"){_20eb.push({method:_20ee,advice:_20ef,func:nf});}else{if(_20f0=="dojo/watch"){_20ec.push({prop:prop,func:nf});}else{calls.push(nf);}}}}}var _20f1=ctor.markupFactory||proto.markupFactory;var _20f2=_20f1?_20f1(_20e3,node,ctor):new ctor(_20e3,node);function _20f3(_20f4){if(_20e8){dlang.setObject(_20e8,_20f4);}for(i=0;i<_20eb.length;i++){_20c3[_20eb[i].advice||"after"](_20f4,_20eb[i].method,dlang.hitch(_20f4,_20eb[i].func),true);}for(i=0;i<calls.length;i++){calls[i].call(_20f4);}for(i=0;i<_20ec.length;i++){_20f4.watch(_20ec[i].prop,_20ec[i].func);}for(i=0;i<ons.length;i++){don(_20f4,ons[i].event,ons[i].func);}return _20f4;};if(_20f2.then){return _20f2.then(_20f3);}else{return _20f3(_20f2);}},scan:function(root,_20f5){var list=[],mids=[],_20f6={};var _20f7=(_20f5.scope||dojo._scopeName)+"Type",_20f8="data-"+(_20f5.scope||dojo._scopeName)+"-",_20f9=_20f8+"type",_20fa=_20f8+"textdir",_20fb=_20f8+"mixins";var node=root.firstChild;var _20fc=_20f5.inherited;if(!_20fc){function _20fd(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_20fd(node.parentNode,attr));};_20fc={dir:_20fd(root,"dir"),lang:_20fd(root,"lang"),textDir:_20fd(root,_20fa)};for(var key in _20fc){if(!_20fc[key]){delete _20fc[key];}}}var _20fe={inherited:_20fc};var _20ff;var _2100;function _2101(_2102){if(!_2102.inherited){_2102.inherited={};var node=_2102.node,_2103=_2101(_2102.parent);var _2104={dir:node.getAttribute("dir")||_2103.dir,lang:node.getAttribute("lang")||_2103.lang,textDir:node.getAttribute(_20fa)||_2103.textDir};for(var key in _2104){if(_2104[key]){_2102.inherited[key]=_2104[key];}}}return _2102.inherited;};while(true){if(!node){if(!_20fe||!_20fe.node){break;}node=_20fe.node.nextSibling;_2100=false;_20fe=_20fe.parent;_20ff=_20fe.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_20ff&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_20ff.push(node);}node=node.nextSibling;continue;}if(_2100){node=node.nextSibling;continue;}var type=node.getAttribute(_20f9)||node.getAttribute(_20f7);var _2105=node.firstChild;if(!type&&(!_2105||(_2105.nodeType==3&&!_2105.nextSibling))){node=node.nextSibling;continue;}var _2106;var ctor=null;if(type){var _2107=node.getAttribute(_20fb),types=_2107?[type].concat(_2107.split(/\s*,\s*/)):[type];try{ctor=_20c9(types,_20f5.contextRequire);}catch(e){}if(!ctor){_20bf.forEach(types,function(t){if(~t.indexOf("/")&&!_20f6[t]){_20f6[t]=true;mids[mids.length]=t;}});}var _2108=ctor&&!ctor.prototype._noScript?[]:null;_2106={types:types,ctor:ctor,parent:_20fe,node:node,scripts:_2108};_2106.inherited=_2101(_2106);list.push(_2106);}else{_2106={node:node,scripts:_20ff,parent:_20fe};}_20ff=_2108;_2100=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_20f5.template));_20fe=_2106;node=_2105;}var d=new _20c4();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_20f5.contextRequire||_20be;r(mids,function(){d.resolve(_20bf.filter(list,function(_2109){if(!_2109.ctor){try{_2109.ctor=_20c9(_2109.types,_20f5.contextRequire);}catch(e){}}var _210a=_2109.parent;while(_210a&&!_210a.types){_210a=_210a.parent;}var proto=_2109.ctor&&_2109.ctor.prototype;_2109.instantiateChildren=!(proto&&proto.stopParser&&!(_20f5.template));_2109.instantiate=!_210a||(_210a.instantiate&&_210a.instantiateChildren);return _2109.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_210b,_210c){var hash=_20c5("{"+_210b.innerHTML+"}"),vars=[],mids=[],d=new _20c4();var _210d=(_210c&&_210c.contextRequire)||_20be;for(var name in hash){vars.push(name);mids.push(hash[name]);}_210d(mids,function(){for(var i=0;i<vars.length;i++){dlang.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_210e){var _210f=new _20c4(),_2110=_210f.promise;_210f.resolve(true);var self=this;query("script[type='dojo/require']",root).forEach(function(node){_2110=_2110.then(function(){return self._require(node,_210e);});node.parentNode.removeChild(node);});return _2110;},parse:function(_2111,_2112){var root;if(!_2112&&_2111&&_2111.rootNode){_2112=_2111;root=_2112.rootNode;}else{if(_2111&&dlang.isObject(_2111)&&!("nodeType" in _2111)){_2112=_2111;}else{root=_2111;}}root=root?dom.byId(root):_20c1.body();_2112=_2112||{};var mixin=_2112.template?{template:true}:{},_2113=[],self=this;var p=this._scanAmd(root,_2112).then(function(){return self.scan(root,_2112);}).then(function(_2114){return self._instantiate(_2114,mixin,_2112,true);}).then(function(_2115){return _2113=_2113.concat(_2115);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});dlang.mixin(_2113,p);return _2113;}};if(1){dojo.parser=_20cc;}if(_20c0.parseOnLoad){ready(100,_20cc,"parse");}return _20cc;});},"dojox/charting/SimpleTheme":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/Color","dojox/lang/utils","dojox/gfx/gradutils"],function(lang,arr,_2116,Color,dlu,dgg){var _2117=_2116("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_2118){_2118=_2118||{};var def=_2117.defaultTheme;arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(name){this[name]=lang.delegate(def[name],_2118[name]);},this);if(_2118.seriesThemes&&_2118.seriesThemes.length){this.colors=null;this.seriesThemes=_2118.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_2118.colors||_2117.defaultColors).slice(0);}this.markerThemes=null;if(_2118.markerThemes&&_2118.markerThemes.length){this.markerThemes=_2118.markerThemes.slice(0);}this.markers=_2118.markers?lang.clone(_2118.markers):lang.delegate(_2117.defaultMarkers);this.noGradConv=_2118.noGradConv;this.noRadialConv=_2118.noRadialConv;if(_2118.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var theme=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});arr.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(name){if(this.hasOwnProperty(name)){theme[name]=this[name];}},this);return theme;},clear:function(){this._current=0;},next:function(_2119,mixin,_211a){var merge=dlu.merge,_211b,_211c;if(this.colors){_211b=lang.delegate(this.series);_211c=lang.delegate(this.marker);var color=new Color(this.colors[this._current%this.colors.length]),old;if(_211b.stroke&&_211b.stroke.color){_211b.stroke=lang.delegate(_211b.stroke);old=new Color(_211b.stroke.color);_211b.stroke.color=new Color(color);_211b.stroke.color.a=old.a;}else{_211b.stroke={color:color};}if(_211c.stroke&&_211c.stroke.color){_211c.stroke=lang.delegate(_211c.stroke);old=new Color(_211c.stroke.color);_211c.stroke.color=new Color(color);_211c.stroke.color.a=old.a;}else{_211c.stroke={color:color};}if(!_211b.fill||_211b.fill.type){_211b.fill=color;}else{old=new Color(_211b.fill);_211b.fill=new Color(color);_211b.fill.a=old.a;}if(!_211c.fill||_211c.fill.type){_211c.fill=color;}else{old=new Color(_211c.fill);_211c.fill=new Color(color);_211c.fill.a=old.a;}}else{_211b=this.seriesThemes?merge(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_211c=this.markerThemes?merge(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_211b;}var _211d=_211c&&_211c.symbol||this._markers[this._current%this._markers.length];var theme={series:_211b,marker:_211c,symbol:_211d};++this._current;if(mixin){theme=this.addMixin(theme,_2119,mixin);}if(_211a){theme=this.post(theme,_2119);}return theme;},skip:function(){++this._current;},addMixin:function(theme,_211e,mixin,_211f){if(lang.isArray(mixin)){arr.forEach(mixin,function(m){theme=this.addMixin(theme,_211e,m);},this);}else{var t={};if("color" in mixin){if(_211e=="line"||_211e=="area"){lang.setObject("series.stroke.color",mixin.color,t);lang.setObject("marker.stroke.color",mixin.color,t);}else{lang.setObject("series.fill",mixin.color,t);}}arr.forEach(["stroke","outline","shadow","fill","filter","font","fontColor","labelWiring"],function(name){var _2120="marker"+name.charAt(0).toUpperCase()+name.substr(1),b=_2120 in mixin;if(name in mixin){lang.setObject("series."+name,mixin[name],t);if(!b){lang.setObject("marker."+name,mixin[name],t);}}if(b){lang.setObject("marker."+name,mixin[_2120],t);}});if("marker" in mixin){t.symbol=mixin.marker;t.symbol=mixin.marker;}theme=dlu.merge(theme,t);}if(_211f){theme=this.post(theme,_211e);}return theme;},post:function(theme,_2121){var fill=theme.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[fill.space]&&fill.type=="linear"){if(_2121=="bar"){t={x1:fill.y1,y1:fill.x1,x2:fill.y2,y2:fill.x2};}else{if(!this.noRadialConv&&fill.space=="shape"&&(_2121=="slice"||_2121=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dlu.merge(theme,{series:{fill:t}});}}return theme;},getTick:function(name,mixin){var tick=this.axis.tick,_2122=name+"Tick",merge=dlu.merge;if(tick){if(this.axis[_2122]){tick=merge(tick,this.axis[_2122]);}}else{tick=this.axis[_2122];}if(mixin){if(tick){if(mixin[_2122]){tick=merge(tick,mixin[_2122]);}}else{tick=mixin[_2122];}}return tick;},inspectObjects:function(f){arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(name){f(this[name]);},this);if(this.seriesThemes){arr.forEach(this.seriesThemes,f);}if(this.markerThemes){arr.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dgg.reverse(o.fill);}});},addMarker:function(name,_2123){this.markers[name]=_2123;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});lang.mixin(_2117,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return _2117;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(array,_2124,when){"use strict";var some=array.some;return function all(_2125){var _2126,array;if(_2125 instanceof Array){array=_2125;}else{if(_2125&&typeof _2125==="object"){_2126=_2125;}}var _2127;var _2128=[];if(_2126){array=[];for(var key in _2126){if(Object.hasOwnProperty.call(_2126,key)){_2128.push(key);array.push(_2126[key]);}}_2127={};}else{if(array){_2127=[];}}if(!array||!array.length){return new _2124().resolve(_2127);}var _2129=new _2124();_2129.promise.always(function(){_2127=_2128=null;});var _212a=array.length;some(array,function(_212b,index){if(!_2126){_2128.push(index);}when(_212b,function(value){if(!_2129.isFulfilled()){_2127[_2128[index]]=value;if(--_212a===0){_2129.resolve(_2127);}}},_2129.reject);return _2129.isFulfilled();});return _2129.promise;};});},"dojox/fx/flip":function(){define(["dojo/_base/kernel","dojo/_base/html","dojo/dom","dojo/dom-construct","dojo/dom-geometry","dojo/_base/connect","dojo/_base/Color","dojo/_base/sniff","dojo/_base/lang","dojo/_base/window","dojo/_base/fx","dojo/fx","./_base"],function(_212c,_212d,dom,_212e,_212f,_2130,Color,has,lang,_2131,_2132,_2133,fxExt){_212c.experimental("dojox.fx.flip");var _2134="border",_2135="Width",_2136="Height",_2137="Top",_2138="Right",_2139="Left",_213a="Bottom";fxExt.flip=function(args){var _213b=_212e.create("div"),node=args.node=dom.byId(args.node),s=node.style,dims=null,hs=null,pn=null,_213c=args.lightColor||"#dddddd",_213d=args.darkColor||"#555555",_213e=_212d.style(node,"backgroundColor"),_213f=args.endColor||_213e,_2140={},anims=[],_2141=args.duration?args.duration/2:250,dir=args.dir||"left",_2142=0.9,_2143="transparent",_2144=args.whichAnim,axis=args.axis||"center",depth=args.depth;var _2145=function(color){return ((new Color(color)).toHex()==="#000000")?"#000001":color;};if(has("ie")<7){_213f=_2145(_213f);_213c=_2145(_213c);_213d=_2145(_213d);_213e=_2145(_213e);_2143="black";_213b.style.filter="chroma(color='#000000')";}var init=(function(n){return function(){var ret=_212d.coords(n,true);dims={top:ret.y,left:ret.x,width:ret.w,height:ret.h};};})(node);init();hs={position:"absolute",top:dims["top"]+"px",left:dims["left"]+"px",height:"0",width:"0",zIndex:args.zIndex||(s.zIndex||0),border:"0 solid "+_2143,fontSize:"0",visibility:"hidden"};var props=[{},{top:dims["top"],left:dims["left"]}];var _2146={left:[_2139,_2138,_2137,_213a,_2135,_2136,"end"+_2136+"Min",_2139,"end"+_2136+"Max"],right:[_2138,_2139,_2137,_213a,_2135,_2136,"end"+_2136+"Min",_2139,"end"+_2136+"Max"],top:[_2137,_213a,_2139,_2138,_2136,_2135,"end"+_2135+"Min",_2137,"end"+_2135+"Max"],bottom:[_213a,_2137,_2139,_2138,_2136,_2135,"end"+_2135+"Min",_2137,"end"+_2135+"Max"]};pn=_2146[dir];if(typeof depth!="undefined"){depth=Math.max(0,Math.min(1,depth))/2;_2142=0.4+(0.5-depth);}else{_2142=Math.min(0.9,Math.max(0.4,dims[pn[5].toLowerCase()]/dims[pn[4].toLowerCase()]));}var p0=props[0];for(var i=4;i<6;i++){if(axis=="center"||axis=="cube"){dims["end"+pn[i]+"Min"]=dims[pn[i].toLowerCase()]*_2142;dims["end"+pn[i]+"Max"]=dims[pn[i].toLowerCase()]/_2142;}else{if(axis=="shortside"){dims["end"+pn[i]+"Min"]=dims[pn[i].toLowerCase()];dims["end"+pn[i]+"Max"]=dims[pn[i].toLowerCase()]/_2142;}else{if(axis=="longside"){dims["end"+pn[i]+"Min"]=dims[pn[i].toLowerCase()]*_2142;dims["end"+pn[i]+"Max"]=dims[pn[i].toLowerCase()];}}}}if(axis=="center"){p0[pn[2].toLowerCase()]=dims[pn[2].toLowerCase()]-(dims[pn[8]]-dims[pn[6]])/4;}else{if(axis=="shortside"){p0[pn[2].toLowerCase()]=dims[pn[2].toLowerCase()]-(dims[pn[8]]-dims[pn[6]])/2;}}_2140[pn[5].toLowerCase()]=dims[pn[5].toLowerCase()]+"px";_2140[pn[4].toLowerCase()]="0";_2140[_2134+pn[1]+_2135]=dims[pn[4].toLowerCase()]+"px";_2140[_2134+pn[1]+"Color"]=_213e;p0[_2134+pn[1]+_2135]=0;p0[_2134+pn[1]+"Color"]=_213d;p0[_2134+pn[2]+_2135]=p0[_2134+pn[3]+_2135]=axis!="cube"?(dims["end"+pn[5]+"Max"]-dims["end"+pn[5]+"Min"])/2:dims[pn[6]]/2;p0[pn[7].toLowerCase()]=dims[pn[7].toLowerCase()]+dims[pn[4].toLowerCase()]/2+(args.shift||0);p0[pn[5].toLowerCase()]=dims[pn[6]];var p1=props[1];p1[_2134+pn[0]+"Color"]={start:_213c,end:_213f};p1[_2134+pn[0]+_2135]=dims[pn[4].toLowerCase()];p1[_2134+pn[2]+_2135]=0;p1[_2134+pn[3]+_2135]=0;p1[pn[5].toLowerCase()]={start:dims[pn[6]],end:dims[pn[5].toLowerCase()]};lang.mixin(hs,_2140);_212d.style(_213b,hs);_2131.body().appendChild(_213b);var _2147=function(){_212e.destroy(_213b);s.backgroundColor=_213f;s.visibility="visible";};if(_2144=="last"){for(i in p0){p0[i]={start:p0[i]};}p0[_2134+pn[1]+"Color"]={start:_213d,end:_213f};p1=p0;}if(!_2144||_2144=="first"){anims.push(_2132.animateProperty({node:_213b,duration:_2141,properties:p0}));}if(!_2144||_2144=="last"){anims.push(_2132.animateProperty({node:_213b,duration:_2141,properties:p1,onEnd:_2147}));}_2130.connect(anims[0],"play",function(){_213b.style.visibility="visible";s.visibility="hidden";});return _2133.chain(anims);};fxExt.flipCube=function(args){var anims=[],mb=_212f.getMarginBox(args.node),_2148=mb.w/2,_2149=mb.h/2,dims={top:{pName:"height",args:[{whichAnim:"first",dir:"top",shift:-_2149},{whichAnim:"last",dir:"bottom",shift:_2149}]},right:{pName:"width",args:[{whichAnim:"first",dir:"right",shift:_2148},{whichAnim:"last",dir:"left",shift:-_2148}]},bottom:{pName:"height",args:[{whichAnim:"first",dir:"bottom",shift:_2149},{whichAnim:"last",dir:"top",shift:-_2149}]},left:{pName:"width",args:[{whichAnim:"first",dir:"left",shift:-_2148},{whichAnim:"last",dir:"right",shift:_2148}]}};var d=dims[args.dir||"left"],p=d.args;args.duration=args.duration?args.duration*2:500;args.depth=0.8;args.axis="cube";for(var i=p.length-1;i>=0;i--){lang.mixin(args,p[i]);anims.push(fxExt.flip(args));}return _2133.combine(anims);};fxExt.flipPage=function(args){var n=args.node,_214a=_212d.coords(n,true),x=_214a.x,y=_214a.y,w=_214a.w,h=_214a.h,_214b=_212d.style(n,"backgroundColor"),_214c=args.lightColor||"#dddddd",_214d=args.darkColor,_214e=_212e.create("div"),anims=[],hn=[],dir=args.dir||"right",pn={left:["left","right","x","w"],top:["top","bottom","y","h"],right:["left","left","x","w"],bottom:["top","top","y","h"]},_214f={right:[1,-1],left:[-1,1],top:[-1,1],bottom:[1,-1]};_212d.style(_214e,{position:"absolute",width:w+"px",height:h+"px",top:y+"px",left:x+"px",visibility:"hidden"});var hs=[];for(var i=0;i<2;i++){var r=i%2,d=r?pn[dir][1]:dir,wa=r?"last":"first",_2150=r?_214b:_214c,_2151=r?_2150:args.startColor||n.style.backgroundColor;hn[i]=lang.clone(_214e);var _2152=function(x){return function(){_212e.destroy(hn[x]);};}(i);_2131.body().appendChild(hn[i]);hs[i]={backgroundColor:r?_2151:_214b};hs[i][pn[dir][0]]=_214a[pn[dir][2]]+_214f[dir][0]*i*_214a[pn[dir][3]]+"px";_212d.style(hn[i],hs[i]);anims.push(dojox.fx.flip({node:hn[i],dir:d,axis:"shortside",depth:args.depth,duration:args.duration/2,shift:_214f[dir][i]*_214a[pn[dir][3]]/2,darkColor:_214d,lightColor:_214c,whichAnim:wa,endColor:_2150}));_2130.connect(anims[i],"onEnd",_2152);}return _2133.chain(anims);};fxExt.flipGrid=function(args){var rows=args.rows||4,cols=args.cols||4,anims=[],_2153=_212e.create("div"),n=args.node,_2154=_212d.coords(n,true),x=_2154.x,y=_2154.y,nw=_2154.w,nh=_2154.h,w=_2154.w/cols,h=_2154.h/rows,_2155=[];_212d.style(_2153,{position:"absolute",width:w+"px",height:h+"px",backgroundColor:_212d.style(n,"backgroundColor")});for(var i=0;i<rows;i++){var r=i%2,d=r?"right":"left",_2156=r?1:-1;var cn=lang.clone(n);_212d.style(cn,{position:"absolute",width:nw+"px",height:nh+"px",top:y+"px",left:x+"px",clip:"rect("+i*h+"px,"+nw+"px,"+nh+"px,0)"});_2131.body().appendChild(cn);anims[i]=[];for(var j=0;j<cols;j++){var hn=lang.clone(_2153),l=r?j:cols-(j+1);var _2157=function(xn,_2158,_2159){return function(){if(!(_2158%2)){_212d.style(xn,{clip:"rect("+_2158*h+"px,"+(nw-(_2159+1)*w)+"px,"+((_2158+1)*h)+"px,0px)"});}else{_212d.style(xn,{clip:"rect("+_2158*h+"px,"+nw+"px,"+((_2158+1)*h)+"px,"+((_2159+1)*w)+"px)"});}};}(cn,i,j);_2131.body().appendChild(hn);_212d.style(hn,{left:x+l*w+"px",top:y+i*h+"px",visibility:"hidden"});var a=dojox.fx.flipPage({node:hn,dir:d,duration:args.duration||900,shift:_2156*w/2,depth:0.2,darkColor:args.darkColor,lightColor:args.lightColor,startColor:args.startColor||args.node.style.backgroundColor}),_215a=function(xn){return function(){_212e.destroy(xn);};}(hn);_2130.connect(a,"play",this,_2157);_2130.connect(a,"play",this,_215a);anims[i].push(a);}_2155.push(_2133.chain(anims[i]));}_2130.connect(_2155[0],"play",function(){_212d.style(n,{visibility:"hidden"});});return _2133.combine(_2155);};return fxExt;});},"ma/maEnums":function(){define([],function(){var _215b=function(){};_215b.LogonType={NORMAL:0,APP_RESET:1,AUTO_LOGOFF:2};return _215b;});},"dojox/grid/_View":function(){define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,dijit,dojox,_215c,array,lang,_215d,has,query,win,_215e,_215f,_2160,_2161,_2162,util,html,_2163,_2164,_2165){var _2166=function(_2167,_2168){return _2167.style.cssText==undefined?_2167.getAttribute("style"):_2167.style.cssText;};var _2169=_215c("dojox.grid._View",[_2160,_2161],{defaultWidth:"18em",viewWidth:"",templateString:_215e,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_2163._HeaderBuilder,_contentBuilderClass:_2163._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight()){this.headerNodeContainer.style.width="";}},destroy:function(){html.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);html.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(has("ie")||has("webkit")||has("opera")){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_216a){var vs=(this.structure=_216a);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_216b){if(_216b){array.forEach(query("[widgetId]",_216b).map(dijit.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_216c,cells){this._onBeforeRow(_216c,cells);if(_216c>=0){this._cleanupRowWidgets(this.getRowNode(_216c));}},onAfterRow:function(_216d,cells,_216e){this._onAfterRow(_216d,cells,_216e);var g=this.grid;array.forEach(query(".dojoxGridStubNode",_216e),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _216f=window.parseInt(html.attr(n,"cellIdx"),10);var _2170=g.getCell(_216f);var w=dijit.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _2171=this.hasVScrollbar();var _2172=html.style(this.scrollboxNode,"overflow");if(this.noscroll||!_2172||_2172=="hidden"){_2171=false;}else{if(_2172=="scroll"){_2171=true;}}return (_2171?_2162.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;},setColumnsWidth:function(width){this.headerContentNode.firstChild.style.width=width+"px";if(this.viewWidth){this.viewWidth=width+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var cells=this.grid.layout.cells;var _2173=lang.hitch(this,function(node,_2174){!this.grid.isLeftToRight()&&(_2174=!_2174);var inc=_2174?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=cells[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=cells[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _2175="dojoxGrid_bottomMarker";var _2176="dojoxGrid_topMarker";if(this.bottomMarker){html.destroy(this.bottomMarker);}this.bottomMarker=html.byId(_2175);if(this.topMarker){html.destroy(this.topMarker);}this.topMarker=html.byId(_2176);if(!this.bottomMarker){this.bottomMarker=html.create("div",{"id":_2175,"class":"dojoxGridColPlaceBottom"},win.body());this._hide(this.bottomMarker);this.topMarker=html.create("div",{"id":_2176,"class":"dojoxGridColPlaceTop"},win.body());this._hide(this.topMarker);}this.arrowDim=html.contentBox(this.bottomMarker);var _2177=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new _215f(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(has("ie")<9?1:0)){_215f.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:lang.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){_215f.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:lang.hitch(this,function(_2178){var src=this.source;if(src.current==src.targetAnchor&&src.before==_2178){return;}if(src.targetAnchor&&_2173(src.targetAnchor,src.before)){src._removeItemClass(_2173(src.targetAnchor,src.before),src.before?"After":"Before");}_215f.prototype._markTargetAnchor.call(src,_2178);var _2179=_2178?src.targetAnchor:_2173(src.targetAnchor,src.before);var _217a=0;if(!_2179){_2179=src.targetAnchor;_217a=html.contentBox(_2179).w+this.arrowDim.w/2+2;}var pos=html.position(_2179,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_217a);html.style(this.bottomMarker,"visibility","visible");html.style(this.topMarker,"visibility","visible");html.style(this.bottomMarker,{"left":left+"px","top":(_2177+pos.y)+"px"});html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_2173(src.targetAnchor,src.before)){src._addItemClass(_2173(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:lang.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_2173(src.targetAnchor,src.before)){src._removeItemClass(_2173(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);_215f.prototype._unmarkTargetAnchor.call(src);}),destroy:lang.hitch(this,function(){_215d.disconnect(this._source_conn);_215d.unsubscribe(this._source_sub);_215f.prototype.destroy.call(this.source);if(this.bottomMarker){html.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){html.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:lang.hitch(this,function(){_215f.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=_215d.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=_215d.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){html.style(node,{top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_217b,nodes,copy){if(_2165.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var views=this.grid.views.views;var _217c=views[_217b.viewIndex];var _217d=views[this.index];if(_217d!=_217c){_217c.convertColPctToFixed();_217d.convertColPctToFixed();}},_onDndDrop:function(_217e,nodes,copy){if(_2165.manager().target!==this.source){if(_2165.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _217f=function(n){return n?html.attr(n,"idx"):null;};var w=html.marginBox(nodes[0]).w;if(_217e.viewIndex!==this.index){var views=this.grid.views.views;var _2180=views[_217e.viewIndex];var _2181=views[this.index];if(_2180.viewWidth&&_2180.viewWidth!="auto"){_2180.setColumnsWidth(_2180.getColumnsWidth()-w);}if(_2181.viewWidth&&_2181.viewWidth!="auto"){_2181.setColumnsWidth(_2181.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!this.grid.isLeftToRight()&&(stb=!stb);var _2182=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_2182.moveColumn(_217e.viewIndex,idx,_217f(nodes[0]),_217f(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_2183){var n=_2183.name||_2183.grid.getCellName(_2183);if(/^\s+$/.test(n)){n="&nbsp;";}var ret=["<div class=\"dojoxGridSortNode"];if(_2183.index!=_2183.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_2183.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_2183.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(reset){var _2184=this._hasHScroll||false;if(this._hasHScroll==undefined||reset){if(this.noscroll){this._hasHScroll=false;}else{var style=html.style(this.scrollboxNode,"overflow");if(style=="hidden"){this._hasHScroll=false;}else{if(style=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_2184!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(reset){var _2185=this._hasVScroll||false;if(this._hasVScroll==undefined||reset){if(this.noscroll){this._hasVScroll=false;}else{var style=html.style(this.scrollboxNode,"overflow");if(style=="hidden"){this._hasVScroll=false;}else{if(style=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_2185!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _2186=false;this.grid.initialWidth="";var _2187=query("th",this.headerContentNode);var _2188=array.map(_2187,function(c,vIdx){var w=c.style.width;html.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_2186=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return html.contentBox(c).w;});if(_2186){array.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _2189=cell.view.getHeaderCellNode(cell.index);if(_2189&&html.hasAttr(_2189,"vIdx")){var vIdx=window.parseInt(html.attr(_2189,"vIdx"));this.setColWidth(idx,_2188[vIdx]);html.removeAttr(_2189,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_218a){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _218b=function(){var v;for(var i in self.grid.views.views){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_218a||(this.noscroll&&_218b())){h-=_2162.getScrollbar().h;}util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_218c){var _218d=this.createRowNode(_218c);this.buildRow(_218c,_218d);return _218d;},createRowNode:function(_218e){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof dojox.grid._RowSelector){html.attr(node,"role","presentation");}else{html.attr(node,"role","row");if(this.grid.selectionMode!="none"){node.setAttribute("aria-selected","false");}}node[util.gridViewTag]=this.id;node[util.rowIndexTag]=_218e;this.rowNodes[_218e]=node;return node;},buildRow:function(_218f,_2190){this.buildRowContent(_218f,_2190);this.styleRow(_218f,_2190);},buildRowContent:function(_2191,_2192){_2192.innerHTML=this.content.generateHtml(_2191,_2191);if(this.flexCells&&this.contentWidth){_2192.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[_2191,this.structure.cells,_2192]);},rowRemoved:function(_2193){if(_2193>=0){this._cleanupRowWidgets(this.getRowNode(_2193));}this.grid.edit.save(this,_2193);delete this.rowNodes[_2193];},getRowNode:function(_2194){return this.rowNodes[_2194];},getCellNode:function(_2195,_2196){var row=this.getRowNode(_2195);if(row){return this.content.getCellNode(row,_2196);}},getHeaderCellNode:function(_2197){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_2197);}},styleRow:function(_2198,_2199){_2199._style=_2166(_2199);this.styleRowNode(_2198,_2199);},styleRowNode:function(_219a,_219b){if(_219b){this.doStyleRowNode(_219a,_219b);}},doStyleRowNode:function(_219c,_219d){this.grid.styleRowNode(_219c,_219d);},updateRow:function(_219e){var _219f=this.getRowNode(_219e);if(_219f){_219f.style.height="";this.buildRow(_219e,_219f);}return _219f;},updateRowStyles:function(_21a0){this.styleRowNode(_21a0,this.getRowNode(_21a0));},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_21a1){if(has("ff")>=13){this._nativeScroll=true;}var isLtr=this.grid.isLeftToRight();if(this.firstScroll<2){if((!isLtr&&this.firstScroll==1)||(isLtr&&this.firstScroll===0)){var s=html.marginBox(this.headerNodeContainer);if(has("ie")){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(has("mozilla")){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=isLtr?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}this._nativeScroll=false;},setScrollTop:function(inTop){this.lastTop=inTop;if(!this._nativeScroll){this.scrollboxNode.scrollTop=inTop;}return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_21a2,_21a3){this.grid.setCellWidth(_21a2,_21a3+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});var _21a4=_215c("dojox.grid._GridAvatar",_2164,{construct:function(){var dd=win.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _21a5=this.manager.source,node;if(_21a5.creator){node=_21a5._normalizedCreator(_21a5.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var table,tbody;if(node.tagName.toLowerCase()=="tr"){table=dd.createElement("table");tbody=dd.createElement("tbody");tbody.appendChild(node);table.appendChild(tbody);node=table;}else{if(node.tagName.toLowerCase()=="th"){table=dd.createElement("table");tbody=dd.createElement("tbody");var r=dd.createElement("tr");table.cellPadding=table.cellSpacing="0";r.appendChild(node);tbody.appendChild(r);table.appendChild(tbody);node=table;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);html.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=_2165.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){_2165.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _21a6=_2165.manager().makeAvatar;_2165.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){return new _21a4(this);}return _21a6.call(_2165.manager());};return _2169;});},"viewer/object/action/Calendar":function(){define(["dojo/_base/declare","../_base","dojo/touch","dojo/on","../../misc/enums","../../misc/gui/helpers/css","dojo/dom-construct","../../misc/gui/OutputWindow","dojo/text!./calendar.html"],function(_21a7,_21a8,touch,on,enums,_21a9,_21aa,_21ab,_21ac){return _21a7("viewer.object.action.Calendar",_21a8,{templateString:_21ac,_firingEvent:false,_readType:"",_tagId:null,_tagTp:null,_isUpdating:false,_adaptFontSize:5,_adaptFontColor:"rgba(0,0,0,1)",_adaptFontName:"Arial",_adaptFontStyle:"Regular",_id:"",buildRendering:function(){this._id="calendar"+Math.ceil(Math.random()*1000000);this.inherited(arguments);this._tagId=this._attr.value.id;on(this._xComponent,touch.press,function(evt){evt.stopPropagation();});},startup:function(){var self=this;var id="#"+this._id;$(id).kendoCalendar({change:function(evt){self._onChangeValue();}});var _21ad=$(id).data("kendoCalendar");this._guiHelper.setWidth(this._xComponent,227+"px");this._guiHelper.setWidth(this._xComponent,162+"px");},_setCaptionAttr:function(value){},_setValueAttr:function(value,req){var id="#"+this._id;var _21ae=$(id).data("kendoCalendar");_21ae.value(new Date(value));},_setMaxDateAttr:function(value,req){var id="#"+this._id;var _21af=$(id).data("kendoCalendar");_21af.max(new Date(value));},_setMinDateAttr:function(value,req){var id="#"+this._id;var _21b0=$(id).data("kendoCalendar");_21b0.min(new Date(value));},_setFontAttr:function(value,req){},_onChangeValue:function(_21b1){var id="#"+this._id;var _21b2=$(id).data("kendoCalendar");if(_21b2===undefined){return;}var value=_21b2.value().toLocaleDateString();var _21b3,_21b4,_21b5;if(!this._xComponent){if(window.sma){window.sma.inputWithFocus=null;}return;}if(this._isUpdating===true){return;}if(this._tagId!==null){_21b3=services.setActionValue(window.viewId,this.getParentScreen().screenId,this._tagId,value);if(_21b3===this._serverEvents.parseResult(_21b3)){var _21b2=$(id).data("kendoCalendar");_21b2.value(new Date(value));}this.intervalCallRequest();}this._isUpdating=false;return true;},applyDisable:function(anim){if(anim!==null){return;}this.inherited(arguments);if(this.isDisabled()===true){dojo.attr(this._xComponent,"readonly","readonly");this._guiHelper.setBackgroundColor(this._xComponent,"rgb(240, 240, 240)");this._guiHelper.setBorderStyle(this._xComponent,"solid");this._guiHelper.setBorderWidth(this._xComponent,"0.5px");this._guiHelper.setBorderColor(this._xComponent,"rgb(169, 169, 169)");this._guiHelper.setCssColor(this._xComponent,"rgb(0, 0, 0)");}else{dojo.removeAttr(this._xComponent,"readonly");}},setText:function(font){font.sizeInPoints=this._adaptFontSize;font.name=this._adaptFontName;font.style=this._adaptFontStyle;font.fontColor=this._adaptFontColor;if(this._xComponent){if(this._xComponent.nodeName=="rect"){if(this._xText){if(font){this._svgGuiHelper.setAnimationText(this._xText,this._attr.caption,font,this._attr.size.w,this._attr.size.h);}}}else{if(font){this._svgGuiHelper.setAnimationText(this._xComponent,this._attr.caption,font,this._attr.size.w,this._attr.size.h);if(typeof (this._isTextSizeCalculated)!="undefined"){this._isTextSizeCalculated=false;this._compoundFont=this._xComponent.style.fontWeight+" "+this._xComponent.style.fontSize+" "+this._xComponent.style.fontFamily;this._parseBoxSize();}}}}},});});},"url:ma/view/templates/logon.html":"<div class=\"ma_view_logon\">\r\n    <div id=\"ma_view_logon_helperdiv\" style=\"position:relative; top:50%\">\r\n        <table  class=\"ma_view_logon_table\" dojoattachpoint=\"ma_view_logon_table\" >\r\n            <tr dojoattachpoint=\"title\" >\r\n                <td class=\"ma_view_logon_table_title\" >\r\n                    Mobile Access Logon\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>\r\n                    \r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td >\r\n                    <input style=\"width:100%\" class=\"logon_txtUser\"  dojoattachpoint=\"logon_txtUser\" data-dojo-type=\"dojox.mobile.TextBox\"  placeHolder=\"User Name\"/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td >\r\n                    <input style=\"width:100%\" dojoattachpoint=\"logon_txtPassword\" class=\"logon_txtPassword\"\r\n                        type=\"password\" data-dojo-type=\"dojox.mobile.TextBox\" placeHolder=\"Password\"/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td >\r\n                    <img id=\"logon_Button\" value=\"Logon\" dojoattachevent=\"onclick:Logon\" src=\"imgs/logon.png\"\r\n                        class=\"logon_imgSubmit\"  style=\"width:32px;height:32px\">\r\n                    <div id=\"logon_Loading\"  data-dojo-type=\"ma.widget.miscellaneous.Loading\" style=\"display:none\"></div>\r\n                        \r\n                    \r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td  dojoattachpoint=\"logon_Status_Cell\">\r\n                    <div class=\"ma_view_logon_table_status\"  style=\"opacity:0; font-size:0.7em;color:Red\" id=\"logon_Status\" dojoattachpoint=\"logon_Status\"></div>\r\n                </td>\r\n            </tr>\r\n        </table>    \r\n    </div>\r\n</div>\r\n","url:viewer/object/shape/statusElement.html":"<canvas class=\"object-shape-statusElement\" data-dojo-attach-point=\"_xComponent\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n    style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n</canvas>","url:viewer/viewer.html":"<table style=\"overflow:hidden;text-align:center;background-color:RGB(171,171,171)\">\r\n    <tbody data-dojo-attach-point=\"viewArea\" style=\"display:table-caption;min-height:100vh;min-width:100vw\">\r\n        <tr>\r\n            <td style=\"display:block;padding: 0px;\">\r\n                <div data-dojo-attach-point=\"containerNode\" style=\"position:absolute;top:0px\" id=\"container\">\r\n                    <div data-dojo-attach-point=\"protectiveLayer\"></div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n","url:viewer/object/shape/path.html":"<svg class=\"object-shape-path\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" \r\n     style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; overflow:  visible;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill-rule=\"${_attr.fillRule}\" />\r\n</svg>\r\n","url:viewer/object/action/button.html":"<div class=\"object-action-button\" style=\"position: absolute; top: ${_attr.position.top}px;\r\n    left: ${_attr.position.left}px\">\r\n    <button data-dojo-attach-point=\"_xComponent\"  style=\"color: ${_attr.font.fontColor};\r\n        font-weight: ${_attr.font.fontWeight};font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name};font-style: ${_attr.font.fontStyle};\r\n        width: ${_attr.size.w}px; height: ${_attr.size.h}px;white-space:nowrap; overflow:hidden;\">\r\n        <div data-dojo-attach-point=\"_xDiv\" style=\"position: absolute;top: 0px;left: 0px;box-sizing: border-box;\">\r\n        </div>        \r\n        <span data-dojo-attach-point=\"_xSpan\" value=\"${caption}\" style=\"text-decoration:${_attr.font.fontDecoration};\"></span>\r\n    </button>\r\n</div>\r\n","url:ma/widget/templates/gridLegend.html":"<div dojoattachpoint=\"containerGridLegend\">\r\n<div dojoattachpoint=\"containerGrid\"></div>\r\n</div>","url:dijit/templates/TitlePane.html":"<div>\r\n\t<div data-dojo-attach-event=\"ondijitclick:_onTitleClick, onkeydown:_onTitleKey\"\r\n\t\t\tclass=\"dijitTitlePaneTitle\" data-dojo-attach-point=\"titleBarNode\" id=\"${id}_titleBarNode\">\r\n\t\t<div class=\"dijitTitlePaneTitleFocus\" data-dojo-attach-point=\"focusNode\">\r\n\t\t\t<span data-dojo-attach-point=\"arrowNode\" class=\"dijitInline dijitArrowNode\" role=\"presentation\"></span\r\n\t\t\t><span data-dojo-attach-point=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\r\n\t\t\t><span data-dojo-attach-point=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"dijitTitlePaneContentOuter\" data-dojo-attach-point=\"hideNode\" role=\"presentation\">\r\n\t\t<div class=\"dijitReset\" data-dojo-attach-point=\"wipeNode\" role=\"presentation\">\r\n\t\t\t<div class=\"dijitTitlePaneContentInner\" data-dojo-attach-point=\"containerNode\" role=\"region\" id=\"${id}_pane\" aria-labelledby=\"${id}_titleBarNode\">\r\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\r\n\t\t\t\trole=\"heading\" level=\"1\"></span>\r\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\r\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n</div>\r\n","url:ma/widget/templates/dateTime.html":"<div class=\"ma_widget_date_dateTime\" dojoattachpoint=\"containerDateTimer\">\r\n    <table>\r\n       <thead>\r\n            <tr>\r\n                <th>\r\n                    <span class=\"title\">${title}</span>\r\n                </th>\r\n            </tr>\r\n        </thead>\r\n        <tr>\r\n            <td colspan=\"2\">\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnStartDate\" dojoattachevent=\"onclick:StartDateClicked\"></button>                \r\n            </td>            \r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"2\">\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnFinishDate\" dojoattachevent=\"onclick:FinishDateClicked\"></button>                \r\n            </td>            \r\n        </tr>\r\n        <tr>\r\n            <td >\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnDate\" dojoattachevent=\"onclick:DateClicked\" style=\"display:inline;width:50%;float:left\">\r\n                    Date</button>            \r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnTime\" dojoattachevent=\"onclick:TimeClicked\" style=\"display:inline;width:50%;float:right\">\r\n                    Time</button>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td dojoattachpoint=\"startDateParent\" colspan=\"2\" >\r\n                <div dojoattachpoint=\"startDate\">\r\n                </div>\r\n                <div dojoattachpoint=\"finishDate\">\r\n                </div>\r\n            </td>            \r\n        </tr>\r\n        <tr>\r\n            <td dojoattachpoint=\"startTimeParent\" colspan=\"2\" cellpadding=\"2\">                            \r\n                <div dojoattachpoint=\"startTime\">\r\n                </div>            \r\n                <div dojoattachpoint=\"finishTime\">\r\n                </div>\r\n            </td>\r\n        </tr>        \r\n        \r\n        <!--<tr>\r\n            <td>\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnFinishDate\" dojoattachevent=\"onclick:FinishDateClicked\">\r\n                    Finish Date</button>\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnFinishTime\" dojoattachevent=\"onclick:FinishTimeClicked\">\r\n                        Finish Time</button>\r\n            </td>\r\n        </tr>-->\r\n        \r\n        <!--<tr>\r\n            <td>\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnFinishDate\" dojoattachevent=\"onclick:FinishDateClicked\">\r\n                    Finish Date</button>\r\n                <button dojotype=\"dojox.mobile.Button\" dojoattachpoint=\"btnFinishTime\" dojoattachevent=\"onclick:FinishTimeClicked\">\r\n                        Finish Time</button>\r\n            </td>\r\n        </tr>-->\r\n    </table>\r\n</div>\r\n","url:viewer/misc/gui/inputCalendar.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-calendarkeyPad-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputcalendarContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-calendarKeyPad\">\r\n                    <iframe class=\"calendarIFrame\" data-dojo-attach-point=\"_calendarIFrame\"></iframe>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton okBtn\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n        <button class=\"misc-gui-bntWrite IOSButton cancelBtn\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">Cancel</button>\r\n    </div>\r\n</div>","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"${role}\" tabIndex=\"-1\" aria-checked=\"${checked}\">\r\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\r\n\t\t<span class=\"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t\t<span class=\"dijitMenuItemIconChar dijitCheckedMenuItemIconChar\">${checkedChar}</span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode,textDirNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\r\n</tr>\r\n","url:viewer/object/shape/chord.html":"<svg class=\"object-shape-chord\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n     style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; overflow: visible;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill-rule=\"${_attr.fillRule}\" />\r\n</svg>\r\n","url:viewer/object/libraries/customWidget.html":"<iframe class=\"object-libraries-customWidget\" data-dojo-attach-point=\"_xComponent\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n        style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\" src=\"${_attr.url}\" frameborder=\"0\"\r\n        data-dojo-attach-event=\"onload:_onLoadWidget\"></iframe>","url:viewer/object/action/comboBoxDropDown.html":"<div data-dojo-attach-point=\"_xComponent\" class=\"object-action-comboBox\" style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; width: ${_attr.size.w}px; height: ${_attr.size.h}px\">\r\n    <input style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle};\"></input>\r\n    <select style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle}; width: ${_attr.size.w}px; height: ${_attr.size.h}px; overflow-y: auto; overflow-x: auto\">    \r\n\t</select>\r\n\t<div style = \"height: ${_attr.size.h}px; position:relative; float: left; margin-top: -${_attr.size.h}px; background:transparent; text-align: left; line-height: ${_attr.size.h}px;font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle}; margin-left: 2px;\" ></div>\r\n</div>","url:ma/widget/templates/displayValue.html":"<div class=\"ma_widget_display_value\" dojoattachpoint=\"containerDisplayValue\">\r\n    <table class=\"ma_widget_display_value_table\" width=100% >\r\n        <tr>\r\n            <td dojoattachpoint=\"titleDisplay\" class=\"ma_widget_display_value_title\">\r\n                ${label}\r\n            </td>\r\n        </tr>\r\n        <tr  class=\"ma_widget_display_value_line\">\r\n            <td  align=\"center\">\r\n            </td>\r\n        </tr>            \r\n        <tr  dojoattachpoint=\"wrapperDisplay\">\r\n            <td dojoattachpoint=\"contentDisplay\" class=\"ma_widget_display_value_content\">                \r\n                <div dojoattachpoint=\"containerDisplayDiv\" class=\"ma_widget_display_value_content_div\"></div>\r\n            </td>\r\n        </tr>    \r\n    </table>\r\n</div>\r\n","url:viewer/misc/gui/logonWindow.html":"<div class=\"misc-gui-logonWindow\">\r\n    <div class=\"misc-gui-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-title\">Logon</div>\r\n        <div class=\"misc-gui-currentUser\">\r\n            <span>Current User: </span>\r\n            <span data-dojo-attach-point=\"_txtCurrentUser\"></span>\r\n        </div>\r\n        <label class=\"misc-gui-lblUsername\">User name:</label>\r\n        <input type=\"text\" data-dojo-attach-point=\"_txtUsername\" class=\"misc-gui-txtUsername\" />\r\n        <label class=\"misc-gui-lblPassword\">Password:</label>\r\n        <input type=\"password\" data-dojo-attach-point=\"_txtPassword\" class=\"misc-gui-txtPassword\" />\r\n\r\n        <div class=\"misc-gui-panelAlert\" data-dojo-attach-point=\"_pnlAlert\">\r\n            <img class=\"misc-gui-imgWarning\" alt=\"\" src=\"imgs/warning.ico\" data-dojo-attach-point=\"_icoWarning\" />\r\n            <p class=\"misc-gui-message\" data-dojo-attach-point=\"_lblMessage\"></p>\r\n        </div>\r\n\r\n        <button class=\"misc-gui-bntOk\" data-dojo-attach-point=\"_btnOk\" data-dojo-attach-event=\"click:_ok\"><span>Ok</span></button>\r\n        <button class=\"misc-gui-bntCancel\" data-dojo-attach-point=\"_btnCancel\" data-dojo-attach-event=\"click:close\"><span>Cancel</span></button>\r\n        <button class=\"misc-gui-bntLogoff\" data-dojo-attach-point=\"_btnLogoff\" data-dojo-attach-event=\"click:_logoff\"><span>Log Off</span></button>\r\n    </div>\r\n</div>\r\n\r\n","url:viewer/misc/gui/inputTextBox.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-textBox-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-inputContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-txtContainer\">\r\n                    <input autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" type=\"text\" data-dojo-attach-point=\"_txtField\" class=\"misc-gui-txtField\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <span readonly=\"readonly\" class=\"misc-gui-error-message\" data-dojo-attach-point=\"_dlgErrorMessage\"></span>\r\n    </div>\r\n</div>\r\n","url:ma/view/templates/screenBrowser.html":"<div  class=\"ma_view_screenBrowser\" dojoattachpoint=\"containerScreenBrowser\"\r\n    style=\"text-align: center\">\r\n    <div dojotype=\"dojox.mobile.ScrollableView\" selected=\"true\" id=\"_x_selectScreens_mobile_View\">\r\n    </div>\r\n</div>\r\n","url:ma/view/templates/tags.html":"<div class=\"ma_view_tags\" dojoattachpoint=\"containerTags\">\r\n    <div id=\"_x_containerTableTags\" dojoattachpoint=\"containerTableTags\">\r\n        <div id=\"cGauge\">\r\n        </div>       \r\n    </div>\r\n     <div id=\"_x_unmovable\" class=\"unmovable hidded\">\r\n            <table style=\"display: inline-block\" border=\"0\">\r\n                <tr>\r\n                    <td class=\"containerSetTagValue\" colspan=\"2\">\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td colspan=\"2\">\r\n                        <input type=\"text\" class=\"input_tag_value\" id=\"_x_inputTagValue\" data-dojo-type=\"dojox.mobile.TextBox\" />\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n</div>\r\n","url:viewer/misc/gui/inputNum.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-keyPad-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputContainer\">\r\n            <div>\r\n                <label class=\"misc-gui-keyPad-lblField\">Current Value:</label>\r\n                <div class=\"misc-gui-keyPad-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_currentValue\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n            <div data-dojo-attach-point=\"_minFieldContainer\">\r\n                <label class=\"misc-gui-keyPad-lblField\">Min:</label>\r\n                <div class=\"misc-gui-keyPad-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_minField\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n            <div data-dojo-attach-point=\"_maxFieldContainer\">\r\n                <label class=\"misc-gui-keyPad-lblField\">Max:</label>\r\n                <div class=\"misc-gui-keyPad-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_maxField\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <label class=\"misc-gui-keyPad-lblField\">New Value:</label>\r\n                <div class=\"misc-gui-keyPad-txtContainer\">\r\n                    <input autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" type=\"text\" data-dojo-attach-point=\"_txtField\" class=\"misc-gui-txtField\" />\r\n                    <textarea rows=\"3\" data-dojo-attach-point=\"_txtAreaField\" class=\"misc-gui-txtField\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"misc-gui-numKeyPad\">\r\n                    <table>\r\n                        <tr>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_7Btn\">7</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_8Btn\">8</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_9Btn\">9</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onBackSpace\" data-dojo-attach-point=\"_backSpaceBtn\">Bksp</button></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_4Btn\">4</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_5Btn\">5</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_6Btn\">6</button></td>\r\n                            <td></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_1Btn\">1</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_2Btn\">2</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_3Btn\">3</button></td>\r\n                            <td></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_minusBtn\">-</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_0Btn\">0</button></td>\r\n                            <td><button class=\"NumButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_pointBtn\">.</button></td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span readonly=\"readonly\" class=\"misc-gui-error-message\" data-dojo-attach-point=\"_dlgErrorMessage\"></span>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n        <button class=\"misc-gui-bntCancel IOSButton\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">Cancel</button>\r\n    </div>\r\n</div>\r\n","url:viewer/object/shape/roundedRectangle.html":"<svg class=\"object-shape-roundedRectangle\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n    <g data-dojo-attach-point=\"_xGroup\">      \r\n      <rect data-dojo-attach-point=\"_xComponent\"  rx=\"${_attr.roundness.x}\" ry=\"${_attr.roundness.y}\"/>\r\n    </g>\r\n</svg>\r\n","url:viewer/object/_base.html":"<div></div>","url:viewer/object/action/comboBoxSimple.html":"<div data-dojo-attach-point=\"_xComponent\" class=\"object-action-comboBox\" style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; width: ${_attr.size.w}px; height: ${_attr.size.h}px\">\r\n    <input style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle};width:${_attr.size.w}px;height:${_textBoxHeight}px;\"></input>\r\n    <select multiple=\"multiple\" style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle};width:${_attr.size.w}px;height:${_listBoxHeight}px;overflow-y: auto; overflow-x: auto\">\r\n    </select>\r\n</div>","url:viewer/object/action/pushButton.html":"<div class=\"object-action-pushButton\" style = \"border-style:outset;background-color:${openColor}; position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;width:${_attr.size.w}px;height:${_attr.size.h}px\">\r\n${openCaption}\r\n</div>","url:ma/widget/templates/chart.html":"<div class=\"ma_widget_trend_chart\" dojoattachpoint=\"containerChart\">\r\n    <div dojoattachpoint=\"chart\" style=\"-webkit-user-select: none; z-index: 1\">\r\n    </div>\r\n    <canvas class=\"ma_widget_trend_display\" dojoAttachPoint=\"trendDisplay\"></canvas>\r\n    <table cellpadding=\"0\" cellspacing=\"0\" dojoattachpoint=\"xTableLabels\" style=\"position: absolute;\">\r\n        <tr style=\"font: normal normal bold 8pt Tahoma; color: Gray\">\r\n            <td align=\"left\" width=\"33%\" dojoattachpoint=\"thirdLabel\">\r\n            </td>\r\n            <td align=\"center\" width=\"33%\" dojoattachpoint=\"secondLabel\">\r\n            </td>\r\n            <td align=\"right\" width=\"33%\" dojoattachpoint=\"firstLabel\">\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <div dojotype=\"ma.widget.trend.GridLegend\" id=\"_x_chartLegend\">\r\n    </div>\r\n</div>\r\n","url:viewer/object/shape/closedBezierCurve.html":"<svg class=\"object-shape-closedBezierCurve\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n     style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_attr.points}\" fill=\"transparent\" />\r\n</svg>","url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\r\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\r\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\r\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\r\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\r\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\r\n\t</div>\r\n</div>\r\n","url:viewer/object/shape/closedPolygon.html":"<svg class=\"object-shape-closedPolygon\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n    style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n    <polygon data-dojo-attach-point=\"_xComponent\" points=\"${_attr.points}\" fill-rule=\"evenodd\"/>\r\n</svg>","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\r\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\r\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</span>\r\n\t</td>\r\n</tr>\r\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n></div>\r\n","url:viewer/object/action/editBox.html":"<div class=\"object-action-editBox\"  style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px\">\r\n    <textarea data-dojo-attach-point=\"_txtAreaField\" style=\"resize: none; overflow:scroll; overflow-x:hidden; white-space:normal; text-decoration:${_attr.font.fontDecoration};color:${_attr.font.fontColor};font-weight:${_attr.font.fontWeight};font-style:${_attr.font.fontStyle};font-size:${_attr.font.sizeInPoints}pt;font-family:${_attr.font.name};width:${_attr.size.w}px;background-color:${_attr.background.color}\"></textarea>\r\n    <input type=\"text\" data-dojo-attach-point=\"_txtField\" style=\"text-decoration:${_attr.font.fontDecoration};color:${_attr.font.fontColor};font-weight:${_attr.font.fontWeight};font-style:${_attr.font.fontStyle};font-size:${_attr.font.sizeInPoints}pt;font-family:${_attr.font.name};width:${_attr.size.w}px\"></input>\r\n</div>","url:viewer/object/action/listBox.html":"<div class=\"object-action-listBox\" style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; width: ${_attr.size.w}px; height: ${_attr.size.h}px\">\r\n    <select data-dojo-attach-point=\"_xComponent\" multiple=\"multiple\" style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};\r\n    font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle};\r\n    width:${_attr.size.w}px;height:${_attr.size.h}px; overflow-y: auto; overflow-x: auto\" scrollamount=\"5\"></select>\r\n</div>","url:viewer/object/shape/openPolygon.html":"<svg class=\"object-shape-openPolygon\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n    style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n    <polyline data-dojo-attach-point=\"_xComponent\" points=\"${_attr.points}\" fill=\"transparent\" />\r\n</svg>","url:viewer/object/shape/trendPen.html":"<svg class=\"object-shape-trendPen\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n     style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; overflow: hidden;\">\r\n    <defs>\r\n        <clipPath data-dojo-attach-point=\"_xClipPath\">\r\n            <rect data-dojo-attach-point=\"_xClipPathRect\" x=\"0\" y=\"0\" width=\"0\" height=\"0\" />\r\n        </clipPath>\r\n    </defs>\r\n\r\n    <path data-dojo-attach-point=\"_xFill\" fill=\"transparent\" stroke=\"transparent\" />\r\n    <path data-dojo-attach-point=\"_xComponent\" fill=\"transparent\" />\r\n</svg>","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\r\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\r\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\r\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\r\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\r\n</div>\r\n","url:viewer/object/shape/openBezierCurve.html":"<svg class=\"object-shape-openBezierCurve\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n     style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_attr.points}\" fill=\"transparent\" />\r\n</svg>","url:ma/widget/templates/gauge.html":"<div style=\"width:100px; height:100px\" class=\"ma_widget_gauge\" >\r\n    <canvas width=\"100\" height=\"100\" dojoattachpoint=\"staticCanvas\"></canvas>\r\n    <canvas width=\"100\" height=\"100\" dojoattachpoint=\"dynamicCanvas\"></canvas>\r\n</div>","url:viewer/misc/gui/inputKeyboard.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-keyPad-dialogContent keyboardContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputContainer\">\r\n            <div>\r\n                <label class=\"misc-gui-keyPad-lblField\">Current Value:</label>\r\n                <div class=\"misc-gui-keyPad-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_currentValue\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <label class=\"misc-gui-keyPad-lblField\">New Value:</label>\r\n                <div class=\"misc-gui-keyPad-txtContainer\">\r\n                    <input autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" type=\"text\" data-dojo-attach-point=\"_txtField\" class=\"misc-gui-txtField\" />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"misc-gui-keyboard\">\r\n                    <table>\r\n                        <tr>\r\n                            <td>\r\n                                <table>\r\n                                    <tr>\r\n                                        <td colspan=\"2\">\r\n                                            <button class=\"ESCButton IOSButton\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_escBtn\">ESC</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_graveAccentBtn\">`</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_1Btn\">1</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_2Btn\">2</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_3Btn\">3</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_4Btn\">4</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_5Btn\">5</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_6Btn\">6</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_7Btn\">7</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_8Btn\">8</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_9Btn\">9</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_0Btn\">0</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_minusBtn\">-</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_equalBtn\">=</button>\r\n                                            <button class=\"ESCButton IOSButton\" data-dojo-attach-event=\"click:_onBackSpace\" data-dojo-attach-point=\"_bkspBtn\">Bksp</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"2\">\r\n                                            <button class=\"TabButton IOSButton\" data-dojo-attach-event=\"click:_onTabPress\" data-dojo-attach-point=\"_tabBtn\">Tab</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_qBtn\">q</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_wBtn\">w</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_eBtn\">e</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_rBtn\">r</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_tBtn\">t</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_yBtn\">y</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_uBtn\">u</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_iBtn\">i</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_oBtn\">o</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_pBtn\">p</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_brackets2_left_Btn\">[</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"__brackets2_right_Btn\">]</button>\r\n                                            <button class=\"TabButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_slashBtn\">\\</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"2\">\r\n                                            <button class=\"ENTERButton IOSButton\" data-dojo-attach-event=\"click:_onCaps\" data-dojo-attach-point=\"_capsBtn\">Caps</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_aBtn\">a</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_sBtn\">s</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_dBtn\">d</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_fBtn\">f</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_gBtn\">g</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_hBtn\">h</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_jBtn\">j</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_kBtn\">k</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_lBtn\">l</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_semicolonBtn\">;</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_separatorBtn\">'</button>\r\n                                            <button class=\"ENTERButton IOSButton\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_enterBtn\">Enter</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"2\">\r\n                                            <button class=\"ShiftButton IOSButton\" data-dojo-attach-event=\"click:_onShift\" data-dojo-attach-point=\"_shiftLBtn\">Shift</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_zBtn\">z</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_xBtn\">x</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_cBtn\">c</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_vBtn\">v</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_bBtn\">b</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_nBtn\">n</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"alphabet\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_mBtn\">m</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_commaBtn\">,</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_pointBtn\">.</button>\r\n                                            <button class=\"KeyboardButton IOSButton\" name=\"mark\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_backSlashBtn\">/</button>\r\n                                            <button class=\"ShiftButton IOSButton\" data-dojo-attach-event=\"click:_onShift\" data-dojo-attach-point=\"_shiftRBtn\">Shift</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>\r\n                                            <button class=\"SpaceButton IOSButton\" data-dojo-attach-event=\"click:_onNumPress\" data-dojo-attach-point=\"_spaceBtn\">&nbsp;</button>\r\n                                        <td align=\"right\">\r\n                                            <button class=\"ENTERButton IOSButton\" data-dojo-attach-event=\"click:_onLeft\" data-dojo-attach-point=\"_leftBtn\">Left</button>\r\n                                            <button class=\"ENTERButton IOSButton\" data-dojo-attach-event=\"click:_onRight\" data-dojo-attach-point=\"_rightBtn\">Right</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span readonly=\"readonly\" class=\"misc-gui-error-message\" data-dojo-attach-point=\"_dlgErrorMessage\"></span>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:_onClear\" data-dojo-attach-point=\"_clearlBtn\">Clear</button>\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">Cancel</button>\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n    </div>\r\n</div>\r\n","url:viewer/misc/gui/errorWindow.html":"<div class=\"misc-gui-errorWindow\">\r\n    <div class=\"misc-gui-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <span class=\"misc-gui-title\" data-dojo-attach-point=\"_dlgTitle\">Error</span>\r\n        <textarea readonly=\"readonly\" class=\"misc-gui-message misc-gui-message-icon\" data-dojo-attach-point=\"_dlgMessage\"></textarea>\r\n        <span class=\"misc-gui-imgIcon misc-gui-imgIconError\" data-dojo-attach-point=\"_dlgIcon\"></span>\r\n        <span class=\"misc-gui-imgIcon misc-gui-_F12Message\" data-dojo-attach-point=\"_F12Message\">Press F12</span>\r\n        <div data-dojo-attach-point=\"_btnSet\" class=\"misc-gui-bntset1\">\r\n            <button class=\"misc-gui-bnt\" data-dojo-attach-point=\"_btnOk\"><span>OK</span></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/action/textBox.html":"<div class=\"object-action-textBox\"  style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px\">\r\n    <textarea data-dojo-attach-point=\"_txtAreaField\" style=\"resize: none; overflow:scroll; overflow-x:hidden; white-space:normal; text-decoration:${_attr.font.fontDecoration};color:${_attr.font.fontColor};font-weight:${_attr.font.fontWeight};font-style:${_attr.font.fontStyle};font-size:${_attr.font.sizeInPoints}pt;font-family:${_attr.font.name};width:${_attr.size.w}px\"></textarea>\r\n    <input type=\"text\" data-dojo-attach-point=\"_txtField\" style=\"text-decoration:${_attr.font.fontDecoration};color:${_attr.font.fontColor};font-weight:${_attr.font.fontWeight};font-style:${_attr.font.fontStyle};font-size:${_attr.font.sizeInPoints}pt;font-family:${_attr.font.name};width:${_attr.size.w}px\"></input>\r\n</div>","url:viewer/misc/gui/inputDateTime.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-dateTimekeyPad-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputdateTimeContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-dateTimeKeyPad\">\r\n                    <table>\r\n                        <tr>\r\n                            <td>\r\n                                <div data-dojo-attach-point=\"_dateTime\">\r\n                                    <div data-dojo-attach-point='_dateContainer' class='dateContainer'>\r\n                                        <div class='misc-gui-keyPad-lblField'>${resDate}</div>\r\n                                        <div class='dateField'>\r\n                                            <div data-dojo-attach-point='_dayField' class='dateTimeField'>\r\n                                                <span>${resDay}</span>\r\n                                                <div class='days'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_day\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_dayUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_dayDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_monthField' class='dateTimeField'>\r\n                                                <span>${resMonth}</span>\r\n                                                <div class='month'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_month\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_monthUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_monthDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_yearField' class='dateTimeField'>\r\n                                                <span>${resYear}</span>\r\n                                                <div class='year'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_year\" maxlength='4'>\r\n                                                    <button data-dojo-attach-point='_yearUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_yearDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div data-dojo-attach-point='_timeContainer' class='timeContainer'>\r\n                                        <div class='misc-gui-keyPad-lblField'>${resTime}</div>\r\n                                        <div class='timeField'>\r\n                                            <div data-dojo-attach-point='_hourField' class='dateTimeField'>\r\n                                                <span>${resHour}</span>\r\n                                                <div class='hour'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_hour\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_hourUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_hourDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_minuteField' class='dateTimeField'>\r\n                                                <span>${resMinute}</span>\r\n                                                <div class='minute'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_minute\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_minuteUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_minuteDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_secondsField' class='dateTimeField'>\r\n                                                <span>${resSecond}</span>\r\n                                                <div class='seconds'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_seconds\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_secondsUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_secondsDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton okBtn\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">${resButtonOk}</button>\r\n        <button class=\"misc-gui-bntWrite IOSButton cancelBtn\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">${resButtonCancel}</button>\r\n    </div>\r\n</div>","url:viewer/object/shape/closedCurve.html":"<svg class=\"object-shape-closedCurve\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill-rule=\"${_attr.fillRule}\" />\r\n</svg>\r\n","url:ma/view/templates/trend.html":"<div class=\"ma_view_trend\">\r\n    <div dojoattachpoint=\"containerChart\">\r\n        <div dojotype=\"ma.widget.trend.Chart\" id=\"chart\">\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/shape/ellipse.html":"<svg class=\"object-shape-ellipse\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n    style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n    <g data-dojo-attach-point=\"_xGroup\">\r\n      <ellipse data-dojo-attach-point=\"_xComponent\" cx=\"${_center.cx}\" cy=\"${_center.cy}\" rx=\"${roundness.x}\" ry=\"${roundness.y}\" />\r\n    </g>\r\n</svg>\r\n","url:ma/view/templates/alarm.html":"<div class=\"ma_view_alarm\">\r\n    <div dojoattachpoint=\"containerGrid\">\r\n    </div>\r\n</div>\r\n","url:viewer/object/action/comboBox.html":"<div class=\"object-action-comboBox\" style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; width: ${_attr.size.w}px; height: ${_attr.size.h}px\">\r\n    <select data-dojo-attach-point=\"_xComponent\" style=\"background-color:${_attr.colorAdvanced};color:${_attr.font.fontColor};\r\n    font-weight: ${_attr.font.fontWeight}; font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name}; font-style: ${_attr.font.fontStyle};\r\n    width:${_attr.size.w}px;height:${_attr.size.h}px\"></select>\r\n</div>","url:viewer/object/shape/line.html":"<svg class=\"object-shape-line\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" >\r\n<polyline data-dojo-attach-point=\"_xComponent\" points=\"${_attr.points}\" />\r\n</svg>\r\n","url:ma/view/templates/mosaic.html":"<div class=\"ma_view_mosaic\">\r\n    <div class=\"mosaicContent\" dojoAttachPoint=\"containerSample\" >\r\n            <img alt=\"\" src=\"imgs/globe.png\" dojoAttachPoint=\"contentImage\" style=\"height:75%;width:50%\"/>\r\n    </div>\r\n    <div class=\"mosaicTitle\" dojoAttachPoint=\"contentLabel\">${mosaicLabel}</div>\r\n</div>\r\n\r\n\r\n\r\n    \r\n","url:viewer/object/group.html":"<div style=\"position:absolute; top: ${position.top}px; left: ${position.left}px; width:${size.w}px; height:${size.h}px\">\r\n    <div data-dojo-attach-point=\"containerNode\" style=\"position: absolute; top: ${position.top}; left: ${position.left}; width:${size.w}px; height:${size.h}px\">\r\n    </div>\r\n</div>\r\n","url:ma/widget/templates/SwitchEx.html":"<div class=\"ma_widget_switch_bg ma_widget_switch_commom\">\r\n    <div dojoattachpoint=\"inner\" class=\"ma_widget_switch_inner ma_widget_switch_commom\">\r\n        <div dojoattachpoint=\"left\" class=\"ma_widget_switch_left ma_widget_switch_leftright ma_widget_switch_commom\">\r\n            <div class=\"ma_widget_switch_left_text ma_widget_switch_commom\">\r\n                <table  style=\"height:100%; width:100%; color:White\"><tr><td align=\"center\">ON</td></tr></table></div>\r\n        </div>\r\n        <div dojoattachpoint=\"right\" class=\"ma_widget_switch_right ma_widget_switch_leftright ma_widget_switch_commom\">\r\n            <div class=\"ma_widget_switch_right_text ma_widget_switch_commom\">\r\n                <table  style=\"height:100%; width:100%; color:Gray\"><tr><td align=\"center\">OFF</td></tr></table>\r\n                </div>\r\n        </div>\r\n        <div dojoattachpoint=\"knob\" class=\"ma_widget_switch_knob ma_widget_switch_commom\">\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:ma/view/templates/alarmConf.html":"<div class=\"ma_view_alarmConf\" dojoattachpoint=\"containerAlarmConf\">\r\n    <div dojotype=\"dojox.mobile.View\">\r\n        <h1 dojotype=\"dojox.mobile.Heading\" syc=\"true\" id=\"_x_alarmToolBarSettings\" back=\"Alarm\" moveto=\"_x_tabView_menu_view\">\r\n            Settings            \r\n        </h1>\r\n        <div dojotype=\"dojox.mobile.ScrollableView\" selected=\"true\" dojoattachpoint=\"scrollView\">\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/action/radioButton.html":"<div class=\"object-action-radioButton\" style=\"position: absolute; top: ${_attr.position.top}px;\r\n    left: ${_attr.position.left}px;overflow:hidden;\" >\r\n    <div class=\"radioButton checkRadio-radioon\" data-dojo-attach-point=\"_xComponent\">\r\n    </div>\r\n    <div data-dojo-attach-point=\"_xLabelCell\" class=\"label-cell\" style=\"height: ${_attr.size.h}px\">\r\n        <label data-dojo-attach-point=\"_xLabel\" class=\"label\"  style=\"text-decoration:${_attr.font.fontDecoration};font-family: ${_attr.font.name};\r\n            font-size: ${_attr.font.sizeInPoints}pt; color: ${_attr.font.fontColor}; font-weight: ${_attr.font.fontWeight};\r\n\t        font-style: ${_attr.font.fontStyle}\">\r\n            ${caption}\r\n        </label>\r\n    </div>\r\n\r\n    <button  data-dojo-attach-point=\"_xButtonComponent\"  style=\"position:relative; color: ${_attr.font.fontColor};\r\n        font-weight: ${_attr.font.fontWeight};font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name};font-style: ${_attr.font.fontStyle};\r\n        width: ${_attr.size.w}px; height: ${_attr.size.h}px;white-space:nowrap; overflow:hidden;padding: 3px; white-space:normal;\" tabIndex=\"-1\">\r\n        <div data-dojo-attach-point=\"_xDiv\" style=\"position: absolute;top: 0px;left: 0px;box-sizing: border-box; display: block;\" tabIndex=\"0\">\r\n           \r\n        </div>     \r\n        <span data-dojo-attach-point=\"_xSpan\" value=\"${caption}\" style=\"text-decoration:${_attr.font.fontDecoration}; cursor: default;\"></span>\r\n    </button>\r\n</div>\r\n","url:viewer/misc/gui/warningWindow.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-keyPad-warningContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgTitle\">Input Window</p>\r\n        </div>\r\n        <img class=\"misc-gui-keyPad-imgWarning\" alt=\"\" src=\"imgs/warning.ico\" data-dojo-attach-point=\"_icoWarning\" />\r\n        <div class=\"misc-gui-keyPad-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\">Input Window</p>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n    </div>\r\n</div>\r\n","url:ma/widget/templates/loading.html":"<table class=\"ma_loading\" style=\"width: 100%; height: 100%\">\r\n    <tr >\r\n        <!-- this is set to the maximum size of the logon window. By some reason on the logon window\r\n        it would not go to 100%-->\r\n        <td align=\"center\" width=400px>\r\n            <img src=\"imgs/loading.png\" style=\"width: 32px; height: 32px;\r\n                vertical-align: middle\" dojoattachpoint=\"image\" />\r\n        </td>\r\n    </tr>\r\n</table>\r\n","url:viewer/object/shape/arc.html":"<svg class=\"object-shape-arc\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill=\"transparent\" />\r\n</svg>\r\n","url:viewer/object/action/smartMessage.html":"<div class=\"object-action-smartMessage\" style=\"border-width:thin; border-style:solid ;position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\r\n    width: ${_attr.size.w}px; height: ${_attr.size.h}px\">\r\n    ${messages.message}\r\n</div>\r\n","url:viewer/object/action/checkBox.html":"<div class=\"object-action-checkBox\" style=\"position: absolute; top: ${_attr.position.top}px;\r\n    left: ${_attr.position.left}px;overflow:hidden;\">\r\n    <div class=\"checkBox checkRadio-chkon\" data-dojo-attach-point=\"_xComponent\">\r\n    </div>\r\n    <div data-dojo-attach-point=\"_xLabelCell\" class=\"label-cell\" style=\"height: ${_attr.size.h}px\">\r\n        <label data-dojo-attach-point=\"_xLabel\" class=\"label\" style=\"text-decoration:${_attr.font.fontDecoration};font-family: ${_attr.font.name};\r\n\t\t\tfont-size: ${_attr.font.sizeInPoints}pt; color: ${_attr.font.fontColor}; font-weight: ${_attr.font.fontWeight};\r\n\t\t\tfont-style: ${_attr.font.fontStyle}\">\r\n            ${caption}\r\n        </label>\r\n    </div>\r\n\r\n    <button data-dojo-attach-point=\"_xButtonComponent\" style=\"position:relative; color: ${_attr.font.fontColor};\r\n    font-weight: ${_attr.font.fontWeight};font-size: ${_attr.font.sizeInPoints}pt; font-family: ${_attr.font.name};font-style: ${_attr.font.fontStyle};\r\n    width: ${_attr.size.w}px; height: ${_attr.size.h}px;white-space:nowrap; overflow:hidden;padding: 3px; white-space:normal;\"\r\n        tabIndex=\"-1\">\r\n        <div data-dojo-attach-point=\"_xDiv\" style=\"position: absolute;top: 0px;left: 0px;box-sizing: border-box; display: block;\"\r\n            tabIndex=\"0\">\r\n        </div>\r\n        <span data-dojo-attach-point=\"_xSpan\" value=\"${caption}\" style=\"text-decoration:${_attr.font.fontDecoration}; cursor: default;\"></span>\r\n    </button>\r\n</div>","url:ma/view/templates/menu.html":"<div class=\"ma_view_menu\">\r\n    <div class=\"label\" dojoattachpoint=\"containerMenu\">\r\n        <div id=\"_x_tabView_menu_view\" dojotype=\"dojox.mobile.View\" selected=\"true\" dojoattachpoint=\"tabViewMenuView\">\r\n            <h1 dojotype=\"dojox.mobile.Heading\" id=\"_x_tabView_menu_header\">                \r\n                <div id=\"_x_tabView_menu_back_button\" dojoType=\"dojox.mobile.ToolBarButton\" \r\n                    icon=\"imgs/icon_circle_arrow_left.png\" iconPos=\"-3,-3,32,32\"></div>             \r\n\r\n                <div id=\"_x_tabView_menu_settings\" dojotype=\"dojox.mobile.ToolBarButton\" icon=\"imgs/icon_settings.png\" style=\"float: right\"\r\n                    moveto=\"_x_tabView_menu_conf\">\r\n                </div>\r\n\r\n                <div id=\"_x_tabView_menu_ackSel\" dojoType=\"dojox.mobile.ToolBarButton\"\r\n                    style=\"float:right\" \r\n                    moveTo=\"_x_tabView_menu_ack\">Ack *</div>                    \r\n\r\n                <div id=\"_x_tabView_menu_ackAll\" dojoType=\"dojox.mobile.ToolBarButton\"\r\n                    style=\"float:right\" \r\n                    moveTo=\"_x_tabView_menu_ack\">Ack All</div>\r\n                \r\n                <div id=\"_x_tabView_menu_write_tag_ok\"  dojoType=\"dojox.mobile.ToolBarButton\"\r\n                    style=\"float:right\">Write</div>\r\n                <div id=\"_x_tabView_menu_write_tag_cancel\" dojoType=\"dojox.mobile.ToolBarButton\"\r\n                    style=\"float:right\">Cancel</div>\r\n                <div id=\"_x_tabView_menu_colapse_trend_legend\" dojotype=\"dojox.mobile.ToolBarButton\">\r\n                    Toggle Legend</div>\r\n                <div id=\"_x_tabView_menu_colapse_trend_cursor\" dojotype=\"dojox.mobile.ToolBarButton\">\r\n                    Toggle Cursor</div>\r\n            </h1>\r\n            <div dojoattachpoint=\"viewContainer\">\r\n            </div>\r\n        </div>\r\n        <div id=\"_x_tabView_menu_conf\" dojotype=\"dojox.mobile.View\" dojoattachpoint=\"tabViewMenuConf\">            \r\n            <div dojoattachpoint=\"alarmConfContainer\" class=\"ma_view_alarmConf\">\r\n            </div>\r\n            <div dojoattachpoint=\"trendConfContainer\" class=\"ma_view_trendConf\">\r\n            </div>\r\n        </div>\r\n        <div id=\"_x_tabView_menu_ack\" dojotype=\"dojox.mobile.View\" dojoattachpoint=\"tabViewMenuAck\">\r\n            <h1 dojotype=\"dojox.mobile.Heading\" back=\"Cancel\" moveto=\"_x_tabView_menu_view\" syc=\"true\">Ack\r\n                <div id=\"_x_tabView_menu_ack_confirm_button\" dojotype=\"dojox.mobile.ToolBarButton\" style=\"float:right\"  moveto=\"_x_tabView_menu_view\">Confirm</div>\r\n            </h1>  \r\n            <input type=\"text\" id=\"_x_tabView_menu_ack_comment\" class=\"menu_ack_comment\" onfocus=\"setTimeout('window.scroll(0,0)',100)\" placeHolder=\"Enter comment\"/>                  \r\n            \r\n        </div>\r\n        <div dojotype=\"dojox.mobile.View\" selected=\"false\" id=\"_x_tabView_screens_viewer\">\r\n        <h1 dojotype=\"dojox.mobile.Heading\" back=\"Screens\" moveto=\"_x_selectScreens_mobile_View\" \r\n            id=\"_x_screensToolBarSettings\"></h1>\r\n            <div data-dojo-type=\"viewer.Viewer\" id=\"_x_viewer_Viewer\" style=\"position: absolute\">\r\n            </div>\r\n        </div>\r\n        <div id=\"_x_tabView_menu_loading_box\" data-dojo-type=\"ma.widget.miscellaneous.Loading\" style=\"display:none;position:absolute;top:0px; z-index:1000\"></div>\r\n    </div>            \r\n</div>\r\n","url:ma/view/templates/view.html":"<div class=\"ma_view_view\">\r\n    <div class=\"titleNavigator\" dojoattachpoint=\"titleNavigator\">\r\n        <h1 dojotype=\"dojox.mobile.Heading\" id=\"_x_mainNavBar\">\r\n            <div id=\"__x__MainBackButton\"  dojotype=\"dojox.mobile.ToolBarButton\" iconPos=\"-3,-3,32,32\" icon=\"imgs/icon_circle_arrow_left.png\" dojoattachevent=\"onclick:ReturnClicked\" style=\"float:left\"></div>\r\n            <!--<div dojoattachpoint=\"backButton\" dojotype=\"dojox.mobile.ToolBarButton\" iconPos=\"-3,-3,32,32\" icon=\"imgs/icon_circle_arrow_left.png\" dojoattachevent=\"onclick:ReturnClicked\" style=\"float:left\"></div>-->\r\n            <div id =\"_x_main_logoff\" dojotype=\"dojox.mobile.ToolBarButton\" iconPos=\"-3,-3,32,32\"  style=\"float:left\">Log Off</div>\r\n        </h1>\r\n    </div>\r\n    <table class=\"containerViewTable\" dojoattachpoint=\"containerViewTable\">\r\n        <tbody>\r\n            <tr dojoattachpoint=\"containerViewTableRowTitle\" class=\"containerViewTableRowTitle\">\r\n            </tr>\r\n            <tr dojoattachpoint=\"containerViewTableRow1\">\r\n            </tr>\r\n            <tr dojoattachpoint=\"containerViewTableRow2\">\r\n            </tr>\r\n            <tr dojoattachpoint=\"containerViewTableRow3\">\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <div dojoattachpoint=\"objectsView\" class=\"objectsView\">\r\n        <div dojotype=\"ma.view.Menu\" class=\"menuView\">\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/misc/gui/template/cellText.html":"<td>${data}</td>","url:viewer/misc/gui/inputBoolean.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-keyPad-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-booleanKeyPad\">\r\n                    <table>\r\n                        <tr>\r\n                            <td><button class=\"BooleanButton IOSButton\" data-dojo-attach-event=\"click:_onFalse\" data-dojo-attach-point=\"_falseBtn\">False</button></td>\r\n                            <td><button class=\"BooleanButton IOSButton\" data-dojo-attach-event=\"click:_onTrue\" data-dojo-attach-point=\"_trueBtn\">True</button></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td align=\"center\" colspan=\"2\"><button class=\"BooleanButton IOSButton\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">Cancel</button></td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/action/calendar.html":"<div class=\"object-action-calendar\"  style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px\">\r\n    <div data-dojo-attach-point=\"_xComponent\" id = \"${_id}\" style=\"resize: none; text-decoration:${_attr.font.fontDecoration};color:${_attr.font.fontColor};font-weight:${_attr.font.fontWeight};font-style:${_attr.font.fontStyle};font-size:${_adaptFontSize}pt;font-family:${_attr.font.name};width:${_attr.size.w}px;background-color:${_attr.background.color}\"></div>\r\n</div>","url:viewer/object/action/text.html":"<div  class=\"object-action-text\" data-dojo-attach-point=\"_xComponent\" style = \"text-decoration:${_attr.font.fontDecoration};text-align:${_attr.align};color:${_attr.font.fontColor};font-style:${_attr.font.fontStyle};font-weight:${_attr.font.fontWeight};font-size:${_attr.font.sizeInPoints}pt;font-family:${_attr.font.name}; top:${_attr.position.top}px;left:${_attr.position.left}px;width:${_attr.size.w}px;height:${_attr.size.h}px;\">\r\n${caption}\r\n</div>","url:viewer/misc/gui/template/dataGrid.html":"<table width=\"100%\" class=\"dataGrid\">\r\n<thead data-dojo-attach-point=\"_xHead\">\r\n<tr data-dojo-attach-point=\"_xTrHead\"></tr>\r\n</thead>\r\n<tbody data-dojo-attach-point=\"_xBody\"></tbody>\r\n<tfoot data-dojo-attach-point=\"_xFoot\"></tfoot>\r\n</table>","url:viewer/object/shape/rectangle.html":"<svg class=\"object-shape-rectangle\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\r\n    <g data-dojo-attach-point=\"_xGroup\">\r\n  <rect data-dojo-attach-point=\"_xComponent\"/>  \r\n  <text data-dojo-attach-point=\"_xText\" x=\"0px\" y=\"0px\"  font-family=\"${_attr.font.name}\"  \r\n          font-size=\"${_attr.font.sizeInPoints}pt\" fill=\"${_attr.font.fontColor}\" stroke=\"${_attr.font.fontColor}\" style=\"text-decoration:${_attr.font.fontDecoration};font-style:${_attr.font.fontStyle};font-weight:${_attr.font.fontWeight}\">\r\n  </text>\r\n  </g>\r\n    <defs>\r\n        <clipPath data-dojo-attach-point=\"_xTextClip\">\r\n            <rect data-dojo-attach-point=\"_xTextClipRect\" />\r\n        </clipPath>\r\n    </defs>\r\n</svg>\r\n","url:viewer/object/data/trend.html":"<div class=\"object-data-trend\" style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px\">\r\nTrend\r\n</div>","url:viewer/object/shape/pie.html":"<svg class=\"object-shape-pie\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n     style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; overflow:  visible;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill-rule=\"${_attr.fillRule}\" />\r\n</svg>","url:viewer/misc/gui/outputWindow.html":"<div class=\"misc-gui-outputWindow\">\r\n    <div class=\"misc-gui-dialogContent\" data-dojo-attach-point=\"_dlgContent\">        \r\n        <textarea readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></textarea>        \r\n        <img class=\"misc-gui-imgWarning\" alt=\"\" src=\"imgs/warning.ico\" data-dojo-attach-point=\"_icoWarning\" />\r\n        <button class=\"misc-gui-bntClose\" data-dojo-attach-event=\"click:_ok\"><span>OK!</span></button>        \r\n    </div>\r\n</div>\r\n","url:viewer/object/libraries/linkedPicture.html":"<canvas class=\"object-libraries-linkedPicture\" data-dojo-attach-point=\"_xComponent\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"    \r\n    style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;\">\r\n</canvas>","url:ma/widget/templates/time.html":"<table class=\"ma_widget_date_time\" dojoattachpoint=\"containerTime\">\r\n    <tr align=\"center\">\r\n        <td>\r\n            Hours\r\n        </td>\r\n        <td>\r\n            Minutes\r\n        </td>\r\n        <td>\r\n            Seconds\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"3\">\r\n            <div data-dojo-type=\"dojox.mobile.SpinWheel\" dojoattachpoint=\"spin\">\r\n                <div data-dojo-type=\"dojox.mobile.SpinWheelSlot\" labelfrom=\"0\" labelto=\"23\" style=\"text-align: center\">\r\n                </div>\r\n                <div data-dojo-type=\"dojox.mobile.SpinWheelSlot\" labelfrom=\"0\" labelto=\"59\" style=\"text-align: center\">\r\n                </div>\r\n                <div data-dojo-type=\"dojox.mobile.SpinWheelSlot\" labelfrom=\"0\" labelto=\"59\" style=\"text-align: center\">\r\n                </div>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n</table>","url:viewer/misc/gui/inputElapsedTime.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-elapsedTimePickerkeyPad-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputElapsedTimePickerContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-ElapsedTimePickerKeyPad\">\r\n                    <table>\r\n                        <tr>\r\n                            <td>\r\n                                <div data-dojo-attach-point=\"_elapsedTimePicker\">\r\n                                    <div data-dojo-attach-point='_elapsedTimeContainer' class='elapsedTimeContainer'>\r\n                                        <div data-dojo-attach-point='_lblField' class='misc-gui-keyPad-lblField'>Elapsed Time</div>\r\n                                        <div class='elapsedTimeField'>\r\n                                            <div data-dojo-attach-point='_signField' class='dateTimeField'>\r\n                                                <div class='sign'>\r\n                                                    <input type='button' data-dojo-attach-point='_sign' maxlength='1' />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_dayField' class='dateTimeField'>\r\n                                                <span>Days</span>\r\n                                                <div class='days'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_day\" maxlength='8'>\r\n                                                    <button data-dojo-attach-point='_dayUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_dayDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_hourField' class='dateTimeField'>\r\n                                                <span>Hour</span>\r\n                                                <div class='hour'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_hour\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_hourUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_hourDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_minuteField' class='dateTimeField'>\r\n                                                <span>Minute</span>\r\n                                                <div class='minute'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_minute\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_minuteUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_minuteDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_secondsField' class='dateTimeField'>\r\n                                                <span>Seconds</span>\r\n                                                <div class='seconds'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_seconds\" maxlength='2'>\r\n                                                    <button data-dojo-attach-point='_secondsUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_secondsDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div data-dojo-attach-point='_milliSecField' class='dateTimeField'>\r\n                                                <span>MilliSec</span>\r\n                                                <div class='milliSec'>\r\n                                                    <input type='text' data-dojo-attach-point=\"_milliSec\" maxlength='3'>\r\n                                                    <button data-dojo-attach-point='_milliSecUp' class='button-up'></button>\r\n                                                    <button data-dojo-attach-point='_milliSecDown' class='button-down'></button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span readonly=\"readonly\" class=\"misc-gui-error-message\" data-dojo-attach-point=\"_dlgErrorMessage\"></span>\r\n        </div>\r\n        <button class=\"misc-gui-bntWrite IOSButton okBtn\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n        <button class=\"misc-gui-bntWrite IOSButton cancelBtn\" data-dojo-attach-event=\"click:close\" data-dojo-attach-point=\"_cancelBtn\">Cancel</button>\r\n    </div>\r\n</div>","url:ma/view/templates/trendConf.html":"<div dojotype=\"dojox.mobile.View\" class=\"ma_view_trendConf\">\r\n    <div dojotype=\"dojox.mobile.View\" selected=\"true\" dojoattachpoint=\"containerTrendConf\">\r\n        <h1 dojotype=\"dojox.mobile.Heading\" back=\"Trend\" moveto=\"_x_tabView_menu_view\" syc=\"true\"\r\n            id=\"_x_trendToolBarSettings\">\r\n            Settings</h1>\r\n        <div dojotype=\"dojox.mobile.ScrollableView\" id=\"_x_trendSettingsView\" selected=\"true\">\r\n            <li dojotype=\"dojox.mobile.ListItem\">Play<div dojotype=\"ma.widget.SwitchEx\" value=\"on\"\r\n                class=\"confRightOnOffButton\" id=\"_x_switchPlay\">\r\n            </div>\r\n            </li>\r\n            <li dojotype=\"dojox.mobile.ListItem\">Fill<div dojotype=\"ma.widget.SwitchEx\" value=\"off\"\r\n                class=\"confRightOnOffButton\" id=\"_x_switchFill\">\r\n            </div>\r\n            </li>\r\n            <li dojotype=\"dojox.mobile.ListItem\" id=\"_x_trendPeriod_li\" moveto=\"_x_trendPeriod\">Period</li>\r\n            <li dojotype=\"dojox.mobile.ListItem\" id=\"_x_trendDuration_li\">Duration (seconds) <input id=\"_x_trendDuration\" dojotype=\"dojox.mobile.TextBox\"  dojoattachevent=\"onchange:TrendDurationChange\"\r\n                class=\"confRightTextBox\" style=\"width:94px;text-align:center\" >\r\n            </input></li>            \r\n            <li dojotype=\"dojox.mobile.ListItem\">Percentage Mode<div dojotype=\"ma.widget.SwitchEx\" value=\"on\"\r\n                class=\"confRightOnOffButton\" id=\"_x_switchPercentageMode\">\r\n            </div></li>            \r\n            <table width=\"100%\" id=\"_x_categoryScale\">\r\n                <tr>\r\n                    <td colspan=\"2\">\r\n                        <h2 dojotype=\"dojox.mobile.EdgeToEdgeCategory\">Scale</h2>\r\n                    </td>\r\n                </tr>\r\n                <tr> \r\n                    <td align=\"center\"><span class=\"tren_scale_label\">Min:</span><input dojoType=\"dojox.mobile.TextBox\" type=\"text\" id=\"_x_txtScaleMin\" style=\"width:94px;text-align:center\" dojoattachevent=\"onchange:TrendScaleChange\"/></td>\r\n                    <td align=\"center\"><span class=\"tren_scale_label\">Max:</span><input dojoType=\"dojox.mobile.TextBox\" type=\"text\" id=\"_x_txtScaleMax\" style=\"width:94px;text-align:center\" dojoattachevent=\"onchange:TrendScaleChange\"/></td>\r\n                </tr>\r\n            </table>            \r\n        </div>\r\n        <div id=\"_x_trendPeriod\" dojotype=\"dojox.mobile.View\">\r\n            <h1 dojotype=\"dojox.mobile.Heading\" back=\"Settings\" moveto=\"_x_trendSettingsView\"\r\n                syc=\"true\" id=\"_x_trendToolBarPeriod\">\r\n                Trend Period</h1>\r\n            <table width=\"100%\">\r\n                <tr align=\"center\">\r\n                    <td>\r\n                        <div id=\"_x_trendConfDateTime\">\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/data/grid.html":"<div class=\"object-data-grid\" style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px;width:${_attr.size.w}px;height:${_attr.size.h}px\">    \r\n        <div data-dojo-type=\"viewer.misc.gui.DataGrid\" data-dojo-attach-point=\"_xComponent\">\r\n        </div>\r\n</div>\r\n","url:viewer/object/shape/openCurve.html":"<svg class=\"object-shape-openCurve\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"${_attr.size.w}px\" height=\"${_attr.size.h}px\"\r\n     style=\"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px; overflow:  visible;\">\r\n    <path data-dojo-attach-point=\"_xComponent\" d=\"${_svgPath}\" fill=\"transparent\" />\r\n</svg>\r\n","url:viewer/misc/gui/inputWindow.html":"<div class=\"misc-gui-inputWindow\">\r\n    <div class=\"misc-gui-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <div class=\"misc-gui-messageContainer\">\r\n            <p readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\">Input Window<span>...</span></p>\r\n        </div>\r\n        <div class=\"misc-gui-inputContainer\">\r\n            <div>\r\n                <div class=\"misc-gui-txtContainer\">\r\n                    <input autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" type=\"text\" data-dojo-attach-point=\"_txtField\" class=\"misc-gui-txtField\" />\r\n                    <textarea rows=\"3\" data-dojo-attach-point=\"_txtAreaField\" class=\"misc-gui-txtField\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div data-dojo-attach-point=\"_minFieldContainer\">\r\n                <label class=\"misc-gui-lblField\">Min:</label>\r\n                <div class=\"misc-gui-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_minField\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n            <div data-dojo-attach-point=\"_maxFieldContainer\">\r\n                <label class=\"misc-gui-lblField\">Max:</label>\r\n                <div class=\"misc-gui-fldContainer\">\r\n                    <input type=\"text\" data-dojo-attach-point=\"_maxField\" class=\"misc-gui-txtField\" disabled />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <img class=\"misc-gui-imgWarning\" alt=\"\" src=\"imgs/warning.ico\" data-dojo-attach-point=\"_icoWarning\" />\r\n        <button class=\"misc-gui-bntWrite IOSButton\" data-dojo-attach-event=\"click:_ok\" data-dojo-attach-point=\"_okBtn\">OK</button>\r\n        <button class=\"misc-gui-bntCancel IOSButton\" data-dojo-attach-event=\"click:close\">Cancel</button>\r\n\r\n    </div>\r\n</div>\r\n","url:viewer/misc/gui/msgboxWindow.html":"<div class=\"misc-gui-msgboxWindow\">\r\n    <div class=\"misc-gui-dialogContent\" data-dojo-attach-point=\"_dlgContent\">\r\n        <span class=\"misc-gui-title\" data-dojo-attach-point=\"_dlgTitle\"></span>        \r\n        <textarea readonly=\"readonly\" class=\"misc-gui-message\" data-dojo-attach-point=\"_dlgMessage\"></textarea>        \r\n        <span class=\"misc-gui-imgIcon\" data-dojo-attach-point=\"_dlgIcon\"></span>\r\n        <div data-dojo-attach-point=\"_btnSet\">\r\n            <button class=\"misc-gui-bnt\" data-dojo-attach-point=\"_btn0\"><span></span></button>\r\n            <button class=\"misc-gui-bnt\" data-dojo-attach-point=\"_btn1\"><span></span></button>\r\n            <button class=\"misc-gui-bnt\" data-dojo-attach-point=\"_btn2\"><span></span></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:viewer/object/data/alarmEvent.html":"<div class=\"object-data-alarmEvent\" style = \"position: absolute; top: ${_attr.position.top}px; left: ${_attr.position.left}px\">\r\nAlarmEvent\r\n</div>","url:viewer/screens/_base.html":"<div class=\"viewer-screens-base\" tabindex=\"0\">\r\n    <div data-dojo-attach-point=\"titleBarContainer\" class=\"viewer-screens-base-titleContainer\">\r\n        <div class=\"viewer-screens-base-container-icon\" data-dojo-attach-point=\"iconContainer\"><i style=\"position:inherit\" class=\"fa fa-desktop\"></i></div>\r\n        <div class=\"viewer-screens-base-container-titleText\" data-dojo-attach-point=\"titleTextContainer\"></div>\r\n        <div class=\"viewer-screens-base-container-minimize\" data-dojo-attach-point=\"minimizeButtonContainer\"><i class=\"fa fa-minus\" style=\"font-weight: bolder\"></i></div>\r\n        <div class=\"viewer-screens-base-container-maximize\" data-dojo-attach-point=\"maximizeButtonContainer\"><i class=\"fa fa-square-o\" style=\"font-weight: bolder\"></i></div>\r\n        <div class=\"viewer-screens-base-container-close\" data-dojo-attach-point=\"closeButtonContainer\"><i class=\"fa fa-times\"></i></div>\r\n    </div>\r\n    <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"containerNode\">\r\n    </div>\r\n    <!--Directly put PanZoomScaleContainer inside scroll container, when scaled huge, some DIV will disappear.-->\r\n\r\n    <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"apiPanZoomScaleVisibleContainer\" style=\"padding:0;margin:0;overflow:hidden;display:none;\">\r\n        <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"apiPanZoomScaleContainer\" style=\"padding:0;margin:0;overflow:visible;\">\r\n        </div>\r\n    </div>\r\n    <!--set '-webkit-overflow-scrolling:auto' to disable momentum scrolling on mobile device. Material Design will set as 'touch' which should enable momentum scrolling. -->\r\n    <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"apiPanZoomContainer\" style=\"overflow:scroll;overflow-x:scroll;overflow-y:scroll;padding:0;margin:0;display:none;-webkit-overflow-scrolling:auto;\">\r\n        <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"apiFakePanZoomScaleContainer\" style=\"padding:0;margin:0;\">\r\n        </div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"apiPanZoomControllerContainer\" class=\"horizontal-stackpanel content-vertical-center\" style=\"display:none;width:45px;\">\r\n        <div style=\"width:5px\"> <!--blank padding-->\r\n        </div>\r\n        <div data-dojo-attach-point=\"apiPanZoomLevel\" style=\"width:30px;\">\r\n        </div>\r\n    </div>\r\n    <div class=\"viewer-screens-base-scrContainer\" data-dojo-attach-point=\"apiScaleContainer\" style=\"display:none;\"></div>\r\n    <div class=\"viewer-screens-base-container-iconWarning\" data-dojo-attach-point=\"iconWarining\" title=\"This symbol has features not yet supported in HTML5, please click here to see the details\">\r\n        <!--The vertical align is set because of an issue on the InTouchWeb, where the icon would display in the wrong location-->\r\n        <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" style=\"vertical-align:top\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 36 36\" enable-background=\"new 0 0 36 36\" xml:space=\"preserve\">\r\n        <path fill=\"none\" d=\"M0,0h36v36H0V0z\" />\r\n        <path d=\"M1,32h34L18,3L1,32z M19,27h-2v-2h2V27z M19,22h-2v-7h2V22z\" />\r\n\t\t</svg>\r\n    </div>\r\n    <div class=\"viewer-screens-base-container-warningContainer viewer-screens-base-container-limitations-common\" data-dojo-attach-point=\"wariningContainer\">\r\n        <table cellspacing='0' class=\"viewer-screens-base-container-limitationContent viewer-screens-base-container-limitations-common\" data-dojo-attach-point=\"limitationContent\">\r\n            <thead>\r\n                <tr class=\"viewer-screens-base-container-limitationContent-tr viewer-screens-base-container-limitations-common\">\r\n                    <th class=\"viewer-screens-base-container-limitationContent-th-element viewer-screens-base-container-limitations-common\">Graphical Element</th>\r\n                    <th class=\"viewer-screens-base-container-limitationContent-th viewer-screens-base-container-limitations-common\">Element Type</th>\r\n                    <th class=\"viewer-screens-base-container-limitationContent-th viewer-screens-base-container-limitations-common\">Animation / Property</th>\r\n                    <th class=\"viewer-screens-base-container-limitationContent-th-content viewer-screens-base-container-limitations-common\">Unsupported feature</th>\r\n                </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n</div>\r\n","*now":function(r){r(["dojo/i18n!*preload*sma/nls/app*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});(function(){var _21b6=this.require;_21b6({cache:{}});!_21b6.async&&_21b6(["dojo"]);_21b6.boot&&_21b6.apply(null,_21b6.boot);})();